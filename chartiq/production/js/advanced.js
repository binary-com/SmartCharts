/**
 *	8.0.0
 *	Generation date: 2020-09-15T12:41:24.944Z
 *	Client name: binary ltd
 *	Package Type: Technical Analysis
 *	License type: annual
 *	Expiration date: "2021/04/01"
 *	Domain lock: ["127.0.0.1","localhost","binary.com","binary.sx","binary.me","binary.bot","deriv.com","derivcrypto.com"]
 *	iFrame lock: true
 */

/***********************************************************
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/
/*************************************** DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! **************************************/
/* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting */
/* and load that file right after the library has been loaded, but before the chart engine is instantiated.              */
/* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          */
/*************************************************************************************************************************/
/* eslint-disable no-extra-parens */


/* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */
Z3i4[643118]=(function(){var w=2;for(;w !== 9;){switch(w){case 2:w=typeof globalThis === '\x6f\x62\x6a\x65\u0063\x74'?1:5;break;case 1:return globalThis;break;case 5:var s;try{var d=2;for(;d !== 6;){switch(d){case 2:Object['\x64\x65\x66\u0069\x6e\u0065\u0050\x72\u006f\u0070\x65\x72\x74\u0079'](Object['\x70\u0072\u006f\x74\x6f\u0074\x79\x70\u0065'],'\u0057\x63\u006c\x73\x4f',{'\x67\x65\x74':function(){var k=2;for(;k !== 1;){switch(k){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});s=WclsO;s['\u005a\u007a\x41\x75\x55']=s;d=4;break;case 9:delete s['\x5a\u007a\x41\x75\u0055'];var F=Object['\x70\u0072\u006f\u0074\x6f\u0074\x79\x70\x65'];delete F['\u0057\u0063\u006c\x73\x4f'];d=6;break;case 3:throw "";d=9;break;case 4:d=typeof ZzAuU === '\u0075\x6e\u0064\x65\x66\u0069\x6e\u0065\x64'?3:9;break;}}}catch(x){s=window;}return s;break;}}})();Z3i4[351557]=E8K0(Z3i4[643118]);Z3i4[376554]=Q8H4(Z3i4[643118]);Z3i4.O0R0=function(){return typeof Z3i4[307585].K0R0 === 'function'?Z3i4[307585].K0R0.apply(Z3i4[307585],arguments):Z3i4[307585].K0R0;};Z3i4[444253]=(function(){var Y4k0=2;for(;Y4k0 !== 9;){switch(Y4k0){case 3:return U4k0[1];break;case 2:var U4k0=[arguments];U4k0[7]=undefined;U4k0[1]={};U4k0[1].T6H4=function(){var A3k0=2;for(;A3k0 !== 90;){switch(A3k0){case 20:T4k0[2].R1R0=function(){var m2H4=function(){return escape('=');};var F2H4=(/\u0033\u0044/).j2H4(m2H4 + []);return F2H4;};T4k0[3]=T4k0[2];T4k0[8]={};T4k0[8].a1R0=['N1R0'];A3k0=16;break;case 62:T4k0[22]='a1R0';T4k0[84]='j1R0';T4k0[83]='R1R0';T4k0[69]='M0R0';A3k0=58;break;case 71:T4k0[68]++;A3k0=76;break;case 77:T4k0[68]=0;A3k0=76;break;case 56:T4k0[81]=T4k0[6][T4k0[90]];try{T4k0[92]=T4k0[81][T4k0[83]]()?T4k0[32]:T4k0[59];}catch(f2H4){T4k0[92]=T4k0[59];}A3k0=77;break;case 72:T4k0[45].X2H4(T4k0[98]);A3k0=71;break;case 67:U4k0[7]=36;return 95;break;case 2:var T4k0=[arguments];A3k0=1;break;case 58:T4k0[90]=0;A3k0=57;break;case 1:A3k0=U4k0[7]?5:4;break;case 34:T4k0[51]={};T4k0[51].a1R0=['Z1R0'];T4k0[51].R1R0=function(){var x2H4=function(){return ('aaaa').padEnd(5,'a');};var i2H4=(/\u0061\u0061\u0061\x61\u0061/).j2H4(x2H4 + []);return i2H4;};A3k0=31;break;case 70:T4k0[90]++;A3k0=57;break;case 31:T4k0[13]=T4k0[51];T4k0[40]={};T4k0[40].a1R0=['N1R0'];A3k0=28;break;case 23:T4k0[18]={};T4k0[18].a1R0=['Z1R0'];T4k0[18].R1R0=function(){var Y2H4=function(){return ('aa').endsWith('a');};var K2H4=(/\u0074\u0072\u0075\x65/).j2H4(Y2H4 + []);return K2H4;};T4k0[24]=T4k0[18];A3k0=34;break;case 48:T4k0[6].X2H4(T4k0[25]);T4k0[6].X2H4(T4k0[9]);T4k0[6].X2H4(T4k0[58]);T4k0[6].X2H4(T4k0[13]);A3k0=65;break;case 57:A3k0=T4k0[90] < T4k0[6].length?56:69;break;case 28:T4k0[40].R1R0=function(){var Z2H4=typeof t2H4 === 'function';return Z2H4;};T4k0[25]=T4k0[40];T4k0[41]={};T4k0[41].a1R0=['Z1R0'];T4k0[41].R1R0=function(){var b2H4=function(){return ('a|a').split('|');};var A2H4=!(/\u007c/).j2H4(b2H4 + []);return A2H4;};A3k0=40;break;case 65:T4k0[45]=[];T4k0[32]='U0R0';T4k0[59]='q0R0';A3k0=62;break;case 40:T4k0[58]=T4k0[41];T4k0[50]={};T4k0[50].a1R0=['N1R0'];T4k0[50].R1R0=function(){var W2H4=typeof H2H4 === 'function';return W2H4;};A3k0=36;break;case 52:T4k0[6].X2H4(T4k0[3]);T4k0[6].X2H4(T4k0[39]);T4k0[6].X2H4(T4k0[16]);T4k0[6].X2H4(T4k0[24]);A3k0=48;break;case 75:T4k0[98]={};T4k0[98][T4k0[69]]=T4k0[81][T4k0[22]][T4k0[68]];T4k0[98][T4k0[84]]=T4k0[92];A3k0=72;break;case 36:T4k0[16]=T4k0[50];T4k0[6].X2H4(T4k0[7]);T4k0[6].X2H4(T4k0[4]);A3k0=52;break;case 68:A3k0=62?68:67;break;case 6:T4k0[1]={};T4k0[1].a1R0=['Z1R0'];T4k0[1].R1R0=function(){var R2H4=function(){return btoa('=');};var Q2H4=!(/\u0062\x74\u006f\x61/).j2H4(R2H4 + []);return Q2H4;};T4k0[9]=T4k0[1];T4k0[2]={};T4k0[2].a1R0=['Z1R0'];A3k0=20;break;case 76:A3k0=T4k0[68] < T4k0[81][T4k0[22]].length?75:70;break;case 69:A3k0=(function(C4k0){var B3k0=2;for(;B3k0 !== 22;){switch(B3k0){case 6:t4k0[1]=t4k0[0][0][t4k0[5]];B3k0=14;break;case 11:t4k0[9][t4k0[1][T4k0[69]]].t+=true;B3k0=10;break;case 20:t4k0[9][t4k0[1][T4k0[69]]].h+=true;B3k0=19;break;case 12:t4k0[3].X2H4(t4k0[1][T4k0[69]]);B3k0=11;break;case 5:return;break;case 15:t4k0[6]=t4k0[3][t4k0[5]];t4k0[4]=t4k0[9][t4k0[6]].h / t4k0[9][t4k0[6]].t;B3k0=26;break;case 14:B3k0=typeof t4k0[9][t4k0[1][T4k0[69]]] === 'undefined'?13:11;break;case 19:t4k0[5]++;B3k0=7;break;case 18:t4k0[2]=false;B3k0=17;break;case 25:t4k0[2]=true;B3k0=24;break;case 1:B3k0=t4k0[0][0].length === 0?5:4;break;case 8:t4k0[5]=0;B3k0=7;break;case 4:t4k0[9]={};t4k0[3]=[];t4k0[5]=0;B3k0=8;break;case 10:B3k0=t4k0[1][T4k0[84]] === T4k0[32]?20:19;break;case 2:var t4k0=[arguments];B3k0=1;break;case 17:t4k0[5]=0;B3k0=16;break;case 7:B3k0=t4k0[5] < t4k0[0][0].length?6:18;break;case 26:B3k0=t4k0[4] >= 0.5?25:24;break;case 24:t4k0[5]++;B3k0=16;break;case 16:B3k0=t4k0[5] < t4k0[3].length?15:23;break;case 23:return t4k0[2];break;case 13:t4k0[9][t4k0[1][T4k0[69]]]=(function(){var k3k0=2;for(;k3k0 !== 9;){switch(k3k0){case 3:return a4k0[6];break;case 2:var a4k0=[arguments];a4k0[6]={};a4k0[6].h=0;a4k0[6].t=0;k3k0=3;break;}}}).U2H4(this,arguments);B3k0=12;break;}}})(T4k0[45])?68:67;break;case 4:T4k0[6]=[];T4k0[5]={};T4k0[5].a1R0=['N1R0'];T4k0[5].R1R0=function(){var s2H4=false;var V2H4=[];try{for(var g2H4 in console){V2H4.X2H4(g2H4);}s2H4=V2H4.length === 0;}catch(a2H4){}var I2H4=s2H4;return I2H4;};T4k0[7]=T4k0[5];A3k0=6;break;case 16:T4k0[8].R1R0=function(){var z2H4=typeof l2H4 === 'function';return z2H4;};T4k0[4]=T4k0[8];T4k0[94]={};T4k0[94].a1R0=['Z1R0'];T4k0[94].R1R0=function(){var c2H4=function(){return ('aa').charCodeAt(1);};var w2H4=(/\x39\u0037/).j2H4(c2H4 + []);return w2H4;};T4k0[39]=T4k0[94];A3k0=23;break;case 5:return 30;break;}}};Y4k0=3;break;}}})();Z3i4[217582]=false;function Q8H4(o4k0){function u5k0(h4k0){var R4k0=2;for(;R4k0 !== 5;){switch(R4k0){case 1:return P4k0[0][0].Function;break;case 2:var P4k0=[arguments];R4k0=1;break;}}}function n5k0(l4k0){var e4k0=2;for(;e4k0 !== 5;){switch(e4k0){case 1:return d4k0[0][0].Array;break;case 2:var d4k0=[arguments];e4k0=1;break;}}}function O5k0(v4k0,G4k0,b4k0,E4k0,y4k0){var g4k0=2;for(;g4k0 !== 7;){switch(g4k0){case 2:var p4k0=[arguments];p4k0[9]="ty";p4k0[1]="";p4k0[1]="per";p4k0[6]="";p4k0[6]="definePro";try{var J4k0=2;for(;J4k0 !== 8;){switch(J4k0){case 2:p4k0[2]={};p4k0[5]=(1,p4k0[0][1])(p4k0[0][0]);p4k0[3]=[p4k0[5],p4k0[5].prototype][p4k0[0][3]];p4k0[2].value=p4k0[3][p4k0[0][2]];try{var W4k0=2;for(;W4k0 !== 3;){switch(W4k0){case 2:p4k0[8]=p4k0[6];p4k0[8]+=p4k0[1];p4k0[8]+=p4k0[9];p4k0[0][0].Object[p4k0[8]](p4k0[3],p4k0[0][4],p4k0[2]);W4k0=3;break;}}}catch(l5k0){}p4k0[3][p4k0[0][4]]=p4k0[2].value;J4k0=8;break;}}}catch(v5k0){}g4k0=7;break;}}}function Q5k0(K4k0){var r4k0=2;for(;r4k0 !== 5;){switch(r4k0){case 2:var f4k0=[arguments];return f4k0[0][0];break;}}}var L4k0=2;for(;L4k0 !== 70;){switch(L4k0){case 6:m4k0[5]="imi";m4k0[7]="";m4k0[7]="__opt";m4k0[9]="2H";m4k0[4]="";L4k0=10;break;case 63:m4k0[53]=m4k0[7];m4k0[53]+=m4k0[5];m4k0[53]+=m4k0[1];m4k0[67]=m4k0[2];L4k0=59;break;case 75:Z5k0(D5k0,"test",m4k0[75],m4k0[67]);L4k0=74;break;case 72:Z5k0(Q5k0,m4k0[44],m4k0[59],m4k0[30]);L4k0=71;break;case 27:m4k0[23]="";m4k0[60]="id";m4k0[47]="t2";m4k0[23]="4";L4k0=23;break;case 73:Z5k0(Q5k0,m4k0[26],m4k0[59],m4k0[72]);L4k0=72;break;case 74:Z5k0(Q5k0,m4k0[53],m4k0[59],m4k0[11]);L4k0=73;break;case 34:m4k0[51]="H2";m4k0[40]="";m4k0[34]="H4";m4k0[40]="";L4k0=30;break;case 3:m4k0[2]="j";m4k0[1]="";m4k0[1]="ze";m4k0[5]="";L4k0=6;break;case 59:m4k0[67]+=m4k0[9];m4k0[67]+=m4k0[23];m4k0[63]=m4k0[3];m4k0[63]+=m4k0[40];m4k0[63]+=m4k0[34];L4k0=77;break;case 30:m4k0[40]="2";m4k0[66]="";m4k0[66]="U";m4k0[75]=0;m4k0[75]=1;m4k0[59]=0;L4k0=41;break;case 76:Z5k0(n5k0,"push",m4k0[75],m4k0[63]);L4k0=75;break;case 41:m4k0[48]=m4k0[66];m4k0[48]+=m4k0[40];m4k0[48]+=m4k0[34];m4k0[30]=m4k0[51];L4k0=37;break;case 37:m4k0[30]+=m4k0[15];m4k0[30]+=m4k0[23];m4k0[44]=m4k0[46];m4k0[44]+=m4k0[78];L4k0=52;break;case 46:m4k0[26]+=m4k0[4];m4k0[11]=m4k0[8];m4k0[11]+=m4k0[9];m4k0[11]+=m4k0[23];L4k0=63;break;case 77:var Z5k0=function(w4k0,j4k0,X4k0,M4k0){var i4k0=2;for(;i4k0 !== 5;){switch(i4k0){case 2:var F4k0=[arguments];O5k0(m4k0[0][0],F4k0[0][0],F4k0[0][1],F4k0[0][2],F4k0[0][3]);i4k0=5;break;}}};L4k0=76;break;case 2:var m4k0=[arguments];m4k0[3]="";m4k0[3]="X";m4k0[2]="";L4k0=3;break;case 52:m4k0[44]+=m4k0[35];m4k0[72]=m4k0[47];m4k0[72]+=m4k0[15];m4k0[72]+=m4k0[23];m4k0[26]=m4k0[6];m4k0[26]+=m4k0[60];L4k0=46;break;case 71:Z5k0(u5k0,"apply",m4k0[75],m4k0[48]);L4k0=70;break;case 23:m4k0[78]="_a";m4k0[15]="H";m4k0[46]="_";m4k0[51]="";L4k0=34;break;case 10:m4k0[4]="ual";m4k0[8]="l";m4k0[6]="";m4k0[6]="";m4k0[6]="__res";m4k0[35]="";m4k0[35]="bstract";L4k0=27;break;}}function D5k0(V4k0){var z4k0=2;for(;z4k0 !== 5;){switch(z4k0){case 2:var S4k0=[arguments];return S4k0[0][0].RegExp;break;}}}}Z3i4.s3k0=function(){return typeof Z3i4[444253].T6H4 === 'function'?Z3i4[444253].T6H4.apply(Z3i4[444253],arguments):Z3i4[444253].T6H4;};Z3i4.S0R0=function(){return typeof Z3i4[307585].L0R0 === 'function'?Z3i4[307585].L0R0.apply(Z3i4[307585],arguments):Z3i4[307585].L0R0;};Z3i4.m0R0=function(){return typeof Z3i4[307585].L0R0 === 'function'?Z3i4[307585].L0R0.apply(Z3i4[307585],arguments):Z3i4[307585].L0R0;};function Z3i4(){}Z3i4.I3k0=function(){return typeof Z3i4[444253].T6H4 === 'function'?Z3i4[444253].T6H4.apply(Z3i4[444253],arguments):Z3i4[444253].T6H4;};Z3i4[643118].f9cc=Z3i4;Z3i4.x1y=function(){return typeof Z3i4[347346].X8h === 'function'?Z3i4[347346].X8h.apply(Z3i4[347346],arguments):Z3i4[347346].X8h;};Z3i4[307585]=(function(H0R0){return {K0R0:function(){var k0R0,J0R0=arguments;switch(H0R0){case 45:k0R0=(J0R0[1] * J0R0[2] - J0R0[5] * J0R0[6]) / (J0R0[0] * J0R0[3] - J0R0[4]);break;case 1:k0R0=J0R0[1] + J0R0[0];break;case 2:k0R0=J0R0[1] >> J0R0[0];break;case 88:k0R0=J0R0[2] - (J0R0[0] ^ J0R0[1]);break;case 59:k0R0=J0R0[2] - J0R0[1] - J0R0[0];break;case 0:k0R0=J0R0[0] * J0R0[1];break;case 38:k0R0=J0R0[1] / (J0R0[2] - J0R0[0]);break;case 11:k0R0=(J0R0[3] + J0R0[0] + J0R0[2] + J0R0[1]) / J0R0[4];break;case 7:k0R0=J0R0[1] / J0R0[0];break;case 77:k0R0=J0R0[0] * - +J0R0[1];break;case 9:k0R0=J0R0[2] - J0R0[0] + J0R0[1] + J0R0[3];break;case 24:k0R0=J0R0[1] - J0R0[2] / J0R0[0];break;case 42:k0R0=J0R0[1] - J0R0[2] * (J0R0[0] - J0R0[3]);break;case 65:k0R0=J0R0[1] / +J0R0[0];break;case 66:k0R0=J0R0[1] - J0R0[3] * J0R0[0] - J0R0[2];break;case 5:k0R0=J0R0[2] + J0R0[0] - J0R0[3] - J0R0[1];break;case 89:k0R0=J0R0[3] + (J0R0[2] / J0R0[1] - J0R0[4] / J0R0[0]);break;case 29:k0R0=(J0R0[3] - J0R0[0]) / (J0R0[1] - J0R0[4]) > J0R0[2];break;case 51:k0R0=(J0R0[1] - J0R0[3]) * J0R0[2] + J0R0[0];break;case 61:k0R0=(J0R0[3] - (J0R0[2] + J0R0[1] * J0R0[0])) / J0R0[4];break;case 68:k0R0=J0R0[0] == J0R0[1];break;case 91:k0R0=J0R0[0] * (J0R0[2] + J0R0[1]);break;case 70:k0R0=J0R0[0] * J0R0[2] / (J0R0[1] + J0R0[3]);break;case 46:k0R0=(J0R0[1] - J0R0[3] * J0R0[0]) / J0R0[2];break;case 34:k0R0=(J0R0[0] - J0R0[1]) * (J0R0[5] - J0R0[6]) / (J0R0[4] - J0R0[2]) + J0R0[3];break;case 43:k0R0=J0R0[0] * (J0R0[3] + (J0R0[2] << J0R0[1])) / J0R0[4];break;case 20:k0R0=+J0R0[1] * J0R0[3] - J0R0[0] - J0R0[2];break;case 73:k0R0=J0R0[1] + J0R0[2] + J0R0[3] + J0R0[4] + J0R0[0];break;case 32:k0R0=(J0R0[0] - J0R0[2]) / (J0R0[3] - J0R0[1]);break;case 18:k0R0=J0R0[0] * J0R0[2] < J0R0[1];break;case 23:k0R0=J0R0[1] & J0R0[0];break;case 49:k0R0=(J0R0[2] + J0R0[0]) / +J0R0[1];break;case 79:k0R0=(J0R0[1] + J0R0[0] / J0R0[2]) * J0R0[3];break;case 36:k0R0=J0R0[1] / (J0R0[2] >> J0R0[0]);break;case 58:k0R0=J0R0[5] + J0R0[1] + J0R0[4] + J0R0[3] + J0R0[7] + J0R0[2] + J0R0[0] + J0R0[6];break;case 33:k0R0=(J0R0[1] - J0R0[0]) / (J0R0[2] - J0R0[4]) > (J0R0[5] | J0R0[3]);break;case 54:k0R0=(+J0R0[0] * J0R0[1] + J0R0[2]) / J0R0[3];break;case 13:k0R0=J0R0[2] - J0R0[0] * J0R0[1];break;case 85:k0R0=J0R0[0] - (J0R0[1] & J0R0[2]);break;case 87:k0R0=J0R0[3] * (J0R0[4] * J0R0[5]) * (J0R0[1] - J0R0[2]) * J0R0[0];break;case 26:k0R0=J0R0[1] * J0R0[2] / J0R0[0];break;case 28:k0R0=J0R0[2] / J0R0[0] % J0R0[1];break;case 8:k0R0=J0R0[2] - J0R0[1] + J0R0[0];break;case 39:k0R0=+J0R0[1] / J0R0[0];break;case 82:k0R0=J0R0[1] * ((J0R0[0] - J0R0[3]) / J0R0[4] + J0R0[2]);break;case 74:k0R0=J0R0[2] / J0R0[1] - J0R0[0];break;case 72:k0R0=(J0R0[1] % J0R0[2] + +J0R0[0]) * J0R0[3];break;case 30:k0R0=J0R0[1] * J0R0[2] - J0R0[0];break;case 6:k0R0=J0R0[0] - J0R0[1];break;case 25:k0R0=J0R0[0] + J0R0[2] / J0R0[1];break;case 57:k0R0=J0R0[1] - +J0R0[0];break;case 75:k0R0=J0R0[1] - J0R0[2] / (J0R0[4] + J0R0[3] / J0R0[0]);break;case 22:k0R0=(J0R0[2] + J0R0[3]) / (J0R0[1] & J0R0[0]);break;case 84:k0R0=J0R0[2] + (J0R0[1] & J0R0[0]);break;case 64:k0R0=J0R0[2] - (J0R0[1] >> J0R0[0]);break;case 27:k0R0=J0R0[0] % J0R0[1];break;case 63:k0R0=J0R0[0] - J0R0[3] / (+J0R0[1] + J0R0[2]);break;case 17:k0R0=J0R0[0] << J0R0[1];break;case 15:k0R0=J0R0[2] - (J0R0[0] - J0R0[1]);break;case 41:k0R0=J0R0[1] + (J0R0[2] - J0R0[0]) / J0R0[3];break;case 14:k0R0=J0R0[0] ^ J0R0[1];break;case 48:k0R0=J0R0[1] + J0R0[0] + J0R0[2];break;case 16:k0R0=(J0R0[0] - J0R0[1]) / J0R0[2];break;case 4:k0R0=J0R0[0] + J0R0[1] - J0R0[2];break;case 53:k0R0=(J0R0[3] * J0R0[2] + J0R0[1]) / +J0R0[0];break;case 44:k0R0=J0R0[1] * (J0R0[3] * J0R0[2] + J0R0[4]) / J0R0[0];break;case 47:k0R0=J0R0[0] * J0R0[1] + J0R0[2];break;case 50:k0R0=-(J0R0[0] - J0R0[2]) * J0R0[1] + J0R0[3];break;case 21:k0R0=J0R0[1] * J0R0[3] - J0R0[0] - J0R0[2];break;case 56:k0R0=(J0R0[1] + J0R0[0] * J0R0[2]) / J0R0[3];break;case 52:k0R0=J0R0[3] + (J0R0[2] - J0R0[0]) / (J0R0[1] - J0R0[4]) * (J0R0[5] - J0R0[6]);break;case 80:k0R0=J0R0[1] * (J0R0[3] / J0R0[0] - +J0R0[2]);break;case 31:k0R0=J0R0[1] < J0R0[0];break;case 90:k0R0=J0R0[0] > J0R0[1];break;case 86:k0R0=J0R0[3] / (J0R0[0] * J0R0[1]) <= J0R0[2];break;case 10:k0R0=J0R0[0] | J0R0[1];break;case 3:k0R0=(J0R0[1] + J0R0[0]) / J0R0[2];break;case 81:k0R0=(J0R0[0] + J0R0[2]) * J0R0[1];break;case 62:k0R0=J0R0[0] + J0R0[3] + J0R0[1] + J0R0[2];break;case 83:k0R0=J0R0[3] + J0R0[1] * (J0R0[0] - J0R0[2]);break;case 19:k0R0=J0R0[1] + (J0R0[0] - J0R0[2]);break;case 69:k0R0=J0R0[3] + J0R0[0] / J0R0[1] + J0R0[2];break;case 60:k0R0=J0R0[2] - J0R0[1] - +J0R0[0];break;case 78:k0R0=(J0R0[2] - J0R0[0] / J0R0[1]) * J0R0[3];break;case 55:k0R0=(J0R0[4] + J0R0[1] * J0R0[3]) / (J0R0[2] * J0R0[0]);break;case 12:k0R0=J0R0[0] + J0R0[1] * J0R0[2];break;case 67:k0R0=J0R0[3] + J0R0[2] * J0R0[0] + J0R0[1];break;case 71:k0R0=J0R0[4] * (J0R0[0] ^ J0R0[1]) * (J0R0[5] << J0R0[2]) * J0R0[3];break;case 35:k0R0=J0R0[0] + +J0R0[1];break;case 37:k0R0=J0R0[2] / (J0R0[0] ^ J0R0[1]);break;case 76:k0R0=J0R0[2] * -(J0R0[0] & J0R0[1]);break;case 40:k0R0=(J0R0[0] << J0R0[1]) / J0R0[2];break;}return k0R0;},L0R0:function(P0R0){H0R0=P0R0;}};})();Z3i4[237211]="FKG";function E8K0(N1y){function r5y(M1y){var G1y=2;for(;G1y !== 5;){switch(G1y){case 2:var R1y=[arguments];return R1y[0][0].String;break;}}}var d1y=2;for(;d1y !== 12;){switch(d1y){case 14:var Y5y=function(c1y,s1y,q1y,r1y){var n1y=2;for(;n1y !== 5;){switch(n1y){case 2:var h1y=[arguments];u5y(I1y[0][0],h1y[0][0],h1y[0][1],h1y[0][2],h1y[0][3]);n1y=5;break;}}};d1y=13;break;case 13:Y5y(r5y,"charCodeAt",I1y[1],I1y[6]);d1y=12;break;case 8:I1y[6]=I1y[9];I1y[6]+=I1y[4];I1y[6]+=I1y[5];d1y=14;break;case 2:var I1y=[arguments];I1y[4]="";I1y[5]="0";I1y[4]="8K";I1y[1]=1;I1y[9]="D";d1y=8;break;}}function u5y(w1y,C1y,L1y,v1y,y1y){var m1y=2;for(;m1y !== 7;){switch(m1y){case 2:var j1y=[arguments];j1y[7]="";j1y[7]="ty";j1y[4]="Proper";j1y[3]="";m1y=9;break;case 9:j1y[3]="define";try{var l1y=2;for(;l1y !== 8;){switch(l1y){case 2:j1y[8]={};j1y[2]=(1,j1y[0][1])(j1y[0][0]);j1y[1]=[I1y[1],j1y[2].prototype][j1y[0][3]];j1y[8].value=j1y[1][j1y[0][2]];try{var g1y=2;for(;g1y !== 3;){switch(g1y){case 2:j1y[9]=j1y[3];j1y[9]+=j1y[4];j1y[9]+=j1y[7];j1y[0][0].Object[j1y[9]](j1y[1],j1y[0][4],j1y[8]);g1y=3;break;}}}catch(k1y){}j1y[1][j1y[0][4]]=j1y[8].value;l1y=8;break;}}}catch(z1y){}m1y=7;break;}}}}Z3i4[28140]=Z3i4[351557];Z3i4[347346]=(function(){var M8h=function(P8h,l8h){var J8h=l8h & 0xffff;var k8h=l8h - J8h;return (k8h * P8h | 0) + (J8h * P8h | 0) | 0;},x8h=function(g8h,V8h,m8h){var n8h=0xcc9e2d51,z8h=0x1b873593;var Y8h=m8h;var N8h=V8h & ~0x3;for(var o8h=0;o8h < N8h;o8h+=4){var b8h=g8h.D8K0(o8h) & 0xff | (g8h.D8K0(o8h + 1) & 0xff) << 8 | (g8h.D8K0(o8h + 2) & 0xff) << 16 | (g8h.D8K0(o8h + 3) & 0xff) << 24;b8h=M8h(b8h,n8h);b8h=(b8h & 0x1ffff) << 15 | b8h >>> 17;b8h=M8h(b8h,z8h);Y8h^=b8h;Y8h=(Y8h & 0x7ffff) << 13 | Y8h >>> 19;Y8h=Y8h * 5 + 0xe6546b64 | 0;}b8h=0;switch(V8h % 4){case 3:b8h=(g8h.D8K0(N8h + 2) & 0xff) << 16;case 2:b8h|=(g8h.D8K0(N8h + 1) & 0xff) << 8;case 1:b8h|=g8h.D8K0(N8h) & 0xff;b8h=M8h(b8h,n8h);b8h=(b8h & 0x1ffff) << 15 | b8h >>> 17;b8h=M8h(b8h,z8h);Y8h^=b8h;}Y8h^=V8h;Y8h^=Y8h >>> 16;Y8h=M8h(Y8h,0x85ebca6b);Y8h^=Y8h >>> 13;Y8h=M8h(Y8h,0xc2b2ae35);Y8h^=Y8h >>> 16;return Y8h;};return {X8h:x8h};})();Z3i4.y0R0=function(){return typeof Z3i4[307585].K0R0 === 'function'?Z3i4[307585].K0R0.apply(Z3i4[307585],arguments):Z3i4[307585].K0R0;};Z3i4.u1y=function(){return typeof Z3i4[347346].X8h === 'function'?Z3i4[347346].X8h.apply(Z3i4[347346],arguments):Z3i4[347346].X8h;};var L4V4,k7H,I7H,Y7H,E7H,i7H,J7H,N7H;L4V4="un";L4V4+="defi";Z3i4.I3k0();L4V4+="ned";import {CIQ as D7H, SplinePlotter as R7H, timezoneJS as M7H, $$ as L7H, $$$ as V7H} from "../js/standard.js";k7H=G7H=>{var n7H;n7H=typeof _CIQ !== "undefined"?_CIQ:G7H.CIQ;Z3i4.I3k0();n7H.Renderer.Aggregations=function(a7H){var F7H;this.construct(a7H);F7H=this.params;this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0;F7H.highlightable=![];Z3i4.s3k0();if(F7H.name != "_main_series"){console.warn("Aggregations are only allowed on main series.");F7H.invalid=! !{};}};n7H.inheritsFrom(n7H.Renderer.Aggregations,n7H.Renderer.OHLC,![]);n7H.Renderer.Aggregations.requestNew=function(W7H,s7H){var y4j,Q7H,q7H,P5H,T5H,c5H,l5H,U7H;y4j="OH";y4j+="L";y4j+="C";Q7H=null;q7H=!1;P5H=!1;Z3i4.s3k0();T5H=![];c5H=!1;l5H=![];for(var S7H="0" | 0;S7H < W7H.length;S7H++){U7H=W7H[S7H];switch(U7H){case "kagi":case "pandf":Q7H=U7H;break;case "heikinashi":case "linebreak":case "rangebars":case "renko":Q7H="candle";break;default:return null;}}if(Q7H === null){return null;}return new n7H.Renderer[Q7H == "candle"?y4j:"Aggregations"]({params:n7H.extend(s7H,{type:Q7H})});};n7H.Renderer.Aggregations.prototype.drawIndividualSeries=function(D5H,y5H){Z3i4.s3k0();var A5H,g5H,d4j,G4j,n4j;if(y5H.invalid){return;}A5H=this.stx;g5H={colors:[]};if(y5H.type == "kagi"){d4j="stx_";d4j+="kagi_down";A5H.drawKagiSquareWave(D5H.panel,"stx_kagi_up","stx_kagi_down",y5H);g5H.colors.push(A5H.getCanvasColor("stx_kagi_up"));g5H.colors.push(A5H.getCanvasColor(d4j));}else if(y5H.type == "pandf"){G4j="stx_pandf_d";G4j+="own";n4j="stx_pa";n4j+="ndf_up";A5H.drawPointFigureChart(D5H.panel,n4j,703.76 < (8938,+"467")?(!"",393.36):(9972,+"63.33") == (+"5550",53)?(7.62e+3,9.05e+3):2329 !== 402.87?"X":0x1ad1,y5H);g5H.colors.push(A5H.getCanvasColor("stx_pandf_up"));A5H.drawPointFigureChart(D5H.panel,"stx_pandf_down","O",y5H);g5H.colors.push(A5H.getCanvasColor(G4j));}return g5H;};n7H.ChartEngine.prototype.setAggregationType=function(j5H){var m4j,v5H;m4j="c";m4j+="andl";Z3i4.I3k0();m4j+="e";this.layout.chartType=m4j;v5H=this.chart;if(v5H.baseline.userLevel !== ![]){v5H.baseline.userLevel=v5H.baseline.defaultLevel;v5H.panel.yAxis.scroll=n7H.ChartEngine.YAxis.prototype.scroll;}this.layout.aggregationType=j5H;this.setMainSeriesRenderer();if(v5H.canvas){this.createDataSet();this.draw();}this.changeOccurred("layout");};n7H.ChartEngine.prototype.drawKagiSquareWave=function(B5H,E5H,i5H,J5H){var V3k0=Z3i4;var Y5H,x5H,k5H,I5H,V5H,R5H,z5H,m5H,h5H,e5H,r5H,f5H,M5H,o5H,w5H,t5H,Z5H,K5H,N5H,C5H,L5H;Y5H=B5H.chart;this.startClip(B5H.name);x5H=Y5H.dataSegment;V3k0.I3k0();k5H=Y5H.context;I5H=B5H.yAxis;if(I5H.flipped){V5H=E5H;E5H=i5H;i5H=V5H;}R5H=this.canvasStyle(E5H);z5H=this.canvasStyle(i5H);this.canvasColor(E5H);if(J5H.border_color_up){k5H.strokeStyle=J5H.border_color_up;}m5H=k5H.strokeStyle;this.canvasColor(i5H);if(J5H.border_color_down){k5H.strokeStyle=J5H.border_color_down;}h5H=k5H.strokeStyle;e5H=1;if(R5H.width && parseInt(R5H.width,"10" << 483498272) <= 25){e5H=Math.max(1,n7H.stripPX(R5H.width));}r5H=1;if(z5H.width && parseInt(z5H.width,10) <= 25){r5H=Math.max(1,n7H.stripPX(z5H.width));}if(this.highlightedDraggable){V3k0.m0R0(0);k5H.globalAlpha*=V3k0.O0R0("0.3",1);}k5H.beginPath();f5H=Y5H.dataSet.length - Y5H.scroll - 1;M5H=! !1;o5H=null;w5H=null;t5H=null;Z5H=B5H.left - 0.5 * this.layout.candleWidth + this.micropixels - +"1";for(var X5H=0;X5H <= x5H.length;X5H++){Z5H+=this.layout.candleWidth;K5H=x5H[X5H];if(!K5H)continue;if(K5H.projection)break;t5H=K5H.kagiTrend;if(I5H.flipped){t5H*=-1;}if(K5H.transform && Y5H.transformFunc){N5H=K5H.kagiPrevOpen;K5H=K5H.transform;K5H.kagiPrevOpen=Y5H.transformFunc(this,Y5H,N5H);}C5H=K5H.cache;V3k0.S0R0(1);L5H=V3k0.y0R0(X5H,f5H);if(L5H < B5H.cacheLeft || L5H > B5H.cacheRight || !C5H.kagiOpen){C5H.kagiOpen=I5H.semiLog?I5H.height * (1 - (Math.log(Math.max(K5H.Open,0)) / Math.LN10 - I5H.logLow) / I5H.logShadow):(I5H.high - K5H.Open) * I5H.multiplier;C5H.kagiClose=I5H.semiLog?I5H.height * (1 - (Math.log(Math.max(K5H.Close,0)) / Math.LN10 - I5H.logLow) / I5H.logShadow):(I5H.high - K5H.Close) * I5H.multiplier;if(I5H.flipped){C5H.kagiOpen=I5H.bottom - C5H.kagiOpen;C5H.kagiClose=I5H.bottom - C5H.kagiClose;}else {C5H.kagiOpen+=I5H.top;C5H.kagiClose+=I5H.top;}}w5H=C5H.kagiClose;o5H=I5H.semiLog?I5H.height * (1 - (Math.log(Math.max(K5H.kagiPrevOpen,0)) / Math.LN10 - I5H.logLow) / I5H.logShadow):(I5H.high - K5H.kagiPrevOpen) * I5H.multiplier;if(I5H.flipped){o5H=I5H.bottom - o5H;}else {o5H+=I5H.top;}if(M5H){k5H.moveTo(f5H >= 0?B5H.left:Math.floor(Z5H),C5H.kagiOpen);k5H.lineTo(Math.floor(Z5H),C5H.kagiOpen);if(C5H.kagiClose < C5H.kagiOpen){k5H.strokeStyle=m5H;k5H.lineWidth=e5H;}else {k5H.strokeStyle=h5H;k5H.lineWidth=r5H;}}else {if(t5H != -1 && C5H.kagiClose < o5H && o5H < C5H.kagiOpen){k5H.lineTo(Math.floor(Z5H),o5H);k5H.stroke();k5H.beginPath();k5H.moveTo(Math.floor(Z5H),o5H);k5H.strokeStyle=m5H;k5H.lineWidth=e5H;}else if(t5H != 1 && C5H.kagiClose > o5H && o5H > C5H.kagiOpen){k5H.lineTo(Math.floor(Z5H),o5H);k5H.stroke();k5H.beginPath();k5H.moveTo(Math.floor(Z5H),o5H);k5H.strokeStyle=h5H;k5H.lineWidth=r5H;}}k5H.lineTo(Math.floor(Z5H),C5H.kagiClose);if(X5H + 1 < x5H.length){k5H.lineTo(Math.floor(Z5H + this.layout.candleWidth),C5H.kagiClose);}M5H=!{};}k5H.stroke();this.endClip();V3k0.m0R0(2);k5H.lineWidth=V3k0.O0R0(2042157664,"1");};n7H.ChartEngine.prototype.drawPointFigureChart=function(U5H,C9H,H5H,A9H){var h3k0=Z3i4;var a5H,v9H,G5H,Q5H,d5H,W5H,p5H,P9H,j9H,Z9H,n5H,k9H,S5H,F5H,u5H,y9H,g9H,O5H,s5H,q5H,Y9H,D9H,b5H,I9H,c9H,l9H;a5H=U5H.chart;this.startClip(U5H.name);v9H=a5H.dataSegment;G5H=a5H.context;this.canvasColor(C9H);if(H5H == ((8980,5540) !== 292.29?"X":(207.87,"5710" | 74) < 9135?(2.04e+3,![]):(+"255.91",+"3.81e+3")) && A9H.border_color_up){G5H.strokeStyle=A9H.border_color_up;}else if(H5H == "O" && A9H.border_color_down){G5H.strokeStyle=A9H.border_color_down;}Q5H=this.canvasStyle(C9H);d5H=parseInt(Q5H.paddingTop,10);W5H=parseInt(Q5H.paddingBottom,+"10");p5H=parseInt(Q5H.paddingLeft,10);P9H=parseInt(Q5H.paddingRight,10);if(Q5H.width && parseInt(Q5H.width,10) <= 25){G5H.lineWidth=Math.max(1,n7H.stripPX(Q5H.width));}else {G5H.lineWidth=2;}if(this.highlightedDraggable){G5H.globalAlpha*=+"0.3";}function o9H(i9H,J9H,E9H){h3k0.S0R0(3);G5H.moveTo(h3k0.y0R0(J9H,i9H,2),h3k0.O0R0(E9H,d5H,u5H,h3k0.m0R0(4)));h3k0.S0R0(1);G5H.bezierCurveTo(h3k0.y0R0(P9H,J9H),h3k0.y0R0(E9H,d5H,u5H,h3k0.m0R0(4)),h3k0.y0R0(P9H,J9H,h3k0.S0R0(1)),h3k0.y0R0(F5H,u5H,E9H,W5H,h3k0.m0R0(5)),h3k0.y0R0(J9H,i9H,2,h3k0.m0R0(3)),h3k0.O0R0(F5H,u5H,E9H,W5H,h3k0.m0R0(5)));h3k0.S0R0(6);h3k0.I3k0();G5H.bezierCurveTo(h3k0.y0R0(i9H,p5H),h3k0.y0R0(F5H,u5H,E9H,W5H,h3k0.S0R0(5)),h3k0.y0R0(i9H,p5H,h3k0.m0R0(6)),h3k0.O0R0(E9H,d5H,u5H,h3k0.m0R0(4)),h3k0.O0R0(J9H,i9H,2,h3k0.S0R0(3)),h3k0.O0R0(E9H,d5H,u5H,h3k0.m0R0(4)));}G5H.beginPath();j9H=this.chart.state.aggregation.box;Z9H=a5H.dataSet.length - a5H.scroll - +"1";n5H=U5H.yAxis;F5H=j9H * n5H.multiplier;h3k0.S0R0(7);u5H=h3k0.O0R0(2,F5H);function K9H(X9H,t9H,B9H){h3k0.S0R0(1);G5H.moveTo(h3k0.y0R0(p5H,X9H),h3k0.y0R0(u5H,W5H,B9H,h3k0.S0R0(8)));h3k0.m0R0(6);G5H.lineTo(h3k0.y0R0(t9H,P9H),h3k0.y0R0(F5H,d5H,B9H,u5H,h3k0.S0R0(9)));h3k0.m0R0(1);G5H.moveTo(h3k0.O0R0(p5H,X9H),h3k0.y0R0(F5H,d5H,B9H,u5H,h3k0.S0R0(9)));h3k0.m0R0(6);G5H.lineTo(h3k0.y0R0(t9H,P9H),h3k0.O0R0(u5H,W5H,B9H,h3k0.m0R0(8)));}y9H=this.layout.candleWidth;g9H=U5H.left - y9H + this.micropixels - 1;for(var T9H=0;T9H < v9H.length;T9H++){g9H+=y9H;O5H=v9H[T9H];if(!O5H)continue;if(O5H.projection)break;s5H=O5H.pfOpen;q5H=O5H.pfClose;Y9H=O5H.pfTrend;D9H=O5H.pfStepBack;if(O5H.transform && a5H.transformFunc){O5H=O5H.transform;s5H=a5H.transformFunc(this,a5H,s5H);q5H=a5H.transformFunc(this,a5H,q5H);}b5H=O5H.cache;h3k0.S0R0(1);I9H=h3k0.y0R0(T9H,Z9H);if(I9H < U5H.cacheLeft || I9H > U5H.cacheRight || !b5H.pfOpen){if(n5H.flipped){b5H.pfOpen=n5H.bottom - (n5H.high - s5H) * n5H.multiplier;b5H.pfClose=n5H.bottom - (n5H.high - q5H) * n5H.multiplier;}else {b5H.pfOpen=(n5H.high - s5H) * n5H.multiplier + n5H.top;b5H.pfClose=(n5H.high - q5H) * n5H.multiplier + n5H.top;}}c9H=Math.round(g9H);h3k0.m0R0(1);l9H=Math.round(h3k0.y0R0(y9H,g9H));k9H=Math.abs(Math.round((q5H - s5H) / j9H));S5H=b5H.pfOpen;if(H5H == D9H){if(D9H == "X"){h3k0.S0R0(6);K9H(c9H,l9H,h3k0.O0R0(S5H,F5H));}else if(D9H == (("6898" * 1,5230) < 9110?"O":182)){h3k0.m0R0(1);o9H(c9H,l9H,h3k0.y0R0(F5H,S5H));}}if(H5H == Y9H){for(;k9H >= +"0";k9H--){if(H5H == ((329.61,678.97) < (1829,"835.36" - 0)?5037 == 741.21?(72.56,"s"):"X":(!1,! ![]))){K9H(c9H,l9H,S5H,F5H,u5H);S5H-=n5H.flipped?-F5H:F5H;}else if(H5H == (7169 == (1920,2390)?840.81:"O")){o9H(c9H,l9H,S5H,F5H,u5H);S5H+=n5H.flipped?-F5H:F5H;}}}}G5H.stroke();this.endClip();h3k0.I3k0();h3k0.S0R0(10);G5H.lineWidth=h3k0.y0R0("1",1);};n7H.ChartEngine.calculateAggregation=function(x9H,z9H,e9H,r9H){var l4j,R9H,m9H,t2j,P2j,T2j;Z3i4.s3k0();l4j="k";l4j+="a";l4j+="g";l4j+="i";m9H=x9H.layout;if(["heikinashi","heikenashi"].indexOf(z9H) > -1){R9H=n7H.calculateHeikinAshi(x9H,e9H,r9H);}else if(z9H == "rangebars"){R9H=n7H.calculateRangeBars(x9H,e9H,m9H.rangebars,r9H);}else if(z9H == l4j){R9H=n7H.calculateKagi(x9H,e9H,m9H.kagi,r9H);}else if(z9H == "linebreak"){R9H=n7H.calculateLineBreak(x9H,e9H,m9H.priceLines,r9H);}else if(z9H == "renko"){R9H=n7H.calculateRenkoBars(x9H,e9H,m9H.renko,r9H);}else if(z9H == "pandf"){R9H=n7H.calculatePointFigure(x9H,e9H,m9H.pandf,r9H);}t2j=- +"338144794";P2j=-1126298933;T2j=2;for(var e0j=1;Z3i4.x1y(e0j.toString(),e0j.toString().length,"30210" & 2147483647) !== t2j;e0j++){return R9H;}if(Z3i4.x1y(T2j.toString(),T2j.toString().length,30887) !== P2j){return R9H;}};n7H.calculateHeikinAshi=function(S9H,O9H,a9H){var N9H,h9H,f9H,G9H,V9H,M9H,L9H,w9H,Q9H,d9H,F9H;if(!O9H.length){return O9H;}if(!a9H){a9H=[];}N9H=[];Z3i4.I3k0();for(var n9H=0;n9H < O9H.length;n9H++){h9H=O9H[n9H];if(!h9H)continue;f9H=N9H[N9H.length - ("1" << 1726668448)];if(!f9H && !n9H){f9H=a9H[a9H.length - 1];}if(!f9H){f9H=h9H;}G9H=h9H.Close;V9H=h9H.Open;M9H=h9H.High;L9H=h9H.Low;w9H=f9H.Open;V9H=V9H || V9H === 0?V9H:G9H;M9H=M9H || M9H === 0?M9H:G9H;L9H=L9H || L9H === 0?L9H:G9H;w9H=w9H || w9H === 0?w9H:f9H.Close;Q9H=(w9H + f9H.Close) / 2;Z3i4.m0R0(11);d9H=Z3i4.O0R0(M9H,G9H,L9H,V9H,4);F9H={DT:h9H.DT,displayDate:h9H.displayDate,Date:h9H.Date,Open:Q9H,Close:d9H,High:Math.max(M9H,Math.max(Q9H,d9H)),Low:Math.min(L9H,Math.min(Q9H,d9H)),Volume:h9H.Volume,iqPrevClose:f9H.Close};for(var u9H in h9H){if(!F9H[u9H] && F9H[u9H] !== 0){F9H[u9H]=h9H[u9H];}}N9H.push(F9H);}return N9H;};n7H.calculateKagi=function(A3D,s9H,W9H,c3D){Z3i4.I3k0();var l3D,P3D,p9H,b9H,g3D,H9H,y3D,U9H;if(!s9H.length){return s9H;}if(!c3D){c3D=[];}l3D=A3D.layout;P3D=A3D.chart;W9H=parseFloat(W9H);P3D.defaultChartStyleConfig.kagi=n7H.ChartEngine.isDailyInterval(l3D.interval)?4:"0.4" * 1;if(isNaN(W9H) || W9H <= 0){W9H=P3D.defaultChartStyleConfig.kagi;if(n7H.Market.Symbology.isForexSymbol(P3D.symbol)){W9H/=+"4";}if(l3D.kagi !== null){l3D.kagi=null;A3D.changeOccurred("layout");}}W9H/=+"100";p9H=[];b9H=c3D[c3D.length - 1];g3D=b9H?b9H.DT:+"0";for(var q9H=0;q9H < s9H.length;q9H++){H9H=s9H[q9H];if(!H9H)continue;if(!b9H){Z3i4.m0R0(6);b9H=s9H[Z3i4.y0R0(q9H,1)];}if(!b9H)continue;y3D=b9H.Open || b9H.Open === 0?b9H.Open:b9H.Close;if(y3D > b9H.Close){if(H9H.Close > b9H.Close * (1 + W9H)){H9H.Open=b9H.Close;}else {if(b9H.Close > H9H.Close){b9H.Close=H9H.Close;}b9H.Volume+=H9H.Volume;if(q9H < s9H.length - 1)continue;}}else if(y3D < b9H.Close){if(H9H.Close < b9H.Close * (+"1" - W9H)){H9H.Open=b9H.Close;}else {if(b9H.Close < H9H.Close){b9H.Close=H9H.Close;}b9H.Volume+=H9H.Volume;if(q9H < s9H.length - 1)continue;}}else {b9H.Close=H9H.Close;b9H.Volume+=H9H.Volume;if(q9H < s9H.length - 1)continue;}U9H={DT:b9H.DT,displayDate:b9H.displayDate,Date:b9H.Date,Open:b9H.Open,Close:b9H.Close,High:Math.max(b9H.Open,b9H.Close),Low:Math.min(b9H.Open,b9H.Close),Volume:b9H.Volume,iqPrevClose:b9H.iqPrevClose};for(var T3D in b9H){if(!U9H[T3D] && U9H[T3D] !== 0){U9H[T3D]=b9H[T3D];}}if(p9H.length){U9H.kagiPrevOpen=p9H[p9H.length - ("1" & 2147483647)].Open;}else {U9H.kagiPrevOpen=U9H.Open;}if(U9H.Close > U9H.kagiPrevOpen && U9H.kagiPrevOpen > U9H.Open){U9H.kagiTrend=1;}else if(U9H.Close < U9H.kagiPrevOpen && U9H.kagiPrevOpen < U9H.Open){U9H.kagiTrend=-1;}if(g3D < U9H.DT){p9H.push(U9H);}b9H=H9H;P3D.currentQuote={Close:H9H.Close};}return p9H;};n7H.calculateLineBreak=function(R3D,t3D,j3D,z3D){var E3D,i3D,g4j,k3D,e3D,J3D,D3D,I3D,C3D,Z3D,Y3D,K3D,v3D,o3D,B3D;if(!t3D.length){return t3D;}if(!z3D){z3D=[];}E3D=R3D.layout;i3D=R3D.chart;i3D.defaultChartStyleConfig.priceLines=3;j3D=parseInt(j3D,10);if(isNaN(j3D) || j3D <= 0){j3D=i3D.defaultChartStyleConfig.priceLines;if(E3D.priceLines !== null){g4j="layo";g4j+="ut";E3D.priceLines=null;R3D.changeOccurred(g4j);}}else if(j3D > 10){E3D.priceLines=j3D=10;}k3D=z3D.slice(-j3D);Z3i4.s3k0();e3D=k3D.length;J3D=+"0";a:for(var x3D="0" ^ 0;x3D < t3D.length;x3D++){D3D=t3D[x3D];if(!D3D)continue;J3D+=D3D.Volume;I3D=k3D[k3D.length - 1];if(!I3D){I3D={Open:D3D.Open,Close:D3D.Open,High:D3D.Open,Low:D3D.Open};}C3D=I3D.Close;Z3D=I3D.High;Y3D=I3D.Low;K3D=I3D.Open;Z3D=Z3D || Z3D === "0" - 0?Z3D:C3D;Y3D=Y3D || Y3D === 0?Y3D:C3D;K3D=K3D || K3D === 0?K3D:C3D;v3D={DT:D3D.DT,displayDate:D3D.displayDate,Date:D3D.Date,Close:D3D.Close,Volume:J3D,iqPrevClose:C3D};i3D.currentQuote={Close:D3D.Close};if(D3D.Close > C3D && I3D.Close > K3D){;}else if(D3D.Close < C3D && I3D.Close < K3D){;}else if(D3D.Close > Z3D){for(o3D=2;o3D <= j3D;o3D++){B3D=k3D[k3D.length - o3D];if(B3D && D3D.Close <= B3D.High){continue a;}}}else if(D3D.Close < Y3D){for(o3D=+"2";o3D <= j3D;o3D++){B3D=k3D[k3D.length - o3D];if(B3D && D3D.Close >= B3D.Low){continue a;}}}else continue;if(D3D.Close < I3D.Close){v3D.Open=Math.min(K3D,C3D);}else {v3D.Open=Math.max(K3D,C3D);}v3D.Low=Math.min(v3D.Open,v3D.Close);v3D.High=Math.max(v3D.Open,v3D.Close);for(var X3D in D3D){if(!v3D[X3D] && v3D[X3D] !== 0){v3D[X3D]=D3D[X3D];}}k3D.push(v3D);J3D=0;}return k3D.slice(e3D);};n7H.calculateRenkoBars=function(N3D,m3D,r3D,n3D){var o3k0=Z3i4;var A4j,G3D,V3D,w3D,H3D,a3D,F3D,Q3D,h3D,f3D,M3D,d3D,L3D,S3D,b3D,U3D;A4j="L";A4j+="ow";if(!m3D.length){return [];}if(!n3D){n3D=[];}G3D=N3D.layout;V3D=N3D.chart;w3D=V3D.state.aggregation;if(!w3D){w3D=V3D.state.aggregation={};}H3D=Math.min(300,m3D.length);if(!w3D.minMax){w3D.minMax=N3D.determineMinMax(m3D.slice(m3D.length - H3D),["Close","High",A4j]);}a3D=w3D.minMax[1] - w3D.minMax[+"0"];F3D=N3D.panels[V3D.name].height;if(!F3D){return [];}o3k0.s3k0();V3D.defaultChartStyleConfig.renko=Math.floor(10000 * a3D / (F3D / 30)) / 10000;if(r3D === null || isNaN(r3D) || r3D <= +"0"){r3D=V3D.defaultChartStyleConfig.renko;if(G3D.renko !== null){G3D.renko=null;N3D.changeOccurred("layout");}}else {o3k0.S0R0(7);r3D=Math.max(r3D,o3k0.y0R0(F3D,a3D));if(G3D.renko !== r3D){G3D.renko=r3D;N3D.changeOccurred("layout");}}Q3D=[];h3D=null;f3D=null;M3D=null;function u3D(W3D,s3D){var q3D;W3D=Number(W3D.toFixed(8));s3D=Number(s3D.toFixed(8));q3D={DT:M3D.DT,displayDate:M3D.displayDate,Date:M3D.Date,Open:W3D,Close:s3D,High:Math.max(W3D,s3D),Low:Math.min(W3D,s3D),Volume:0,iqPrevClose:W3D != s3D?W3D:null};for(var p3D in M3D){if(!q3D[p3D] && q3D[p3D] !== 0){q3D[p3D]=M3D[p3D];}}Q3D.push(q3D);}if(n3D.length){d3D=n3D[n3D.length - 1];h3D=d3D.Low - r3D;f3D=d3D.High + r3D;}for(var O3D=0;O3D < m3D.length;O3D++){L3D=m3D[O3D];if(!L3D)continue;if(!h3D && !f3D){S3D=L3D.Open || L3D.Open === 0?L3D.Open:L3D.Close;b3D=Math.floor(S3D / r3D) * r3D;U3D=isNaN(b3D)?S3D:b3D;o3k0.m0R0(6);h3D=o3k0.y0R0(U3D,r3D);o3k0.S0R0(1);f3D=o3k0.O0R0(r3D,U3D);}while(! !"1"){if(!M3D){M3D=L3D;}if(L3D.Close <= h3D){o3k0.m0R0(1);u3D(o3k0.y0R0(r3D,h3D),h3D);o3k0.S0R0(12);f3D=o3k0.O0R0(h3D,2,r3D);h3D-=r3D;M3D=null;}else if(L3D.Close >= f3D){o3k0.S0R0(6);u3D(o3k0.O0R0(f3D,r3D),f3D);o3k0.m0R0(13);h3D=o3k0.O0R0(2,r3D,f3D);f3D+=r3D;M3D=null;}else break;}V3D.currentQuote=L3D;}if(h3D < m3D[m3D.length - 1].Close && h3D + r3D > m3D[m3D.length - 1].Close){o3k0.S0R0(1);u3D(o3k0.O0R0(r3D,h3D),m3D[m3D.length - 1].Close);}else if(f3D > m3D[m3D.length - ("1" ^ 0)].Close && f3D - r3D < m3D[m3D.length - 1].Close){o3k0.m0R0(6);u3D(o3k0.O0R0(f3D,r3D),m3D[m3D.length - 1].Close);}return Q3D;};n7H.calculateRangeBars=function(Z1D,g1D,T1D,X1D){var f3k0=Z3i4;var x4j,B1D,Y1D,C1D,z1D,i1D,t1D,J1D,P1D,D1D,v1D,E1D,j1D,c1D,o1D,k1D,l1D,A1D,y1D,R1D,r1D;x4j="C";x4j+="l";function x1D(){f3k0.s3k0();f3k0.m0R0(1);D1D=f3k0.y0R0(T1D,P1D);f3k0.m0R0(6);v1D=f3k0.y0R0(P1D,T1D);E1D=P1D;}x4j+="o";x4j+="se";function K1D(L1D,M1D){f3k0.I3k0();while(1){if(!j1D){j1D=L1D;}if(P1D < M1D){P1D=Math.min(M1D,D1D);f3k0.m0R0(6);v1D=Math.max(v1D,f3k0.O0R0(P1D,T1D));if(M1D < D1D)break;}else if(P1D >= M1D){P1D=Math.max(M1D,v1D);f3k0.S0R0(1);D1D=Math.min(D1D,f3k0.O0R0(T1D,P1D));if(M1D > v1D)break;}if(typeof P1D == "undefined"){console.log("Uh oh undefined in calculateRangeBars:processMove");return;}e1D(P1D);j1D=null;x1D();}}if(!g1D.length){return g1D;}if(!X1D){X1D=[];}B1D=Z1D.layout;Y1D=Z1D.chart;C1D=Y1D.state.aggregation;if(!C1D){C1D=Y1D.state.aggregation={};}f3k0.m0R0(6);z1D=Math.min(f3k0.y0R0("300",0),g1D.length);if(!C1D.minMax){C1D.minMax=Z1D.determineMinMax(g1D.slice(g1D.length - z1D),[x4j,"High","Low"]);}i1D=C1D.minMax[1] - C1D.minMax[0];t1D=Z1D.panels[Y1D.name].height;if(!t1D){return [];}function e1D(f1D){f3k0.s3k0();var m1D;m1D={DT:j1D.DT,displayDate:j1D.displayDate,Date:j1D.Date,Open:Number(E1D.toFixed(+"8")),Close:Number(f1D.toFixed(8)),High:Number(D1D.toFixed(8)),Low:Number(v1D.toFixed(8)),Volume:0};m1D.iqPrevClose=m1D.Open;for(var h1D in j1D){if(!m1D[h1D] && m1D[h1D] !== 0){m1D[h1D]=j1D[h1D];}}J1D.push(m1D);}Y1D.defaultChartStyleConfig.range=Math.floor(+"10000" * i1D / (t1D / +"30")) / 10000;if(T1D === null || isNaN(T1D) || T1D < 0){T1D=Y1D.defaultChartStyleConfig.range;if(B1D.range !== null){B1D.range=null;Z1D.changeOccurred("layout");}}else {f3k0.S0R0(7);T1D=Math.max(T1D,f3k0.y0R0(t1D,i1D));if(B1D.range !== T1D){B1D.range=T1D;Z1D.changeOccurred("layout");}}J1D=[];P1D=null;D1D=null;v1D=null;E1D=null;j1D=null;for(var I1D=0;I1D < g1D.length;I1D++){c1D=g1D[I1D];if(!c1D)continue;f3k0.S0R0(6);o1D=g1D[f3k0.y0R0(I1D,1)];if(!I1D){if(!o1D){o1D=X1D[X1D.length - 1];}if(o1D){P1D=o1D.Close;if(P1D || P1D === 0){x1D();}}}if(!o1D)continue;k1D=c1D.Close;l1D=c1D.Open;A1D=c1D.High;y1D=c1D.Low;if(!k1D && k1D !== 0)continue;l1D=l1D || l1D === 0?l1D:k1D;A1D=A1D || A1D === +"0"?A1D:k1D;y1D=y1D || y1D === 0?y1D:k1D;if(!P1D && P1D !== 0){R1D=Math.floor(l1D / T1D) * T1D;P1D=isNaN(R1D)?l1D:R1D;x1D();K1D(o1D,l1D);}if(I1D){K1D(c1D,l1D);}if(A1D - l1D < l1D - y1D){if(A1D){K1D(c1D,A1D);}if(y1D){K1D(c1D,y1D);}}else {if(y1D){K1D(c1D,y1D);}if(A1D){K1D(c1D,A1D);}}K1D(c1D,k1D);if(I1D == g1D.length - 1 && k1D != E1D){r1D=D1D;f3k0.S0R0(1);D1D=f3k0.y0R0(T1D,v1D);f3k0.S0R0(6);v1D=f3k0.y0R0(r1D,T1D);e1D(k1D);}}return J1D;};n7H.calculatePointFigure=function(p1D,P2D,c2D,l2D){var O1D,d1D,A2D,V1D,F1D,S1D,s1D,q1D,H1D,u1D,G1D,a1D,w1D,Q1D,W1D,N1D,n1D,b1D,U1D;if(!P2D.length){return P2D;}if(!l2D){l2D=[];}function D2D(Y2D,B2D,t2D,E2D,i2D,J2D,x2D,R2D,z2D){return {DT:Y2D.DT,Date:Y2D.Date,pfOpen:R2D,pfClose:z2D,Open:B2D,Close:i2D,High:t2D,Low:E2D,Volume:J2D,iqPrevClose:x2D};}function g2D(k2D,j2D){for(var v2D in k2D){if(!j2D[v2D] && j2D[v2D] !== 0){j2D[v2D]=k2D[v2D];}}return j2D;}O1D=p1D.layout;d1D=p1D.chart;A2D=d1D.state.aggregation;if(!A2D){A2D=d1D.state.aggregation={};}d1D.defaultChartStyleConfig.box=1;d1D.defaultChartStyleConfig.reversal=3;if(!c2D){c2D={};}V1D=c2D.box;if(!V1D){if(O1D.pandf){if(O1D.pandf.box !== null){O1D.pandf.box=null;p1D.changeOccurred("layout");}}V1D=d1D.defaultChartStyleConfig.box;F1D=P2D[P2D.length - 1].Close;if(F1D){if(F1D < 0.25){V1D=0.0625;}else if(F1D < +"1"){V1D=+"0.125";}else if(F1D < +"5"){V1D=0.25;}else if(F1D < 20){V1D=+"0.5";}else if(F1D < 100){V1D=1;}else if(F1D < 200){V1D=2;}else if(F1D < 500){V1D=4;}else if(F1D < +"1000"){V1D=5;}else if(F1D < +"25000"){V1D=50;}else {Z3i4.S0R0(14);V1D=Z3i4.O0R0("500",0);}}if(!n7H.ChartEngine.isDailyInterval(O1D.interval)){V1D/=10;}if(n7H.Market.Symbology.isForexSymbol(d1D.symbol)){if(F1D){if(F1D < "1" << 1719975264){Z3i4.m0R0(0);V1D=Z3i4.O0R0("0.001",1);}else if(F1D < 2){V1D=0.002;}else if(F1D < 50){V1D=0.02;}else if(F1D < 200){V1D=0.2;}}if(n7H.ChartEngine.isDailyInterval(O1D.interval)){V1D*=10;}}d1D.defaultChartStyleConfig.box=V1D;}V1D=parseFloat(V1D);if(isNaN(V1D) || V1D <= +"0"){if(O1D.pandf){if(O1D.pandf.box !== null){O1D.pandf.box=null;p1D.changeOccurred("layout");}}d1D.defaultChartStyleConfig.box=V1D=1;}S1D=Math.ceil(parseFloat(c2D.reversal));function T2D(I2D,C2D,K2D,o2D,Z2D){I2D.High=Math.max(C2D,I2D.High);I2D.Low=Math.min(K2D,I2D.Low);I2D.Close=o2D;Z3i4.s3k0();I2D.Volume+=Z2D;}if(S1D > 0 && S1D > c2D.reversal){O1D.pandf.reversal=S1D;p1D.changeOccurred("layout");}else if(isNaN(S1D) || S1D <= 0){if(O1D.pandf){if(O1D.pandf.reversal !== null){O1D.pandf.reversal=null;p1D.changeOccurred("layout");}}S1D=d1D.defaultChartStyleConfig.reversal;}A2D.box=V1D;S1D*=V1D;s1D=+"0.00000001";q1D=(V1D.toString() + ".").split(".")[1].length;H1D=[];u1D=0;for(var y2D=0;y2D < P2D.length;y2D++){a1D=P2D[y2D];if(!a1D)continue;u1D+=a1D.Volume;Q1D=a1D.Close;W1D=a1D.Open;N1D=a1D.High;n1D=a1D.Low;W1D=W1D || W1D === ("0" ^ 0)?W1D:Q1D;N1D=N1D || N1D === 0?N1D:Q1D;n1D=n1D || n1D === 0?n1D:Q1D;if(!H1D.length && !l2D.length){G1D=g2D(a1D,D2D(a1D,W1D,N1D,n1D,Q1D,u1D,N1D + V1D,Number((Math.ceil(n1D / V1D - s1D) * V1D).toFixed(q1D)),Number((Math.floor(N1D / V1D + s1D) * V1D).toFixed(q1D))));G1D.pfTrend="X";if(G1D.pfOpen == G1D.pfClose){G1D.pfStepBack="-";}H1D.push(G1D);u1D=0;continue;}w1D=H1D[H1D.length - +"1"];if(!w1D){w1D=n7H.clone(l2D[l2D.length - +"1"]);}if(w1D.pfTrend == ((7000,6230) != 5240?(4120,394.25) > (526.23,16.35)?(2041,461.06) !== 362.94?"O":(5.63e+3,![]):!{}:"D")){if(n1D <= w1D.pfClose - V1D){w1D.pfClose=Number((Math.ceil(n1D / V1D - s1D) * V1D).toFixed(q1D));if(w1D.pfStepBack == "O"){w1D.pfStepBack=null;}T2D(w1D,N1D,n1D,Q1D,u1D);}else if(N1D >= w1D.pfClose + S1D){b1D=w1D.pfClose + V1D;U1D=Number((Math.floor(N1D / V1D + s1D) * V1D).toFixed(q1D));G1D=D2D(a1D,W1D,N1D,n1D,Q1D,u1D,w1D.pfClose,b1D,U1D);if(b1D == U1D){G1D.pfStepBack=(9059,604.85) == (3560,+"7919")?(670.88,24.09) < 923?(+"3008",576) !== 8200?(!{},1.14e+3):"4.70e+3" | 540:"0xf17" * 1:"X";}if(w1D.pfStepBack == "O"){w1D.pfOpen=b1D;w1D.pfClose=U1D;w1D.pfTrend=(+"560.94","67" - 0) <= (110.53,754.46)?(1080,7200) === ("2134" * 1,3990)?(205.86,"3065" | 129) != ("7460" - 0,+"8540")?492.12:! !{}:"X":3.16e+3;T2D(w1D,N1D,n1D,Q1D,u1D);}else {G1D=g2D(a1D,G1D);G1D.pfTrend="X";H1D.push(G1D);}}else {T2D(w1D,N1D,n1D,Q1D,u1D);}u1D=0;}else if(w1D.pfTrend == ("5960" * 1 == 6360?(![],!{}):"X")){if(N1D >= w1D.pfClose + V1D){w1D.pfClose=Number((Math.floor(N1D / V1D + s1D) * V1D).toFixed(q1D));if(w1D.pfStepBack == (459.55 <= 8090?"X":!"") || w1D.pfStepBack == ((+"775.22",327.63) != (5125,4790)?"-":(8.01e+3,0x66f))){w1D.pfStepBack=null;}T2D(w1D,N1D,n1D,Q1D,u1D);}else if(n1D <= w1D.pfClose - S1D){b1D=w1D.pfClose - V1D;U1D=Number((Math.ceil(n1D / V1D - s1D) * V1D).toFixed(q1D));G1D=D2D(a1D,W1D,N1D,n1D,Q1D,u1D,w1D.pfClose,b1D,U1D);if(b1D == U1D){G1D.pfStepBack="O";}if(w1D.pfStepBack == ((303,1347) == 2560?7935 == (+"659",5488)?(4.04e+3,3.18e+3):(93.96,4034) !== "316.64" * 1?5.19e+3:623.26:"X") || w1D.pfStepBack == ((1966,8520) != 839.19?838.89 == 520.67?(8310,806) < (103.18,+"9938")?(!{},573.98):("730.83" * 1,4.97e+3):"-":("4.30e+3" * 1,"o"))){w1D.pfOpen=b1D;w1D.pfClose=U1D;w1D.pfTrend="O";T2D(w1D,N1D,n1D,Q1D,u1D);if(b1D != U1D && w1D.pfStepBack == ((6690,7348) === (5480,657)?"0x235f" ^ 0:3290 < (8680,598.3)?1.82e+3:(+"76.6","857.88" - 0) !== (+"64.96",5310)?"-":+"200.51")){w1D.pfStepBack=null;}}else {G1D=g2D(a1D,G1D);G1D.pfTrend=(668.73,2410) >= 6500?(3104,191.08) !== 6646?694.97:("f",0x1d96):"O";H1D.push(G1D);}}else {T2D(w1D,N1D,n1D,Q1D,u1D);}u1D=+"0";}}return H1D;};};I7H=m2D=>{var Z3k0=Z3i4;var O5j,E5j,X5j,e2D,r2D,u4j,X7j,E7j,O7j,p7j,i1j,g1j,l1j,C1j,w1j,M1j,r1j,q1j,k1j,D1j,F1j,o8j,V4j,P4j,i4j;O5j=1300433217;E5j=237550749;X5j=2;for(var o5j=1;Z3k0.x1y(o5j.toString(),o5j.toString().length,91861) !== O5j;o5j++){e2D=typeof _CIQ !== "undefined"?_CIQ:m2D.CIQ;X5j+=2;}if(Z3k0.u1y(X5j.toString(),X5j.toString().length,+"52155") !== E5j){e2D=~_CIQ == ""?_CIQ:m2D.CIQ;}r2D=typeof _timezoneJS !== "undefined"?_timezoneJS:m2D.timezoneJS;if(!e2D.Drawing){u4j="drawingAdvanced feature requires first activating";u4j+=" drawing featu";u4j+="re.";console.error(u4j);}else {X7j="br[cq";X7j+="-wave-parameters]";E7j="w";E7j+="av";E7j+="eParameters";O7j="l";O7j+="ine";O7j+="Width";p7j="I";p7j+="I";i1j="line";i1j+="W";i1j+="i";i1j+="dth";g1j="p";g1j+="a";g1j+="tter";g1j+="n";l1j="c";l1j+="olor";C1j="lin";C1j+="eW";C1j+="id";C1j+="th3";w1j="ac";w1j+="t";w1j+="ive3";M1j="acti";M1j+="ve";M1j+="2";r1j="pa";r1j+="tter";r1j+="n";r1j+="1";q1j="c";q1j+="ol";q1j+="or";q1j+="1";k1j="lin";k1j+="eWi";k1j+="dt";k1j+="h";D1j="fil";D1j+="l";D1j+="Col";D1j+="or";F1j="c";F1j+="olo";F1j+="r";o8j="li";o8j+="neWidth";V4j="pa";V4j+="tte";V4j+="r";V4j+="n";P4j="fillColo";P4j+="r";i4j="line";i4j+="Width";e2D.Drawing.ray=function(){Z3k0.s3k0();this.name="ray";};e2D.inheritsFrom(e2D.Drawing.ray,e2D.Drawing.line);e2D.Drawing.ray.prototype.calculateOuterSet=function(L2D){var f2D,M2D;if(this.p0[0] == this.p1[0] || this.p0[1] == this.p1[1] || e2D.ChartEngine.isDailyInterval(this.stx.layout.interval)){return;}f2D={x0:this.p0[0],y0:this.p0[1],x1:this.p1[0],y1:this.p1[1]};M2D=f2D.x1 + ("1000" >> 758734912);if(f2D.x0 > f2D.x1){M2D=f2D.x1 - 1000;}this.v0B=this.v0;this.v1B=e2D.yIntersection(f2D,M2D);this.d0B=this.d0;this.d1B=this.stx.dateFromTick(M2D,L2D.chart);};e2D.Drawing.ray.prototype.adjust=function(){var e9j,p9j,O9j,V2D;Z3k0.s3k0();Z3k0.S0R0(0);e9j=-Z3k0.y0R0("779397524",1);p9j=-724916598;Z3k0.S0R0(2);O9j=Z3k0.y0R0(1681543360,"2");for(var X9j=1;Z3k0.x1y(X9j.toString(),X9j.toString().length,99341) !== e9j;X9j++){V2D=this.stx.panels[this.panelName];if(~V2D){return;}this.setPoint(4,this.d0,this.v0,V2D.chart);Z3k0.S0R0(2);this.setPoint(Z3k0.y0R0(1769761952,"4"),this.d1,this.v1,V2D.chart);O9j+=2;}if(Z3k0.u1y(O9j.toString(),O9j.toString().length,98472) !== p9j){V2D=this.stx.panels[this.panelName];if(!V2D){return;}this.setPoint(0,this.d0,this.v0,V2D.chart);this.setPoint(+"1",this.d1,this.v1,V2D.chart);}if(e2D.ChartEngine.isDailyInterval(this.stx.layout.interval) && this.d0B){this.setPoint(1,this.d1B,this.v1B,V2D.chart);}};e2D.Drawing.continuous=function(){var W4j;W4j="contin";Z3k0.I3k0();W4j+="uous";this.name=W4j;this.dragToDraw=!{};this.maxSegments=null;};e2D.inheritsFrom(e2D.Drawing.continuous,e2D.Drawing.segment);e2D.Drawing.continuous.prototype.click=function(a2D,N2D,n2D){var w2D,u2D,G2D,O2D;w2D=this.stx.panels[this.panelName];if(!w2D){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,N2D,n2D,w2D.chart);this.penDown=! ![];return !{};}if(this.accidentalClick(N2D,n2D)){this.stx.undo();return ! !"1";}Z3k0.I3k0();this.setPoint(+"1",N2D,n2D,w2D.chart);u2D=e2D.Drawing.segment;G2D=new u2D();O2D=this.serialize(this.stx);G2D.reconstruct(this.stx,O2D);this.stx.addDrawing(G2D);this.stx.changeOccurred("vector");this.stx.draw();this.segment++;if(this.maxSegments && this.segment > this.maxSegments){return !"";}this.setPoint(0,N2D,n2D,w2D.chart);return !"1";};e2D.Drawing.ellipse=function(){this.name="ellipse";};e2D.inheritsFrom(e2D.Drawing.ellipse,e2D.Drawing.BaseTwoPoint);e2D.Drawing.ellipse.prototype.render=function(Q2D){var b2D,D8D,P8D,T8D,c8D,s2D,l8D,A8D,y8D,g8D,q2D,d2D,S2D,p2D,v8D;b2D=this.stx.panels[this.panelName];if(!b2D){return;}D8D=this.stx.pixelFromTick(this.p0[0],b2D.chart);P8D=this.stx.pixelFromTick(this.p1[0],b2D.chart);T8D=this.stx.pixelFromValueAdjusted(b2D,this.p0[0],this.p0[1]);c8D=this.stx.pixelFromValueAdjusted(b2D,this.p1[0],this.p1[1]);Z3k0.S0R0(15);s2D=Z3k0.O0R0(P8D,D8D,D8D);l8D=P8D;A8D=T8D;y8D=c8D;Z3k0.S0R0(15);g8D=Z3k0.O0R0(c8D,T8D,T8D);Z3k0.m0R0(16);q2D=Z3k0.O0R0(y8D,g8D,6);d2D=this.lineWidth;if(!d2D){d2D=1.1;}S2D=this.color;if(S2D == "auto" || e2D.isTransparent(S2D)){S2D=this.stx.defaultColor;}if(this.highlighted){S2D=this.stx.getCanvasColor("stx_highlight_vector");if(d2D == 0.1){d2D=1.1;}}p2D=this.fillColor;Q2D.beginPath();Q2D.moveTo(s2D,A8D);Z3k0.m0R0(1);Q2D.bezierCurveTo(s2D,Z3k0.O0R0(q2D,y8D),l8D,Z3k0.O0R0(q2D,y8D),l8D,A8D);Z3k0.S0R0(6);Q2D.bezierCurveTo(l8D,Z3k0.O0R0(g8D,q2D),s2D,Z3k0.O0R0(g8D,q2D),s2D,A8D);if(p2D && !e2D.isTransparent(p2D) && p2D != "auto"){Q2D.fillStyle=p2D;Q2D.globalAlpha=+"0.2";Q2D.fill();Q2D.globalAlpha=1;}if(S2D && this.pattern != "none"){Q2D.strokeStyle=S2D;Q2D.lineWidth=d2D;if(Q2D.setLineDash){Q2D.setLineDash(e2D.borderPatternToArray(d2D,this.pattern));Q2D.lineDashOffset=0;;}Q2D.stroke();}Q2D.closePath();if(this.highlighted){v8D=this.highlighted == "p1"?! ![]:! !0;this.littleCircle(Q2D,P8D,c8D,v8D);}};e2D.Drawing.ellipse.prototype.intersected=function(o8D,Z8D,j8D){var U4j,Z4j,k8D,I8D,C8D,K8D;if(!this.p0 || !this.p1){return null;}if(this.pointIntersection(this.p1[0],this.p1[1],j8D)){U4j="p";U4j+="1";Z4j="p";Z4j+="1";this.highlighted=Z4j;return {action:"drag",point:U4j};}k8D=this.p0[0] - (this.p1[0] - this.p0[+"0"]);I8D=this.p1[0];C8D=this.p1[1];K8D=this.p0[1] - (this.p1[1] - this.p0[1]);if(j8D.x0 > Math.max(k8D,I8D) || j8D.x1 < Math.min(k8D,I8D)){return ! !0;}if(j8D.y1 > Math.max(K8D,C8D) || j8D.y0 < Math.min(K8D,C8D)){return !{};}this.highlighted=! !"1";return {action:"move",p0:e2D.clone(this.p0),p1:e2D.clone(this.p1),tick:o8D,value:Z8D};};e2D.Drawing.ellipse.prototype.configs=["color","fillColor",i4j,"pattern"];e2D.Drawing.ellipse.prototype.reconstruct=function(B8D,Y8D){this.stx=B8D;this.color=Y8D.col;this.fillColor=Y8D.fc;this.panelName=Y8D.pnl;this.pattern=Y8D.ptrn;this.lineWidth=Y8D.lw;this.d0=Y8D.d0;this.d1=Y8D.d1;this.tzo0=Y8D.tzo0;this.tzo1=Y8D.tzo1;this.v0=Y8D.v0;this.v1=Y8D.v1;this.adjust();};e2D.Drawing.ellipse.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};};e2D.Drawing.channel=function(){var t4j;t4j="c";t4j+="h";t4j+="annel";this.name=t4j;this.dragToDraw=! !0;this.p2=null;};e2D.inheritsFrom(e2D.Drawing.channel,e2D.Drawing.segment);e2D.Drawing.channel.prototype.configs=["color",P4j,"lineWidth","pattern"];e2D.Drawing.channel.prototype.move=function(i8D,X8D,t8D){var X4j,J4j,o4j,E8D;Z3k0.m0R0(0);X4j=Z3k0.O0R0("1547241154",1);J4j=-963344088;Z3k0.S0R0(2);o4j=Z3k0.O0R0(1861137216,"2");for(var D4j=+"1";Z3k0.u1y(D4j.toString(),D4j.toString().length,"64870" ^ 0) !== X4j;D4j++){if(~this.penDown){return;}o4j+=2;}Z3k0.s3k0();if(Z3k0.u1y(o4j.toString(),o4j.toString().length,75036) !== J4j){if(-this.penDown){return;}}if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[X8D,t8D];}else {E8D=t8D - (this.p1[1] - this.p0[1]) / (this.p1["0" - 0] - this.p0[0]) * (X8D - this.p1[0]);Z3k0.S0R0(17);this.p2=[this.p1[Z3k0.y0R0("0",1287046624)],E8D];}this.render(i8D);};e2D.Drawing.channel.prototype.click=function(z8D,x8D,R8D){var J8D;J8D=this.stx.panels[this.panelName];if(!J8D){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,x8D,R8D,J8D.chart);this.penDown=!0;return !1;}Z3k0.I3k0();if(this.accidentalClick(x8D,R8D)){this.stx.undo();return ! !1;}if(this.p2 !== null){this.setPoint(2,this.p2["0" << 1311836992],this.p2[1],J8D.chart);this.penDown=!{};return ! !{};}this.setPoint(1,x8D,R8D,J8D.chart);if(this.p0[0] == this.p1[0]){this.p1=null;return !1;}Z3k0.S0R0(14);this.p2=[this.p1[0],this.p1[Z3k0.y0R0("1",0)]];return !{};};e2D.Drawing.channel.prototype.boxIntersection=function(f8D,V8D,m8D){var e8D,r8D,h8D,G5j,m5j,l5j,M8D,L8D;e8D=this.p0;r8D=this.p1;h8D=this.p2;if(!e8D || !r8D || !h8D){return ! !"";}G5j=565365694;m5j=-1891897499;l5j=2;for(var A5j="1" ^ 0;Z3k0.x1y(A5j.toString(),A5j.toString().length,"10110" >> 1957353600) !== G5j;A5j++){if(m8D.x0 > Math.max(e8D[0],r8D[+"0"]) || m8D.x1 < Math.min(e8D[0],r8D[+"0"])){return ! !"";}l5j+=2;}if(Z3k0.u1y(l5j.toString(),l5j.toString().length,50439) !== m5j){if(m8D.x0 <= Math.max(e8D[1],r8D[6]) && m8D.x1 <= Math.min(e8D[4],r8D[1])){return !0;}}M8D=(r8D[0] - e8D[0]) * ((h8D["1" ^ 0] < e8D[+"1"]?m8D.y1:m8D.y0) - e8D[1]) - (r8D[1] - e8D[+"1"]) * (f8D - e8D[0]);L8D=(h8D[0] - e8D["0" << 1194777408]) * ((h8D[1] > e8D[1]?m8D.y1:m8D.y0) - (e8D[1] + h8D[1] - r8D[1])) - (r8D[1] - e8D[1]) * (f8D - e8D["0" * 1]);Z3k0.S0R0(18);return Z3k0.y0R0(M8D,0,L8D);};e2D.Drawing.channel.prototype.intersected=function(n8D,G8D,F8D){var N8D;if(!this.p0 || !this.p1 || !this.p2){return null;}N8D={0:this.p0,1:this.p1,2:this.p2};for(var w8D in N8D){if(this.pointIntersection(N8D[w8D][+"0"],N8D[w8D][1],F8D)){Z3k0.S0R0(1);this.highlighted=Z3k0.y0R0(w8D,"p");return {action:"drag",point:((2431,9300) < (6640,9700)?"p":("K",86.14)) + w8D};}}if(this.boxIntersection(n8D,G8D,F8D)){this.highlighted=! !"1";return {action:"move",p0:e2D.clone(this.p0),p1:e2D.clone(this.p1),p2:e2D.clone(this.p2),tick:n8D,value:G8D};}return null;};e2D.Drawing.channel.prototype.render=function(u8D){var O8D,d8D,a8D,S8D,b8D,Q8D,s8D,W8D,U8D,H8D,q8D,p8D,P4D;O8D=this.stx.panels[this.panelName];if(!O8D){return;}d8D=this.stx.pixelFromTick(this.p0[0],O8D.chart);a8D=this.stx.pixelFromTick(this.p1[0],O8D.chart);S8D=this.stx.pixelFromValueAdjusted(O8D,this.p0[0],this.p0[1]);b8D=this.stx.pixelFromValueAdjusted(O8D,this.p1["0" | 0],this.p1[1]);Q8D=null;if(this.p2){Q8D=this.stx.pixelFromValueAdjusted(O8D,this.p2[0],this.p2[1]);}s8D=this.lineWidth;W8D=this.getLineColor();U8D=this.fillColor;if(this.p2 && U8D && !e2D.isTransparent(U8D) && U8D != "auto"){u8D.beginPath();u8D.moveTo(d8D,S8D);u8D.lineTo(a8D,b8D);u8D.lineTo(a8D,Q8D);Z3k0.S0R0(19);u8D.lineTo(d8D,Z3k0.O0R0(Q8D,S8D,b8D));u8D.closePath();u8D.globalAlpha=0.2;u8D.fillStyle=U8D;u8D.fill();u8D.globalAlpha=1;}H8D={pattern:this.pattern,lineWidth:s8D};if((this.penDown || this.highlighted) && this.pattern == "none"){H8D.pattern="dotted";}this.stx.plotLine(d8D,a8D,S8D,b8D,W8D,"segment",u8D,O8D,H8D);if(this.p2){Z3k0.S0R0(19);this.stx.plotLine(d8D,a8D,Z3k0.y0R0(Q8D,S8D,b8D),Q8D,W8D,"segment",u8D,O8D,H8D);}if(this.highlighted){q8D=this.highlighted == "p0"?!0:!{};p8D=this.highlighted == "p1"?! !1:!1;P4D=this.highlighted == "p2"?!0:!"1";this.littleCircle(u8D,d8D,S8D,q8D);this.littleCircle(u8D,a8D,b8D,p8D);this.littleCircle(u8D,a8D,Q8D,P4D);}};e2D.Drawing.channel.prototype.reposition=function(y4D,T4D,g4D,D4D){var c4D,l4D,A4D;if(!T4D){return;}c4D=this.stx.panels[this.panelName];l4D=T4D.tick - g4D;A4D=T4D.value - D4D;if(T4D.action == "move"){this.setPoint(0,T4D.p0[0] - l4D,T4D.p0[1] - A4D,c4D.chart);this.setPoint(1,T4D.p1["0" - 0] - l4D,T4D.p1[1] - A4D,c4D.chart);this.setPoint(+"2",T4D.p2[0] - l4D,T4D.p2[1] - A4D,c4D.chart);this.render(y4D);}else if(T4D.action == "drag"){this[T4D.point]=[g4D,D4D];this.setPoint(0,this.p0[0],this.p0[1],c4D.chart);Z3k0.S0R0(6);this.setPoint(Z3k0.y0R0("1",0),this.p1[0],this.p1[1],c4D.chart);this.setPoint(2,this.p2[0],this.p2[1],c4D.chart);this.render(y4D);}};e2D.Drawing.channel.prototype.adjust=function(){Z3k0.s3k0();var v4D;v4D=this.stx.panels[this.panelName];if(!v4D){return;}this.setPoint(0,this.d0,this.v0,v4D.chart);this.setPoint(1,this.d1,this.v1,v4D.chart);this.setPoint(+"2",this.d1,this.v2,v4D.chart);;};e2D.Drawing.channel.prototype.reconstruct=function(k4D,j4D){this.stx=k4D;this.color=j4D.col;this.fillColor=j4D.fc;this.panelName=j4D.pnl;this.pattern=j4D.ptrn;this.lineWidth=j4D.lw;this.d0=j4D.d0;this.d1=j4D.d1;this.tzo0=j4D.tzo0;this.tzo1=j4D.tzo1;this.v0=j4D.v0;Z3k0.I3k0();this.v1=j4D.v1;this.v2=j4D.v2;this.adjust();};e2D.Drawing.channel.prototype.serialize=function(){Z3k0.I3k0();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,v2:this.v2};};e2D.Drawing.pitchfork=function(){var T4j;T4j="pitch";T4j+="fo";T4j+="rk";this.name=T4j;this.dragToDraw=!{};this.p2=null;};e2D.inheritsFrom(e2D.Drawing.pitchfork,e2D.Drawing.channel);e2D.Drawing.pitchfork.prototype.configs=["color","lineWidth",V4j];e2D.Drawing.pitchfork.prototype.move=function(K4D,I4D,C4D){if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[I4D,C4D];}else {this.p2=[I4D,C4D];}this.render(K4D);};e2D.Drawing.pitchfork.prototype.intersected=function(X4D,t4D,E4D){var Y4D,B4D,e8j;if(!this.p0 || !this.p1 || !this.p2){return null;}Y4D={0:this.p0,1:this.p1,2:this.p2};for(var Z4D in Y4D){if(this.pointIntersection(Y4D[Z4D][+"0"],Y4D[Z4D][1],E4D)){Z3k0.S0R0(1);this.highlighted=Z3k0.y0R0(Z4D,(831.82,8670) == 588.86?6405 < (869.2,2970)?(! ![],"l"):"b":"p");return {action:"drag",point:(3820 === 914.63?("0x9ae" ^ 0,"0x754" - 0):(2760,911.23) !== 867.18?"p":("137.2" - 0,407.29) > ("2300" - 0,5012)?220.84:("4.27e+3" << 930245440,"0xc85" >> 1722027520)) + Z4D};}}Z3k0.I3k0();B4D=this.rays;for(var o4D=0;o4D < B4D.length;o4D++){e8j="s";e8j+="eg";e8j+="men";e8j+="t";if(this.lineIntersection(X4D,t4D,E4D,o4D?"ray":e8j,B4D[o4D]["0" - 0],B4D[o4D][1],! ![])){this.highlighted=! !{};return {action:"move",p0:e2D.clone(this.p0),p1:e2D.clone(this.p1),p2:e2D.clone(this.p2),tick:X4D,value:t4D};}}return null;};e2D.Drawing.pitchfork.prototype.render=function(M4D){var i4D,J4D,r4D,L4D,x4D,R4D,V4D,z4D,e4D,n4D,G4D,F4D,m4D,w4D,N4D,p8j,f4D,u4D,O8j,O4D,a4D,Q4D;i4D=this.stx.panels[this.panelName];if(!i4D){return;}J4D=this.stx;r4D=this.p2;if(!r4D){r4D=this.p1;}L4D=J4D.pixelFromTick(this.p0[0],i4D.chart);x4D=J4D.pixelFromTick(this.p1[0],i4D.chart);R4D=J4D.pixelFromTick(r4D[0],i4D.chart);Z3k0.s3k0();V4D=J4D.pixelFromValueAdjusted(i4D,this.p0[0],this.p0[1]);z4D=J4D.pixelFromValueAdjusted(i4D,this.p1[0],this.p1["1" ^ 0]);e4D=J4D.pixelFromValueAdjusted(i4D,r4D[0],r4D[1]);n4D=this.lineWidth;G4D=this.getLineColor();F4D={pattern:this.pattern,lineWidth:n4D};m4D=50;Z3k0.S0R0(20);w4D=Z3k0.y0R0(z4D,"2",e4D,V4D);Z3k0.m0R0(21);N4D=Z3k0.O0R0(x4D,2,R4D,L4D);if(N4D < 0){m4D*=-1;}Z3k0.m0R0(7);w4D*=Z3k0.y0R0(N4D,m4D);Z3k0.S0R0(22);this.rays=[[[x4D,z4D],[R4D,e4D]],[[L4D,V4D],[Z3k0.y0R0(2147483647,"2",x4D,R4D),Z3k0.O0R0(e4D,z4D,2,Z3k0.S0R0(3))]]];if(!(x4D == R4D && z4D == e4D)){Z3k0.m0R0(6);this.rays.push([[x4D,z4D],[Z3k0.O0R0(x4D,m4D),Z3k0.y0R0(z4D,w4D)]],[[R4D,e4D],[Z3k0.y0R0(R4D,m4D),Z3k0.O0R0(e4D,w4D)]]);}for(var h4D=0;h4D < this.rays.length;h4D++){p8j="s";p8j+="egment";f4D=this.rays[h4D];u4D=h4D?"ray":p8j;J4D.plotLine(f4D[0][+"0"],f4D["1" & 2147483647][0],f4D[0][1],f4D[1][1],G4D,u4D,M4D,i4D,F4D);}if(this.highlighted){O8j="p";O8j+="0";O4D=this.highlighted == O8j?! !{}:! !0;a4D=this.highlighted == "p1"?!"":!"1";Q4D=this.highlighted == "p2"?! ![]:!{};this.littleCircle(M4D,L4D,V4D,O4D);this.littleCircle(M4D,x4D,z4D,a4D);this.littleCircle(M4D,R4D,e4D,Q4D);}};e2D.Drawing.pitchfork.prototype.adjust=function(){Z3k0.I3k0();var d4D;d4D=this.stx.panels[this.panelName];if(!d4D){return;}this.setPoint(0,this.d0,this.v0,d4D.chart);this.setPoint(1,this.d1,this.v1,d4D.chart);this.setPoint(2,this.d2,this.v2,d4D.chart);};e2D.Drawing.pitchfork.prototype.reconstruct=function(b4D,S4D){this.stx=b4D;this.color=S4D.col;this.panelName=S4D.pnl;this.pattern=S4D.ptrn;this.lineWidth=S4D.lw;this.d0=S4D.d0;this.d1=S4D.d1;this.d2=S4D.d2;this.tzo0=S4D.tzo0;this.tzo1=S4D.tzo1;this.tzo2=S4D.tzo2;this.v0=S4D.v0;this.v1=S4D.v1;this.v2=S4D.v2;this.adjust();};e2D.Drawing.pitchfork.prototype.serialize=function(){Z3k0.s3k0();return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};};e2D.Drawing.gartley=function(){var E8j;E8j="ga";E8j+="rt";E8j+="ley";this.name=E8j;this.dragToDraw=! !0;Z3k0.s3k0();this.maxSegments=4;this.shape=null;this.points=[];};e2D.inheritsFrom(e2D.Drawing.gartley,e2D.Drawing.continuous);e2D.Drawing.gartley.prototype.check=function(H4D,U4D){if(!U4D){return ! !1;}if(H4D[0] >= U4D[0] || H4D[1] == U4D[+"1"]){return ! !"";}if(this.segment == 1){if(H4D["1" << 273615424] < U4D[+"1"]){this.shape=(291.67,3363) !== (6117,4831)?"M":571.3 >= 402.48?("B",0x28b):539.95;}else {this.shape="W";}}else if(this.segment == 2){if(this.shape == (3059 === 6730?(1520,8040) != 6397?("g",! !"1"):!"":"M") && H4D[1] < U4D[1]){return ! !0;}else if(this.shape == ((6430,959.72) != 204.03?"348.57" * 1 > (70,8510)?(6.62e+3,![]):"W":(9.76e+3,+"0xb73")) && H4D[1] > U4D["1" * 1]){return !{};}else if((U4D[1] - H4D[1]) / (this.points[0][1] - H4D[1]) < 0.618){return ! !0;}else if((U4D[1] - H4D[1]) / (this.points[+"0"][1] - H4D[1]) >= 0.786){return ! !0;}}else if(this.segment == 3){if(this.shape == ("1138" - 0 >= ("1674" & 2147483647)?(158.35,353.81):(159.68,6880) < (2116,"413.71" - 0)?8550 === (207.95,"7591" & 2147483647)?"v":4.96e+3:"M") && H4D[1] > U4D[1]){return !1;}else if(this.shape == "W" && H4D[1] < U4D[1]){return !1;}else if((U4D[1] - H4D["1" | 1]) / (this.points[1][+"1"] - H4D[1]) < 0.618){return !{};}else if((U4D[1] - H4D[1]) / (this.points[1][1] - H4D[1]) >= 0.786){return ![];}}else if(this.segment == 4){if(this.shape == (60.45 >= 3270?0xaa8:(1130,+"624.53") <= 596.65?(! !{},7.47e+3):(3711,4710) <= 708.08?(0x1e10,!{}):"M") && (H4D[1] < U4D[1] || U4D[1] < this.points[0][1])){return !"1";}else if(this.shape == ((5630,+"34.54") === (4959,6853)?(259,986.01) != 626?(4924,"2500" & 2147483647) <= 1217?(6.82e+3,4.18e+3):4.57e+3:"C":"W") && (H4D[1] > U4D[1] || U4D[1] > this.points[0][1])){return !{};}else if((this.points[1]["1" >> 1146914080] - U4D[1]) / (this.points[1][1] - this.points[2][1]) < 1.27){return !1;}else if((this.points[1][1] - U4D[1]) / (this.points[1][1] - this.points[2][1]) >= 1.618){return !1;}}Z3k0.I3k0();return !"";};e2D.Drawing.gartley.prototype.click=function(p4D,s4D,q4D){var W4D,N4j,c4j,s4j;W4D=this.stx.panels[this.panelName];if(!W4D){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,s4D,q4D,W4D.chart);this.pts=[];this.penDown=! !{};this.segment=1;return ! !0;}if(this.accidentalClick(s4D,q4D)){this.penDown=! ![];return !{};}if(this.check(this.p0,this.p1)){if(this.segment == 1){this.points.push(this.p0);}this.points.push(this.p1);this.setPoint(1,s4D,q4D,W4D.chart);this.segment++;if(this.segment > this.maxSegments){N4j=-1894160411;c4j=-524659292;s4j=2;for(var r4j=1;Z3k0.x1y(r4j.toString(),r4j.toString().length,15412) !== N4j;r4j++){this.setPoint(1,this.points[+"3"][5],this.points[2][8],W4D.chart);this.penDown=! !1;return ![];}if(Z3k0.x1y(s4j.toString(),s4j.toString().length,94860) !== c4j){this.setPoint(0,this.points["0" ^ 0][0],this.points[+"0"][1],W4D.chart);this.penDown=! !"";return ! !{};}}this.pts.push(this.d1,this.tzo1,this.v1);this.setPoint(0,s4D,q4D,W4D.chart);;}Z3k0.s3k0();return ! !"";};e2D.Drawing.gartley.prototype.render=function(T0D){var P0D,Z0D,v0D,Y0D,j0D,A0D,B0D,k0D,D0D,g0D,l0D,I0D,C0D,K0D,o0D;P0D=this.stx.panels[this.panelName];if(!P0D){return;}Z0D=this.stx.pixelFromTick(this.p0[0],P0D.chart);v0D=this.stx.pixelFromTick(this.p1[0],P0D.chart);Y0D=this.stx.pixelFromValueAdjusted(P0D,this.p0[+"0"],this.p0[1]);j0D=this.stx.pixelFromValueAdjusted(P0D,this.p1[0],this.p1[+"1"]);if(this.segment == 2){this.drawDropZone(T0D,0.618 * this.points[0][1] + 0.382 * this.p0["1" - 0],0.786 * this.points[+"0"][1] + +"0.214" * this.p0[1],this.p0[0]);}else if(this.segment == 3){this.drawDropZone(T0D,0.618 * this.points[1][1] + +"0.382" * this.p0[1],0.786 * this.points[1][1] + 0.214 * this.p0[1],this.p0[0]);}else if(this.segment == 4){A0D=("1.618" - 0) * this.points[2][1] - +"0.618" * this.points["1" & 2147483647][1];if(this.shape == ((940.2,3423) < (543.8,9044)?"846.06" - 0 >= (4790,5529)?1.19e+3:("4090" & 2147483647,805.67) > (53,185.08)?"M":("0xbff" >> 1304976640,"d"):(432.60,"T"))){A0D=Math.max(A0D,this.points[0][1]);}else {A0D=Math.min(A0D,this.points["0" << 1936817792][1]);}this.drawDropZone(T0D,A0D,"1.27" * 1 * this.points[2][1] - 0.27 * this.points[1][1],this.p0[0]);}B0D=this.lineWidth;k0D=this.getLineColor();D0D={pattern:this.pattern,lineWidth:B0D};if((this.penDown || this.highlighted) && this.pattern == "none"){D0D.pattern="dotted";}if(this.segment <= this.maxSegments){this.stx.plotLine(Z0D,v0D,Y0D,j0D,k0D,this.name,T0D,P0D,D0D);}g0D=this.fillColor;l0D=[];if(this.points.length){T0D.beginPath();for(var c0D=1;c0D < this.points.length && c0D <= 4;c0D++){I0D=this.stx.pixelFromTick(this.points[c0D - 1][0],P0D.chart);C0D=this.stx.pixelFromTick(this.points[c0D][0],P0D.chart);K0D=this.stx.pixelFromValueAdjusted(P0D,this.points[c0D - 1][0],this.points[c0D - 1][1]);o0D=this.stx.pixelFromValueAdjusted(P0D,this.points[c0D][0],this.points[c0D][+"1"]);if(c0D == ("1" & 2147483647)){l0D.push(I0D,K0D);}l0D.push(C0D,o0D);this.stx.plotLine(I0D,C0D,K0D,o0D,k0D,this.name,T0D,P0D,D0D);}if(this.points.length == 2 || this.points.length == 4){l0D.push(v0D,j0D);}if(this.points[2]){l0D.push(this.stx.pixelFromTick(this.points[2][0],P0D.chart),this.stx.pixelFromValueAdjusted(P0D,this.points[2][0],this.points[2][+"1"]));}if(g0D && g0D != "auto" && !e2D.isTransparent(g0D)){for(var y0D="0" | 0;y0D < l0D.length;y0D+=2){if(y0D === 0){T0D.moveTo(l0D[+"0"],l0D[1]);}T0D.lineTo(l0D[y0D],l0D[y0D + 1]);}T0D.fillStyle=g0D;Z3k0.S0R0(6);T0D.globalAlpha=Z3k0.y0R0("0.2",0);T0D.closePath();T0D.fill();T0D.globalAlpha=1;}};};e2D.Drawing.gartley.prototype.lineIntersection=function(i0D,J0D,x0D,R0D){Z3k0.I3k0();var X0D,E0D,X8j;X0D=this.points;E0D=this.stx.panels[this.panelName];if(X0D.length != this.maxSegments + 1 || !E0D){return ! !0;}for(var t0D=0;t0D < X0D.length - 1;t0D++){X8j="segm";X8j+="ent";if(e2D.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,i0D,J0D,x0D,X8j,X0D[t0D],X0D[t0D + 1])){return ! !1;}}return ![];};e2D.Drawing.gartley.prototype.boxIntersection=function(h0D,f0D,e0D){var r0D,m0D;Z3k0.I3k0();if(!this.p0 || !this.p1){return ![];}if(e0D.x0 > Math.max(this.p0[+"0"],this.p1["0" << 1287513536]) || e0D.x1 < Math.min(this.p0[0],this.p1[0])){return !{};}r0D=Math.min(this.p0[1],this.p1[1]);m0D=Math.max(this.p0[1],this.p1[1]);for(var z0D=0;z0D < this.points.length;z0D++){r0D=Math.min(r0D,this.points[z0D][1]);m0D=Math.max(m0D,this.points[z0D][1]);}if(e0D.y1 > m0D || e0D.y0 < r0D){return !"1";}return ! !{};};e2D.Drawing.gartley.prototype.reposition=function(F0D,L0D,w0D,N0D){var J8j,V0D,n0D,G0D,v2j,y2j,d2j;J8j="m";J8j+="ov";J8j+="e";if(!L0D){return;}V0D=this.stx.panels[this.panelName];n0D=L0D.tick - w0D;L0D.tick=w0D;G0D=L0D.value - N0D;L0D.value=N0D;if(L0D.action == J8j){this.pts=[];for(var M0D=0;M0D < this.points.length;M0D++){this.points[M0D][0]-=n0D;this.points[M0D][+"1"]-=G0D;this.setPoint(1,this.points[M0D][0],this.points[M0D][1],V0D.chart);if(M0D && M0D < this.points.length - 1){this.pts.push(this.d1,this.tzo1,this.v1);}this.points[M0D]=this.p1;}v2j=1786731806;Z3k0.S0R0(23);y2j=-Z3k0.O0R0(2147483647,"1372514049");d2j=2;for(var G2j=1;Z3k0.x1y(G2j.toString(),G2j.toString().length,86033) !== v2j;G2j++){this.setPoint(0,this.points[0][0],this.points[0][1],V0D.chart);this.render(F0D);d2j+=2;}if(Z3k0.x1y(d2j.toString(),d2j.toString().length,19953) !== y2j){this.setPoint(2,this.points[3][6],this.points[2][2],V0D.chart);this.render(F0D);};}};e2D.Drawing.gartley.prototype.configs=["color","fillColor",o8j,"pattern"];e2D.Drawing.gartley.prototype.adjust=function(){var u0D;u0D=this.stx.panels[this.panelName];if(!u0D){return;}this.reconstructPoints();this.setPoint(0,this.d0,this.v0,u0D.chart);this.points.unshift(this.p0);this.setPoint(1,this.d1,this.v1,u0D.chart);this.points.push(this.p1);};e2D.Drawing.gartley.prototype.reconstructPoints=function(){var Q0D,a0D;Q0D=this.stx.panels[this.panelName];if(!Q0D){return;}this.points=[];for(var O0D=+"0";O0D < this.pts.length;O0D+=3){a0D=e2D.strToDateTime(this.pts[O0D]);a0D.setMinutes(a0D.getMinutes() + Number(this.pts[O0D + 1]) - a0D.getTimezoneOffset());this.points.push([this.stx.tickFromDate(e2D.yyyymmddhhmmssmmm(a0D),Q0D.chart),this.pts[O0D + 2]]);}};e2D.Drawing.gartley.prototype.reconstruct=function(S0D,d0D){this.stx=S0D;this.color=d0D.col;this.fillColor=d0D.fc;this.panelName=d0D.pnl;this.pattern=d0D.ptrn;this.lineWidth=d0D.lw;this.d0=d0D.d0;this.d1=d0D.d1;this.tzo0=d0D.tzo0;Z3k0.I3k0();this.tzo1=d0D.tzo1;this.v0=d0D.v0;this.v1=d0D.v1;this.pts=d0D.pts.split(",");this.adjust();};e2D.Drawing.gartley.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,pts:this.pts.join(1770 < (210.35,750.59)?(+"5434",6118) <= 355.74?! !"1":("5600" >> 1600423424,6900) <= 7310?5.73e+3:(1.76e+3,148.59):",")};};e2D.Drawing.freeform=function(){Z3k0.s3k0();this.name="freeform";this.splineTension=0.3;this.dragToDraw=!0;};e2D.inheritsFrom(e2D.Drawing.freeform,e2D.Drawing.segment);e2D.Drawing.freeform.prototype.measure=function(){};e2D.Drawing.freeform.prototype.intersected=function(U0D,H0D,b0D){if(b0D.x0 > this.hiX || b0D.x1 < this.lowX){return null;}if(b0D.y1 > this.hiY || b0D.y0 < this.lowY){return null;}this.highlighted=! !{};return {action:"move",p0:e2D.clone(this.p0),tick:U0D,value:H0D};};e2D.Drawing.freeform.prototype.reposition=function(c6D,W0D,g6D,j6D){var F8j,s0D,q0D,p0D;F8j="mo";F8j+="ve";if(!W0D){return;}s0D=this.stx.panels[this.panelName];Z3k0.s3k0();q0D=W0D.tick - g6D;p0D=W0D.value - j6D;if(W0D.action == F8j){this.setPoint(0,W0D.p0[0] - q0D,W0D.p0[1] - p0D,s0D.chart);this.adjust();this.render(c6D);}};e2D.Drawing.freeform.prototype.click=function(B6D,I6D,Z6D){var k6D,K6D;k6D=this.stx.panels[this.panelName];if(!k6D){return;}Z3k0.I3k0();if(this.penDown === !"1"){this.copyConfig();this.startX=Math.round(this.stx.resolveX(this.stx.pixelFromTick(I6D,k6D.chart)));this.startY=Math.round(this.stx.resolveY(this.stx.pixelFromValueAdjusted(k6D,I6D,Z6D)));K6D=this.stx.dateFromTick(I6D,k6D.chart,! ![]);this.d0=e2D.yyyymmddhhmmssmmm(K6D);this.tzo0=K6D.getTimezoneOffset();this.v0=Z6D;this.p0=[e2D.ChartEngine.crosshairX - this.startX,e2D.ChartEngine.crosshairY - this.startY];this.nodes=[this.p0[0],this.p0[1]];this.pNodes=[this.p0];this.candleWidth=this.stx.layout.candleWidth;this.multiplier=k6D.yAxis.multiplier;this.interval=this.stx.layout.interval;this.periodicity=this.stx.layout.periodicity;this.tempSplineTension=this.splineTension;Z3k0.m0R0(2);this.splineTension=-Z3k0.O0R0(564391872,"1");document.body.style.cursor="pointer";this.penDown=! ![];return ![];}this.penDown=! !0;this.splineTension=this.tempSplineTension;document.body.style.cursor="auto";return ! !1;};e2D.Drawing.freeform.prototype.move=function(e6D,r6D,f6D){var X6D,i6D;if(!this.penDown){return;}Z3k0.s3k0();X6D=this.stx.panels[this.panelName];i6D=this.stx.dateFromTick(r6D,X6D.chart,!"");this.d1=e2D.yyyymmddhhmmssmmm(i6D);this.tzo1=i6D.getTimezoneOffset();this.v1=f6D;this.p1=[e2D.ChartEngine.crosshairX - this.startX,X6D.yAxis.flipped?this.startY - e2D.ChartEngine.crosshairY:e2D.ChartEngine.crosshairY - this.startY];if(this.pNodes.length > 2){if(this.p1[0] == this.pNodes[this.pNodes.length - 2][0] && this.p1[0] == this.pNodes[this.pNodes.length - 1][0]){this.pNodes.length--;Z3k0.S0R0(14);this.nodes.length-=Z3k0.y0R0("2",0);}else if(this.p1[1] == this.pNodes[this.pNodes.length - ("2" ^ 0)][1] && this.p1[1] == this.pNodes[this.pNodes.length - 1][1]){this.pNodes.length--;this.nodes.length-=2;}}this.nodes.push(this.p1[0],this.p1["1" & 2147483647]);this.pNodes.push(this.p1);this.render(e6D);return ![];};e2D.Drawing.freeform.prototype.intervalRatio=function(Q6D,N6D,T5D,l5D,O6D,a6D){Z3k0.s3k0();var u6D,z8j,D8j,k8j,A0j,x0j,u0j;u6D=0;if(Q6D == N6D){u6D=1;}else if(!isNaN(Q6D) && !isNaN(N6D)){Z3k0.m0R0(7);u6D=Z3k0.O0R0(N6D,Q6D);}else if(isNaN(Q6D)){z8j="d";z8j+="a";z8j+="y";D8j="m";D8j+="onth";if(Q6D == D8j){k8j="wee";k8j+="k";if(N6D == k8j){u6D=q6D(O6D,a6D);}else if(N6D == "day"){u6D=H6D(O6D,a6D);}else if(!isNaN(N6D)){u6D=H6D(O6D,a6D) * d6D(O6D,a6D) / N6D;}}else if(Q6D == "week"){if(N6D == "month"){u6D=1 / q6D(O6D,a6D);}if(N6D == "day"){u6D=S6D(O6D,a6D);}else if(!isNaN(N6D)){u6D=S6D(O6D,a6D) * d6D(O6D,a6D) / N6D;}}else if(Q6D == z8j){A0j=982301081;x0j=-250488923;u0j=2;for(var Z0j=1;Z3k0.u1y(Z0j.toString(),Z0j.toString().length,79517) !== A0j;Z0j++){if(N6D == "week"){u6D=1 / S6D(O6D,a6D);}else if(N6D == "month"){u6D=1 / H6D(O6D,a6D);}else if(!isNaN(N6D)){u6D=d6D(O6D,a6D) / N6D;}u0j+=2;}if(Z3k0.x1y(u0j.toString(),u0j.toString().length,70698) !== x0j){if(N6D !== "week"){u6D=2 + S6D(O6D,a6D);}else if(N6D === "month"){u6D=2 - H6D(O6D,a6D);}else if(~isNaN(N6D)){u6D=d6D(O6D,a6D) + N6D;}}}}else if(!isNaN(Q6D)){if(N6D == "month"){u6D=Q6D / (H6D(O6D,a6D) * d6D(O6D,a6D));}else if(N6D == "week"){u6D=Q6D / (S6D(O6D,a6D) * d6D(O6D,a6D));}else if(N6D == "day"){u6D=Q6D / d6D(O6D,a6D);}}function q6D(g5D,D5D){return 5;}Z3k0.S0R0(7);u6D*=Z3k0.O0R0(l5D,T5D);function H6D(I5D,C5D){return 30;}function d6D(Z5D,K5D){Z3k0.I3k0();if(e2D.Market.Symbology.isForexSymbol(K5D)){return 1440;}return 390;}function S6D(j5D,k5D){Z3k0.s3k0();return 5;}return u6D;};e2D.Drawing.freeform.prototype.render=function(h5D){var Y5D,E5D,f5D,M5D,L5D,J5D,B5D,V5D,z5D,e5D,w5D,t5D;Y5D=this.stx.panels[this.panelName];if(!Y5D){return;}Z3k0.I3k0();E5D=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,Y5D.chart.symbol);if(E5D === 0){return;}f5D=this.stx.layout.candleWidth / this.candleWidth;M5D=Y5D.yAxis.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,Y5D.chart);L5D=this.stx.pixelFromTick(this.p0[0],Y5D.chart);J5D=this.stx.pixelFromValueAdjusted(Y5D,this.p0[0],this.p0[1]);B5D=[];V5D=this.lineWidth;z5D=this.getLineColor();e5D={pattern:this.pattern,lineWidth:V5D};for(var X5D=0;X5D < this.pNodes.length;X5D++){w5D=E5D * f5D * this.pNodes[X5D][0] + L5D;t5D=M5D * this.pNodes[X5D][1];if(Y5D.yAxis.flipped){Z3k0.m0R0(6);t5D=Z3k0.O0R0(J5D,t5D);}else {t5D+=J5D;}B5D.push(w5D,t5D);}if(!B5D.length){return;}if(this.splineTension < 0){this.stx.connectTheDots(B5D,z5D,this.name,h5D,Y5D,e5D);}else {this.stx.plotSpline(B5D,this.splineTension,z5D,this.name,h5D,!0,e5D);}};e2D.Drawing.freeform.prototype.adjust=function(){var n5D,W5D,G5D,S5D,U5D,Q5D,H5D,d5D;n5D=this.stx.panels[this.panelName];if(!n5D){return;}W5D=[this.nodes[0],this.nodes[1]];this.pNodes=[W5D];this.lowX=this.nodes[0];this.hiX=this.nodes[+"0"];this.lowY=this.nodes[1];this.hiY=this.nodes[1];for(var F5D=2;F5D < this.nodes.length;F5D+=2){Z3k0.S0R0(1);G5D=[this.nodes[F5D],this.nodes[Z3k0.O0R0(1,F5D)]];this.pNodes.push(G5D);this.lowX=Math.min(this.lowX,G5D[+"0"]);this.hiX=Math.max(this.hiX,G5D[0]);this.lowY=Math.max(this.lowY,G5D[1]);this.hiY=Math.min(this.hiY,G5D[1]);}S5D=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,n5D.chart.symbol);if(S5D === 0){return;}U5D=this.stx.layout.candleWidth / this.candleWidth;Q5D=n5D.yAxis.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,n5D.chart);H5D=this.stx.pixelFromTick(this.p0[+"0"],n5D.chart);d5D=this.stx.pixelFromValueAdjusted(n5D,this.p0[0],this.p0[1]);this.lowX=this.stx.tickFromPixel(Math.floor(S5D * U5D * this.lowX) + H5D,n5D.chart);this.hiX=this.stx.tickFromPixel(Math.ceil(S5D * U5D * this.hiX) + H5D,n5D.chart);if(n5D.yAxis.flipped){this.lowY=this.stx.valueFromPixel(d5D - Math.floor(Q5D * this.lowY),n5D);this.hiY=this.stx.valueFromPixel(d5D - Math.ceil(Q5D * this.hiY),n5D);}else {this.lowY=this.stx.valueFromPixel(Math.floor(Q5D * this.lowY) + d5D,n5D);this.hiY=this.stx.valueFromPixel(Math.ceil(Q5D * this.hiY) + d5D,n5D);}};e2D.Drawing.freeform.prototype.serialize=function(){Z3k0.s3k0();return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,cw:Number(this.candleWidth.toFixed(4)),mlt:Number(this.multiplier.toFixed("4" * 1)),d0:this.d0,tzo0:this.tzo0,v0:this.v0,inter:this.interval,pd:this.periodicity,nodes:this.nodes};};e2D.Drawing.freeform.prototype.reconstruct=function(q5D,s5D){this.stx=q5D;this.color=s5D.col;this.panelName=s5D.pnl;this.pattern=s5D.ptrn;this.lineWidth=s5D.lw;this.candleWidth=s5D.cw;this.multiplier=s5D.mlt;this.d0=s5D.d0;this.tzo0=s5D.tzo0;this.v0=s5D.v0;this.interval=s5D.inter;this.periodicity=s5D.pd;this.nodes=s5D.nodes;this.adjust();};e2D.Drawing.callout=function(){var n0j,G0j,m0j;this.name="callout";this.arr=[];this.w=0;this.h=0;this.padding=4;this.text="";this.ta=null;this.fontSize=0;this.font={};this.stemEntry="";n0j=- +"52624498";G0j=-1210131893;m0j=2;for(var g0j=1;Z3k0.u1y(g0j.toString(),g0j.toString().length,41327) !== n0j;g0j++){Z3k0.S0R0(0);this.defaultWidth=Z3k0.y0R0("57",1);Z3k0.m0R0(2);m0j+=Z3k0.y0R0(911465248,"2");}if(Z3k0.u1y(m0j.toString(),m0j.toString().length,95256) !== G0j){this.defaultWidth=50;}Z3k0.m0R0(14);this.defaultHeight=Z3k0.O0R0("10",0);;};e2D.inheritsFrom(e2D.Drawing.callout,e2D.Drawing.annotation);e2D.Drawing.callout.prototype.configs=["color","fillColor","lineWidth","pattern","font"];e2D.Drawing.callout.prototype.copyConfig=function(p5D){Z3k0.s3k0();e2D.Drawing.copyConfig(this,p5D);this.borderColor=this.color;};e2D.Drawing.callout.prototype.move=function(P9D,T9D,c9D){if(!this.penDown){return;}this.copyConfig();this.p0=[T9D,c9D];Z3k0.s3k0();this.render(P9D);};e2D.Drawing.callout.prototype.onChange=function(g9D){var y9D,A9D,l9D;y9D=this.stx.panels[this.panelName];if(!y9D){return;}A9D=g9D.target;this.w=A9D.clientWidth;this.h=A9D.clientHeight;l9D=this.context || this.stx.chart.tempCanvas.context;e2D.clearCanvas(l9D.canvas,this.stx);this.render(l9D);this.edit(l9D);};e2D.Drawing.callout.prototype.render=function(D9D){var Y8j,B8j,f8j,B9D,R9D,x9D,j9D,v9D,I9D,k9D,X9D,t9D,Y9D,K9D,E9D,o9D,i9D,C9D,Z9D,H8j,Q8j,K8j,Z9j,U9j,i9j,b8j,z9D;Y8j="a";Y8j+="lphabeti";Y8j+="c";B8j="stx";B8j+="_highlight";B8j+="_v";B8j+="ector";f8j="aut";f8j+="o";this.context=D9D;B9D=this.stx.panels[this.panelName];if(!B9D){return;}R9D=this.stx.pixelFromTick(this.p0[0],B9D.chart);x9D=this.stx.pixelFromValueAdjusted(B9D,this.p0[+"0"],this.p0[1]);if(isNaN(x9D)){return;}D9D.font=this.fontString;D9D.textBaseline="top";j9D=R9D;v9D=x9D;I9D=this.w / 2;k9D=this.h / 2;if(this.penDown){I9D=this.defaultWidth;k9D=this.defaultHeight;if(!k9D){k9D=this.fontSize;}}X9D=this.lineWidth;if(!X9D){X9D=1.1;}t9D=this.color;if(t9D == f8j || e2D.isTransparent(t9D)){t9D=this.stx.defaultColor;}Y9D=this.borderColor;if(Y9D == "auto" || e2D.isTransparent(Y9D)){Y9D=this.stx.defaultColor;}if(this.highlighted){Y9D=this.stx.getCanvasColor(B8j);}C9D=Math.min(Math.min(I9D,k9D) / 2,8);if(this.stem){if(this.stem.t){K9D=this.stx.pixelFromTick(this.stem.t);o9D=this.stx.pixelFromValueAdjusted(B9D,this.stem.t,this.stem.v);}else if(this.stem.x){K9D=j9D;o9D=v9D;j9D+=this.stem.x;v9D+=this.stem.y;}Z9D="";if(K9D >= j9D + I9D){Z3k0.m0R0(1);E9D=Z3k0.O0R0(I9D,j9D);Z9D=(9300,+"5534") < (5833,8890)?(1609,"782.74" * 1) < (+"642",3440)?("1541" ^ 0,281.3) != 105.11?"r":(2.69,"105.55" - 0):187.01:![];}else if(K9D > j9D - I9D && K9D < j9D + I9D){E9D=j9D;Z9D=(9200,6166) >= "4241" >> 1927593536?"c":(2.18e+3,! !"1");}else if(K9D <= j9D - I9D){Z3k0.m0R0(6);E9D=Z3k0.y0R0(j9D,I9D);Z9D=(611,731.82) !== 5240?"l":2085 > "8960" >> 1168166432?(+"0xb63","7.07e+3" - 0):(106.03,+"30") > "932.22" * 1?!"":(+"722.35",! !"1");}if(o9D >= v9D + k9D){Z3k0.m0R0(1);i9D=Z3k0.O0R0(k9D,v9D);Z9D+=(8750,6074) <= (+"441.24",7388)?(150,9712) < 481.35?(0x2370,0x1787):"b":(0x1e78,!"1");}else if(o9D > v9D - k9D && o9D < v9D + k9D){i9D=v9D;Z9D+=(2688,427.61) !== (3720,894.36)?"m":(556.49,7040) !== 561.12?(3331,"752.84" - 0) != (6320,8253)?(366.97,! !{}):"o":(703.55,2.20e+3);}else if(o9D <= v9D - k9D){Z3k0.S0R0(6);i9D=Z3k0.y0R0(v9D,k9D);Z9D+=(3070,757.1) == (4300,961.61)?(6.32e+2,1.98e+3):"t";}this.stemEntry=Z9D;if(Z9D != "cm"){K9D=Math.round(K9D);E9D=Math.round(E9D);o9D=Math.round(o9D);i9D=Math.round(i9D);}}if(this.highlighted){this.stx.canvasColor("stx_annotation_highlight_bg",D9D);}else {if(this.fillColor){D9D.fillStyle=this.fillColor;D9D.globalAlpha=0.4;}else if(this.stem){D9D.fillStyle=this.stx.containerColor;}}D9D.strokeStyle=Y9D;if(D9D.setLineDash){D9D.setLineDash(e2D.borderPatternToArray(X9D,this.pattern));D9D.lineDashOffset=0;;}if(Y9D){H8j="l";H8j+="b";Q8j="c";Q8j+="b";K8j="r";K8j+="b";D9D.beginPath();D9D.lineWidth=X9D;Z3k0.S0R0(4);D9D.moveTo(Z3k0.O0R0(j9D,I9D,C9D),Z3k0.O0R0(v9D,k9D,Z3k0.S0R0(6)));if(this.stemEntry != "rt"){Z3k0.m0R0(1);D9D.quadraticCurveTo(Z3k0.y0R0(I9D,j9D),Z3k0.O0R0(v9D,k9D,Z3k0.S0R0(6)),Z3k0.y0R0(I9D,j9D,Z3k0.S0R0(1)),Z3k0.y0R0(C9D,k9D,v9D,Z3k0.m0R0(8)));;}else {D9D.lineTo(K9D,o9D);Z3k0.m0R0(1);D9D.lineTo(Z3k0.O0R0(I9D,j9D),Z3k0.O0R0(C9D,k9D,v9D,Z3k0.S0R0(8)));}Z3k0.S0R0(1);D9D.lineTo(Z3k0.y0R0(I9D,j9D),Z3k0.O0R0(2,v9D,C9D,Z3k0.S0R0(24)));if(this.stemEntry == "rm"){D9D.lineTo(K9D,o9D);}Z3k0.S0R0(1);D9D.lineTo(Z3k0.y0R0(I9D,j9D),Z3k0.O0R0(v9D,2,C9D,Z3k0.m0R0(25)));Z3k0.S0R0(1);D9D.lineTo(Z3k0.y0R0(I9D,j9D),Z3k0.y0R0(v9D,k9D,C9D,Z3k0.m0R0(4)));if(this.stemEntry != K8j){Z3k0.m0R0(1);D9D.quadraticCurveTo(Z3k0.y0R0(I9D,j9D),Z3k0.y0R0(k9D,v9D,Z3k0.m0R0(1)),Z3k0.y0R0(j9D,I9D,C9D,Z3k0.S0R0(4)),Z3k0.O0R0(k9D,v9D,Z3k0.S0R0(1)));;}else {D9D.lineTo(K9D,o9D);Z3k0.m0R0(4);D9D.lineTo(Z3k0.O0R0(j9D,I9D,C9D),Z3k0.y0R0(k9D,v9D,Z3k0.S0R0(1)));}Z3k0.m0R0(25);D9D.lineTo(Z3k0.O0R0(j9D,2,C9D),Z3k0.y0R0(k9D,v9D,Z3k0.S0R0(1)));if(this.stemEntry == Q8j){D9D.lineTo(K9D,o9D);}Z3k0.m0R0(24);D9D.lineTo(Z3k0.O0R0(2,j9D,C9D),Z3k0.O0R0(k9D,v9D,Z3k0.m0R0(1)));Z3k0.S0R0(8);D9D.lineTo(Z3k0.y0R0(C9D,I9D,j9D),Z3k0.y0R0(k9D,v9D,Z3k0.m0R0(1)));if(this.stemEntry != H8j){Z9j=-859925635;U9j=-411232805;i9j=2;for(var P9j=1;Z3k0.u1y(P9j.toString(),P9j.toString().length,17573) !== Z9j;P9j++){Z3k0.m0R0(1);D9D.quadraticCurveTo(Z3k0.O0R0(I9D,j9D),Z3k0.y0R0(v9D,k9D,Z3k0.S0R0(0)),Z3k0.O0R0(I9D,j9D,Z3k0.S0R0(7)),Z3k0.O0R0(C9D,v9D,k9D,Z3k0.S0R0(26)));;i9j+=2;}if(Z3k0.x1y(i9j.toString(),i9j.toString().length,5183) !== U9j){Z3k0.S0R0(6);D9D.quadraticCurveTo(Z3k0.O0R0(j9D,I9D),Z3k0.y0R0(v9D,k9D,Z3k0.m0R0(6)),Z3k0.O0R0(j9D,I9D,Z3k0.m0R0(27)),Z3k0.O0R0(k9D,C9D,v9D,Z3k0.m0R0(28)));;}Z3k0.S0R0(6);D9D.quadraticCurveTo(Z3k0.y0R0(j9D,I9D),Z3k0.O0R0(k9D,v9D,Z3k0.S0R0(1)),Z3k0.y0R0(j9D,I9D,Z3k0.S0R0(6)),Z3k0.O0R0(v9D,k9D,C9D,Z3k0.m0R0(4)));;}else {D9D.lineTo(K9D,o9D);Z3k0.S0R0(6);D9D.lineTo(Z3k0.y0R0(j9D,I9D),Z3k0.y0R0(v9D,k9D,C9D,Z3k0.S0R0(4)));}Z3k0.S0R0(6);D9D.lineTo(Z3k0.y0R0(j9D,I9D),Z3k0.O0R0(v9D,2,C9D,Z3k0.S0R0(25)));if(this.stemEntry == "lm"){D9D.lineTo(K9D,o9D);}Z3k0.S0R0(6);D9D.lineTo(Z3k0.O0R0(j9D,I9D),Z3k0.O0R0(2,v9D,C9D,Z3k0.m0R0(24)));Z3k0.m0R0(6);D9D.lineTo(Z3k0.y0R0(j9D,I9D),Z3k0.y0R0(C9D,k9D,v9D,Z3k0.m0R0(8)));if(this.stemEntry != "lt"){Z3k0.S0R0(6);D9D.quadraticCurveTo(Z3k0.O0R0(j9D,I9D),Z3k0.O0R0(v9D,k9D,Z3k0.m0R0(6)),Z3k0.O0R0(C9D,I9D,j9D,Z3k0.S0R0(8)),Z3k0.y0R0(v9D,k9D,Z3k0.S0R0(6)));;}else {D9D.lineTo(K9D,o9D);Z3k0.S0R0(8);D9D.lineTo(Z3k0.O0R0(C9D,I9D,j9D),Z3k0.O0R0(v9D,k9D,Z3k0.m0R0(6)));}Z3k0.S0R0(24);D9D.lineTo(Z3k0.O0R0(2,j9D,C9D),Z3k0.O0R0(v9D,k9D,Z3k0.S0R0(6)));if(this.stemEntry == "ct"){D9D.lineTo(K9D,o9D);}Z3k0.S0R0(25);D9D.lineTo(Z3k0.y0R0(j9D,2,C9D),Z3k0.O0R0(v9D,k9D,Z3k0.m0R0(6)));Z3k0.m0R0(4);D9D.lineTo(Z3k0.y0R0(j9D,I9D,C9D),Z3k0.O0R0(v9D,k9D,Z3k0.m0R0(6)));D9D.fill();D9D.globalAlpha=1;if(this.pattern != "none"){D9D.stroke();}}if(this.highlighted){b8j="s";b8j+="tx";b8j+="_annotation_highlight";this.stx.canvasColor(b8j,D9D);}else {D9D.fillStyle=t9D;}v9D+=this.padding;if(!this.ta){for(var J9D=0;J9D < this.arr.length;J9D++){D9D.fillText(this.arr[J9D],j9D - I9D + this.padding,v9D - k9D);v9D+=this.fontSize;}}D9D.textBaseline=Y8j;if(this.highlighted && !this.noHandles){z9D=this.highlighted == "p0"?! ![]:!1;this.littleCircle(D9D,K9D,o9D,z9D);};};e2D.Drawing.callout.prototype.click=function(r9D,m9D,h9D){var e9D;if(this.stx.overXAxis || this.stx.overYAxis){return;}e9D=this.stx.panels[this.panelName];this.copyConfig();this.setPoint(0,m9D,h9D,e9D.chart);if(!this.penDown){this.stem={d:this.d0,v:this.v0};this.penDown=! !1;this.adjust();return ![];}this.adjust();this.edit(r9D);this.penDown=!"1";return !1;};e2D.Drawing.callout.prototype.reposition=function(n9D,f9D,w9D,N9D){var M9D,L9D,V9D,a8j;if(!f9D){return;}M9D=this.stx.panels[this.panelName];L9D=f9D.tick - w9D;V9D=f9D.value - N9D;if(f9D.stem){a8j="m";a8j+="o";a8j+="v";a8j+="e";if(f9D.action == "drag"){this.stem={d:this.stx.dateFromTick(w9D,M9D.chart,!""),v:N9D};}else if(f9D.action == a8j){this.setPoint(0,f9D.p0[0] - L9D,f9D.p0[+"1"] - V9D,M9D.chart);this.stem={d:this.stx.dateFromTick(this.stx.tickFromDate(f9D.stem.d,M9D.chart) - L9D),v:f9D.stem.v - V9D};}this.adjust();}else {this.setPoint(0,f9D.p0[0] - L9D,f9D.p0[1] - V9D,M9D.chart);}this.render(n9D);};e2D.Drawing.callout.prototype.lineIntersection=function(p9D,P3U,s9D,q9D){var d9D,G9D,O9D,S9D,b9D,U9D,F9D,a9D,Q9D,H9D,W9D,u9D;d9D=this.stx.panels[this.panelName];G9D=this.stem;O9D=this.p0;S9D=this.stx;if(!O9D || !G9D || !d9D){return !{};}b9D=G9D.t || this.stx.tickFromDate(G9D.d,d9D.chart);U9D={x0:O9D[0],x1:b9D,y0:O9D[1],y1:G9D.v};F9D=e2D.convertBoxToPixels(S9D,this.panelName,U9D);a9D=F9D.x0;Q9D=F9D.y0;H9D=F9D.x1;W9D=F9D.y1;if(typeof this.stemEntry == "string"){if(this.stemEntry.indexOf("l") > -("1" ^ 0)){a9D-=this.w / 2;}else if(this.stemEntry.indexOf(7070 !== +"607.68"?"r":(+"0xea6",0x1bed)) > -1){a9D+=this.w / +"2";}if(this.stemEntry.indexOf(7851 <= (715.95,181.22)?(6.96e+3,444.56):"t") > -1){Q9D-=this.h / +"2";}else if(this.stemEntry.indexOf((377.08,9895) > (7653,6430)?"b":(5528,3770) == (697.68,5608)?"o":("s",2.36e+3)) > -1){Q9D+=this.h / +"2";}}Z3k0.I3k0();u9D=e2D.convertBoxToPixels(S9D,this.panelName,s9D);return e2D.boxIntersects(u9D.x0,u9D.y0,u9D.x1,u9D.y1,a9D,Q9D,H9D,W9D,q9D);};e2D.Drawing.callout.prototype.intersected=function(c3U,A3U,T3U){var I8j,l3U,S8j,s0j,q0j,r0j,y3U,g3U,D3U,v3U,j3U,k3U,I3U;I8j="segme";I8j+="nt";l3U=this.stx.panels[this.panelName];if(!this.p0){return null;}if(this.pointIntersection(this.stem.t,this.stem.v,T3U)){S8j="p";S8j+="0";s0j=-1145024837;q0j=-801851006;r0j=2;for(var w0j=1;Z3k0.x1y(w0j.toString(),w0j.toString().length,59110) !== s0j;w0j++){this.highlighted="";Z3k0.S0R0(14);r0j+=Z3k0.y0R0("2",0);}if(Z3k0.u1y(r0j.toString(),r0j.toString().length,10950) !== q0j){this.highlighted="";}this.highlighted=S8j;return {action:"drag",stem:!""};}y3U=this.stx.pixelFromTick(this.p0[+"0"],l3U.chart) - this.w / 2;g3U=this.stx.pixelFromValueAdjusted(l3U,this.p0["0" & 2147483647],this.p0[1]) - this.h / 2;D3U=y3U + this.w;v3U=g3U + this.h;if(this.stem && this.stem.x){y3U+=this.stem.x;D3U+=this.stem.x;g3U+=this.stem.y;v3U+=this.stem.y;}Z3k0.I3k0();j3U=this.stx.pixelFromTick(c3U,l3U.chart);k3U=this.stx.pixelFromValueAdjusted(l3U,c3U,A3U);if(j3U + T3U.r >= y3U && j3U - T3U.r <= D3U && k3U + T3U.r >= g3U && k3U - T3U.r <= v3U){this.highlighted=! ![];return {p0:e2D.clone(this.p0),tick:c3U,value:A3U};}I3U=this.lineIntersection(c3U,A3U,T3U,I8j);if(I3U){this.highlighted=!0;return {action:"move",stem:e2D.clone(this.stem),p0:e2D.clone(this.p0),tick:c3U,value:A3U};}return null;};e2D.Drawing.fibonacci=function(){this.name="fibonacci";Z3k0.s3k0();this.configurator="fibonacci";};e2D.inheritsFrom(e2D.Drawing.fibonacci,e2D.Drawing.BaseTwoPoint);e2D.Drawing.fibonacci.mapping={trend:"t",color:("513.28" * 1,914.52) <= 849.34?455:"c",parameters:3581 >= (265.46,5347)?(9580,9390) != (+"2968",1920)?499.80:311.48:"p",pattern:"pt",opacity:(+"745.67",442.63) <= "280.35" * 1?!{}:840.21 == (9129,8520)?! ![]:(+"5887",6150) === (411.73,8880)?+"7.23e+3":"o",lineWidth:"lw",level:"l",extendLeft:(4163,84.77) <= 1400?"e":!0,printLevels:"pl",printValues:"pv",timezone:"tz",display:("9080" * 1,8450) !== 747?100.25 == 1176?1734 !== (74.09,818)?(466.95,694.72):"A":"d":(! !"1","e")};Z3k0.S0R0(0);e2D.Drawing.fibonacci.prototype.recommendedLevels=[-Z3k0.y0R0("0.618",1),-0.382,0,0.382,0.5,0.618,+"1",Z3k0.y0R0("1.382",0,Z3k0.m0R0(6)),1.618];e2D.Drawing.fibonacci.prototype.configs=["color","fillColor","lineWidth","pattern","parameters"];e2D.Drawing.fibonacci.prototype.initializeSettings=function(Y3U){var o3U,K3U;Z3k0.I3k0();o3U=this.recommendedLevels;if(o3U && !Y3U.currentVectorParameters.fibonacci.fibsAlreadySet){K3U=Y3U.currentVectorParameters.fibonacci.fibs;for(var C3U=0;C3U < K3U.length;C3U++){delete K3U[C3U].display;for(var Z3U=+"0";Z3U < o3U.length;Z3U++){if(K3U[C3U].level == o3U[Z3U]){K3U[C3U].display=!0;}}}}};e2D.Drawing.fibonacci.prototype.setOuter=function(){var B3U,X3U,R3U,z3U,e3U,r3U,m3U,f3U,M3U,E3U,i3U,t3U,x3U,h3U;B3U=this.stx;X3U=B3U.panels[this.panelName];Z3k0.I3k0();if(!X3U){return;}R3U=Math.max(this.p0[1],this.p1[1]);z3U=Math.min(this.p0[1],this.p1[1]);Z3k0.m0R0(6);e3U=Z3k0.y0R0(R3U,z3U);this.outer={p0:e2D.clone(this.p0),p1:e2D.clone(this.p1)};r3U=B3U.pixelFromValueAdjusted(X3U,this.p0[0],this.p0[+"1"]);m3U=B3U.pixelFromValueAdjusted(X3U,this.p1[0],this.p1[1]);f3U=B3U.pixelFromTick(this.p0[0],X3U.chart);M3U=B3U.pixelFromTick(this.p1["0" - 0],X3U.chart);E3U=0;Z3k0.S0R0(10);i3U=Z3k0.O0R0("1",0);for(var J3U=0;J3U < this.parameters.fibs.length;J3U++){t3U=this.parameters.fibs[J3U];if(t3U.level >= E3U && t3U.level <= i3U || !t3U.display)continue;x3U=B3U.pixelFromValueAdjusted(X3U,this.p0[0],m3U < r3U?R3U - e3U * t3U.level:z3U + e3U * t3U.level);h3U=e2D.xIntersection({x0:f3U,x1:M3U,y0:r3U,y1:m3U},x3U);if(t3U.level < E3U){E3U=t3U.level;Z3k0.S0R0(17);this.outer.p1[Z3k0.O0R0("1",2065158944)]=B3U.valueFromPixel(x3U,X3U);this.outer.p1[0]=B3U.tickFromPixel(h3U,X3U.chart);}else if(t3U.level > i3U){i3U=t3U.level;this.outer.p0[1]=B3U.valueFromPixel(x3U,X3U);Z3k0.m0R0(0);this.outer.p0[Z3k0.O0R0("0",1)]=B3U.tickFromPixel(h3U,X3U.chart);}}};e2D.Drawing.fibonacci.prototype.click=function(N3U,V3U,w3U){var L3U;L3U=this.stx.panels[this.panelName];if(!L3U){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,V3U,w3U,L3U.chart);this.penDown=! ![];return ! !"";}if(this.accidentalClick(V3U,w3U)){return this.dragToDraw;}this.setPoint(1,V3U,w3U,L3U.chart);this.setOuter();this.parameters=e2D.clone(this.parameters);this.penDown=! !"";return !0;;};e2D.Drawing.fibonacci.prototype.render=function(n3U){var s8j,R8j,h8j,G3U,l1U,A1U,y1U,j1U,s3U,H3U,a3U,u3U,k1U,I1U,C1U,Y1U,B1U,K1U,X1U,g1U,q3U,D1U,p3U,W3U,c8j,j8j,S3U,F3U,T1U,b3U,O3U,N8j,t1U,P1U,U3U,Q3U,o1U,d3U,Z1U,q8j,E1U,i1U;s8j="s";s8j+="egmen";s8j+="t";R8j="16";R8j+="1.8%";h8j="mid";h8j+="dl";h8j+="e";G3U=this.stx.panels[this.panelName];if(!G3U){return;}l1U=G3U.yAxis;if(!this.p1){return;}A1U=Math.max(this.p0[1],this.p1[1]);y1U=Math.min(this.p0[1],this.p1["1" - 0]);j1U=l1U.flipped?y1U - A1U:A1U - y1U;s3U=this.stx.pixelFromTick(this.p0[0],G3U.chart);H3U=this.stx.pixelFromTick(this.p1[0],G3U.chart);a3U=this.stx.pixelFromValueAdjusted(G3U,this.p0[0],this.p0[1]);u3U=this.stx.pixelFromValueAdjusted(G3U,this.p1[0],this.p1[1]);k1U=Math.min(u3U,a3U);I1U=Math.max(u3U,a3U);Z3k0.m0R0(6);C1U=Z3k0.y0R0(I1U,k1U);Z3k0.S0R0(29);Y1U=Z3k0.y0R0(a3U,H3U,0,u3U,s3U);B1U={color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:+"1"}};if(!this.parameters.trend){this.parameters.trend=B1U;}K1U=this.getLineColor(this.parameters.trend.color);n3U.textBaseline=h8j;this.stx.canvasFont("stx_yaxis",n3U);X1U=n3U.measureText(R8j).width + ("10" << 1276449376);g1U=Number.MAX_VALUE;q3U=Number.MAX_VALUE;D1U=Number.MAX_VALUE * -1;p3U=Number.MAX_VALUE * -1;W3U=this.color;if(W3U == "auto" || e2D.isTransparent(W3U)){W3U=this.stx.defaultColor;}this.rays=[];for(var v1U=+"0";v1U < this.parameters.fibs.length;v1U++){c8j="s";c8j+="e";c8j+="gme";c8j+="nt";j8j="l";j8j+="ef";j8j+="t";n3U.textAlign=j8j;n3U.fillStyle=W3U;S3U=this.parameters.fibs[v1U];if(!S3U.display)continue;F3U=this.stx.pixelFromValueAdjusted(G3U,this.p0[0],u3U < a3U?A1U - j1U * S3U.level:y1U + j1U * S3U.level);T1U=e2D.xIntersection({x0:s3U,x1:H3U,y0:a3U,y1:u3U},F3U);b3U=this.parameters.extendLeft?0:T1U;O3U=G3U.left + G3U.width;if(this.parameters.printLevels){N8j="r";N8j+="i";N8j+="gh";N8j+="t";t1U=Math.round(S3U.level * 1000) / 10 + (("6760" << 636769312,+"4735") < 613.35?(! !{},"z"):6867 == (839.96,334.71)?("1836" ^ 0,7314) >= (4970,2880)?8.39e+3:("0xe54" >> 1864906912,"c"):"%");O3U-=X1U;if(this.parameters.printValues){n3U.fillStyle=W3U;this.stx.canvasFont("stx_yaxis",n3U);;}if(O3U < b3U){n3U.textAlign=N8j;}n3U.fillText(t1U,O3U,F3U);if(O3U < b3U){O3U+=5;}else {O3U-=5;}}if(this.parameters.printValues){if(T1U < G3U.width){P1U=this.stx.transformedPriceFromPixel(F3U,G3U);if(l1U.priceFormatter){P1U=l1U.priceFormatter(this.stx,G3U,P1U);}else {P1U=this.stx.formatYAxisPrice(P1U,G3U);}if(n3U == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(G3U,P1U,F3U,W3U,null,n3U);if(n3U == this.stx.chart.context){this.stx.startClip(G3U.name);}}}U3U=S3U.color;if(U3U == "auto" || e2D.isTransparent(U3U)){U3U=this.color;}if(U3U == "auto" || e2D.isTransparent(U3U)){U3U=this.stx.defaultColor;}Q3U=S3U.color;if(Q3U == "auto" || e2D.isTransparent(Q3U)){Q3U=this.fillColor;}if(Q3U == "auto" || e2D.isTransparent(Q3U)){Q3U=this.stx.defaultColor;}n3U.fillStyle=Q3U;o1U=e2D.clone(S3U.parameters);if(this.highlighted){o1U.opacity=+"1";}this.stx.plotLine(b3U,O3U,F3U,F3U,this.highlighted?K1U:U3U,c8j,n3U,G3U,o1U);this.rays.push([[b3U,F3U],[O3U,F3U]]);n3U.globalAlpha=0.05;n3U.beginPath();n3U.moveTo(O3U,F3U);n3U.lineTo(b3U,F3U);if(b3U){n3U.lineTo(H3U,u3U);}else {n3U.lineTo(b3U,u3U);}n3U.lineTo(O3U,u3U);if(typeof Q3U != "undefined"){n3U.fill();}n3U.globalAlpha=1;if(F3U < q3U){g1U=T1U;q3U=F3U;}if(F3U > p3U){D1U=T1U;p3U=F3U;}}for(var c1U=+"0";c1U <= 1;c1U++){d3U=Y1U?I1U - C1U * c1U:k1U + C1U * c1U;d3U=Math.round(d3U);if(d3U < q3U){g1U=e2D.xIntersection({x0:s3U,x1:H3U,y0:a3U,y1:u3U},d3U);q3U=d3U;}if(d3U > p3U){D1U=e2D.xIntersection({x0:s3U,x1:H3U,y0:a3U,y1:u3U},d3U);p3U=d3U;}}Z1U=e2D.clone(this.parameters.trend.parameters);if(this.highlighted){Z1U.opacity=1;}this.stx.plotLine(g1U,D1U,q3U,p3U,K1U,s8j,n3U,G3U,Z1U);if(this.highlighted){q8j="p";q8j+="0";E1U=this.highlighted == q8j?!0:!{};i1U=this.highlighted == "p1"?! ![]:!{};this.littleCircle(n3U,s3U,a3U,E1U);this.littleCircle(n3U,H3U,u3U,i1U);}};e2D.Drawing.fibonacci.prototype.reposition=function(x1U,J1U,R1U,z1U){if(!J1U){return;}e2D.Drawing.BaseTwoPoint.prototype.reposition.apply(this,arguments);this.adjust();};e2D.Drawing.fibonacci.prototype.intersected=function(w1U,N1U,n1U){var m1U,h1U,f1U,M1U,L1U,V1U;m1U=this.p0;h1U=this.p1;if(!m1U || !h1U){return null;}f1U={0:m1U,1:h1U};for(var e1U in f1U){if(this.pointIntersection(f1U[e1U][0],f1U[e1U][1],n1U)){Z3k0.S0R0(1);this.highlighted=Z3k0.y0R0(e1U,(653.69,4606) != (7180,5426)?"p":568 > (924.05,1068)?(!1,5.78e+3):2930 != (672.78,506.96)?0x25fc:"x");return {action:"drag",point:"p" + e1U};}}M1U=this.outer;L1U=this.rays;V1U=M1U && this.lineIntersection(w1U,N1U,n1U,"segment",M1U.p0,M1U.p1);if(!V1U){for(var r1U=0;r1U < L1U.length;r1U++){if(this.lineIntersection(w1U,N1U,n1U,"ray",L1U[r1U][0],L1U[r1U][1],! !{})){V1U=!0;break;}}}if(V1U){this.highlighted=!"";return {action:"move",p0:e2D.clone(m1U),p1:e2D.clone(h1U),tick:w1U,value:N1U};}return null;};e2D.Drawing.fibonacci.prototype.reconstruct=function(F1U,G1U){G1U=e2D.replaceFields(G1U,e2D.reverseObject(e2D.Drawing.fibonacci.mapping));this.stx=F1U;this.parameters=G1U.parameters;if(!this.parameters){this.parameters=e2D.clone(this.stx.currentVectorParameters.fibonacci);}this.color=G1U.col;this.fillColor=G1U.fc;this.panelName=G1U.pnl;this.d0=G1U.d0;this.d1=G1U.d1;this.d2=G1U.d2;Z3k0.s3k0();this.tzo0=G1U.tzo0;this.tzo1=G1U.tzo1;this.tzo2=G1U.tzo2;this.v0=G1U.v0;this.v1=G1U.v1;this.v2=G1U.v2;this.adjust();};e2D.Drawing.fibonacci.prototype.adjust=function(){Z3k0.s3k0();var u1U;u1U=this.stx.panels[this.panelName];if(!u1U){return;}this.setPoint(0,this.d0,this.v0,u1U.chart);this.setPoint(1,this.d1,this.v1,u1U.chart);this.setOuter();};e2D.Drawing.fibonacci.prototype.serialize=function(){var O1U;Z3k0.s3k0();O1U={name:this.name,parameters:this.parameters,pnl:this.panelName,col:this.color,fc:this.fillColor,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};return e2D.replaceFields(O1U,e2D.Drawing.fibonacci.mapping);};e2D.Drawing.retracement=function(){this.name="retracement";};e2D.inheritsFrom(e2D.Drawing.retracement,e2D.Drawing.fibonacci);e2D.Drawing.fibprojection=function(){var r8j;Z3k0.s3k0();r8j="f";r8j+="ibprojection";this.name=r8j;this.dragToDraw=![];this.p2=null;};e2D.inheritsFrom(e2D.Drawing.fibprojection,e2D.Drawing.fibonacci);e2D.Drawing.fibprojection.prototype.recommendedLevels=[0,0.618,1,1.272,1.618,2.618,4.236];e2D.Drawing.fibprojection.prototype.click=function(S1U,Q1U,d1U){var a1U;a1U=this.stx.panels[this.panelName];if(!a1U){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,Q1U,d1U,a1U.chart);this.penDown=! !"1";return ![];}if(this.accidentalClick(Q1U,d1U)){this.stx.undo();return ! !1;}if(this.p2 !== null){this.setPoint(2,this.p2[+"0"],this.p2["1" & 2147483647],a1U.chart);this.parameters=e2D.clone(this.parameters);return ! ![];}this.setPoint(1,Q1U,d1U,a1U.chart);Z3k0.I3k0();this.p2=[this.p1[0],this.p1[+"1"]];return ![];;};e2D.Drawing.fibprojection.prototype.render=function(b1U){var d8j,y8j,M8j,U1U,C2U,o2U,l2U,y2U,D2U,g2U,v2U,P2U,Z2U,j2U,Y2U,T2U,v8j,L8j,c2U,H1U,B2U,q1U,W1U,C8j,X2U,w8j,A2U,p1U,s1U,K2U,I2U,n8j,t2U,E2U,i2U;d8j="segmen";Z3k0.s3k0();d8j+="t";y8j="s";y8j+="eg";y8j+="me";y8j+="nt";M8j="s";M8j+="ol";M8j+="i";M8j+="d";U1U=this.stx.panels[this.panelName];if(!U1U){return;}C2U=U1U.yAxis;if(!this.p1){return;}o2U=this.p1[1] - this.p0[1];l2U=this.stx.pixelFromTick(this.p0["0" >> 1774281120],U1U.chart);y2U=this.stx.pixelFromTick(this.p1[0],U1U.chart);D2U=this.stx.pixelFromValueAdjusted(U1U,this.p0[+"0"],this.p0[1]);g2U=this.stx.pixelFromValueAdjusted(U1U,this.p1[0],this.p1[1]);v2U=null;P2U=null;if(this.p2){v2U=this.stx.pixelFromTick(this.p2[0],U1U.chart);P2U=this.stx.pixelFromValueAdjusted(U1U,this.p2[0],this.p2[+"1"]);}Z2U={color:"auto",parameters:{pattern:M8j,opacity:+"0.25",lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=Z2U;}j2U=this.getLineColor(this.parameters.trend.color);b1U.textBaseline="middle";this.stx.canvasFont("stx_yaxis",b1U);Y2U=b1U.measureText("161.8%").width + 10;T2U=this.color;if(T2U == "auto" || e2D.isTransparent(T2U)){T2U=this.stx.defaultColor;}if(this.p2){this.rays=[];for(var k2U="0" ^ 0;k2U < this.parameters.fibs.length;k2U++){v8j="aut";v8j+="o";L8j="a";L8j+="ut";L8j+="o";b1U.textAlign="left";b1U.fillStyle=T2U;c2U=this.parameters.fibs[k2U];if(!c2U.display)continue;H1U=this.stx.pixelFromValueAdjusted(U1U,this.p2["0" | 0],this.p2[1] + o2U * c2U.level);B2U=e2D.xIntersection({x0:l2U,x1:y2U,y0:D2U,y1:g2U},H1U);q1U=this.parameters.extendLeft?0:l2U;W1U=U1U.left + U1U.width;if(this.parameters.printLevels){C8j="rig";C8j+="ht";X2U=Math.round(c2U.level * 1000) / +"10" + "%";W1U-=Y2U;if(this.parameters.printValues){w8j="s";w8j+="tx_yaxis";b1U.fillStyle=T2U;this.stx.canvasFont(w8j,b1U);;}if(W1U < q1U){b1U.textAlign=C8j;}b1U.fillText(X2U,W1U,H1U);if(W1U < q1U){W1U+=5;}else {Z3k0.m0R0(2);W1U-=Z3k0.y0R0(1575416640,"5");}}if(this.parameters.printValues){if(B2U < U1U.width){A2U=this.stx.transformedPriceFromPixel(H1U,U1U);if(C2U.priceFormatter){A2U=C2U.priceFormatter(this.stx,U1U,A2U);}else {A2U=this.stx.formatYAxisPrice(A2U,U1U);}if(b1U == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(U1U,A2U,H1U,T2U,null,b1U);if(b1U == this.stx.chart.context){this.stx.startClip(U1U.name);}}}p1U=c2U.color;if(p1U == L8j || e2D.isTransparent(p1U)){p1U=this.color;}if(p1U == "auto" || e2D.isTransparent(p1U)){p1U=this.stx.defaultColor;}s1U=c2U.color;if(s1U == "auto" || e2D.isTransparent(s1U)){s1U=this.fillColor;}if(s1U == v8j || e2D.isTransparent(s1U)){s1U=this.stx.defaultColor;}b1U.fillStyle=s1U;K2U=e2D.clone(c2U.parameters);if(this.highlighted){K2U.opacity=1;}this.stx.plotLine(q1U,W1U,H1U,H1U,this.highlighted?j2U:p1U,"segment",b1U,U1U,K2U);this.rays.push([[q1U,H1U],[W1U,H1U]]);b1U.globalAlpha=0.05;b1U.beginPath();b1U.moveTo(W1U,H1U);b1U.lineTo(q1U,H1U);if(q1U){b1U.lineTo(l2U,P2U);}else {b1U.lineTo(q1U,P2U);}b1U.lineTo(W1U,P2U);if(typeof s1U != "undefined"){b1U.fill();}b1U.globalAlpha=1;}}I2U=e2D.clone(this.parameters.trend.parameters);if(this.highlighted){I2U.opacity=1;}this.stx.plotLine(l2U,y2U,D2U,g2U,j2U,y8j,b1U,U1U,I2U);if(this.p2){this.stx.plotLine(y2U,v2U,g2U,P2U,j2U,d8j,b1U,U1U,I2U);}if(this.highlighted){n8j="p";n8j+="2";t2U=this.highlighted == "p0"?! ![]:![];E2U=this.highlighted == "p1"?! ![]:![];i2U=this.highlighted == n8j?! ![]:!{};this.littleCircle(b1U,l2U,D2U,t2U);this.littleCircle(b1U,y2U,g2U,E2U);this.littleCircle(b1U,v2U,P2U,i2U);}};e2D.Drawing.fibprojection.prototype.move=function(R2U,J2U,x2U){if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[J2U,x2U];}else {this.p2=[J2U,x2U];}this.render(R2U);};e2D.Drawing.fibprojection.prototype.reposition=function(h2U,z2U,f2U,M2U){var e2U,r2U,m2U;if(!z2U){return;}e2U=this.stx.panels[this.panelName];r2U=z2U.tick - f2U;m2U=z2U.value - M2U;if(z2U.action == "move"){Z3k0.S0R0(0);this.setPoint(Z3k0.O0R0("0",1),z2U.p0[0] - r2U,z2U.p0[1] - m2U,e2U.chart);this.setPoint(1,z2U.p1[0] - r2U,z2U.p1[1] - m2U,e2U.chart);this.setPoint(2,z2U.p2[+"0"] - r2U,z2U.p2[1] - m2U,e2U.chart);this.render(h2U);}else if(z2U.action == "drag"){this[z2U.point]=[f2U,M2U];Z3k0.S0R0(17);this.setPoint(Z3k0.O0R0("0",1301072064),this.p0[0],this.p0[1],e2U.chart);this.setPoint(1,this.p1[0],this.p1[1],e2U.chart);this.setPoint(2,this.p2[+"0"],this.p2[1],e2U.chart);this.render(h2U);}};e2D.Drawing.fibprojection.prototype.intersected=function(G2U,F2U,u2U){var G8j,V2U,L2U,w2U,O2U,a2U,Q2U;G8j="seg";G8j+="m";G8j+="ent";V2U=this.p0;L2U=this.p1;w2U=this.p2;if(!V2U || !L2U || !w2U){return null;}O2U={0:V2U,1:L2U,2:w2U};for(var N2U in O2U){if(this.pointIntersection(O2U[N2U]["0" >> 860003808],O2U[N2U][1],u2U)){Z3k0.m0R0(1);this.highlighted=Z3k0.y0R0(N2U,484 <= 260?(283.43,"k"):"p");return {action:"drag",point:"p" + N2U};}}a2U=this.rays;Q2U=this.lineIntersection(G2U,F2U,u2U,"segment",V2U,L2U) || this.lineIntersection(G2U,F2U,u2U,G8j,L2U,w2U);if(!Q2U){for(var n2U=0;n2U < a2U.length;n2U++){if(this.lineIntersection(G2U,F2U,u2U,"ray",a2U[n2U][0],a2U[n2U][1],! !{})){Q2U=! !1;break;}}}if(Q2U){this.highlighted=! !{};return {action:"move",p0:e2D.clone(V2U),p1:e2D.clone(L2U),p2:e2D.clone(w2U),tick:G2U,value:F2U};}return null;};e2D.Drawing.fibprojection.prototype.adjust=function(){var d2U;d2U=this.stx.panels[this.panelName];if(!d2U){return;}Z3k0.m0R0(0);this.setPoint(Z3k0.y0R0("0",1),this.d0,this.v0,d2U.chart);this.setPoint(1,this.d1,this.v1,d2U.chart);this.setPoint(2,this.d2,this.v2,d2U.chart);};e2D.Drawing.fibarc=function(){this.name="fibarc";;};e2D.inheritsFrom(e2D.Drawing.fibarc,e2D.Drawing.fibonacci);Z3k0.m0R0(0);e2D.Drawing.fibarc.prototype.recommendedLevels=[Z3k0.O0R0("0.382",1),0.5,0.618,1];e2D.Drawing.fibarc.prototype.setOuter=function(){var S2U,b2U,U2U,W2U,s2U,H2U,q2U;S2U=this.stx.panels[this.panelName];if(!S2U){return;}this.outer={p0:e2D.clone(this.p0),p1:e2D.clone(this.p1)};b2U=this.stx.pixelFromValueAdjusted(S2U,this.p0[0],this.p0[1]);U2U=this.stx.pixelFromValueAdjusted(S2U,this.p1[0],this.p1[1]);W2U=this.stx.pixelFromTick(this.p0[0],S2U.chart);s2U=this.stx.pixelFromTick(this.p1[0],S2U.chart);Z3k0.S0R0(30);H2U=Z3k0.O0R0(U2U,2,b2U);q2U=e2D.xIntersection({x0:W2U,x1:s2U,y0:b2U,y1:U2U},H2U);this.outer.p0[+"1"]=this.stx.valueFromPixel(H2U,S2U);this.outer.p0[0]=this.stx.tickFromPixel(q2U,S2U.chart);};e2D.Drawing.fibarc.prototype.intersected=function(l8U,D8U,P8U){var l8j,v8U,T8U,c8U,k8U,j8U,m8j,C8U,p2U,y8U,I8U,g8U;l8j="m";l8j+="o";l8j+="v";l8j+="e";v8U=this.stx.panels[this.panelName];if(!v8U){return;}T8U=this.p0;c8U=this.p1;k8U=this.outer;if(!T8U || !c8U){return null;}j8U={0:T8U,1:c8U};for(var A8U in j8U){if(this.pointIntersection(j8U[A8U][+"0"],j8U[A8U][1],P8U)){Z3k0.m0R0(1);this.highlighted=Z3k0.O0R0(A8U,"p");return {action:"drag",point:((+"576.96",8240) > 9711?2458 != (201.31,9340)?(+"9.49e+3","E"):("8.84e+3" ^ 0,1.34e+2):"p") + A8U};}}if(this.lineIntersection(l8U,D8U,P8U,"segment",k8U.p0,k8U.p1)){m8j="m";m8j+="o";m8j+="ve";this.highlighted=! ![];return {action:m8j,p0:e2D.clone(T8U),p1:e2D.clone(c8U),tick:l8U,value:D8U};}C8U={x0:T8U[0],x1:c8U[+"0"],y0:T8U[1],y1:c8U[1]};p2U=e2D.convertBoxToPixels(this.stx,this.panelName,C8U);y8U={x:Math.abs(Math.sqrt(2) * (p2U.x1 - p2U.x0)),y:Math.abs(Math.sqrt(2) * (p2U.y1 - p2U.y0))};I8U=this.stx.pixelFromTick(l8U,v8U.chart);g8U=this.stx.pixelFromValueAdjusted(v8U,l8U,D8U);if(I8U + P8U.r < p2U.x1 - y8U.x || I8U - P8U.r > p2U.x1 + y8U.x){return null;}if(g8U + P8U.r < p2U.y1 - y8U.y || g8U - P8U.r > p2U.y1 + y8U.y){return null;}if(p2U.y0 < p2U.y1 && g8U - P8U.r > p2U.y1){return null;}if(p2U.y0 > p2U.y1 && g8U + P8U.r < p2U.y1){return null;}this.highlighted=! !{};return {action:l8j,p0:e2D.clone(this.p0),p1:e2D.clone(this.p1),tick:l8U,value:D8U};};e2D.Drawing.fibarc.prototype.render=function(K8U){var Z8j,o8U,z8U,x8U,B8U,i8U,Y8U,r8U,m8U,h8U,E8U,W8j,u8j,x8j,Z8U,L8U,f8U,R8U,V8U,g8j,w8U,A8j,J8U,X8U,t8U,M8U,N8U,n8U;Z8j="se";Z8j+="g";Z3k0.I3k0();Z8j+="ment";o8U=this.stx.panels[this.panelName];if(!o8U){return;}z8U=o8U.yAxis;if(!this.p1){return;}x8U=this.stx.pixelFromTick(this.p0[+"0"],o8U.chart);B8U=this.stx.pixelFromTick(this.p1[0],o8U.chart);i8U=this.stx.pixelFromValueAdjusted(o8U,this.p0[0],this.p0["1" ^ 0]);Y8U=this.stx.pixelFromValueAdjusted(o8U,this.p1[0],this.p1[1]);Z3k0.S0R0(31);r8U=Z3k0.O0R0(i8U,Y8U);Z3k0.S0R0(32);m8U=Math.abs(Z3k0.O0R0(Y8U,x8U,i8U,B8U));h8U=this.getLineColor(this.parameters.trend.color);K8U.textBaseline="middle";this.stx.canvasFont("stx_yaxis",K8U);E8U=this.color;if(E8U == "auto" || e2D.isTransparent(E8U)){E8U=this.stx.defaultColor;}for(var e8U=0;e8U < this.parameters.fibs.length;e8U++){W8j="a";W8j+="u";W8j+="to";u8j="a";u8j+="uto";x8j="l";x8j+="e";x8j+="f";x8j+="t";K8U.fillStyle=E8U;Z8U=this.parameters.fibs[e8U];if(Z8U.level < 0 || !Z8U.display)continue;L8U=Math.abs(this.p1[1] - this.p0[1]) * Math.sqrt(2) * Z8U.level;f8U=this.p1[1] + L8U * (r8U?-("1" * 1):1) * (z8U.flipped?-1:1);R8U=this.stx.pixelFromValueAdjusted(o8U,this.p0[0],f8U);V8U=e2D.xIntersection({x0:x8U,x1:B8U,y0:i8U,y1:Y8U},R8U);if(this.parameters.printLevels){g8j="cente";g8j+="r";K8U.textAlign=g8j;w8U=Math.round(Z8U.level * 1000) / 10 + ((+"3056",2000) < 3710?(824.76,357.01) != (112.29,2890)?"%":801.27 <= "43.54" * 1?5.04e+3:0x1774:540);if(this.parameters.printValues){A8j="st";A8j+="x_ya";A8j+="xis";K8U.fillStyle=E8U;this.stx.canvasFont(A8j,K8U);;}K8U.fillText(w8U,B8U,Math.round(R8U - 5));}K8U.textAlign=x8j;if(this.parameters.printValues){if(V8U < o8U.width){J8U=f8U;if(z8U.priceFormatter){J8U=z8U.priceFormatter(this.stx,o8U,J8U);}else {J8U=this.stx.formatYAxisPrice(J8U,o8U);}if(K8U == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(o8U,J8U,R8U,E8U,null,K8U);if(K8U == this.stx.chart.context){this.stx.startClip(o8U.name);}}}X8U=Z8U.color;if(X8U == "auto" || e2D.isTransparent(X8U)){X8U=this.color;}if(X8U == "auto" || e2D.isTransparent(X8U)){X8U=this.stx.defaultColor;}K8U.strokeStyle=this.highlight?h8U:X8U;t8U=Z8U.color;if(t8U == u8j || e2D.isTransparent(t8U)){t8U=this.fillColor;}if(t8U == W8j || e2D.isTransparent(t8U)){t8U=this.stx.defaultColor;}K8U.fillStyle=t8U;K8U.globalAlpha=this.highlighted?1:Z8U.parameters.opacity;K8U.lineWidth=Z8U.parameters.lineWidth;if(K8U.setLineDash){K8U.setLineDash(e2D.borderPatternToArray(K8U.lineWidth,Z8U.parameters.pattern));K8U.lineDashOffset=0;;}K8U.save();K8U.beginPath();Z3k0.S0R0(7);K8U.scale(Z3k0.O0R0(m8U,1),+"1");Z3k0.S0R0(0);K8U.arc(Z3k0.y0R0(B8U,m8U),Y8U,Math.abs(R8U - Y8U),0,Math.PI,!r8U);if(this.pattern != "none"){K8U.stroke();}K8U.globalAlpha=0.05;K8U.fill();K8U.restore();if(K8U.setLineDash){K8U.setLineDash([]);}K8U.globalAlpha=+"1";}K8U.textAlign="left";M8U=e2D.clone(this.parameters.trend.parameters);if(this.highlighted){M8U.opacity=1;}Z3k0.S0R0(30);this.stx.plotLine(B8U,Z3k0.y0R0(B8U,2,x8U),Y8U,Z3k0.O0R0(Y8U,2,i8U),h8U,Z8j,K8U,o8U,M8U);if(this.highlighted){N8U=this.highlighted == "p0"?! !1:!{};n8U=this.highlighted == "p1"?!"":![];this.littleCircle(K8U,x8U,i8U,N8U);this.littleCircle(K8U,B8U,Y8U,n8U);}};e2D.Drawing.fibfan=function(){var U8j;U8j="f";U8j+="i";Z3k0.I3k0();U8j+="bfa";U8j+="n";this.name=U8j;;};e2D.inheritsFrom(e2D.Drawing.fibfan,e2D.Drawing.fibonacci);e2D.Drawing.fibfan.prototype.recommendedLevels=[0,0.382,0.5,0.618,1];e2D.Drawing.fibfan.prototype.setOuter=function(){};e2D.Drawing.fibfan.prototype.render=function(G8U){var t8j,i8j,u8U,g4U,F8U,d8U,O8U,q8U,D4U,v4U,j4U,I4U,C4U,P4U,T4U,c4U,U8U,e1j,V8j,T8j,H8U,Q8U,l4U,a8U,W8U,K4U,P8j,p8U,S8U,b8U,k4U,s8U,o4U,Z4U;t8j="au";t8j+="to";i8j="1";i8j+="6";i8j+="1.";i8j+="8%";u8U=this.stx.panels[this.panelName];if(!u8U){return;}g4U=u8U.yAxis;if(!this.p1){return;}F8U=this.stx.pixelFromTick(this.p0[0],u8U.chart);d8U=this.stx.pixelFromTick(this.p1[0],u8U.chart);O8U=this.stx.pixelFromValueAdjusted(u8U,this.p0[0],this.p0[1]);q8U=this.stx.pixelFromValueAdjusted(u8U,this.p1[0],this.p1[1]);D4U=Math.min(q8U,O8U);v4U=Math.max(q8U,O8U);Z3k0.m0R0(6);j4U=Z3k0.O0R0(v4U,D4U);Z3k0.m0R0(33);I4U=Z3k0.y0R0(O8U,q8U,d8U,0,F8U,"0");C4U=this.getLineColor(this.parameters.trend.color);G8U.textBaseline="middle";Z3k0.s3k0();this.stx.canvasFont("stx_yaxis",G8U);P4U=G8U.measureText(i8j).width + ("10" & 2147483647);T4U=Number.MAX_VALUE;c4U=Number.MAX_VALUE * -("1" - 0);U8U=this.color;if(U8U == t8j || e2D.isTransparent(U8U)){U8U=this.stx.defaultColor;}this.rays=[];for(var y4U=0;y4U < this.parameters.fibs.length;y4U++){e1j="au";e1j+="to";V8j="aut";V8j+="o";T8j="a";T8j+="u";T8j+="t";T8j+="o";G8U.fillStyle=U8U;H8U=this.parameters.fibs[y4U];if(!H8U.display)continue;Q8U=this.stx.pixelFromValueAdjusted(u8U,this.p0[0],(this.p0[1] - this.p1[1]) * H8U.level + this.p1[1]);l4U=e2D.xIntersection({x0:d8U,x1:d8U,y0:O8U,y1:q8U},Q8U);a8U=u8U.left;if(d8U > F8U){a8U+=u8U.width;}Z3k0.S0R0(34);W8U=Z3k0.O0R0(a8U,F8U,F8U,O8U,l4U,Q8U,O8U);if(F8U > a8U - (this.parameters.printLevels?P4U + 5:0) && d8U > F8U)continue;else if(F8U < a8U + (this.parameters.printLevels?P4U + 5:0) && d8U < F8U)continue;if(this.parameters.printLevels){K4U=Math.round(H8U.level * 1000) / 10 + "%";if(d8U > F8U){a8U-=P4U;G8U.textAlign="left";}else {P8j="r";P8j+="i";P8j+="g";P8j+="ht";a8U+=P4U;G8U.textAlign=P8j;}if(this.parameters.printValues){G8U.fillStyle=U8U;this.stx.canvasFont("stx_yaxis",G8U);;}Z3k0.m0R0(34);W8U=Z3k0.y0R0(a8U,F8U,F8U,O8U,l4U,Q8U,O8U);G8U.fillText(K4U,a8U,W8U);if(d8U > F8U){a8U-=5;}else {a8U+=5;}}G8U.textAlign="left";if(this.parameters.printValues){if(l4U < u8U.width){p8U=this.stx.transformedPriceFromPixel(Q8U,u8U);if(g4U.priceFormatter){p8U=g4U.priceFormatter(this.stx,u8U,p8U);}else {p8U=this.stx.formatYAxisPrice(p8U,u8U);}if(G8U == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(u8U,p8U,Q8U,U8U,null,G8U);if(G8U == this.stx.chart.context){this.stx.startClip(u8U.name);}}}S8U=H8U.color;if(S8U == T8j || e2D.isTransparent(S8U)){S8U=this.color;}if(S8U == "auto" || e2D.isTransparent(S8U)){S8U=this.stx.defaultColor;}b8U=H8U.color;if(b8U == V8j || e2D.isTransparent(b8U)){b8U=this.fillColor;}if(b8U == e1j || e2D.isTransparent(b8U)){b8U=this.stx.defaultColor;}G8U.fillStyle=b8U;if(this.parameters.printLevels){Z3k0.m0R0(34);W8U=Z3k0.O0R0(a8U,F8U,F8U,O8U,l4U,Q8U,O8U);}k4U=e2D.clone(H8U.parameters);if(this.highlighted){k4U.opacity=1;}this.stx.plotLine(F8U,a8U,O8U,W8U,this.highlighted?C4U:S8U,"segment",G8U,u8U,k4U);this.rays.push([[F8U,O8U],[a8U,W8U]]);G8U.globalAlpha=0.05;G8U.beginPath();G8U.moveTo(a8U,W8U);G8U.lineTo(F8U,O8U);G8U.lineTo(a8U,O8U);G8U.fill();Z3k0.S0R0(14);G8U.globalAlpha=Z3k0.y0R0("1",0);if(Q8U < T4U){T4U=Q8U;}if(Q8U > c4U){c4U=Q8U;}}for(var A4U=0;A4U <= "1" * 1;A4U++){s8U=I4U?v4U - j4U * A4U:D4U + j4U * A4U;s8U=Math.round(s8U);if(s8U < T4U){T4U=s8U;}if(s8U > c4U){c4U=s8U;}}if(this.highlighted){o4U=this.highlighted == "p0"?! ![]:! !"";Z4U=this.highlighted == "p1"?! !{}:!{};this.littleCircle(G8U,F8U,O8U,o4U);this.littleCircle(G8U,d8U,q8U,Z4U);}};e2D.Drawing.fibtimezone=function(){var p1j;p1j="fibti";p1j+="m";p1j+="ez";p1j+="one";this.name=p1j;;};e2D.inheritsFrom(e2D.Drawing.fibtimezone,e2D.Drawing.fibonacci);e2D.Drawing.fibtimezone.prototype.render=function(Y4U){var O1j,B4U,X4U,J4U,m4U,h4U,e4U,f4U,w4U,M4U,z4U,t4U,L4U,x4U,R4U,E4U,i4U,r4U,N4U,n4U,V4U;O1j="a";O1j+="u";O1j+="t";O1j+="o";B4U=this.stx.panels[this.panelName];if(!B4U){return;}if(!this.p1){return;}X4U=this.stx.pixelFromTick(this.p0[0],B4U.chart);J4U=this.stx.pixelFromTick(this.p1["0" >> 698486720],B4U.chart);m4U=this.stx.pixelFromValueAdjusted(B4U,this.p0[0],this.p0[1]);h4U=this.stx.pixelFromValueAdjusted(B4U,this.p1[+"0"],this.p1[1]);Z3k0.S0R0(17);e4U=[Z3k0.y0R0("1",340106912),0];f4U=this.getLineColor(this.parameters.trend.color);Y4U.textBaseline="middle";this.stx.canvasFont("stx_yaxis",Y4U);w4U=20;M4U=this.p1["0" | 0] - this.p0[0];z4U=this.color;if(z4U == "auto" || e2D.isTransparent(z4U)){z4U=this.stx.defaultColor;}Y4U.textAlign="center";t4U=X4U;L4U=B4U.yAxis.top;x4U=B4U.yAxis.bottom;R4U=0;E4U=this.parameters.timezone.color;if(E4U == O1j || e2D.isTransparent(E4U)){E4U=this.color;}if(E4U == "auto" || e2D.isTransparent(E4U)){E4U=this.stx.defaultColor;}i4U=this.parameters.timezone.color;if(i4U == "auto" || e2D.isTransparent(i4U)){i4U=this.fillColor;}if(i4U == "auto" || e2D.isTransparent(i4U)){i4U=this.stx.defaultColor;}if(this.parameters.printLevels){Z3k0.m0R0(13);x4U-=Z3k0.y0R0("7",1,w4U);}r4U=e2D.clone(this.parameters.timezone.parameters);if(this.highlighted){r4U.opacity=1;}do {t4U=this.stx.pixelFromTick(this.p0[0] + R4U * M4U,B4U.chart);if(X4U < J4U && t4U > B4U.left + B4U.width)break;else if(X4U > J4U && t4U < B4U.left)break;if(this.parameters.printLevels){Y4U.fillStyle=z4U;Y4U.fillText(J4U > X4U?R4U:R4U * -1,t4U,x4U + 7);}Y4U.fillStyle=i4U;Z3k0.m0R0(17);this.stx.plotLine(t4U,t4U,Z3k0.y0R0("0",1752648224),x4U,this.highlighted?f4U:E4U,"segment",Y4U,B4U,r4U);Y4U.globalAlpha=0.05;Y4U.beginPath();Y4U.moveTo(X4U,L4U);Y4U.lineTo(t4U,L4U);Y4U.lineTo(t4U,x4U);Y4U.lineTo(X4U,x4U);Y4U.fill();Y4U.globalAlpha=1;R4U=e4U[0] + e4U[1];e4U.unshift(R4U);}while(M4U);Y4U.textAlign="left";this.stx.plotLine(X4U,J4U,m4U,h4U,f4U,"segment",Y4U,B4U,r4U);if(this.highlighted){N4U=this.highlighted == "p0"?! ![]:! !0;n4U=this.highlighted == "p1"?!"":! !"";this.littleCircle(Y4U,X4U,m4U,N4U);this.littleCircle(Y4U,J4U,h4U,n4U);}else {V4U=this.stx.valueFromPixel(B4U.height / 2,B4U);this.setPoint(+"0",this.p0[0],V4U,B4U.chart);this.setPoint(1,this.p1["0" << 762762400],V4U,B4U.chart);}};e2D.Drawing.fibtimezone.prototype.intersected=function(Q4U,d4U,u4U){var G4U,O4U,S4U,a4U,b4U;G4U=this.p0;O4U=this.p1;S4U=this.stx.panels[this.panelName];if(!G4U || !O4U || !S4U){return null;}Z3k0.s3k0();a4U={0:G4U,1:O4U};for(var F4U in a4U){if(this.pointIntersection(a4U[F4U][0],a4U[F4U][1],u4U)){Z3k0.m0R0(1);this.highlighted=Z3k0.O0R0(F4U,1211 !== (+"1200",+"4256")?442.39 > 7686?("0x23ec" - 0,571):"p":7.38e+3);return {action:"drag",point:"p" + F4U};}}b4U=this.lineIntersection(Q4U,d4U,u4U,"segment");if(b4U || u4U.x0 <= this.p0[0] && u4U.x1 >= G4U[0]){this.highlighted=! !"1";return {action:"move",p0:e2D.clone(G4U),p1:e2D.clone(O4U),tick:Q4U,value:d4U};}return null;};e2D.Drawing.arrow_v0=function(){this.name="arrow";this.dimension=[11,11];Z3k0.m0R0(2);this.points=[[("9314" * 1,8419) === (278.5,7446)?0x1c63:(8992,1840) == 6370?(3310,591) < "2950" - 0?919.97:(291.41,![]):"M",3,0,(143,261) == "592.86" - 0?(0x636,5.76e+3):(+"3142",1128) !== (6658,7480)?"L":(156.66,522.04) < (4460,729.3)?(872.52,4.04e+3):+"435.59",7,0,(2017,2737) != (9650,3130)?"L":(8793,460.79) !== 3840?("0xaaa" & 2147483647,"v"):(0xd7d,+"1.30e+3"),7,5,420.83 !== (118.55,687.61)?"L":5723 != (+"594",+"703")?(637.13,981.46) > (649,321.62)?("d","98.75" * 1):"C":(0x2425,"s"),10,+"5","L",5,Z3k0.O0R0(432336128,"10"),(231,89.6) != 9520?"L":(2.86e+3,8.86e+3),0,5,(3360,+"285.75") != (835.24,7977)?4391 < 5220?"L":(! !{},"R"):! !0,3,5,"L",+"3",0]];};e2D.inheritsFrom(e2D.Drawing.arrow_v0,e2D.Drawing.shape);e2D.Drawing.xcross=function(){var z9j,f9j,B9j;z9j=641492668;f9j=-425978631;B9j=2;for(var Q9j=1;Z3k0.u1y(Q9j.toString(),Q9j.toString().length,67900) !== z9j;Q9j++){this.name="xcross";this.dimension=[7,7];this.points=[[("2670" & 2147483647,"556.99" * 1) < ("217" >> 1732326944,2080)?4330 == (4799,967.31)?(0x14d2,2.55e+2):"M":0x23ae,1,0,621.3 !== 4528?"L":122.08,3,2,3734 !== (3460,528.56)?"L":0x18f6,5,0,"L",6,1,"L",4,3,(545.56,430.22) == (+"431.11",5450)?(2.92e+3,"a"):"L",6,5,"L",5,6,(714.88,2659) <= 338?+"799.98":"L",+"3",4,"130.37" - 0 > ("542.72" * 1,7279)?("5.61e+3" | 1280,4.36e+2):("7370" | 6146,794.95) == (6091,+"3660")?467.63:6130 === (6975,"212.75" - 0)?(+"314.01",5.71e+3):"L",1,6,"L",0,5,"L",2,3,(2280,5322) != (195,+"1995")?"L":6423 != (594.16,6650)?543.12:("I",800.43),0,1,"L",1,0]];B9j+=2;}if(Z3k0.u1y(B9j.toString(),B9j.toString().length,+"36782") !== f9j){this.name="L";this.dimension=[8,6];this.points=[[(5024,"151044" - 0) >= (233,+"4111")?2540 === (3832,267853)?(0xe63a,1599938):"L":0x721d,3,5,13977 == 5322?"L":955018,0,3,6041 == (2800,972112)?"L":0x7375,9,3,"I",1,2,"L",6,6,(772947,830856) != ("539055" & 2147483647,8527)?(5931063,"L"):"L",5,1,"L",6,9,(874836,3872) > 771?804740:"L",6,5,466206 <= (473858,+"5492")?("1927437" & 2147483647,+"9057900"):(3406,488708) === (5776,1721)?125211:8833 != (+"2753",958921)?(749179,"1774158" | 1048578):"I",0,0,"L",+"8",6,"I",5,1,(8016,3308) === ("444" | 272,"7977" * 1)?"I":3542 === (940628,9049)?673640:("I",+"964242"),5,8,"L",+"2",3]];};};e2D.inheritsFrom(e2D.Drawing.xcross,e2D.Drawing.shape);e2D.Drawing.check=function(){var d9j,n9j,G9j;this.name="check";this.dimension=[8,9];d9j=- +"633375344";n9j=-710889837;G9j=2;for(var l9j=1;Z3k0.u1y(l9j.toString(),l9j.toString().length,+"37090") !== d9j;l9j++){this.points=[[260203 === 5186?7446 != 4517?4823 === (8103,8751)?!"":(735794,299):"L":"L",2,1,"L",8,7,"L",7,5,(7163,204034) == (101,9938)?"L":(! !1,6638342),8,+"0","L",3,2,"L",3,7,"L",0,1]];;G9j+=2;}if(Z3k0.u1y(G9j.toString(),G9j.toString().length,"59332" | 16832) !== n9j){Z3k0.S0R0(0);this.points=[[811428 !== 8916?7145 !== 6835?4806 == ("4352" * 1,9940)?!{}:("162471" >> 1802587776,399):"L":"L",1,5,"L",Z3k0.O0R0("0",1),8,"L",1,4,(9403,913409) !== (+"853",5078)?"L":(!1,1139991),2,5,"L",+"4",0,"L",9,3,"L",2,5]];;}Z3k0.S0R0(6);this.points=[[+"951.62" != 9990?7180 == +"7084"?6352 != (+"9930",3104)?! !0:("800.56" - 0,954):"M":"j",+"1",5,"L",0,Z3k0.y0R0("6",0),"L",2,8,(2471,448.86) != (317,2052)?"L":(!1,"6.05e+3" | 4512),7,+"1","L",6,0,"L",Z3k0.O0R0("2",1866464000,Z3k0.S0R0(17)),6,"L",1,5]];;};e2D.inheritsFrom(e2D.Drawing.check,e2D.Drawing.shape);e2D.Drawing.star=function(){var J9j,o9j,F9j;J9j=- +"1251463981";o9j=1345700435;Z3k0.I3k0();F9j=2;for(var k9j=+"1";Z3k0.u1y(k9j.toString(),k9j.toString().length,82691) !== J9j;k9j++){this.name="star";F9j+=2;}if(Z3k0.x1y(F9j.toString(),F9j.toString().length,"23709" - 0) !== o9j){this.name="";}Z3k0.m0R0(23);this.dimension=[Z3k0.y0R0(2147483647,"12"),12];Z3k0.S0R0(14);this.points=[[(+"144.86",7010) !== "510.01" - 0?"M":6995 >= (+"8490",+"6830")?(923.45,+"0x9c6"):![],+"0",4,2013 <= ("393" | 1)?(! !1,0x2471):"L",4,4,(628,4460) < 1510?("n",!{}):(552,"9320" << 2129173920) >= 294.59?"L":"d",5.5,0,"L",7,Z3k0.O0R0("4",0),"L",11,Z3k0.O0R0(2147483647,"4",Z3k0.S0R0(23)),(+"9880",761.51) !== "7520" >> 1052691264?456.02 > (9260,5830)?(6.66e+3,5.53e+3):617 == 50.26?(347.14,688.08):"L":(! ![],"F"),+"8",+"7",7970 === (710,1885)?"c":1979 === (299.18,7880)?247.76 >= +"364.66"?("5.82e+3" * 1,0xfac):(638.66,423.39):"L",+"9",11,"L",5.5,9,"L",2,11,7725 == +"1301"?("2133" & 2147483647) != 1716?(+"4820",7990) != +"2709"?(656.51,4.82e+3):(! ![],3.53e+3):("v","a"):"L",3,7,"L",0,4]];;};e2D.inheritsFrom(e2D.Drawing.star,e2D.Drawing.shape);e2D.Drawing.heart=function(){var E1j;E1j="he";Z3k0.s3k0();E1j+="a";E1j+="r";E1j+="t";this.name=E1j;this.dimension=[+"23",20];Z3k0.S0R0(23);this.points=[[(4795,1370) > (704.22,2050)?(6.86e+3,0xca):"M",Z3k0.y0R0(2147483647,"11"),3,("468" >> 288974144,296) >= 684.07?(136,"O"):"B",11,2.4,+"10",0,6,0,"B",0,0,0,7.5,0,7.5,"B",0,11,+"4",15.4,Z3k0.O0R0(1462544256,"11",Z3k0.S0R0(2)),Z3k0.O0R0("19",0,Z3k0.m0R0(14)),"B",18,15.4,22,11,+"22",7.5,(7120,3904) !== 3983?(6833,1100) < 570.27?2.92e+3:(+"215.54",2564) >= 6623?(8.10e+3,!""):"B":(! !{},"f"),22,7.5,22,0,16,0,(7791,741.32) >= 399?"B":(507,6.78e+3),13,0,11,2.4,11,3]];;};e2D.inheritsFrom(e2D.Drawing.heart,e2D.Drawing.shape);e2D.Drawing.focusarrow=function(){this.name="focusarrow";Z3k0.S0R0(0);this.dimension=[7,Z3k0.y0R0("5",1)];Z3k0.m0R0(0);this.points=[[4230 > 398?4900 > 6060?8300 >= 10.99?! !"1":("u",+"5.06e+3"):"M":(! !"",6.76e+3),0,0,8570 == 728.78?! !1:"L",2,2,(572.27,339.12) == "703.26" * 1?! ![]:(1360,299.34) <= (+"9225",817.99)?"L":7592 == (7603,7988)?(!{},803.00):! !"",+"0",4,"L",0,0],[(7730,"289.46" - 0) <= (670,985.69)?"M":(989,939.39) == 3380?(564.10,6.34e+2):(2.96e+2,8.32e+3),Z3k0.y0R0("6",1),0,8757 >= (+"74",705)?"L":0x1e2,4,2,217.25 < +"158.98"?9107 !== (9990,939)?(4.04e+3,140.30):"O":"L",6,Z3k0.O0R0("4",119314016,Z3k0.S0R0(17)),(9905,9450) != ("105" | 73,"5510" * 1)?"164" >> 707290656 != (5265,1020)?(259.38,708.13) != (80,3690)?"L":(! ![],0x22d3):0x1837:(+"3.25e+3","z"),+"6",+"0"]];;};e2D.inheritsFrom(e2D.Drawing.focusarrow,e2D.Drawing.shape);e2D.Drawing.crossline=function(){this.name="crossline";};e2D.inheritsFrom(e2D.Drawing.crossline,e2D.Drawing.horizontal);e2D.extend(e2D.Drawing.crossline.prototype,{measure:function(){},accidentalClick:function(U4U,H4U){Z3k0.I3k0();return !{};},adjust:function(){var W4U;Z3k0.s3k0();W4U=this.stx.panels[this.panelName];if(!W4U){return;}this.setPoint(0,this.d0,this.v0,W4U.chart);this.p1=e2D.clone(this.p0);},intersected:function(q4U,p4U,P0U){var X1j,s4U,J1j;X1j="l";X1j+="i";X1j+="n";X1j+="e";if(!this.p0 || !this.p1){return null;}Z3k0.m0R0(0);this.p1[0]+=Z3k0.O0R0("1",1);s4U=this.lineIntersection(q4U,p4U,P0U,X1j);this.p1=e2D.clone(this.p0);if(!s4U){this.p1[1]+=1;s4U=this.lineIntersection(q4U,p4U,P0U,"line");this.p1=e2D.clone(this.p0);if(!s4U){return null;}}this.highlighted=! !1;if(this.pointIntersection(this.p0["0" ^ 0],this.p0[1],P0U)){J1j="p";J1j+="0";this.highlighted=J1j;}return {action:"move",p0:e2D.clone(this.p0),p1:e2D.clone(this.p1),tick:q4U,value:p4U};},render:function(k0U){Z3k0.I3k0();var T0U,A0U,y0U,D0U,I0U,l0U,c0U,g0U,C0U,v0U,j0U,K0U;T0U=this.stx.panels[this.panelName];if(!T0U){return;}A0U=this.stx.pixelFromTick(this.p0[0],T0U.chart);y0U=this.stx.pixelFromValueAdjusted(T0U,this.p0[0],this.p0[1]);D0U=this.getLineColor();I0U={pattern:this.pattern,lineWidth:this.lineWidth};Z3k0.S0R0(1);this.stx.plotLine(A0U,Z3k0.O0R0(100,A0U),y0U,y0U,D0U,"horizontal",k0U,T0U,I0U);Z3k0.S0R0(35);this.stx.plotLine(A0U,A0U,y0U,Z3k0.O0R0(y0U,"100"),D0U,"vertical",k0U,T0U,I0U);if(this.axisLabel && !this.repositioner){this.stx.endClip();l0U=this.p0[1];if(T0U.chart.transformFunc){l0U=T0U.chart.transformFunc(this.stx,T0U.chart,l0U);}if(T0U.yAxis.priceFormatter){l0U=T0U.yAxis.priceFormatter(this.stx,T0U,l0U);}else {l0U=this.stx.formatYAxisPrice(l0U,T0U);}this.stx.createYAxisLabel(T0U,l0U,y0U,D0U);this.stx.startClip(T0U.name);if(this.p0[0] >= +"0" && !this.stx.chart.xAxis.noDraw){c0U=this.stx.dateFromTick(this.p0["0" * 1],T0U.chart,!"");if(!e2D.ChartEngine.isDailyInterval(this.stx.layout.interval)){C0U=c0U.getSeconds() * 1000 + c0U.getMilliseconds();if(r2D.Date && this.stx.displayZone){g0U=new r2D.Date(c0U.getTime(),this.stx.displayZone);c0U=new Date(g0U.getFullYear(),g0U.getMonth(),g0U.getDate(),g0U.getHours(),g0U.getMinutes());c0U=new Date(c0U.getTime() + C0U);}}else {c0U.setHours(0,0,+"0",+"0");}v0U=e2D.mmddhhmm(e2D.yyyymmddhhmm(c0U));if(T0U.chart.xAxis.formatter){v0U=T0U.chart.xAxis.formatter(c0U,this.name,null,null,v0U);}else if(this.stx.internationalizer){if(c0U.getHours() !== 0 || c0U.getMinutes() !== 0){j0U=this.stx.internationalizer.monthDay.format(c0U);j0U+=" " + this.stx.internationalizer.hourMinute.format(c0U);}else {j0U=this.stx.internationalizer.yearMonthDay.format(c0U);}v0U=j0U;}this.stx.endClip();this.stx.createXAxisLabel(T0U,v0U,A0U,D0U,null,! !{});this.stx.startClip(T0U.name);}}if(this.highlighted){K0U=this.highlighted == "p0"?! !{}:![];this.littleCircle(k0U,A0U,y0U,K0U);}}},! !{});e2D.Drawing.speedarc=function(){var o1j;o1j="spee";Z3k0.I3k0();o1j+="d";o1j+="a";o1j+="rc";this.name=o1j;this.printLevels=! !1;};e2D.inheritsFrom(e2D.Drawing.speedarc,e2D.Drawing.segment);e2D.extend(e2D.Drawing.speedarc.prototype,{defaultOpacity:0.25,configs:[F1j,D1j,k1j,"pattern"],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;Z3k0.s3k0();this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;},intersected:function(o0U,Z0U,J0U){var f1j,B0U,x0U,z1j,X0U,t0U,E0U,i0U;f1j="m";f1j+="ove";if(!this.p0 || !this.p1){return null;}B0U={0:this.p0,1:this.p1};for(var Y0U in B0U){if(this.pointIntersection(B0U[Y0U][0],B0U[Y0U][1],J0U)){Z3k0.m0R0(1);this.highlighted=Z3k0.O0R0(Y0U,(2390,650.82) === (104.06,550)?485:+"110.93" > (6881,9630)?(0x34,!0):"p");return {action:"drag",point:((+"915.37","7530" << 820403328) > 242.42?"p":"P") + Y0U};}}x0U=this.lineIntersection(o0U,Z0U,J0U,this.name);if(x0U){z1j="m";z1j+="o";z1j+="v";z1j+="e";this.highlighted=! ![];return {action:z1j,p0:e2D.clone(this.p0),p1:e2D.clone(this.p1),tick:o0U,value:Z0U};}X0U=this.p1[0] - (this.p0[0] - this.p1[0]);t0U=this.p0[0];E0U=this.p1[1];i0U=this.p0[+"1"];if(o0U > Math.max(X0U,t0U) || o0U < Math.min(X0U,t0U)){return null;}if(Z0U > Math.max(i0U,E0U) || Z0U < Math.min(i0U,E0U)){return null;}this.highlighted=!"";return {action:f1j,p0:e2D.clone(this.p0),p1:e2D.clone(this.p1),tick:o0U,value:Z0U};},render:function(R0U){var Q1j,B1j,z0U,M0U,r0U,h0U,e0U,V0U,w0U,L0U,m0U,n0U,G0U,N0U,K1j,F0U,u0U,H1j,O0U,a0U,o0j,F0j,D0j;Q1j="se";Q1j+="gme";Q1j+="nt";B1j="au";B1j+="t";B1j+="o";z0U=this.stx.panels[this.panelName];if(!z0U){return;}if(!this.p1){return;}M0U=this.stx.pixelFromTick(this.p0[0],z0U.chart);r0U=this.stx.pixelFromTick(this.p1[0],z0U.chart);h0U=this.stx.pixelFromValueAdjusted(z0U,this.p0[+"0"],this.p0[1]);e0U=this.stx.pixelFromValueAdjusted(z0U,this.p1[0],this.p1[1]);Z3k0.S0R0(31);V0U=Z3k0.O0R0(h0U,e0U);Z3k0.m0R0(32);w0U=Math.abs(Z3k0.O0R0(e0U,M0U,h0U,r0U));L0U=this.getLineColor();Z3k0.I3k0();R0U.strokeStyle=L0U;m0U=this.fillColor;if(m0U == B1j || e2D.isTransparent(m0U)){m0U=this.stx.defaultColor;}R0U.fillStyle=m0U;if(R0U.setLineDash){R0U.setLineDash(e2D.borderPatternToArray(this.lineWidth,this.pattern));R0U.lineDashOffset=+"0";;}this.stx.canvasFont("stx_yaxis",R0U);for(var f0U=1;f0U < +"3";f0U++){n0U=Math.abs(this.p1[1] - this.p0[1]) * Math.sqrt(2) * f0U / 3;G0U=this.p1[1] + n0U * (V0U?-1:1) * (z0U.yAxis.flipped?-1:1);N0U=this.stx.pixelFromValueAdjusted(z0U,this.p0[0],G0U);R0U.save();R0U.beginPath();Z3k0.S0R0(7);R0U.scale(Z3k0.O0R0(w0U,1),1);Z3k0.m0R0(0);R0U.arc(Z3k0.O0R0(r0U,w0U),e0U,Math.abs(N0U - e0U),0,Math.PI,!V0U);R0U.globalAlpha=this.highlighted?1:this.defaultOpacity;if(this.pattern != "none"){R0U.stroke();}R0U.globalAlpha=0.1;R0U.fill();R0U.restore();Z3k0.m0R0(17);R0U.globalAlpha=Z3k0.O0R0("1",2103221472);if(this.printLevels){K1j="c";K1j+="ent";K1j+="e";K1j+="r";R0U.fillStyle=L0U;R0U.textAlign=K1j;Z3k0.m0R0(1);F0U=Z3k0.O0R0("/3",f0U);R0U.fillText(F0U,r0U,Math.round(N0U - +"5"));R0U.fillStyle=m0U;}}R0U.textAlign="left";u0U={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};this.stx.plotLine(M0U,r0U,h0U,e0U,L0U,Q1j,R0U,z0U,u0U);if(R0U.setLineDash){R0U.setLineDash([]);}if(this.highlighted){H1j="p";H1j+="1";O0U=this.highlighted == "p0"?! ![]:![];a0U=this.highlighted == H1j?! ![]:! !"";this.littleCircle(R0U,M0U,h0U,O0U);o0j=462074504;Z3k0.m0R0(6);F0j=-Z3k0.O0R0("1840971404",0);D0j=2;for(var z0j=1;Z3k0.u1y(z0j.toString(),z0j.toString().length,"5187" & 2147483647) !== o0j;z0j++){this.littleCircle(R0U,r0U,e0U,a0U);Z3k0.S0R0(10);D0j+=Z3k0.O0R0("2",0);}if(Z3k0.u1y(D0j.toString(),D0j.toString().length,57750) !== F0j){this.littleCircle(R0U,r0U,e0U,a0U);}this.littleCircle(R0U,r0U,e0U,a0U);}},reconstruct:function(d0U,Q0U){this.stx=d0U;this.color=Q0U.col;this.fillColor=Q0U.fc;this.panelName=Q0U.pnl;this.pattern=Q0U.ptrn;this.lineWidth=Q0U.lw;this.d0=Q0U.d0;this.d1=Q0U.d1;this.tzo0=Q0U.tzo0;this.tzo1=Q0U.tzo1;this.v0=Q0U.v0;this.v1=Q0U.v1;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};}},! !1);e2D.Drawing.speedline=function(){this.name="speedline";this.printLevels=! !{};};e2D.inheritsFrom(e2D.Drawing.speedline,e2D.Drawing.speedarc);e2D.extend(e2D.Drawing.speedline.prototype,{intersected:function(q0U,p0U,T6U){var U0U,H0U,W0U,s0U,b1j;U0U=this.p0;H0U=this.p1;if(!U0U || !H0U){return null;}W0U={0:U0U,1:H0U};for(var S0U in W0U){if(this.pointIntersection(W0U[S0U][0],W0U[S0U][1],T6U)){Z3k0.m0R0(1);this.highlighted=Z3k0.O0R0(S0U,8834 == (8611,8960)?0x194d:(958,4220) < (+"7270",7812)?469.99 > 696.15?(0x1c78,+"0x30f"):"p":! !1);return {action:"drag",point:(476.27 !== 5775?114.84 == (+"221.06",9777)?(!1,! !{}):"p":("z","0x243c" & 2147483647)) + S0U};}}s0U=this.rays;for(var b0U=0;b0U < s0U.length;b0U++){if(this.lineIntersection(q0U,p0U,T6U,"ray",s0U[b0U][0],s0U[b0U][1],! !{})){b1j="m";b1j+="ove";this.highlighted=! !{};return {action:b1j,p0:e2D.clone(U0U),p1:e2D.clone(H0U),tick:q0U,value:p0U};}}return null;},render:function(c6U){var h1j,Y1j,Y6U,D6U,o6U,I6U,X6U,S6U,R6U,r6U,U6U,p6U,P7U,G6U,d6U,Z6U,t6U,e6U,L6U,i6U,f6U,N6U,n6U,a1j,S1j,I1j,R1j,T7U,c7U;h1j="le";h1j+="f";h1j+="t";Y1j="3";Y1j+="/";Y1j+="2";Y6U=this.stx.panels[this.panelName];if(!Y6U){return;}if(!this.p1){return;}D6U=this.stx.pixelFromTick(this.p0[0],Y6U.chart);o6U=this.stx.pixelFromTick(this.p1[0],Y6U.chart);I6U=this.stx.pixelFromValueAdjusted(Y6U,this.p0[0],this.p0[1]);X6U=this.stx.pixelFromValueAdjusted(Y6U,this.p1[+"0"],this.p1[1]);this.stx.canvasFont("stx_yaxis",c6U);S6U=this.getLineColor();R6U=this.color;if(R6U == "auto" || e2D.isTransparent(R6U)){R6U=this.stx.defaultColor;}c6U.strokeStyle=R6U;r6U=this.fillColor;if(r6U == "auto" || e2D.isTransparent(r6U)){r6U=this.stx.defaultColor;}c6U.fillStyle=r6U;U6U={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};G6U=[(126.2,5490) <= (7530,"8830" & 2147483647)?(436.44,9172) > (735,401.78)?+"885.45" != 887?"1":(!{},8.24e+3):("H",104.16):0x225f,"2/3","1/3",Y1j,9978 != (1630,9304)?"3":5150 < ("9419" ^ 0,"4490" * 1)?"u":("0x2457" << 56894528,"69.31" * 1)];Z3k0.m0R0(7);d6U=[1,Z3k0.O0R0(3,2),Z3k0.y0R0(122242528,1,"3",Z3k0.m0R0(36)),Z3k0.y0R0("2",0,3,Z3k0.m0R0(37)),+"3"];Z6U=[];this.rays=[];for(var h6U=+"0";h6U < d6U.length;h6U++){t6U=d6U[h6U];if(t6U > 1 && !this.extension)continue;e6U=this.stx.pixelFromValueAdjusted(Y6U,this.p0["0" * 1],this.p0["1" - 0] - (this.p0[1] - this.p1[1]) * t6U);if(t6U > 1){L6U=e2D.xIntersection({x0:D6U,x1:o6U,y0:I6U,y1:e6U},X6U);Z6U.push(L6U);}else {L6U=e2D.xIntersection({x0:o6U,x1:o6U,y0:I6U,y1:X6U},e6U);Z6U.push(e6U);}i6U=t6U > 1?L6U:o6U;f6U=t6U > 1?X6U:e6U;if(!this.confineToGrid){i6U=Y6U.left;if(o6U > D6U){i6U+=Y6U.width;}Z3k0.m0R0(34);f6U=Z3k0.O0R0(i6U,D6U,D6U,I6U,o6U,e6U,I6U);}if(this.printLevels){if(t6U != 1 || this.extension){c6U.fillStyle=R6U;N6U=0;n6U=0;if(I6U > X6U){a1j="bott";a1j+="o";a1j+="m";n6U=-5;c6U.textBaseline=a1j;}else {S1j="t";S1j+="o";S1j+="p";n6U=5;c6U.textBaseline=S1j;}if(D6U > o6U){N6U=5;c6U.textAlign="right";}else {I1j="l";I1j+="ef";I1j+="t";N6U=-5;c6U.textAlign=I1j;}if(t6U > 1){c6U.fillText(G6U[h6U],L6U + (this.confineToGrid?0:N6U),X6U);}else {c6U.fillText(G6U[h6U],o6U,e6U + (this.confineToGrid?+"0":n6U));}c6U.fillStyle=r6U;}}this.stx.plotLine(D6U,i6U,I6U,f6U,this.highlighted?S6U:R6U,"segment",c6U,Y6U,U6U);if(t6U == 1){p6U=i6U;P7U=f6U;}this.rays.push([[D6U,I6U],[i6U,f6U]]);c6U.globalAlpha=+"0.1";c6U.beginPath();c6U.moveTo(i6U,f6U);c6U.lineTo(D6U,I6U);c6U.lineTo(p6U,P7U);c6U.fill();c6U.globalAlpha=1;}c6U.textAlign=h1j;c6U.textBaseline="middle";if(this.confineToGrid){c6U.globalAlpha=0.3;c6U.beginPath();Z3k0.S0R0(6);c6U.strokeRect(D6U,I6U,Z3k0.O0R0(o6U,D6U),Z3k0.y0R0(X6U,I6U));c6U.moveTo(D6U,Z6U[1]);c6U.lineTo(o6U,Z6U["1" >> 1624616896]);c6U.moveTo(D6U,Z6U[2]);c6U.lineTo(o6U,Z6U[2]);if(this.extension){c6U.moveTo(Z6U[3],I6U);c6U.lineTo(Z6U[3],X6U);c6U.moveTo(Z6U[4],I6U);c6U.lineTo(Z6U[4],X6U);}c6U.stroke();c6U.globalAlpha=1;}if(this.highlighted){R1j="p";R1j+="0";T7U=this.highlighted == R1j?!"":! !"";c7U=this.highlighted == "p1"?! !"1":!1;this.littleCircle(c6U,D6U,I6U,T7U);this.littleCircle(c6U,o6U,X6U,c7U);}}},! ![]);e2D.Drawing.gannfan=function(){this.name="gannfan";this.printLevels=! !{};};e2D.inheritsFrom(e2D.Drawing.gannfan,e2D.Drawing.speedline);e2D.extend(e2D.Drawing.gannfan.prototype,{render:function(l7U){var g7U,A7U,D7U,y7U,C7U,t7U,v7U,I7U,E7U,i7U,J7U,B7U,j7U,x7U,X7U,k7U,K7U,Z7U,Y7U,j1j,N1j,R7U,z7U;g7U=this.stx.panels[this.panelName];if(!g7U){return;}if(!this.p1){return;}A7U=this.stx.pixelFromTick(this.p0[0],g7U.chart);D7U=this.stx.pixelFromTick(this.p1[0],g7U.chart);y7U=this.stx.pixelFromValueAdjusted(g7U,this.p0["0" | 0],this.p0[1]);C7U=this.stx.pixelFromValueAdjusted(g7U,this.p1[0],this.p1[1]);this.stx.canvasFont("stx_yaxis",l7U);t7U=this.getLineColor();v7U=this.color;if(v7U == "auto" || e2D.isTransparent(v7U)){v7U=this.stx.defaultColor;}l7U.strokeStyle=v7U;I7U=this.fillColor;if(I7U == "auto" || e2D.isTransparent(I7U)){I7U=this.stx.defaultColor;}l7U.fillStyle=I7U;E7U={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};Z3k0.S0R0(38);B7U=[1,2,3,+"4",8,Z3k0.y0R0(0,1,"2"),Z3k0.O0R0(3,1,Z3k0.S0R0(7)),Z3k0.O0R0(4,"1",Z3k0.m0R0(39)),Z3k0.O0R0("1",955515808,8,Z3k0.m0R0(40))];this.rays=[];for(var o7U=0;o7U < B7U.length;o7U++){j7U=B7U[o7U];Z3k0.S0R0(41);x7U=Z3k0.O0R0(A7U,A7U,D7U,j7U);Z3k0.m0R0(42);X7U=Z3k0.y0R0(y7U,y7U,j7U,C7U);k7U=g7U.left;if(D7U > A7U){k7U+=g7U.width;}Z3k0.S0R0(34);K7U=Z3k0.O0R0(k7U,A7U,A7U,y7U,D7U,X7U,y7U);if(this.printLevels){l7U.fillStyle=v7U;Z7U=0;Y7U=0;if(y7U > C7U){Y7U=5;l7U.textBaseline="top";}else {j1j="bo";j1j+="t";j1j+="tom";Y7U=-5;l7U.textBaseline=j1j;}if(A7U > D7U){Z7U=5;l7U.textAlign="left";}else {Z7U=-5;l7U.textAlign="right";}if(j7U > "1" - 0){N1j="x";N1j+="1";Z3k0.S0R0(1);l7U.fillText(Z3k0.O0R0(N1j,j7U),Z3k0.y0R0(Z7U,x7U),C7U);}else {Z3k0.m0R0(25);l7U.fillText(Z3k0.y0R0("1x",j7U,1),D7U,Z3k0.y0R0(Y7U,X7U,Z3k0.S0R0(1)));}l7U.fillStyle=I7U;}this.stx.plotLine(A7U,k7U,y7U,K7U,this.highlighted?t7U:v7U,"segment",l7U,g7U,E7U);this.rays.push([[A7U,y7U],[k7U,K7U]]);if(j7U == 1){i7U=k7U;J7U=K7U;}l7U.globalAlpha=0.1;l7U.beginPath();l7U.moveTo(k7U,K7U);l7U.lineTo(A7U,y7U);l7U.lineTo(i7U,J7U);l7U.fill();l7U.globalAlpha=+"1";}l7U.textAlign="left";l7U.textBaseline="middle";if(this.highlighted){R7U=this.highlighted == "p0"?! !{}:!1;z7U=this.highlighted == "p1"?! !{}:!{};this.littleCircle(l7U,A7U,y7U,R7U);this.littleCircle(l7U,D7U,C7U,z7U);}}},!"");e2D.Drawing.timecycle=function(){Z3k0.s3k0();this.name="timecycle";this.printLevels=!0;};e2D.inheritsFrom(e2D.Drawing.timecycle,e2D.Drawing.speedarc);e2D.extend(e2D.Drawing.timecycle.prototype,{intersected:function(M7U,L7U,m7U){var c1j,e7U,h7U,V7U,f7U,w7U;c1j="seg";c1j+="m";c1j+="ent";e7U=this.p0;h7U=this.p1;V7U=this.stx.panels[this.panelName];if(!e7U || !h7U || !V7U){return null;}f7U={0:e7U,1:h7U};for(var r7U in f7U){if(this.pointIntersection(f7U[r7U][0],f7U[r7U][1],m7U)){Z3k0.m0R0(1);this.highlighted=Z3k0.y0R0(r7U,(3085,2050) >= 8050?911.00:543 === 8475?! !"":1882 === ("7430" ^ 0)?+"4.88e+3":"p");return {action:"drag",point:(8260 !== 46.44?"p":(960,172) <= 7492?(6470,9310) !== ("7898" >> 934191296,+"4910")?0x1696:! !0:(8.03e+3,0x1982)) + r7U};}}w7U=this.lineIntersection(M7U,L7U,m7U,c1j);if(w7U || m7U.x0 <= this.p0[0] && m7U.x1 >= e7U[0]){this.highlighted=! !{};return {action:"move",p0:e2D.clone(e7U),p1:e2D.clone(h7U),tick:M7U,value:L7U};}return null;},render:function(N7U){var s1j,n7U,F7U,d7U,H7U,W7U,b7U,s7U,j5U,q7U,G7U,p7U,a7U,Q7U,S7U,g5U,u7U,U7U,K5U,E5U,x5U,v5U;s1j="le";s1j+="f";s1j+="t";n7U=this.stx.panels[this.panelName];if(!n7U){return;}if(!this.p1){return;}F7U=this.stx.pixelFromTick(this.p0[+"0"],n7U.chart);d7U=this.stx.pixelFromTick(this.p1[0],n7U.chart);H7U=this.stx.pixelFromValueAdjusted(n7U,this.p0[0],this.p0[1]);W7U=this.stx.pixelFromValueAdjusted(n7U,this.p1["0" - 0],this.p1[1]);Z3k0.S0R0(23);b7U=Z3k0.O0R0(2147483647,"0");s7U=this.getLineColor();N7U.textBaseline="middle";this.stx.canvasFont("stx_yaxis",N7U);j5U=20;q7U=this.p1[0] - this.p0[0];N7U.textAlign="center";G7U=F7U;p7U=n7U.yAxis.top;a7U=n7U.yAxis.bottom;Q7U=this.color;if(Q7U == "auto" || e2D.isTransparent(Q7U)){Q7U=this.stx.defaultColor;}S7U=this.fillColor;if(S7U == "auto" || e2D.isTransparent(S7U)){S7U=this.stx.defaultColor;}if(this.printLevels){Z3k0.m0R0(6);a7U-=Z3k0.O0R0(j5U,7);}g5U={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};u7U=[];N7U.save();N7U.fillStyle=S7U;N7U.globalAlpha=0.05;do {G7U=this.stx.pixelFromTick(this.p0[0] + b7U * q7U,n7U.chart);b7U++;if(F7U < d7U && G7U > n7U.left + n7U.width)break;else if(F7U > d7U && G7U < n7U.left)break;else if(G7U < n7U.left || G7U > n7U.left + n7U.width)continue;N7U.beginPath();N7U.moveTo(F7U,p7U);N7U.lineTo(G7U,p7U);N7U.lineTo(G7U,a7U);N7U.lineTo(F7U,a7U);N7U.fill();u7U.push({c:b7U,x:G7U});}while(q7U);N7U.globalAlpha=1;U7U=0;for(var O7U=0;O7U < u7U.length;O7U++){this.stx.plotLine(u7U[O7U].x,u7U[O7U].x,0,a7U,this.highlighted?s7U:Q7U,"segment",N7U,n7U,g5U);if(this.printLevels){N7U.fillStyle=Q7U;K5U=this.stx.chart.context.measureText(u7U[O7U].c).width + 3;if(K5U < this.stx.layout.candleWidth + U7U){N7U.fillText(u7U[O7U].c,u7U[O7U].x,a7U + ("7" | 2));U7U=0;}else {U7U+=this.stx.layout.candleWidth;}}}N7U.restore();N7U.textAlign=s1j;this.stx.plotLine(F7U,d7U,H7U,W7U,s7U,"segment",N7U,n7U,g5U);if(this.highlighted){E5U=this.highlighted == "p0"?!"":! !"";x5U=this.highlighted == "p1"?! !1:! !"";this.littleCircle(N7U,F7U,H7U,E5U);this.littleCircle(N7U,d7U,W7U,x5U);}else {v5U=this.stx.valueFromPixel(n7U.height / 2,n7U);this.setPoint(0,this.p0["0" ^ 0],v5U,n7U.chart);this.setPoint(1,this.p1[0],v5U,n7U.chart);}}},! ![]);e2D.Drawing.regression=function(){this.name="regression";};e2D.inheritsFrom(e2D.Drawing.regression,e2D.Drawing.segment);e2D.extend(e2D.Drawing.regression.prototype,{configs:["color","lineWidth","pattern","active1",q1j,"lineWidth1",r1j,M1j,"color2","lineWidth2","pattern2",w1j,"color3",C1j,"pattern3"],copyConfig:function(M5U){var L1j,z5U;L1j="aut";L1j+="o";e2D.Drawing.copyConfig(this,M5U);z5U=this.stx.currentVectorParameters;this.active1=! !z5U.active1;this.active2=! !z5U.active2;this.active3=! !z5U.active3;this.color1=z5U.color1 || "auto";this.color2=z5U.color2 || "auto";this.color3=z5U.color3 || L1j;this.lineWidth1=z5U.lineWidth1;this.lineWidth2=z5U.lineWidth2;this.lineWidth3=z5U.lineWidth3;this.pattern1=z5U.pattern1;this.pattern2=z5U.pattern2;Z3k0.s3k0();this.pattern3=z5U.pattern3;},$controls:['cq-cvp-controller[cq-cvp-header="1"]','cq-cvp-controller[cq-cvp-header="2"]','cq-cvp-controller[cq-cvp-header="3"]'],click:function(T9U,u5U,O5U){var w5U,V5U,a5U,s5U;if(u5U < 0){return;}this.copyConfig();Z3k0.s3k0();w5U=this.stx.panels[this.panelName];if(!this.penDown){this.setPoint(0,u5U,O5U,w5U.chart);this.penDown=! !{};V5U=this.stx;this.field=V5U.highlightedDataSetField;if(!this.field && w5U != V5U.chart.panel){for(var q5U in V5U.chart.seriesRenderers){a5U=V5U.chart.seriesRenderers[q5U];if(a5U.params.panel == w5U.name){this.field=a5U.seriesParams[0].field;break;}}for(var P9U in V5U.layout.studies){s5U=V5U.layout.studies[P9U];if(s5U.panel == w5U.name){this.field=Object.keys(s5U.outputMap)[0];break;}}}return ! !0;}if(this.accidentalClick(u5U,O5U)){return this.dragToDraw;}this.setPoint(1,u5U,O5U,w5U.chart);this.penDown=! !0;return ! ![];;},getYValue:function(v9U){var A9U,y9U,g9U,j9U,l9U,c9U,D9U;A9U=this.stx.chart.dataSet[v9U];y9U=this.stx.chart.dataSet[v9U];if(!A9U){return null;}g9U=this.stx.panels[this.panelName];j9U=this.stx.getYAxisByField(g9U,this.field) || g9U.yAxis;if(this.stx.charts[g9U.name] && g9U.chart.transformFunc && j9U == g9U.yAxis){y9U=A9U.transform;}if(!y9U){return null;}l9U=null;c9U=null;D9U=this.stx.defaultPlotField || "Close";if(this.field){c9U=e2D.existsInObjectChain(y9U,this.field);if(!c9U){return null;}l9U=c9U=c9U.obj[c9U.member];if(A9U != y9U){l9U=e2D.existsInObjectChain(A9U,this.field);l9U=l9U.obj[l9U.member];}if(typeof c9U == "object"){c9U=c9U[D9U];l9U=l9U[D9U];}}else {c9U=y9U[D9U];l9U=A9U[D9U];}return {transformed:c9U,untransformed:l9U};},render:function(B9U){var v1j,I9U,K9U,o9U,r9U,X9U,m9U,t9U,J9U,w9U,N9U,n9U,G9U,x9U,h9U,k9U,Z9U,F9U,u9U,R9U,z9U,O9U,e9U,f9U,M9U,E9U,i9U,L9U,V9U,Q9U,a9U,d9U,Y9U,y1j,S9U,b9U;v1j="s";v1j+="egment";I9U=this.stx.panels[this.panelName];if(!I9U){return;}if(!this.p1){return;}if(this.p0["0" & 2147483647] < 0 || this.p1[0] < 0){return;}K9U=this.stx.pixelFromTick(this.p0[0],I9U.chart);o9U=this.stx.pixelFromTick(this.p1[0],I9U.chart);if(K9U < I9U.left && o9U < I9U.left){return;}if(K9U > I9U.right && o9U > I9U.right){return;}r9U=this.stx.getYAxisByField(I9U,this.field);X9U=[];m9U=[];t9U=0;J9U=0;Z3k0.m0R0(2);w9U=Z3k0.O0R0(586539872,"0");N9U=0;n9U=Math.min(this.p1[0],this.p0[0]);G9U=Math.max(this.p1[0],this.p0[0]) + 1;Z3k0.S0R0(6);x9U=Z3k0.y0R0(G9U,n9U);for(var C9U=n9U;C9U < G9U;C9U++){h9U=this.getYValue(C9U);if(h9U){X9U.push(h9U.transformed);m9U.push(h9U.untransformed);}}k9U=X9U.length;Z3k0.m0R0(43);Z9U=Z3k0.O0R0(k9U,1440674304,"1",k9U,2);F9U=Math.pow(Z9U,2);Z3k0.m0R0(44);u9U=Z3k0.y0R0(3,Z9U,k9U,2,1);for(C9U=+"0";C9U < k9U;C9U++){w9U+=k9U * X9U[C9U] - t9U;t9U+=X9U[C9U];N9U+=k9U * m9U[C9U] - J9U;J9U+=m9U[C9U];}Z3k0.S0R0(45);R9U=Z3k0.O0R0(k9U,k9U,w9U,u9U,F9U,Z9U,t9U);Z3k0.m0R0(46);z9U=Z3k0.O0R0(Z9U,t9U,k9U,R9U);Z3k0.m0R0(45);O9U=Z3k0.y0R0(k9U,k9U,N9U,u9U,F9U,Z9U,J9U);Z3k0.S0R0(46);e9U=Z3k0.O0R0(Z9U,J9U,k9U,R9U);if(this.p0[0] < this.p1[0]){f9U=z9U;Z3k0.m0R0(47);M9U=Z3k0.y0R0(R9U,x9U,z9U);this.p0[1]=e9U;Z3k0.m0R0(47);this.p1[1]=Z3k0.y0R0(O9U,x9U,e9U);}else {Z3k0.S0R0(47);f9U=Z3k0.O0R0(R9U,x9U,z9U);M9U=z9U;Z3k0.S0R0(47);this.p0[1]=Z3k0.y0R0(O9U,x9U,e9U);this.p1[1]=e9U;}E9U=this.stx.pixelFromTransformedValue(f9U,I9U,r9U);i9U=this.stx.pixelFromTransformedValue(M9U,I9U,r9U);Z3k0.I3k0();L9U=this.getLineColor();V9U={pattern:this.pattern,lineWidth:this.lineWidth};this.stx.plotLine(K9U,o9U,E9U,i9U,L9U,v1j,B9U,I9U,V9U);Z3k0.m0R0(6);this.stx.plotLine(K9U,K9U,Z3k0.O0R0(E9U,20),Z3k0.y0R0(20,E9U,Z3k0.m0R0(1)),L9U,"segment",B9U,I9U,V9U);Z3k0.m0R0(6);this.stx.plotLine(o9U,o9U,Z3k0.y0R0(i9U,20),Z3k0.y0R0(20,i9U,Z3k0.S0R0(1)),L9U,"segment",B9U,I9U,V9U);if(this.active1 || this.active2 || this.active3){Z3k0.S0R0(7);Q9U=Z3k0.y0R0(k9U,t9U);a9U=0;for(C9U=0;C9U < k9U;C9U++){a9U+=Math.pow(X9U[C9U] - Q9U,2);}Z3k0.S0R0(7);d9U=Math.sqrt(Z3k0.y0R0(k9U,a9U));Y9U={context:B9U,panel:I9U,points:{0:{x:K9U,v:f9U},1:{x:o9U,v:M9U}},stddev:d9U,yAxis:r9U};this.lines={};if(this.active1){this.renderStddev("1",(525.42,119.2) >= 532.08?5.58e+3:4920 === (509.29,106)?0x262d:"p",Y9U);this.renderStddev(6755 === (2530,6187)?"C":"1",("9477" | 1025,4808) == 3320?("J",57.78):(9250,857.9) == (303.25,+"388.84")?(2.69e+3,0x661):"n",Y9U);}if(this.active2){this.renderStddev((32.5,5780) == 2260?522.29 !== (341,+"3582")?+"649" < 5745?"S":("a",648.41):(! !0,0x12a9):"2","p",Y9U);this.renderStddev((3236,3575) != (6531,6260)?5310 > 193.43?"2":7.26e+3:!{},"n",Y9U);}if(this.active3){this.renderStddev("3",492.14 > ("8600" ^ 0)?(70.69,! !"1"):(3350,1659) <= 3340?"p":("2175" & 2147483647,1190) >= (4273,7263)?5.80e+1:! ![],Y9U);this.renderStddev((+"9768","2691" & 2147483647) !== (6740,478.41)?"3":("Z",699.55),(9290,5159) > 6940?989.41 >= 430?(0x276,877.50):867:"n",Y9U);}}if(!this.highlighted){this.pixelX=[K9U,o9U];this.pixelY=[E9U,i9U];}else {y1j="p";y1j+="0";S9U=this.highlighted == y1j?! ![]:! !"";b9U=this.highlighted == "p1"?! !"1":!"1";this.littleCircle(B9U,K9U,E9U,S9U);this.littleCircle(B9U,o9U,i9U,b9U);}},renderStddev:function(P3p,k3p,T3p){var d1j,g3p,I3p,C3p,K3p,c3p,D3p,v3p,A3p,y3p,s9U,H9U,l3p,U9U,W9U,q9U,p9U,o3p,Z3p,j3p,Y3p;d1j="c";d1j+="ol";d1j+="o";d1j+="r";Z3k0.m0R0(48);g3p=Z3k0.O0R0(P3p,"stddev",k3p);Z3k0.S0R0(1);I3p=Z3k0.y0R0(P3p,d1j);Z3k0.m0R0(1);C3p=Z3k0.O0R0(P3p,"pattern");Z3k0.S0R0(1);K3p=Z3k0.O0R0(P3p,"lineWidth");c3p=T3p.points;D3p=c3p[0].v;v3p=c3p[1].v;A3p=T3p.stddev;y3p=k3p === "n"?P3p * -1:P3p * 1;s9U=this.stx;H9U=T3p.panel;l3p=T3p.yAxis;U9U={name:g3p,color:this.getLineColor(this[I3p]),type:"segment",y0:s9U.pixelFromTransformedValue(D3p + A3p * y3p,H9U,l3p),y1:s9U.pixelFromTransformedValue(v3p + A3p * y3p,H9U,l3p),params:{pattern:this[C3p],lineWidth:this[K3p]}};if(this.lines){this.lines[g3p]=U9U;}W9U=T3p.context;q9U=c3p[0].x;p9U=c3p["1" >> 1938408192].x;s9U.plotLine(q9U,p9U,U9U.y0,U9U.y1,U9U.color,U9U.type,W9U,H9U,U9U.params);s9U.plotLine(q9U,q9U,U9U.y0 - 10,U9U.y0 + 10,U9U.color,U9U.type,W9U,H9U,U9U.params);Z3k0.s3k0();s9U.plotLine(p9U,p9U,U9U.y1 - 10,U9U.y1 + 10,U9U.color,U9U.type,W9U,H9U,U9U.params);Z3k0.m0R0(1);o3p=Z3k0.y0R0((2073,6960) <= 30.51?(776.18,"2387" & 2147483647) < (80,180.24)?(0xc9,0x9c1):(159.38,651.77) <= (8800,9020)?("x",685.44):("0x6e0" & 2147483647,0xec9):"\u03c3",P3p);Z3p=Math.max(q9U,p9U) + "5" * 1;j3p=q9U < p9U?U9U.y1:U9U.y0;W9U.fillStyle=U9U.color;W9U.save();W9U.textBaseline="middle";W9U.fillText(o3p,Z3p,j3p);W9U.restore();if(T3p.formatPrice && this.axisLabel && !this.highlighted && !this.penDown){if(q9U >= H9U.chart.left && q9U <= H9U.chart.right || p9U >= H9U.chart.left && p9U <= H9U.chart.right){Z3k0.S0R0(12);Y3p=Z3k0.O0R0(q9U < p9U?v3p:D3p,A3p,y3p);s9U.endClip();s9U.createYAxisLabel(H9U,T3p.formatPrice(Y3p,l3p),j3p,U9U.color,null,W9U,l3p);s9U.startClip(H9U.name);}}},intersected:function(t3p,E3p,z3p){var i3p,J3p,x3p,e3p,r3p,R3p,X3p,n1j;if(!this.pixelX || !this.pixelY){return null;}i3p=this.repositionIntersection(t3p,E3p);if(i3p){return i3p;}J3p={0:this.pixelX,1:this.pixelY};for(var B3p="0" & 2147483647;B3p < "2" << 1010693536;B3p++){if(this.pointIntersection(J3p[0][B3p],J3p[1][B3p],z3p,! !{})){Z3k0.S0R0(1);this.highlighted=Z3k0.y0R0(B3p,4110 >= (3850,6491)?2.13e+3:(385.85,+"1110") < (+"2760",4810)?+"583.14" !== (161.86,57)?"p":8.48e+3:+"553.14");return {action:"drag",point:"p" + B3p};}}x3p=this;e3p=this.pixelX[0];r3p=this.pixelX[1];R3p=function(h3p){var f3p,M3p;f3p=[e3p,h3p.y0];M3p=[r3p,h3p.y1];return x3p.lineIntersection(t3p,E3p,z3p,x3p.name,f3p,M3p,!0);};X3p=R3p({y0:this.pixelY[0],y1:this.pixelY["1" & 2147483647]});if(!X3p && this.lines){for(var m3p in this.lines){if(R3p(this.lines[m3p])){X3p=!"";break;}}}if(X3p){n1j="m";n1j+="o";n1j+="ve";this.highlighted=! !{};return {action:n1j,p0:e2D.clone(this.p0),p1:e2D.clone(this.p1),tick:t3p,value:E3p};}return null;},repositionIntersection:function(L3p,V3p){var G1j;if(!this.p0 || !this.p1){return !{};}if(this == this.stx.repositioningDrawing && this.highlighted){G1j="d";G1j+="rag";if(this.highlighted === ! !{}){return {action:"move",p0:e2D.clone(this.p0),p1:e2D.clone(this.p1),tick:L3p,value:V3p};}return {action:G1j,point:this.highlighted};}return !1;},lineIntersection:function(Q3p,d3p,u3p,O3p,N3p,n3p,a3p){var m1j,F3p,g9j,A9j,x9j,w3p,G3p;if(!a3p){m1j=" lineIntersec";m1j+="tion must accept p0 and p1 in pixels.  Please verify and set isPixels=true.";Z3k0.m0R0(1);console.log(Z3k0.O0R0(m1j,O3p));return !1;}if(!N3p){N3p=this.p0;}if(!n3p){n3p=this.p1;}if(!(N3p && n3p)){return !{};}F3p=this.stx;g9j=-567904059;A9j=238752351;x9j=2;for(var W9j=+"1";Z3k0.u1y(W9j.toString(),W9j.toString().length,20431) !== g9j;W9j++){w3p=e2D.convertBoxToPixels(F3p,this.panelName,u3p);x9j+=2;}if(Z3k0.x1y(x9j.toString(),x9j.toString().length,28661) !== A9j){w3p=e2D.convertBoxToPixels(F3p,this.panelName,u3p);}w3p=e2D.convertBoxToPixels(F3p,this.panelName,u3p);if(w3p.x0 === undefined){return !{};}G3p={x0:N3p[+"0"],x1:n3p[0],y0:N3p[1],y1:n3p[1]};return e2D.boxIntersects(w3p.x0,w3p.y0,w3p.x1,w3p.y1,G3p.x0,G3p.y0,G3p.x1,G3p.y1);},boxIntersection:function(b3p,U3p,S3p){var h0j,R0j,j0j;if(S3p.cx0 > Math.max(this.pixelX[0],this.pixelX[1]) || S3p.cx1 < Math.min(this.pixelX[0],this.pixelX[+"1"])){return !1;}if(!this.stx.repositioningDrawing && (S3p.cy1 < this.pixelY[0] || S3p.cy0 > this.pixelY[1])){return !"1";}h0j=300520790;Z3k0.S0R0(6);R0j=Z3k0.O0R0("1120032174",0);j0j=2;for(var c0j=1;Z3k0.u1y(c0j.toString(),c0j.toString().length,31967) !== h0j;c0j++){return ! !"";}if(Z3k0.u1y(j0j.toString(),j0j.toString().length,"29147" - 0) !== R0j){return !"";}},reconstruct:function(W3p,H3p){this.stx=W3p;this.color=H3p.col;this.color1=H3p.col1;this.color2=H3p.col2;this.color3=H3p.col3;this.active1=H3p.dev1;this.active2=H3p.dev2;this.active3=H3p.dev3;this.panelName=H3p.pnl;this.pattern=H3p.ptrn;Z3k0.I3k0();this.pattern1=H3p.ptrn1;this.pattern2=H3p.ptrn2;this.pattern3=H3p.ptrn3;this.lineWidth=H3p.lw;this.lineWidth1=H3p.lw1;this.lineWidth2=H3p.lw2;this.lineWidth3=H3p.lw3;this.d0=H3p.d0;this.d1=H3p.d1;this.tzo0=H3p.tzo0;this.tzo1=H3p.tzo1;this.field=H3p.fld;this.adjust();},serialize:function(){Z3k0.s3k0();return {name:this.name,pnl:this.panelName,dev1:this.active1,dev2:this.active2,dev3:this.active3,col:this.color,col1:this.color1,col2:this.color2,col3:this.color3,ptrn:this.pattern,ptrn1:this.pattern1,ptrn2:this.pattern2,ptrn3:this.pattern3,lw:this.lineWidth,lw1:this.lineWidth1,lw2:this.lineWidth2,lw3:this.lineWidth3,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},!0);e2D.Drawing.trendline=function(){this.name="trendline";};e2D.inheritsFrom(e2D.Drawing.trendline,e2D.Drawing.segment);e2D.Drawing.trendline.prototype.configs=[l1j,"fillColor","lineWidth",g1j,"font"];e2D.Drawing.trendline.prototype.measure=function(){Z3k0.s3k0();;};e2D.Drawing.trendline.prototype.reconstruct=function(s3p,q3p){e2D.Drawing.segment.prototype.reconstruct.call(this,s3p,q3p);this.callout=new e2D.Drawing.callout();this.callout.reconstruct(s3p,q3p.callout);};e2D.Drawing.trendline.prototype.serialize=function(){var p3p;p3p=e2D.Drawing.segment.prototype.serialize.call(this);p3p.callout=this.callout.serialize();return p3p;};e2D.Drawing.trendline.prototype.render=function(g1p){var P1p,K1p,l1p,A1p,T1p,c1p,D1p,y1p,v1p,o1p,j1p,Z1p,Y1p,k1p,I1p,C1p,B1p,X1p,t1p,E1p;P1p=this.stx.panels[this.panelName];if(!P1p){return;}e2D.Drawing.segment.prototype.render.call(this,g1p);if(!this.callout){this.callout=new e2D.Drawing.callout();K1p=e2D.Drawing.segment.prototype.serialize.call(this);this.callout.reconstruct(this.stx,K1p);}this.callout.p0=e2D.clone(this.p0);l1p=this.stx.pixelFromTick(this.p0[0],P1p.chart);A1p=this.stx.pixelFromTick(this.p1[0],P1p.chart);T1p=this.stx.pixelFromValueAdjusted(P1p,this.p0["0" - 0],this.p0[1]);c1p=this.stx.pixelFromValueAdjusted(P1p,this.p1[0],this.p1["1" ^ 0]);if(!isFinite(T1p) || !isFinite(c1p)){return;}Z3k0.m0R0(49);D1p=Z3k0.y0R0(A1p,"2",l1p);Z3k0.S0R0(3);y1p=Z3k0.O0R0(c1p,T1p,2);this.fontSize=e2D.stripPX(this.font && this.font.size || 13);v1p=this.callout.w * 1.2 + (this.callout.stemEntry[+"0"] == "c"?0:"50" ^ 0);o1p=Math.sqrt(Math.pow(A1p - l1p,2) + Math.pow(c1p - T1p,2));j1p=v1p / (o1p || v1p) * (this.p1[1] < this.p0["1" | 1]?1:-1);Z3k0.S0R0(50);Z1p=Z3k0.y0R0(c1p,j1p,y1p,D1p);Z3k0.m0R0(51);Y1p=Z3k0.y0R0(y1p,A1p,j1p,D1p);this.callout.p0[0]=this.stx.tickFromPixel(Z1p,P1p.chart);this.callout.p0[1]=this.stx.priceFromPixel(Y1p,P1p);Z3k0.S0R0(2);this.callout.v0=this.callout.p0[Z3k0.O0R0(2143422048,"1")];this.callout.p1=e2D.clone(this.p0);this.callout.stx=this.stx;this.callout.fillColor=this.fillColor || this.callout.fillColor;this.callout.borderColor=this.color;this.callout.font=this.font || this.callout.font;this.callout.noHandles=! ![];k1p=this.p1[1] - this.p0[1];this.callout.text="" + Number(k1p).toFixed(+"2") + (this.p0[1] === 0?"":" (" + Number(100 * k1p / this.p0[1]).toFixed("2" * 1) + "%) ") + "" + Math.abs(this.p1[0] - this.p0["0" & 2147483647]) + " Bars";I1p=Math.floor((this.p0[+"0"] + this.p1[0]) / ("2" | 0));if(Math.abs(this.p0[0] - this.p1[0]) > 1 && Math.abs(this.p0[0] - this.p1["0" ^ 0]) < 20){B1p=this.stx.pixelFromTick(I1p,P1p.chart);Z3k0.S0R0(52);X1p=Z3k0.O0R0(T1p,A1p,c1p,T1p,l1p,B1p,l1p);C1p=this.stx.priceFromPixel(X1p,P1p) || y1p;}else {C1p=this.stx.priceFromPixel(y1p,P1p);}this.callout.stem={t:I1p,v:C1p};this.callout.renderText();this.callout.render(g1p);Z3k0.I3k0();if(this.highlighted){t1p=this.highlighted == "p0"?!"":! !0;E1p=this.highlighted == "p1"?! !1:!{};this.littleCircle(g1p,l1p,T1p,t1p);this.littleCircle(g1p,A1p,c1p,E1p);}};e2D.Drawing.trendline.prototype.lineIntersection=function(i1p,J1p,x1p,R1p){Z3k0.s3k0();return e2D.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,i1p,J1p,x1p,"segment");};e2D.Drawing.trendline.prototype.intersected=function(e1p,r1p,h1p){var m1p,z1p;if(!this.p0 || !this.p1){return null;}m1p=this.callout.intersected(e1p,r1p,h1p);z1p=e2D.Drawing.segment.prototype.intersected.call(this,e1p,r1p,h1p);this.callout.highlighted=! !(m1p || z1p);if(z1p){return z1p;}else if(m1p){return {action:"move",p0:e2D.clone(this.p0),p1:e2D.clone(this.p1),tick:e1p,value:r1p};}Z3k0.I3k0();return null;};e2D.Drawing.average=function(){this.name="average";};e2D.inheritsFrom(e2D.Drawing.average,e2D.Drawing.regression);e2D.extend(e2D.Drawing.average.prototype,{configs:e2D.Drawing.regression.prototype.configs.concat("axisLabel"),measure:function(){var u1j,x1j,A1j,f1p,L1p,w1p,N1p,V1p,M1p,k4j,z4j,f4j;Z3k0.I3k0();if(this.p0 && this.p1){u1j=".mMea";u1j+="s";u1j+="ur";u1j+="e";x1j=" ";x1j+="&sigma;";A1j="&";A1j+="ens";A1j+="p;";this.stx.setMeasure(0,!{},this.p0["0" & 2147483647],this.p1[+"0"],! ![],this.name);f1p=[];L1p="";if(this.active1){f1p.push(665 == 395?(![],"F"):208 != (576.02,7194)?"1":"8730" << 879812128 > (+"940.75",5177)?6.12e+3:(!"1","j"));}if(this.active2){f1p.push(+"3760" === 2088?8.23e+3:"2");}if(this.active3){f1p.push(2.93 !== 427.94?"3":"7.98e+3" ^ 0);}if(f1p.length){L1p=A1j + f1p.join(", ") + x1j;}w1p=(this.stx.drawingContainer || document).querySelector(u1j);N1p=this.stx.controls.mSticky;V1p=N1p && N1p.querySelector(".mStickyInterior");if(w1p){w1p.innerHTML+=L1p;}if(V1p){M1p=[];M1p.push(e2D.capitalize(this.name));k4j=-347941900;z4j=-1689420640;f4j=+"2";for(var K4j=1;Z3k0.x1y(K4j.toString(),K4j.toString().length,37041) !== k4j;K4j++){M1p.push(this.field || this.stx.defaultPlotField || "Close");M1p.push(V1p.innerHTML + L1p);f4j+=2;}if(Z3k0.u1y(f4j.toString(),f4j.toString().length,90409) !== z4j){M1p.push(this.field && this.stx.defaultPlotField && "");M1p.push(V1p.innerHTML * L1p);}V1p.innerHTML=M1p.join("<br>");}}},render:function(Q1p){var Z1j,W1j,n1p,F1p,u1p,U1p,O1p,p1p,P2p,D2p,T2p,s1p,a1p,S1p,H1p,b1p,G1p,W1p,q1p,c2p,A2p,d1p,y2p,g2p;Z1j="s";Z1j+="egme";Z1j+="n";Z1j+="t";W1j="s";W1j+="eg";W1j+="ment";n1p=this.stx.panels[this.panelName];if(!n1p){return;}if(!this.p1){return;}if(this.p0[0] < "0" << 1120438368 || this.p1[0] < +"0"){return;}F1p=this.stx.pixelFromTick(this.p0[0],n1p.chart);u1p=this.stx.pixelFromTick(this.p1[0],n1p.chart);if(F1p < n1p.left && u1p < n1p.left){return;}if(F1p > n1p.right && u1p > n1p.right){return;}U1p=this.stx.getYAxisByField(n1p,this.field);O1p=this.stx;p1p=Math.min(this.p1[0],this.p0[0]);P2p=Math.max(this.p1[0],this.p0[0]) + 1;Z3k0.S0R0(6);D2p=Z3k0.y0R0(P2p,p1p);T2p=+"0";s1p=[];for(a1p=p1p;a1p < P2p;a1p++){S1p=this.getYValue(a1p);if(S1p !== null){T2p+=S1p.transformed;s1p.push(S1p);}}H1p=s1p.length;if(!H1p){return;}Z3k0.S0R0(7);b1p=Z3k0.y0R0(H1p,T2p);G1p=O1p.pixelFromTransformedValue(b1p,n1p,U1p);W1p=this.getLineColor();q1p={pattern:this.pattern,lineWidth:this.lineWidth};O1p.plotLine(F1p,u1p,G1p,G1p,W1p,W1j,Q1p,n1p,q1p);Z3k0.S0R0(6);O1p.plotLine(F1p,F1p,Z3k0.O0R0(G1p,20),Z3k0.y0R0("20",G1p,0,Z3k0.m0R0(19)),W1p,"segment",Q1p,n1p,q1p);Z3k0.m0R0(6);O1p.plotLine(u1p,u1p,Z3k0.O0R0(G1p,20),Z3k0.y0R0(20,G1p,Z3k0.S0R0(1)),W1p,Z1j,Q1p,n1p,q1p);if(this.axisLabel && !this.highlighted && !this.penDown){if(F1p >= n1p.chart.left && F1p <= n1p.chart.right || u1p >= n1p.chart.left && u1p <= n1p.chart.right){O1p.endClip();O1p.createYAxisLabel(n1p,l2p(b1p,U1p),G1p,W1p,null,Q1p,U1p);O1p.startClip(n1p.name);}}function l2p(v2p,j2p){if(j2p && j2p.priceFormatter){v2p=j2p.priceFormatter(O1p,n1p,v2p);}else {v2p=O1p.formatYAxisPrice(v2p,n1p,null,j2p);}return v2p;}if(this.active1 || this.active2 || this.active3){c2p=0;for(a1p=0;a1p < H1p;a1p++){S1p=s1p[a1p];c2p+=Math.pow(S1p.transformed - b1p,"2" | 0);}Z3k0.m0R0(7);A2p=Math.sqrt(Z3k0.y0R0(H1p,c2p));d1p={context:Q1p,formatPrice:l2p,panel:n1p,points:{0:{x:F1p,v:b1p},1:{x:u1p,v:b1p}},stddev:A2p,yAxis:U1p};this.lines={};if(this.active1){this.renderStddev("1",(610,4570) <= 6330?"p":(1560,648.92) != 9150?"o":! ![],d1p);this.renderStddev(3672 <= +"7099"?(9649,703.46) != 20?"1":(8630,"6212" ^ 0) > (416.68,802.5)?"B":423.55:!{},"n",d1p);}if(this.active2){this.renderStddev("2",(8338,7290) == +"7420"?(5.78e+3,0x1fc9):"p",d1p);this.renderStddev("2",(2430,339.38) < ("1263" | 1157)?"n":! !"1",d1p);}if(this.active3){this.renderStddev((7562,1070) === 6260?(0x1e2d,930.47):"3",5771 >= 9170?(592.34,! !"1"):"p",d1p);this.renderStddev("3","n",d1p);}}if(!this.highlighted){this.pixelX=[F1p,u1p];this.pixelY=[G1p,G1p];}else {y2p=this.highlighted == "p0"?! !1:![];g2p=this.highlighted == "p1"?! !{}:! !0;this.littleCircle(Q1p,F1p,G1p,y2p);this.littleCircle(Q1p,u1p,G1p,g2p);}},reconstruct:function(I2p,k2p){this.axisLabel=k2p.al;e2D.Drawing.regression.prototype.reconstruct.call(this,I2p,k2p);},serialize:function(){Z3k0.I3k0();var C2p;C2p=e2D.Drawing.regression.prototype.serialize.call(this);C2p.al=this.axisLabel;return C2p;}},! !"1");e2D.Drawing.quadrant=function(){Z3k0.I3k0();var U1j;U1j="qu";U1j+="adrant";this.name=U1j;};e2D.inheritsFrom(e2D.Drawing.quadrant,e2D.Drawing.regression);e2D.extend(e2D.Drawing.quadrant.prototype,{configs:["color","fillColor",i1j,"pattern"],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;},$controls:[],render:function(Y2p){var T1j,t1j,o2p,K2p,Z2p,B2p,J2p,X2p,t2p,z2p,x2p,r2p,m2p,e2p,M2p,L2p,R2p,E2p,h2p,i2p,P1j,V1j,V2p,w2p;T1j="q";T1j+="u";T1j+="adrant";t1j="s";t1j+="eg";t1j+="ment";o2p=this.stx;K2p=o2p.panels[this.panelName];if(!K2p){return;}if(!this.p1){return;}Z2p=o2p.pixelFromTick(this.p0[0],K2p.chart);B2p=o2p.pixelFromTick(this.p1[0],K2p.chart);if(Z2p < K2p.left && B2p < K2p.left){return;}if(Z2p > K2p.right && B2p > K2p.right){return;}J2p=this.stx.getYAxisByField(K2p,this.field);X2p=null;t2p=null;for(var f2p=Math.min(this.p1[0],this.p0[0]);f2p <= Math.max(this.p1[0],this.p0[0]);f2p++){z2p=this.getYValue(f2p);if(z2p !== null){if(X2p === null || z2p.transformed > X2p){X2p=z2p.transformed;}if(t2p === null || z2p.transformed < t2p){t2p=z2p.transformed;}}}x2p=o2p.pixelFromTransformedValue(X2p,K2p,J2p);Z3k0.m0R0(53);r2p=o2p.pixelFromTransformedValue(Z3k0.y0R0("4",t2p,X2p,3),K2p,J2p);Z3k0.m0R0(54);m2p=o2p.pixelFromTransformedValue(Z3k0.O0R0("2",X2p,t2p,3),K2p,J2p);Z3k0.S0R0(3);e2p=o2p.pixelFromTransformedValue(Z3k0.y0R0(t2p,X2p,2),K2p,J2p);Z3k0.m0R0(55);M2p=o2p.pixelFromTransformedValue(Z3k0.O0R0(1,2,"3",t2p,X2p),K2p,J2p);Z3k0.m0R0(56);L2p=o2p.pixelFromTransformedValue(Z3k0.O0R0(3,X2p,t2p,4),K2p,J2p);R2p=o2p.pixelFromTransformedValue(t2p,K2p,J2p);this.p0[1]=0;this.p1[1]=!"1";E2p=this.getLineColor();h2p=this.fillColor;if(h2p == "auto" || e2D.isTransparent(h2p)){h2p=o2p.defaultColor;}Y2p.fillStyle=h2p;i2p={pattern:this.pattern,lineWidth:this.lineWidth};o2p.plotLine(Z2p,B2p,x2p,x2p,E2p,t1j,Y2p,K2p,i2p);o2p.plotLine(Z2p,B2p,R2p,R2p,E2p,"segment",Y2p,K2p,i2p);if(this.name == "quadrant"){o2p.plotLine(Z2p,B2p,r2p,r2p,E2p,"segment",Y2p,K2p,i2p);o2p.plotLine(Z2p,B2p,L2p,L2p,E2p,"segment",Y2p,K2p,i2p);}else if(this.name == "tirone"){P1j="segmen";P1j+="t";o2p.plotLine(Z2p,B2p,m2p,m2p,E2p,P1j,Y2p,K2p,i2p);o2p.plotLine(Z2p,B2p,M2p,M2p,E2p,"segment",Y2p,K2p,i2p);}o2p.plotLine(Z2p,Z2p,x2p,R2p,E2p,"segment",Y2p,K2p,i2p);o2p.plotLine(B2p,B2p,x2p,R2p,E2p,"segment",Y2p,K2p,i2p);o2p.plotLine(Z2p,B2p,e2p,e2p,E2p,"segment",Y2p,K2p,e2D.extend(i2p,{opacity:this.name == "tirone"?"0.2" - 0:1}));Z3k0.s3k0();Z3k0.m0R0(6);Y2p.globalAlpha=Z3k0.y0R0("0.1",0);Y2p.beginPath();Z3k0.S0R0(6);Y2p.fillRect(Z2p,x2p,Z3k0.O0R0(B2p,Z2p),Z3k0.y0R0(R2p,x2p));if(this.name == T1j){Z3k0.m0R0(6);Y2p.fillRect(Z2p,r2p,Z3k0.O0R0(B2p,Z2p),Z3k0.O0R0(L2p,r2p));}else if(this.name == "tirone"){Z3k0.m0R0(6);Y2p.fillRect(Z2p,m2p,Z3k0.O0R0(B2p,Z2p),Z3k0.O0R0(M2p,m2p));}Y2p.globalAlpha=1;if(!this.highlighted){this.pixelX=[Z2p,B2p];this.pixelY=[x2p,R2p];if(K2p.yAxis.flipped){this.pixelY.reverse();}this.pixelY.push(e2p);}else {V1j="p";V1j+="1";V2p=this.highlighted == "p0"?!0:![];w2p=this.highlighted == V1j?! !{}:![];this.littleCircle(Y2p,Z2p,e2p,V2p);this.littleCircle(Y2p,B2p,e2p,w2p);}},intersected:function(G2p,F2p,u2p){var n2p;if(!this.pixelX || !this.pixelY){return null;}n2p=this.repositionIntersection(G2p,F2p);if(n2p){return n2p;}for(var N2p=0;N2p < 2;N2p++){if(this.pointIntersection(this.pixelX[N2p],this.pixelY[2],u2p,!0)){Z3k0.m0R0(1);this.highlighted=Z3k0.O0R0(N2p,(8450,+"8440") <= ("6870" - 0,9562)?(1998,417.82) == (3590,424)?"0x2297" & 2147483647:"p":(+"0x2211","m"));return {action:"drag",point:(33.59 == 9278?("0x1b19" ^ 0,"n"):(4310,6761) <= (+"24",5230)?3060 > 187.26?! ![]:1.42e+3:"p") + N2p};}}if(this.boxIntersection(null,null,u2p)){this.highlighted=! !1;return {action:"move",p0:e2D.clone(this.p0),p1:e2D.clone(this.p1),tick:G2p,value:F2p};}return null;},reconstruct:function(a2p,O2p){var M4j,w4j,C4j;this.stx=a2p;this.color=O2p.col;this.fillColor=O2p.fc;this.panelName=O2p.pnl;this.pattern=O2p.ptrn;this.lineWidth=O2p.lw;this.d0=O2p.d0;this.d1=O2p.d1;M4j=-134568752;w4j=-1725599564;C4j=2;for(var v4j=1;Z3k0.x1y(v4j.toString(),v4j.toString().length,43375) !== M4j;v4j++){this.tzo0=O2p.tzo0;this.tzo1=O2p.tzo1;this.field=O2p.fld;this.adjust();C4j+=2;}if(Z3k0.u1y(C4j.toString(),C4j.toString().length,"82636" * 1) !== w4j){this.tzo0=O2p.tzo0;this.tzo1=O2p.tzo1;this.field=O2p.fld;this.adjust();}},serialize:function(){Z3k0.s3k0();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},! ![]);e2D.Drawing.tirone=function(){var e7j;Z3k0.s3k0();e7j="ti";e7j+="ron";e7j+="e";this.name=e7j;};e2D.inheritsFrom(e2D.Drawing.tirone,e2D.Drawing.quadrant);e2D.Drawing.elliottwave=function(){this.name="elliottwave";this.lastPoint=0;this.points=[];this.pts=[];this.dx=0;this.dy=-20;this.dragToDraw=! !0;this.annotationPoints=[];this.edit=null;};e2D.inheritsFrom(e2D.Drawing.elliottwave,e2D.Drawing.annotation);e2D.Drawing.elliottwave.defaultTemplate={impulse:[308.25 < 513.61?+"4531" < (+"7105",9106)?"I":("s","e"):983.21,p7j,"III","IV",(6493,884) == (841,"8490" | 298)?"v":294.25 >= 7900?0x1800:813 !== (1270,+"16.02")?"V":!{}],corrective:["A","B","C"],decoration:"enclosed",showLines:!""};e2D.Drawing.elliottwave.prototype.initializeSettings=function(Q2p){Z3k0.I3k0();Q2p.currentVectorParameters.waveParameters=e2D.clone(e2D.Drawing.elliottwave.defaultTemplate);};e2D.Drawing.elliottwave.prototype.configs=["color",O7j,"lineColor","pattern","font",E7j];e2D.Drawing.elliottwave.prototype.$controls=[X7j,"cq-wave-parameters"];e2D.Drawing.elliottwave.prototype.construct=function(d2p,b2p){var S2p;this.stx=d2p;this.panelName=b2p.name;Z3k0.I3k0();S2p=d2p.currentVectorParameters;Object.assign(this,S2p.waveParameters);};e2D.Drawing.elliottwave.prototype.serialize=function(){var o7j,J7j,H2p;Z3k0.s3k0();o7j="f";o7j+="l";J7j="w";J7j+="t";H2p={};for(var U2p=0;U2p < this.points.length;U2p++){Z3k0.S0R0(1);H2p[Z3k0.y0R0(U2p,"d")]=this[Z3k0.y0R0(U2p,(156.3,2014) !== 189.36?"d":("K",![]))];Z3k0.m0R0(1);H2p[Z3k0.y0R0(U2p,"tzo")]=this[Z3k0.y0R0(U2p,"tzo")];Z3k0.m0R0(1);H2p[Z3k0.O0R0(U2p,"v")]=this[Z3k0.O0R0(U2p,(454.79,931) <= (483,64.86)?(320.59,!0):"v")];}H2p.annotations=this.annotationPoints.join((920.93,"507.09" * 1) !== (1090,1520)?(4427,276.54) < 893.17?",":0x138c:"6.66e+3" << 2108663328);return Object.assign({name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,mxSeg:this.maxSegments,show:this.showLines,decor:this.decoration,dx:this.dx,dy:this.dy,trend:this.trend,fnt:e2D.removeNullValues(e2D.replaceFields(this.font,{style:"st",size:"sz",weight:J7j,family:o7j}))},H2p);};e2D.Drawing.elliottwave.prototype.reconstruct=function(s2p,W2p){var D7j,F7j;D7j="f";D7j+="a";D7j+="mily";F7j="s";F7j+="tyle";this.stx=s2p;this.color=W2p.col;this.panelName=W2p.pnl;this.pattern=W2p.ptrn;this.lineWidth=W2p.lw;this.font=e2D.replaceFields(W2p.fnt,{st:F7j,sz:"size",wt:"weight",fl:D7j});this.decoration=W2p.decor;this.showLines=W2p.show;this.dx=W2p.dx;this.dy=W2p.dy;this.trend=W2p.trend;this.annotationPoints=W2p.annotations.split(",");if(W2p.decor === "enclosed"){this.calculateRadius(s2p.chart.tempCanvas.context);}this.maxSegments=W2p.mxSeg;this.reconstructPoints(W2p);this.adjust();};e2D.Drawing.elliottwave.prototype.reconstructPoints=function(p2p){var P8p,k7j,T8p,c8p;P8p=this.stx.panels[this.panelName];if(!P8p){return;}Z3k0.s3k0();for(var q2p=0;q2p < this.annotationPoints.length;q2p++){k7j="t";k7j+="zo";Z3k0.m0R0(1);this[Z3k0.O0R0(q2p,(7670,608) != (3390,6581)?"d":(7.71e+3,9.55e+3))]=p2p[Z3k0.y0R0(q2p,9872 == 8970?1860 != 243.49?7315 < (8210,+"5727")?! !{}:(7.96e+3,! !0):"x":"d")];Z3k0.m0R0(1);this[Z3k0.O0R0(q2p,+"1960" != ("8362" | 8330)?(2260,3360) > 5728?(735.57,0x689):300.16 !== 412?"v":400.53:0x1a0e)]=p2p[Z3k0.O0R0(q2p,"v")];Z3k0.S0R0(1);this[Z3k0.O0R0(q2p,k7j)]=p2p[Z3k0.O0R0(q2p,"tzo")];T8p=e2D.strToDateTime(p2p["d" + q2p]);c8p=this.stx.tickFromDate(T8p,P8p.chart);this.points.push([c8p,p2p[(+"130.07" >= 7073?(387.48,17.24):5330 != 7250?"v":88.33) + q2p]]);}};e2D.Drawing.elliottwave.prototype.calculateRadius=function(g8p){var l8p,y8p;this.getFontString();g8p.font=this.fontString;Z3k0.I3k0();l8p=0;for(var A8p=0;A8p < this.annotationPoints.length;A8p++){y8p=g8p.measureText(this.annotationPoints[A8p]).width;if(l8p < y8p){l8p=y8p;}}this.enclosedRadius=l8p;};e2D.Drawing.elliottwave.prototype.check=function(k8p,C8p,D8p){var v8p,j8p;if(D8p === 1 && this.points.length === 2){return ! ![];}function I8p(o8p){for(var K8p=2;K8p < o8p.length;K8p++){if(Math.sign(o8p[K8p][1] - o8p[K8p - 1][+"1"]) == Math.sign(o8p[K8p - 1][1] - o8p[K8p - 2]["1" - 0])){return !{};}}return !"";}Z3k0.S0R0(6);v8p=this.points[Z3k0.O0R0(D8p,1)];if(v8p && k8p <= v8p[0]){return ![];}Z3k0.m0R0(1);j8p=this.points[Z3k0.y0R0(1,D8p)];if(j8p && k8p >= j8p[0]){return !{};}if(!I8p(this.points)){return ![];}return ! !1;};e2D.Drawing.elliottwave.prototype.move=function(Z8p,Y8p,B8p){this.copyConfig();Z3k0.s3k0();this.points[this.lastPoint + 1]=[Y8p,B8p];this.render(Z8p);};e2D.Drawing.elliottwave.prototype.adjust=function(){var t8p,E8p;t8p=this.stx.panels[this.panelName];if(!t8p){return;}Z3k0.I3k0();for(var X8p=+"0";this.maxSegments + 1 > X8p;X8p++){Z3k0.m0R0(1);E8p=this[Z3k0.O0R0(X8p,7507 <= (+"9508",+"2250")?849.11:152.31 !== 4270?"d":(0x1fc1,!0))];this.setPoint(X8p,E8p,this[((+"8485",1793) != (416,4080)?"v":9650 !== ("6750" | 4676)?0x19bc:("Z","61.81" * 1)) + X8p],t8p.chart);this.points[X8p][0]=this.stx.tickFromDate(e2D.strToDateTime(E8p),t8p.chart);Z3k0.S0R0(1);this.points[X8p][1]=this[Z3k0.O0R0(X8p,(49,8329) !== (9480,4013)?(6650,8867) <= (3910,5860)?0x133b:(7850,8280) >= (4233,2690)?"v":(0xbf8,"e"):(!"1",0x1d5c))];}};e2D.Drawing.elliottwave.prototype.click=function(R8p,i8p,J8p){var x8p,z7j;x8p=this.stx.panels[this.panelName];if(!x8p){return;}this.copyConfig();if(!this.penDown){z7j="e";z7j+="nc";z7j+="lose";z7j+="d";this.setPoint(0,i8p,J8p,x8p.chart);this.points.push(this.p0);this.penDown=! ![];this.segment=0;this.lastPoint=0;if(this.impulse){this.annotationPoints=this.annotationPoints.concat(this.impulse);}if(this.corrective){this.annotationPoints=this.annotationPoints.concat(this.corrective);}this.annotationPoints.unshift(152 !== (6310,701)?"0":"L");if(this.decoration === z7j){this.calculateRadius(R8p);}this.maxSegments=this.annotationPoints.length - 1;this.trend=+"1";return ![];}if(this.accidentalClick(i8p,J8p)){this.penDown=!"";return ! !0;}if(this.check(i8p,J8p,this.lastPoint + 1)){this.lastPoint++;this.setPoint(this.lastPoint,i8p,J8p,x8p.chart);if(this.lastPoint === 1){this.trend=Math.sign(this.v1 - this.v0);}this.segment++;if(this.segment >= this.maxSegments){this.penDown=!{};return !0;}}Z3k0.s3k0();return ![];};e2D.Drawing.elliottwave.prototype.render=function(z8p){var r8p,a8p,H8p,W8p,s8p,Q8p,d8p,h8p,f8p,S8p,M8p,m8p,f7j,V8p,N8p,L8p,n8p,G8p,q8p,p8p,q5j,r5j,M5j,B7j,F8p,u8p,w8p,b8p,U8p,P4p,O8p;r8p=this.stx.panels[this.panelName];if(!r8p){return;}a8p=this.stx;H8p=this.annotationPoints;W8p=this.pattern?e2D.borderPatternToArray(this.lineWidth,this.pattern):[];Z3k0.s3k0();this.getFontString();z8p.font=this.fontString;z8p.textAlign="center";z8p.textBaseline="middle";z8p.lineWidth=this.lineWidth;if(this.fontString !== this.lastFontString){this.calculateRadius(z8p);}this.lastFontString=this.fontString;s8p=this.getLineColor();z8p.fillStyle=z8p.strokeStyle=s8p;z8p.save();z8p.setLineDash(W8p);Q8p=this.dx;d8p=this.dy;h8p=this.points;f8p=this.pts;S8p=!this.showLines && this.highlighted;M8p=h8p.length;if(this.penDown && this.segment){f7j="bot";f7j+="tom";m8p=this.trend * (M8p % 2 - +"0.5") < 0;if(r8p.yAxis.flipped){m8p=!m8p;}this.drawDropZone(z8p,h8p[M8p - 2][1],this.stx.priceFromPixel(r8p.yAxis[m8p?"top":f7j]),h8p[M8p - +"2"][0]);}else if(typeof this.highlighted === "string" && this.stx.repositioningDrawing){V8p=parseInt(this.highlighted.substring(1,this.highlighted.length),"10" >> 1198790848);m8p=this.trend * (V8p % ("2" - 0) - 0.5) > 0;Z3k0.S0R0(6);N8p=h8p[Z3k0.O0R0(V8p,1)];Z3k0.S0R0(1);L8p=h8p[Z3k0.y0R0(1,V8p)];n8p=V8p > ("0" ^ 0)?N8p[1]:L8p[1];if(L8p){n8p=Math[m8p?"max":"min"](n8p,L8p[1]);}if(r8p.yAxis.flipped){m8p=!m8p;}this.drawDropZone(z8p,n8p,this.stx.priceFromPixel(r8p.yAxis[m8p?"top":"bottom"]),N8p?N8p[0]:null,L8p?L8p[0]:null);}for(var e8p=0;e8p < M8p;e8p++){G8p=h8p[e8p];q8p=a8p.pixelFromTick(G8p["0" * 1],r8p.chart);p8p=a8p.pixelFromValueAdjusted(r8p,G8p[0],G8p[1]);f8p[e8p]=[q8p,p8p];}e8p=0;if(this.showLines || S8p){q5j=-156982768;r5j=143394576;M5j=2;for(var C5j=1;Z3k0.u1y(C5j.toString(),C5j.toString().length,60275) !== q5j;C5j++){z8p.beginPath();M5j+=2;}if(Z3k0.x1y(M5j.toString(),M5j.toString().length,+"71827") !== r5j){z8p.beginPath();}z8p.beginPath();if(S8p){z8p.globalAlpha=+"0.3";}for(;e8p < f8p.length;e8p++){z8p.lineTo(f8p[e8p][0],f8p[e8p][1]);}z8p.stroke();e8p=0;}z8p.restore();for(;e8p < M8p;e8p++){B7j="parenth";B7j+="e";B7j+="ses";F8p=e8p % +"2"?Q8p:-Q8p;u8p=e8p % 2?d8p:-d8p;F8p*=this.trend;u8p*=this.trend;if(r8p.yAxis.flipped){F8p*=-1;u8p*=-1;}w8p=f8p[e8p];b8p=w8p[2]=w8p[+"0"] + F8p;U8p=w8p[3]=w8p[1] + u8p;P4p=this.enclosedRadius || 8;O8p=H8p[e8p];if(this.decoration === B7j){Z3k0.S0R0(48);O8p=Z3k0.O0R0(O8p,9560 >= (+"910","3874" & 2147483647)?7110 == 3220?("537.55" - 0,"x"):"(":(! !"1",!"1"),2970 < 2170?(806.74,220.85):")");}z8p.fillText(O8p,b8p,U8p);if(this.decoration === "enclosed"){z8p.beginPath();z8p.arc(b8p,U8p,P4p,0,2 * Math.PI,!{});z8p.stroke();}if(this.highlighted){z8p.save();this.littleCircle(z8p,this.pts[e8p][0],this.pts[e8p][1],this.highlighted === "p" + e8p);z8p.restore();}}};e2D.Drawing.elliottwave.prototype.reposition=function(I4p,T4p,A4p,y4p){var K7j,D4p,v4p,j4p,l4p,g4p,k4p;K7j="mo";K7j+="ve";if(!T4p){return;}D4p=this.stx.panels[this.panelName];v4p=T4p.tick - A4p;j4p=T4p.value - y4p;if(T4p.action === K7j){for(var c4p=0;T4p.points.length > c4p;c4p++){l4p=T4p.points[c4p];this.setPoint(c4p,l4p[0] - v4p,l4p[+"1"] - j4p,D4p.chart);this.points[c4p]=[l4p[0] - v4p,l4p["1" ^ 0] - j4p];}}if(T4p.action === "drag"){g4p=T4p.point;k4p=this.points;k4p[g4p]=[A4p,y4p];if(this.check(A4p,y4p,g4p)){this.setPoint(g4p,A4p,y4p,D4p.chart);;};}this.render(I4p);};e2D.Drawing.elliottwave.prototype.intersected=function(o4p,Z4p,Y4p){var B4p,K4p;if(!this.p0 || !this.p1){return null;}for(var C4p=0;this.points.length > C4p;C4p++){K4p=this.points[C4p];if(this.pointIntersection(K4p[0],K4p[1],Y4p)){Z3k0.m0R0(1);this.highlighted=Z3k0.O0R0(C4p,"p");return {action:"drag",point:C4p,tick:o4p,value:Z4p};}if(this.points[C4p + ("1" | 0)] && this.lineIntersection(o4p,Z4p,Y4p,"segment",K4p,this.points[C4p + ("1" << 37823936)])){this.highlighted=! ![];B4p={action:"move",points:e2D.clone(this.points),tick:o4p,value:Z4p};}}return B4p;};e2D.Drawing.elliottwave.prototype.measure=function(){var Q7j,X4p,i4p,E4p,H7j,t4p,Q4j,H4j,b4j;Z3k0.s3k0();if(this.points.length >= "2" * 1){Q7j=".mSt";Q7j+="i";Q7j+="ckyInterio";Q7j+="r";X4p=this.points;this.stx.setMeasure(X4p[0][1],X4p[X4p.length - 1][1],X4p[0][0],X4p[X4p.length - 1][0],! !1);i4p=this.stx.controls.mSticky;E4p=i4p && i4p.querySelector(Q7j);if(E4p){H7j="Cl";H7j+="ose";t4p=[];t4p.push(e2D.capitalize("Elliott Wave"));if(this.getYValue){t4p.push(this.field || this.stx.defaultPlotField || H7j);}Q4j=-44499915;H4j=-875206849;b4j=+"2";for(var a4j=1;Z3k0.u1y(a4j.toString(),a4j.toString().length,23807) !== Q4j;a4j++){t4p.push(E4p.innerHTML);E4p.innerHTML=t4p.join("");b4j+=2;}if(Z3k0.x1y(b4j.toString(),b4j.toString().length,44889) !== H4j){t4p.push(E4p.innerHTML);E4p.innerHTML=t4p.join("");}t4p.push(E4p.innerHTML);E4p.innerHTML=t4p.join("<br>");}}};e2D.Drawing.printProjection=function(h4p,Q4p,J4p){var R4p,z4p,G4p,f4p,F4p,M4p,u4p,L4p,m4p,N4p,r4p,O4p,n4p,w4p,x4p,a4p;R4p=Q4p.arr;if(R4p.length > +"1"){z4p=R4p[0][0];G4p=Math.round(h4p.chart.maxTicks * 0.75);for(var e4p=1;e4p < R4p.length;e4p++){Z3k0.S0R0(57);f4p=R4p[Z3k0.y0R0("1",e4p)][0];F4p=R4p[e4p][0];M4p=e2D.strToDateTime(f4p);u4p=e2D.strToDateTime(F4p).getTime();L4p=h4p.standardMarketIterator(M4p);m4p=0;while(M4p.getTime() < u4p){M4p=L4p.next();Z3k0.S0R0(0);m4p+=Z3k0.y0R0("1",1);}N4p=e2D.strToDateTime(f4p).getTime();if(N4p > e2D.strToDateTime(J4p[J4p.length - 1].Date).getTime()){r4p=J4p.length - 1;Z3k0.S0R0(0);m4p+=Z3k0.y0R0("1",1);}else {for(r4p=J4p.length - 1;r4p >= 0;r4p--){if(N4p <= e2D.strToDateTime(J4p[r4p].Date).getTime())break;}}O4p={x0:0,x1:m4p,y0:J4p[r4p].Close,y1:R4p[e4p]["1" << 1542296128]};z4p=e2D.strToDateTime(f4p);L4p=h4p.standardMarketIterator(z4p);n4p=!"1";for(var V4p=+"0";V4p <= m4p;V4p++){if(!n4p){n4p=! !{};}else {z4p=L4p.next();}if(z4p.getTime() <= J4p[J4p.length - 1].DT.getTime())continue;w4p=e2D.yIntersection(O4p,V4p);if(!w4p){w4p=0;}x4p=Math.round(w4p * 10000) / 10000;if(x4p === 0){x4p=R4p[e4p][1];}a4p={Date:e2D.yyyymmddhhmmssmmm(z4p),DT:z4p,Open:x4p,Close:x4p,High:x4p,Low:x4p,Volume:0,Adj_Close:x4p,Split_Close:x4p,projection:! !"1"};if(h4p.layout.interval == "minute")if(G4p-- < 0)break;J4p[J4p.length]=a4p;}}}};}};Y7H=S4p=>{var d4p;d4p=typeof _CIQ !== "undefined"?_CIQ:S4p.CIQ;Z3i4.s3k0();if(!d4p.computeEquationChart){console.error("equationsAdvanced feature requires first activating equations feature.");}else {d4p.formatEquation=function(p4p){var h7k0=Z3i4;var H4p,s4p,b4p,W4p,U4p;H4p="";s4p=[];b4p="";W4p=!{};for(var q4p=1;q4p < p4p.length;q4p++){U4p=p4p[q4p].toUpperCase();if(U4p == ((3470,981) == 884?![]:(7180,2718) != 8162?"[":(8630,488) != (8302,4240)?(2.31e+3,"3.38e+3" << 1734428192):("o","k")) && !W4p){W4p=! ![];}else if(U4p == "]" && W4p){W4p=!{};if(b4p !== ""){s4p.push(b4p);h7k0.S0R0(48);H4p+=h7k0.y0R0(b4p,(8170,834.81) < (2520,"2038" & 2147483647)?"[":107.66 <= (9714,8620)?(0x1619,369.22):(0x2186,0x13d9),"]");}b4p="";}else if(W4p){b4p+=U4p;}else if(U4p == (("3842" >> 703871776,9810) === (9148,1)?(155.56,823.77):("3200" * 1,2991) === 345?("4198" - 0,9110) === +"672.18"?(9.15e+3,9.76e+3):"i":"+") || U4p == ((928.53,313) > (8210,503.11)?(2.18e+3,"t"):"-") || U4p == (862 !== 8201?459.12 <= 718.39?(5770,5063) == (3965,5137)?("m",4.70e+3):"*":0x122a:"j") || U4p == "/" || U4p == (4192 >= (+"6116",2247)?":":98.55) || U4p == ((64.1,1270) !== ("6417" | 2048,823.25)?"%":(866.12,773.35) > ("3150" | 3148)?"e":(![],![])) || U4p == "(" || U4p == (+"9288" < 998.97?150.98:")")){if(b4p !== "" && isNaN(b4p)){s4p.push(b4p);h7k0.m0R0(48);H4p+=h7k0.O0R0(b4p,"[",(6182,798.46) >= 3901?(+"7800",699) <= 307?(!"1","6.41e+3" << 369203616):5915 === 954?0x241:(165.06,!{}):"]");}else {H4p+=b4p;}if(U4p == ":"){U4p=("502.02" - 0,3170) < (+"4964",797.81)?9.13e+3:"/";}H4p+=U4p;b4p="";}else if(U4p != (366.98 == 422.77?("R","g"):208 == (8935,8763)?!0:" ")){b4p+=U4p;}}if(b4p !== "" && isNaN(b4p)){s4p.push(b4p);h7k0.m0R0(48);H4p+=h7k0.O0R0(b4p,8893 != "2930" >> 1802978528?(575.99,+"8411") == ("931.73" * 1,6224)?"3660" - 0 <= 9390?0x9d2:0x7be:"[":("G",6.73e+3),(8751,850) <= 4246?"]":(3120,+"122.17") >= (8395,+"6720")?(212.44,+"0x2b6"):("0x84b" ^ 0,410.78));}else {H4p+=b4p;}return {equation:H4p,symbols:s4p};};d4p.fetchEquationChart=function(P0p,D0p){var l0p,A0p,y0p,g0p,c0p;l0p=d4p.formatEquation(P0p.symbol);A0p=l0p.symbols;y0p=[];g0p=P0p.stx;P0p.stx=null;for(var T0p=+"0";T0p < A0p.length;T0p++){c0p=d4p.shallowClone(P0p);c0p.stx=g0p;c0p.symbol=A0p[T0p];c0p.symbolObject={symbol:A0p[T0p]};y0p.push(c0p);}P0p.stx=g0p;g0p.quoteDriver.multiFetch(y0p,function(o0p){var C0p,v0p,j0p,k0p,Z0p;C0p={};P0p.loadMoreReplace=! ![];v0p={charge:+"0"};for(var I0p=+"0";I0p < o0p.length;I0p++){j0p=o0p[I0p];if(j0p.dataCallback.error){D0p({error:j0p.dataCallback.error});return;}C0p[j0p.params.symbol]=j0p.dataCallback.quotes;P0p.loadMoreReplace=P0p.loadMoreReplace && j0p.params.loadMoreReplace;P0p.moreToLoad=P0p.moreToLoad || j0p.dataCallback.moreAvailable;k0p=j0p.dataCallback.attribution;if(k0p){if(k0p.charge){v0p.charge+=k0p.charge;}v0p.source=k0p.source;if(v0p.exchange === undefined){v0p.exchange=k0p.exchange;}else if(v0p.exchange != k0p.exchange){v0p.exchange="";};}}if(y0p.length || !(P0p.loadMore || P0p.update)){try{Z0p=d4p.computeEquationChart(l0p.equation,C0p);D0p({quotes:Z0p,moreAvailable:P0p.moreToLoad,attribution:v0p});}catch(Y0p){var b7j,K0p,j2j,N2j,c2j;b7j="NoE";b7j+="xce";b7j+="ption";K0p={error:"Invalid equation: " + l0p.equation};if(Y0p.name && Y0p.name == b7j){K0p.suppressAlert=! ![];}j2j=-2088505096;N2j=985470622;c2j=2;for(var q2j="1" ^ 0;Z3i4.x1y(q2j.toString(),q2j.toString().length,"4940" - 0) !== j2j;q2j++){D0p(K0p);c2j+=2;}if(Z3i4.x1y(c2j.toString(),c2j.toString().length,1050) !== N2j){D0p(K0p);}}}});};}};E7H=X0p=>{var B0p;B0p=typeof _CIQ !== "undefined"?_CIQ:X0p.CIQ;if(!B0p.Marker){console.error("highPerformanceMarkers feature requires first activating markers feature.");}else {B0p.ChartEngine.prototype.removeDOMMarker=function(t0p){var Y7j;Y7j="CIQ.ChartEngine#removeDOMMarker is scheduled for deprecation";Y7j+=" in a ";Y7j+="future release\n Please use CIQ.Marker.Performance#";Z3i4.I3k0();Y7j+="remove instead.";console.warn(Y7j);B0p.Marker.Performance.prototype.removeDOMMarker.call(t0p.params.node,t0p);};B0p.ChartEngine.prototype.drawMarkers=function(){var i5j,t5j,P5j;i5j=1425697919;t5j=-1302880137;P5j=2;Z3i4.s3k0();for(var V5j=1;Z3i4.x1y(V5j.toString(),V5j.toString().length,"42541" ^ 0) !== i5j;V5j++){console.warn("CIQ.ChartEngine#drawMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");B0p.Marker.Performance.drawMarkers(this);P5j+=2;}if(Z3i4.x1y(P5j.toString(),P5j.toString().length,27813) !== t5j){console.warn("");B0p.Marker.Performance.drawMarkers(this);}};B0p.ChartEngine.prototype.calculateMarkerStyles=function(E0p,i0p){console.warn("CIQ.ChartEngine#calculateMarkerStyles is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.calculateStyles instead.");B0p.Marker.Performance.calculateMarkerStyles(this,E0p,i0p);};B0p.ChartEngine.prototype.drawCircleMarker=function(J0p,x0p,R0p){console.warn("CIQ.ChartEngine#drawCircleMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCircleMarker instead.");Z3i4.s3k0();B0p.Marker.Performance.drawCircleMarker(J0p,x0p,R0p);};B0p.ChartEngine.prototype.drawSquareMarker=function(z0p,e0p,r0p){var a7j;a7j="CIQ.ChartEngine#d";Z3i4.I3k0();a7j+="rawSquareMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawSquareMarker instead";a7j+=".";console.warn(a7j);B0p.Marker.Performance.drawSquareMarker(z0p,e0p,r0p);};B0p.ChartEngine.prototype.drawCalloutMarker=function(m0p,h0p,f0p){var S7j;S7j="CIQ.ChartEngine#drawCallou";Z3i4.s3k0();S7j+="tMarker is scheduled for deprecation in a future release";S7j+="\n Please use CIQ.Marker.Performance.drawCalloutMarker instead.";console.warn(S7j);B0p.Marker.Performance.drawCalloutMarker(m0p,h0p,f0p);};B0p.ChartEngine.prototype.drawMarkerStem=function(M0p,L0p,V0p){console.warn("CIQ.ChartEngine#drawMarkerStem is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkerStem instead.");B0p.Marker.Performance.drawMarkerStem(M0p,L0p,V0p);};B0p.ChartEngine.prototype.positionDOMMarkers=function(){console.warn("CIQ.ChartEngine#positionDOMMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");B0p.Marker.Performance.drawMarkers(this);};B0p.Marker.Performance=function(n0p){var q7j,s7j,c7j,N7j,j7j,R7j,h7j,I7j,N0p,w0p,F0p,O0p,G0p,u0p,a0p,C0j,L0j,v0j,Q0p;q7j=".stx-mark";q7j+="e";q7j+="r-expan";q7j+="d";s7j=".stx-v";s7j+="is";s7j+="ua";s7j+="l";c7j="</";c7j+="d";c7j+="iv>";N7j="<";N7j+="/di";N7j+="v";N7j+=">";j7j="</";j7j+="di";j7j+="v>";R7j="<div class=\"stx-marker stx-performance-marker s";R7j+="tx-marker-expand\"><h4></h4";R7j+="><p></p></div>";h7j="<div class=\"stx-marker-content";h7j+="\">";I7j="<di";I7j+="v cla";I7j+="ss=\"stx";I7j+="-visual\">";this.params={displayCategory:!0,displayStem:! !{},invert:! !"",story:"",headline:""};B0p.extend(this.params,n0p);N0p=this.template=document.createElement("TEMPLATE");Z3i4.m0R0(58);N0p.innerHTML=Z3i4.y0R0('<div class="stx-stem"></div>',I7j,N7j,R7j,h7j,'<div class="stx-marker highlight">',c7j,j7j);w0p=this.template.content.cloneNode(!"");F0p=w0p.querySelector(".stx-marker",N0p);F0p.classList.add(n0p.type);F0p.classList.add(n0p.category);O0p=w0p.querySelector(s7j,N0p);G0p=w0p.querySelector(q7j);u0p=w0p.querySelector("h4",N0p);a0p=w0p.querySelector(2660 > (7670,585)?"p":4.14e+3,N0p);u0p.innerText=this.params.headline;a0p.innerText=this.params.story;this.hasText=! !n0p.headline || ! !n0p.story;this.deferAttach=! ![];C0j=+"683685299";L0j=-1753155955;v0j=2;for(var d0j=1;Z3i4.x1y(d0j.toString(),d0j.toString().length,85330) !== C0j;d0j++){this.node=w0p.firstChild;v0j+=2;}if(Z3i4.x1y(v0j.toString(),v0j.toString().length,2083) !== L0j){this.node=w0p.firstChild;}this.node.params=this.params;this.visual=O0p;this.expand=G0p;if(n0p.type === "callout"){Q0p=G0p.removeChild(u0p);w0p.querySelector(".stx-marker-content",N0p).insertBefore(Q0p,G0p);}};B0p.inheritsFrom(B0p.Marker.Performance,B0p.Marker.NodeCreator,!{});B0p.Marker.Performance.consolidateExpanded=function(s0p){var d0p,S0p,H0p,U0p,W0p;d0p=s0p.markerHelper.highlighted;if(!d0p.length){return;}S0p=d0p[d0p.length - 1];Z3i4.I3k0();H0p=S0p.params.node;if(!S0p.consolidated){S0p.consolidated=[];}for(var b0p=d0p.length - 2;b0p >= 0;b0p--){U0p=q0p(d0p[b0p]);Z3i4.m0R0(48);W0p=Z3i4.y0R0(U0p,"<consolidated>","</consolidated>");if(U0p.length){H0p.expand.innerHTML+=W0p;}}function q0p(c6p){var P6p,p0p,T6p;P6p=c6p.params.node;p0p=P6p.expand;Z3i4.I3k0();if(!p0p){return "";}T6p=p0p.style.display !== "none"?p0p.innerHTML:"";return T6p;}S0p.stxNodeCreator.quickCache(S0p);};B0p.Marker.Performance.reconstituteExpanded=function(g6p){var l6p,D6p,v6p,y6p;Z3i4.I3k0();l6p=g6p.markerHelper.highlighted;if(!l6p.length || !g6p.activeMarker){return;}l6p=[g6p.activeMarker];for(var A6p=l6p.length - 1;A6p >= 0;A6p--){D6p=l6p[A6p];v6p=D6p.params.node;y6p=v6p.expand;while(y6p.lastElementChild.nodeName === "CONSOLIDATED"){y6p.removeChild(y6p.lastElementChild);}}};B0p.Marker.Performance.drawMarkers=function(o6p){var r7j,K6p,T9j,V9j,e2j,j6p,I6p,C6p,Z6p,Y6p;r7j="a";r7j+="l";r7j+="l";K6p=o6p.getMarkerArray(r7j);T9j=-878356834;Z3i4.m0R0(23);V9j=Z3i4.y0R0(2147483647,"244333338");e2j=2;for(var O2j=+"1";Z3i4.x1y(O2j.toString(),O2j.toString().length,36063) !== T9j;O2j++){j6p=o6p.chart;e2j+=2;}if(Z3i4.x1y(e2j.toString(),e2j.toString().length,71915) !== V9j){j6p=o6p.chart;}j6p=o6p.chart;for(var k6p=0;k6p < K6p.length;k6p++){I6p=K6p[k6p];C6p=I6p.stxNodeCreator;Z6p=j6p.dataSegment[0].tick;Y6p=j6p.dataSegment[j6p.dataSegment.length - ("1" << 1873638560)].tick;if(Z6p <= I6p.tick <= Y6p){if(C6p && C6p.drawMarker){C6p.drawMarker(I6p);}}}};B0p.Marker.Performance.calculateMarkerStyles=function(X6p,t6p,J6p){var M7j,B6p,w7j,E6p,i6p;M7j=".stx-marker-temp";M7j+="lates";B6p=document.querySelector(M7j);if(!B6p){w7j="D";w7j+="I";w7j+="V";B6p=document.createElement(w7j);B6p.style.visibility="hidden";B6p.style.left="-1000px";document.body.append(B6p);}B6p.appendChild(t6p.node);E6p=getComputedStyle(t6p.stxNodeCreator.visual);if(!X6p.styles.stx_marker_stem){i6p=getComputedStyle(document.querySelector(".stx-stem",t6p.node));X6p.styles.stx_marker_stem=X6p.cloneStyle(i6p);}X6p.styles[J6p]=X6p.cloneStyle(E6p);B6p.removeChild(t6p.node);};B0p.Marker.Performance.drawCircleMarker=function(r6p,V6p,R6p){var P7k0=Z3i4;var M6p,L6p,x6p,z6p,e6p,m6p,h6p,f6p,C7j;M6p=r6p.params.stx;L6p=M6p.chart;x6p=L6p.context;z6p=R6p.x;e6p=R6p.y;m6p=R6p.radius;h6p=R6p.label;f6p=R6p.color?R6p.color:V6p.backgroundColor;x6p.beginPath();x6p.setLineDash([]);P7k0.m0R0(23);x6p.lineWidth=P7k0.O0R0(2147483647,"1");x6p.fillStyle=f6p;x6p.strokeStyle=f6p;x6p.font="normal bold 12px Roboto, Helvetica, sans-serif";x6p.arc(z6p,e6p,m6p,0,2 * Math.PI,!{});x6p.fill();x6p.stroke();x6p.closePath();P7k0.s3k0();if(h6p){C7j="w";C7j+="hi";C7j+="t";C7j+="e";x6p.fillStyle=B0p.colorsEqual("white",x6p.fillStyle)?"black":C7j;x6p.fillText(h6p.charAt(0).toUpperCase(),z6p - 4,e6p + 1);}if(r6p.highlight || r6p.active){x6p.beginPath();P7k0.S0R0(1);x6p.arc(z6p,e6p,P7k0.O0R0(4,m6p),+"0",2 * Math.PI,! !"");x6p.stroke();x6p.closePath();}};B0p.Marker.Performance.drawSquareMarker=function(O6p,b6p,N6p){var F7k0=Z3i4;var d6p,S6p,w6p,F6p,u6p,n6p,a6p,Q6p,G6p,L7j;d6p=O6p.params.stx;S6p=d6p.chart;w6p=S6p.context;F6p=N6p.x;u6p=N6p.y;n6p=N6p.half;a6p=N6p.label;Q6p=N6p.color?N6p.color:b6p.backgroundColor;F7k0.S0R0(0);G6p=F7k0.O0R0(n6p,2);w6p.beginPath();w6p.setLineDash([]);w6p.lineWidth=1;w6p.fillStyle=Q6p;w6p.strokeStyle=Q6p;w6p.font="normal bold 12px Roboto, Helvetica, sans-serif";F7k0.m0R0(6);w6p.rect(F7k0.y0R0(F6p,n6p),F7k0.O0R0(u6p,n6p),G6p,G6p);w6p.fill();if(O6p.highlight || O6p.active){F7k0.S0R0(59);w6p.rect(F7k0.y0R0(4,n6p,F6p),F7k0.O0R0("4",n6p,u6p,F7k0.S0R0(60)),F7k0.y0R0(8,G6p,F7k0.S0R0(1)),F7k0.y0R0(8,G6p,F7k0.m0R0(1)));}w6p.stroke();w6p.closePath();if(a6p){L7j="whit";L7j+="e";w6p.fillStyle=B0p.colorsEqual("white",w6p.fillStyle)?"black":L7j;w6p.fillText(a6p.charAt(0).toUpperCase(),F6p - +"4",u6p + 1);}};B0p.Marker.Performance.drawCalloutMarker=function(s6p,j7p,H6p){var m7k0=Z3i4;var y7j,v7j,g7p,D7p,U6p,W6p,k7p,p6p,P7p,T7p,c7p,l7p,v7p,q6p,A7p,y7p,f0j,B0j,K0j;y7j="rgba(2";y7j+="55,25";y7j+="5,255,0.65)";v7j="rgb";v7j+="a(255,";v7j+="255,255,0.8)";g7p=s6p.params.stx;D7p=g7p.chart;U6p=D7p.context;W6p=s6p.params;k7p=H6p.x;p6p=H6p.y;P7p=H6p.half;T7p=H6p.midWidth;c7p=H6p.headline;l7p=H6p.color?H6p.color:j7p.backgroundColor;v7p=P7p * 2 || 25;q6p=Math.round(U6p.measureText(c7p).width);A7p=T7p?T7p * 2:q6p + 8;U6p.beginPath();U6p.setLineDash([]);U6p.lineWidth=1;U6p.fillStyle=l7p;U6p.strokeStyle=l7p;U6p.font="normal bold 12px Roboto, Helvetica, sans-serif";U6p.rect(W6p.box.x0,W6p.box.y0,A7p,v7p);U6p.fill();U6p.stroke();U6p.closePath();U6p.beginPath();U6p.fillStyle=s6p.highlight || s6p.active?v7j:y7j;m7k0.m0R0(61);y7p=m7k0.O0R0(1,"20",q6p,A7p,2);f0j=1052477291;B0j=1118233116;K0j=2;for(var H0j="1" * 1;m7k0.x1y(H0j.toString(),H0j.toString().length,+"44649") !== f0j;H0j++){U6p.rect(W6p.box.x0 * y7p,p6p + P7p,q6p * 25,70);U6p.fill();U6p.stroke();U6p.closePath();U6p.fillStyle="";m7k0.m0R0(6);K0j+=m7k0.O0R0("2",0);}if(m7k0.x1y(K0j.toString(),K0j.toString().length,27931) !== B0j){U6p.rect(W6p.box.x0 + y7p,p6p - P7p,q6p + 40,22);U6p.fill();U6p.stroke();U6p.closePath();U6p.fillStyle="black";}U6p.fillText(c7p,W6p.box.x0 + y7p + 10,p6p);};B0p.Marker.Performance.drawMarkerStem=function(C7p,Y7p,K7p){var B7p,X7p,I7p,o7p,i7p,Z7p,t7p,E7p;B7p=C7p.params.stx;X7p=B7p.chart;I7p=X7p.context;o7p=K7p.x;i7p=K7p.y;I7p.beginPath();I7p.strokeStyle=Y7p.borderLeftColor;Z3i4.S0R0(14);I7p.setLineDash([1,Z3i4.O0R0("1",0)]);Z7p=B0p.stripPX(Y7p.height);t7p=K7p.invert?C7p.params.box.y0:C7p.params.box.y1;E7p=K7p.invert?C7p.params.box.y0 - Z7p:C7p.params.box.y1 + Z7p;I7p.moveTo(o7p,t7p);I7p.lineTo(o7p,E7p);I7p.stroke();I7p.closePath();};B0p.Marker.Performance.prototype.drawMarker=function(J7p){var w7p,R7p,Q7p,d7p,u7p,z7p,f7p,M7p,S7p,O7p,N7p,a7p,n7p,e7p,G7p,x7p,L7p,V7p,b7p,U7p,m7p,h7p;w7p=J7p.params;R7p=J7p.params.stx;if(!R7p){return;}Q7p=R7p.chart;d7p=Q7p.dataSegment;if(!d7p.length){return;}u7p=R7p.panels[J7p.params.panelName];z7p=J7p.stxNodeCreator.params;f7p=z7p.type;M7p=z7p.category;S7p=z7p.headline;O7p=z7p.displayCategory;N7p=z7p.color;a7p=z7p.invert;Z3i4.m0R0(62);n7p=Z3i4.y0R0("stx_marker_","_",M7p,f7p);if(!R7p.styles[n7p]){B0p.Marker.Performance.calculateMarkerStyles(R7p,J7p,n7p);}e7p=J7p.style=R7p.styles[n7p];G7p=R7p.styles.stx_marker_stem;x7p=parseInt(e7p.height,10) / 2;L7p=parseInt(e7p.width,+"10") / 2;V7p=z7p.displayStem?parseInt(G7p.height,10) + parseInt(G7p.marginBottom,10):0;b7p=V7p + parseInt(e7p.height,10);U7p=V7p?V7p + x7p:0;m7p=R7p.pixelFromDate(w7p.x);h7p=w7p.node.calculateYPosition({marker:J7p,panel:u7p,height:b7p,half:x7p,offset:U7p,inverted:a7p});if(!J7p.tick && J7p.tick !== 0){return;}w7p.box={x0:m7p - (L7p || x7p),y0:h7p - x7p,x1:m7p + (L7p || x7p),y1:h7p + x7p,midY:x7p,midX:L7p || x7p,stemHeight:V7p};if(!O7p){M7p=O7p;}R7p.startClip(u7p.name);if(f7p === "circle"){B0p.Marker.Performance.drawCircleMarker(J7p,e7p,{x:m7p,y:h7p,radius:x7p,label:M7p,color:N7p});}else if(f7p === "square"){B0p.Marker.Performance.drawSquareMarker(J7p,e7p,{x:m7p,y:h7p,half:x7p,label:M7p,color:N7p});}else if(f7p === "callout"){B0p.Marker.Performance.drawCalloutMarker(J7p,e7p,{x:m7p,y:h7p,half:x7p,midWidth:L7p,headline:S7p,color:N7p});}else {Z3i4.S0R0(48);console.warn(Z3i4.y0R0(f7p,"Marker type: "," is unsupported with canvas markers!\nSupported Styles are Square, Circle, and Callout."));}if(z7p.displayStem){B0p.Marker.Performance.drawMarkerStem(J7p,G7p,{x:m7p,y:h7p,invert:a7p});}R7p.endClip();if(J7p.attached){this.positionPopUpNode(J7p);}};B0p.Marker.Performance.prototype.positionPopUpNode=function(W7p){var n7j,c6S,q7p,H7p,A6S,P6S,s7p,y6S,d7j,Y6S,B6S,t6S,E6S,v6S,p7p,o6S,I6S,T6S,S4j,I4j,h4j,C6S,i6S;n7j="h";n7j+="id";n7j+="de";n7j+="n";if(!W7p.attached || !W7p.params.box){return;}c6S=W7p.params;q7p=c6S.stx;H7p=c6S.box;A6S=W7p.params.node.expand;P6S=q7p.chart.dataSet;s7p=q7p.chart.dataSegment;if(W7p.tick){d7j="Da";d7j+="t";d7j+="e";Y6S=[P6S[s7p[0] && s7p[+"0"].tick - 1],P6S[s7p[0] && s7p[0].tick - 2]];B6S=q7p.getFirstLastDataRecord(Y6S.concat(s7p),d7j);t6S=[P6S[s7p[s7p.length - 1].tick + 1],P6S[s7p[s7p.length - 1].tick + 2]];E6S=q7p.getFirstLastDataRecord(s7p.concat(t6S),"Date",! !{});y6S=B6S.DT <= P6S[W7p.tick].DT && P6S[W7p.tick].DT <= E6S.DT;}else {y6S=!{};}if(!W7p.highlight && !W7p.active){y6S=![];}A6S.style.visibility=y6S?"":n7j;if(!y6S){return;}v6S=q7p.panels[c6S.panelName];p7p=A6S.rects;o6S=p7p.height / 2;T6S=W7p.node.params.infoOffset || 0;if(W7p.node.params.infoOnLeft){S4j=-622335217;I4j=1682547369;h4j=2;for(var j4j=1;Z3i4.u1y(j4j.toString(),j4j.toString().length,76964) !== S4j;j4j++){I6S=H7p.x0 - p7p.width - T6S < v6S.left?H7p.x1 + T6S:H7p.x0 - p7p.width - T6S;h4j+=2;}if(Z3i4.u1y(h4j.toString(),h4j.toString().length,58105) !== I4j){I6S=H7p.x0 % p7p.width / T6S >= v6S.left?H7p.x1 / T6S:(H7p.x0 + p7p.width) / T6S;}}else {I6S=H7p.x0 + p7p.width > v6S.right?H7p.x0 - p7p.width - T6S:H7p.x1 + T6S;}I6S-=q7p.chart.left;C6S=H7p.y0 - o6S >= v6S.top?H7p.y0 + H7p.midY - o6S:H7p.y0;if(!c6S.avoidFlush && H7p.y1 + H7p.stemHeight === v6S.yAxis.bottom && p7p.height > H7p.y1 - H7p.y0 + H7p.stemHeight){C6S=H7p.y1 - p7p.height + H7p.stemHeight;}C6S-=q7p.chart.panel.top;i6S="translateX(" + Math.floor(I6S) + "px) translateY(" + Math.floor(C6S) + "px) translateZ(0)";A6S.style.transform=i6S;A6S.transform={translateX:I6S,translateY:C6S};};B0p.Marker.Performance.prototype.quickCache=function(z6S){var m6S,x6S,R6S,h6S;m6S=z6S.params.node;x6S=m6S.expand;R6S=z6S.style;h6S=B0p.stripPX(R6S.marginLeft) + B0p.stripPX(R6S.marginRight) + B0p.stripPX(R6S.borderRight) + B0p.stripPX(R6S.borderLeft);x6S.rects=x6S.getBoundingClientRect();x6S.scrollBarWidth=x6S.rects.width - x6S.clientWidth - h6S;};B0p.Marker.Performance.prototype.calculateYPosition=function(G6S){var G7j,n6S,M6S,a6S,F6S,w6S,d6S,L6S,S6S,b6S,V6S,u6S,U6S,f6S,H6S,W6S;G7j="on_";G7j+="candl";G7j+="e";n6S=G6S.marker;M6S=G6S.panel;a6S=G6S.height;F6S=G6S.half;w6S=G6S.offset;d6S=G6S.inverted;L6S=n6S.params.stx;S6S=L6S.chart;b6S=L6S.chart.highLowBars;V6S=S6S.dataSet[n6S.tick];if(!V6S){return;}u6S=b6S?V6S.High:V6S.Close;U6S=n6S.params.yPositioner;switch(U6S){case "value":if(n6S.params.y || n6S.params.y === 0){f6S=L6S.pixelFromPrice(n6S.params.y,M6S) - a6S * 0.5 + F6S;}else {f6S=L6S.pixelFromPrice(u6S,M6S) - w6S;}break;case "above_candle":f6S=L6S.pixelFromPrice(u6S,M6S) - w6S;break;case "below_candle":f6S=L6S.pixelFromPrice(V6S.Low || u6S,M6S);if(d6S && w6S){f6S+=w6S;}else {f6S+=F6S;}break;case G7j:(H6S=V6S.High || V6S.Close,W6S=V6S.Low || V6S.Low === +"0" || V6S.Close);f6S=L6S.pixelFromPrice((H6S + W6S) / 2,M6S) - a6S * 0.5 + F6S;break;case "top":f6S=L6S.pixelFromPrice(M6S.yAxis.high,M6S);if(d6S && w6S){f6S+=w6S;}else {f6S+=F6S;}break;case "bottom":f6S=L6S.pixelFromPrice(M6S.yAxis.low,M6S) - (w6S || F6S);break;default:break;}return f6S;};B0p.Marker.Performance.prototype.prepareForHolder=function(p6S){var s6S,P31;s6S=this.expand;P31=p6S.params.stx;s6S.classList.add(this.params.type);P31.markerHelper.domMarkers.push(p6S);return s6S;};B0p.Marker.Performance.prototype.addToHolder=function(l31){var m7j,c31,T31;m7j="m";m7j+="ou";m7j+="sed";m7j+="own";c31=this.expand;T31=l31.params.stx;B0p.Marker.Performance.reconstituteExpanded(T31);B0p.Marker.Performance.consolidateExpanded(T31);this.quickCache(l31);if(c31.clickClosure){return;}c31.addEventListener(m7j,A31);c31.addEventListener("touchstart",A31);function A31(y31){T31.activeMarker=l31;T31.activeMarker.click({cx:y31.clientX,cy:y31.clientY,panel:T31.currentPanel});Z3i4.s3k0();y31.stopPropagation();}c31.clickClosure=A31;};B0p.Marker.Performance.prototype.remove=function(D31){var g31,j31,l7j,k31,v31;g31=D31.params.stx;if(!g31){return;}if(!g31.markerHelper.domMarkers){return;}j31=g31.markerHelper.domMarkers.indexOf(D31);if(j31 != -1){g31.markerHelper.domMarkers.splice(j31,1);}if(D31.attached){l7j="cl";l7j+="i";l7j+="ck";k31=g31.panels[D31.params.panelName];v31=D31.params.node.expand;if(v31.parentNode === k31.subholder){k31.subholder.removeChild(v31);}v31.removeEventListener(l7j,v31.clickClosure);}};B0p.Marker.Performance.prototype.click=function(Z31){var g7j,P1y,T1y,V1y,K31,Y31,C31;g7j="n";g7j+="u";g7j+="mber";if(!this.hasText){return;}if(typeof arguments[+"0"] === g7j){P1y=-1600290096;T1y=-1867337544;V1y=2;for(var p5j=1;Z3i4.x1y(p5j.toString(),p5j.toString().length,"70236" >> 656634048) !== P1y;p5j++){Z31={cx:arguments["0" & 2147483647],cy:arguments[1],marker:arguments[2],panel:arguments[3]};V1y+=+"2";}if(Z3i4.x1y(V1y.toString(),V1y.toString().length,70540) !== T1y){Z31={cx:arguments[1],cy:arguments[8],marker:arguments[1],panel:arguments[6]};}}var {cx:o31, cy:B31, marker:I31, panel:X31}=Z31;K31=I31.params.stx;if(I31.attached){C31=this.expand;if(C31.rects.width - C31.scrollBarWidth + C31.transform.translateX < K31.backOutX(o31) && K31.backOutX(o31) < C31.rects.width + C31.transform.translateX){return;}this.remove(I31);}else {K31.addToHolder(I31);Y31=! ![];}I31.attached=!I31.attached;Z3i4.I3k0();I31.active=!I31.active;if(Y31){I31.stxNodeCreator.positionPopUpNode(I31);}};}};i7H=E31=>{var A7j,t31;A7j="u";A7j+="nde";A7j+="fin";A7j+="ed";t31=typeof _CIQ !== A7j?_CIQ:E31.CIQ;t31.Renderer.OHLC.requestNew=function(f31,i31){var J31,R31,z31,e31,r31,m31,u7j,x7j,h31;J31=null;R31=i31.hlc;z31=i31.colored;e31=i31.hollow;r31=i31.volume;m31=i31.histogram;for(var x31=0;x31 < f31.length;x31++){u7j="h";u7j+="l";u7j+="c";x7j="color";x7j+="e";x7j+="d";h31=f31[x31];switch(h31){case "bar":case "candle":J31=h31;break;case "volume":r31=!"";break;case "hollow":e31=! !"1";break;case x7j:z31=!"";break;case "histogram":m31=!"";J31="candle";break;case u7j:R31=! !{};J31="bar";break;default:return null;}}if(J31 === null){return null;}return new t31.Renderer.OHLC({params:t31.extend(i31,{type:J31,hlc:R31,colored:z31,hollow:e31,volume:r31,histogram:m31})});};t31.Renderer.OHLC.getChartParts=function(F31,G31){var H3j,Q3j,K3j,B3j,f3j,z3j,k3j,D3j,F3j,o3j,J3j,X3j,E3j,O3j,p3j,e3j,V7j,T7j,P7j,t7j,i7j,U7j,Z7j,W7j,V31,w31,N31,M31,L31,n31;H3j="f";H3j+="il";H3j+="l_color_even";Q3j="stx_hollow_cand";Q3j+="le_down";K3j="b";K3j+="ord";K3j+="er_c";K3j+="olor_even";B3j="cand";B3j+="le";f3j="fi";f3j+="ll_c";f3j+="olor";Z3i4.s3k0();f3j+="_down";z3j="h";z3j+="ol";z3j+="l";z3j+="ow";k3j="bor";k3j+="der_color_d";k3j+="own";D3j="st";D3j+="x_hol";D3j+="low_candle_down";F3j="border_col";F3j+="or_up";o3j="hol";o3j+="low";J3j="stx_candle";J3j+="_";J3j+="down";X3j="c";X3j+="andle";E3j="border";E3j+="_color_up";O3j="fill_c";O3j+="olor_up";p3j="bord";p3j+="er_c";p3j+="olor_up";e3j="ca";e3j+="ndle";V7j="border_color_ev";V7j+="en";T7j="b";T7j+="a";T7j+="r";P7j="stx_";P7j+="bar_do";P7j+="w";P7j+="n";t7j="b";t7j+="a";t7j+="r";i7j="bord";i7j+="er_";i7j+="color";U7j="fill_color_d";U7j+="ow";U7j+="n";Z7j="stx_h";Z7j+="istogram_down";W7j="s";W7j+="tx_histogram_";W7j+="up";V31=1;w31=2;N31=4;M31=8;L31=16;n31=32;return [{type:"histogram",drawType:"histogram",style:W7j,condition:M31,fill:"fill_color_up",border:"border_color_up",useColorInMap:!"",useBorderStyleProp:! !"1"},{type:"histogram",drawType:"histogram",style:Z7j,condition:L31,fill:U7j,border:"border_color_down",useColorInMap:! !{},useBorderStyleProp:! ![]},{type:"histogram",drawType:"histogram",style:"stx_histogram_even",condition:n31,fill:"fill_color_even",border:"border_color_even",skipIfPass:!"",useColorInMap:! !{},useBorderStyleProp:! ![]},{type:"bar",drawType:"bar",style:F31 || "stx_bar_chart",border:i7j,useColorInMap:! !{}},{type:t7j,drawType:"bar",style:"stx_bar_up",condition:G31?M31:V31,border:"border_color_up",useColorInMap:! ![]},{type:"bar",drawType:"bar",style:P7j,condition:G31?L31:w31,border:"border_color_down",useColorInMap:! ![]},{type:T7j,drawType:"bar",style:"stx_bar_even",condition:G31?n31:N31,border:V7j,skipIfPass:! !"1",useColorInMap:! !1},{type:e3j,drawType:"shadow",style:"stx_candle_shadow",border:p3j},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_up",condition:M31,border:"border_color_up"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_down",condition:L31,border:"border_color_down"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_even",condition:n31,border:"border_color_even",skipIfPass:! !1},{type:"candle",drawType:"candle",style:"stx_candle_up",condition:M31,fill:O3j,border:E3j,useColorInMap:! !{},useBorderStyleProp:! !"1"},{type:X3j,drawType:"candle",style:J3j,condition:L31,fill:"fill_color_down",border:"border_color_down",useColorInMap:!0,useBorderStyleProp:! !"1"},{type:o3j,drawType:"shadow",style:"stx_hollow_candle_up",condition:V31,border:F3j},{type:"hollow",drawType:"shadow",style:D3j,condition:w31,border:k3j},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_even",condition:N31,border:"border_color_even",skipIfPass:! !"1"},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_up",condition:V31 | L31,fill:"fill_color_up",border:"border_color_up",useColorInMap:! !"1"},{type:z3j,drawType:"candle",style:"stx_hollow_candle_down",condition:w31 | L31,fill:f3j,border:"border_color_down",useColorInMap:! ![]},{type:"hollow",drawType:B3j,style:"stx_hollow_candle_even",condition:N31 | L31,fill:"fill_color_even",border:K3j,skipIfPass:! !"1",useColorInMap:! ![]},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_up",condition:V31 | M31,fill:"fill_color_up",border:"border_color_up"},{type:"hollow",drawType:"candle",style:Q3j,condition:w31 | M31,fill:"fill_color_down",border:"border_color_down"},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_even",condition:N31 | M31,fill:H3j,border:"border_color_even"}];};t31.Renderer.Bars=function(O31){var u31,B5j,K5j,Q5j;this.construct(O31);u31=this.params;u31.type="bar";B5j=1665317102;K5j=-138637705;Z3i4.m0R0(6);Q5j=Z3i4.O0R0("2",0);for(var b5j=1;Z3i4.u1y(b5j.toString(),b5j.toString().length,75813) !== B5j;b5j++){this.highLowBars=this.barsHaveWidth=this.standaloneBars=!{};Q5j+=2;}if(Z3i4.u1y(Q5j.toString(),Q5j.toString().length,91808) !== K5j){this.highLowBars=this.barsHaveWidth=this.standaloneBars=! !"1";}this.highLowBars=this.barsHaveWidth=this.standaloneBars=! !{};u31.hlc=u31.volume=u31.hollow=u31.histogram=!{};};t31.inheritsFrom(t31.Renderer.Bars,t31.Renderer.OHLC,!{});t31.Renderer.HLC=function(Q31){var a31;this.construct(Q31);a31=this.params;a31.type="bar";a31.hlc=! !{};this.highLowBars=this.barsHaveWidth=this.standaloneBars=! ![];a31.volume=a31.hollow=a31.histogram=!{};};t31.inheritsFrom(t31.Renderer.HLC,t31.Renderer.Bars,![]);t31.Renderer.Shading=function(d31){this.construct(d31);this.beenSetup=![];this.errTimeout=null;this.params.useChartLegend=!1;this.shading=[];Z3i4.I3k0();if(this.params.type == "rangechannel"){this.highLowBars=! ![];}};t31.inheritsFrom(t31.Renderer.Shading,t31.Renderer.Lines,!"1");t31.Renderer.Shading.requestNew=function(U31,W31){var S31,H31;S31=null;for(var b31=0;b31 < U31.length;b31++){H31=U31[b31];if(H31 == "rangechannel"){S31="rangechannel";}}if(S31 === null){return null;}return new t31.Renderer.Shading({params:t31.extend(W31,{type:S31})});};t31.Renderer.Shading.prototype.setShading=function(s31){if(s31.constructor != Array){s31=[s31];}this.shading=s31;};t31.Renderer.Shading.prototype.draw=function(){var P21,T21,b3j,I21,l21,C21,g21,K21,c21,p31,D21,Y3j,v21,o21,S3j,a3j,q31,y21,j21,k21,A21;P21=this.stx;T21=P21.panels[this.params.panel].chart;if(this.params.type == "rangechannel"){if(this.beenSetup){if(this.seriesParams.length > 2){this.removeSeries(this.seriesParams[2].id);}}else {b3j="stx_li";b3j+="ne_";b3j+="down";this.beenSetup=! ![];this.params.display=this.seriesParams[0].display;this.params.yAxis=this.seriesParams[0].yAxis;I21=this.seriesParams[0].color || "auto";l21=this.seriesParams[+"0"].symbol;C21="";if(l21){Z3i4.m0R0(1);C21=Z3i4.O0R0(".",l21);}this.removeAllSeries(!"");g21=this.params.name;P21.addSeries(null,{symbol:l21,loadData:! !l21,field:"High",renderer:"Shading",name:g21,style:"stx_line_up",display:this.params.display});P21.addSeries(null,{symbol:l21,loadData:! !l21,field:"Low",renderer:"Shading",name:g21,style:b3j,display:this.params.display});this.setShading({primary:this.seriesParams[0].id,secondary:this.seriesParams[1].id,color:I21});}}if(!this.shading){if(!this.errTimeout){console.log("Warning: no shading scheme set.  Use myRenderer.setShading(scheme) to set.");K21=this;this.errTimeout=setTimeout(function(){K21.errTimeout=null;},10000);}}c21={};function Z21(X21){var Y21,t21,B21;Y21=c21[X21];if(Y21){t21=Y21.parameters.field;B21=Y21.parameters.subField;Z3i4.m0R0(1);return Z3i4.O0R0(B21?("300.7" - 0 === 6956?7320 >= 1811?(9.50e+3,9.91e+3):("o","H"):".") + B21:"",t21);}return X21;}for(p31=0;p31 < this.seriesParams.length;p31++){D21={};if(T21.series[this.seriesParams[p31].id]){D21=t31.clone(T21.series[this.seriesParams[p31].id].parameters);}c21[this.seriesParams[p31].id]={parameters:t31.extend(t31.extend(D21,this.params),this.seriesParams[p31]),yValueCache:this.caches[this.seriesParams[p31].id]};}P21.drawSeries(T21,c21,this.params.yAxis,this);if(T21.legend && this.params.type == "rangechannel"){Y3j="stx_l";Y3j+="ine_down";if(!T21.legend.colorMap){T21.legend.colorMap={};}v21=this.params.display;o21=[P21.getCanvasColor("stx_line_up"),P21.getCanvasColor(Y3j)];T21.legend.colorMap[v21]={color:o21,display:v21,isBase:this == P21.mainSeriesRenderer};;}for(p31 in c21){this.caches[p31]=c21[p31].yValueCache;}for(p31=+"0";p31 < this.shading.length;p31++){S3j="C";S3j+="lo";S3j+="s";S3j+="e";a3j="C";a3j+="l";a3j+="o";a3j+="se";q31=this.shading[p31];y21=q31.color;if(q31.color == "auto"){y21=P21.defaultColor;}if(!q31.primary){q31.primary=a3j;}if(!q31.secondary && this.seriesParams[+"0"]){q31.secondary=this.seriesParams[0].field;}if(!q31.secondary)continue;else if(!c21[q31.primary] && q31.primary != "Close")continue;else if(!c21[q31.secondary])continue;else if(q31.primary == "Close" && this.params.yAxis && this.params.yAxis != T21.yAxis)continue;j21=Z21(q31.primary).split(5120 > 692.26?(897.55,5680) > "618.18" * 1?".":!{}:(952.29,!""));k21=Z21(q31.secondary).split(".");A21={topBand:j21[0],topSubBand:j21[1],topColor:q31.greater || y21 || P21.containerColor,topAxis:this.params.yAxis,bottomBand:k21[0],bottomSubBand:k21[1],bottomColor:q31.lesser || y21 || P21.containerColor,bottomAxis:q31.primary == S3j?null:this.params.yAxis,tension:this.params.tension || T21.tension,opacity:0.1};if(!A21.topColor && !A21.bottomColor)continue;if(!this.params.highlight && P21.highlightedDraggable){A21.opacity*=0.3;}t31.fillIntersecting(P21,this.params.panel,A21);}};t31.Renderer.Histogram=function(E21){var I3j,h3j;I3j="histo";I3j+="gr";I3j+="a";I3j+="m";this.construct(E21);this.params.type=I3j;this.barsHaveWidth=this.standaloneBars=! !1;if(this.params.yAxis){h3j="n";h3j+="u";h3j+="mb";h3j+="er";this.params.bindToYAxis=! !{};if(typeof this.params.yAxis.baseline == h3j){this.params.yAxis.baseline={value:this.params.yAxis.baseline};}}};t31.inheritsFrom(t31.Renderer.Histogram,t31.Renderer,![]);t31.Renderer.Histogram.prototype.adjustYAxis=function(){var i21;Z3i4.I3k0();i21=this.params.yAxis;if(!i21 || i21.baseline){return;}i21.min=0;i21.highValue/=this.params.heightPercentage || "1" << 60554432;};t31.Renderer.Histogram.prototype.draw=function(){var R3j,J21,x21,N3j,j3j,R21,z21;R3j="s";R3j+="t";Z3i4.I3k0();R3j+="ack";R3j+="ed";J21=t31.clone(this.params);J21.type=J21.subtype;this.useSum=J21.subtype == R3j;if(!J21.yAxis || J21.yAxis == this.stx.chart.yAxis){J21.bindToYAxis=! !{};}this.stx.drawHistogram(J21,this.seriesParams);x21=J21.yAxis && J21.yAxis.baseline;if(x21 && x21.color){N3j="dest";N3j+="ination-over";j3j="s";j3j+="ol";j3j+="i";j3j+="d";R21=this.stx.panels[this.params.panel];z21=this.stx.pixelFromPrice(x21.value,R21,this.params.yAxis) - 0.5;this.stx.plotLine({x0:R21.left,x1:R21.right,y0:z21,y1:z21,color:x21.color,type:"line",context:R21.chart.context,confineToPanel:R21,pattern:x21.pattern || j3j,lineWidth:x21.lineWidth || 1,opacity:x21.opacity || +"0.8",globalCompositeOperation:N3j});}};t31.Renderer.Histogram.prototype.getBasis=function(f21,M21,L21){var m21,h21,e21;Z3i4.I3k0();m21=0;if(f21 && this.useSum){for(var r21=0;r21 < this.seriesParams.length;r21++){h21=this.seriesParams[r21].field;if(h21 === M21)break;e21=f21[h21];if(e21 && typeof e21 === "object"){e21=e21[L21 || this.seriesParams[r21].subField || this.stx.chart.defaultPlotField || "Close"];}if(e21){m21+=e21;}}}return m21;};t31.Renderer.Heatmap=function(V21){var c3j;c3j="h";c3j+="eat";c3j+="m";c3j+="ap";this.construct(V21);this.params.type=c3j;Z3i4.I3k0();this.params.highlightable=! !0;this.barsHaveWidth=this.standaloneBars=! !1;};t31.inheritsFrom(t31.Renderer.Heatmap,t31.Renderer,!1);t31.Renderer.Heatmap.requestNew=function(n21,F21){var w21,s3j,G21;w21=null;for(var N21=0;N21 < n21.length;N21++){s3j="he";s3j+="a";s3j+="tmap";G21=n21[N21];if(G21 == s3j){w21="heatmap";}}if(w21 === null){return null;}return new t31.Renderer.Heatmap({params:t31.extend(F21,{type:w21})});};t31.Renderer.Heatmap.prototype.draw=function(){Z3i4.s3k0();this.stx.drawHeatmap(t31.clone(this.params),this.seriesParams);};t31.Renderer.Scatter=function(u21){Z3i4.I3k0();this.construct(u21);this.standaloneBars=this.barsHaveWidth=! ![];this.bounded=!"";};t31.inheritsFrom(t31.Renderer.Scatter,t31.Renderer.Lines,![]);t31.Renderer.Scatter.requestNew=function(Q21,S21){var O21,r3j,q3j,d21;O21=null;for(var a21=0;a21 < Q21.length;a21++){r3j="sc";r3j+="a";r3j+="tte";r3j+="r";q3j="scatte";q3j+="rp";q3j+="l";q3j+="ot";d21=Q21[a21];if(d21 == q3j){O21=r3j;}}if(O21 === null){return null;}Z3i4.s3k0();return new t31.Renderer.Scatter({params:t31.extend(S21,{type:O21})});};t31.Renderer.Scatter.prototype.drawIndividualSeries=function(W21,U21){var M3j,H21,b21;M3j="Error, Scatter renderer requires customChar";M3j+="t.js";H21=this.stx.panels[U21.panel] || W21.panel;b21={colors:[]};if(this.stx.scatter){b21=this.stx.scatter(H21,U21);}else {console.warn(M3j);}return b21;};};J7H=q21=>{var s21,E2j,X2j,J2j,w3j,C4V4,w4V4,M4V4,r4V4,q4V4,s4V4,c4V4,N4V4,j4V4,R4V4,h4V4,I4V4,S4V4,a4V4,Y4V4,b4V4,H4V4,Q4V4,K4V4,B4V4,f4V4,z4V4,k4V4,D4V4,F4V4,o4V4,J4V4,X4V4,E4V4,O4V4,p4V4,e4V4,V0V4,T0V4,P0V4,t0V4,i0V4,U0V4,Z0V4,W0V4,u0V4,x0V4,A0V4,g0V4,l0V4,m0V4,G0V4,n0V4,d0V4,y0V4,v0V4,L0V4,C0V4,w0V4,M0V4,r0V4,q0V4,s0V4,c0V4,N0V4,j0V4,R0V4,h0V4,I0V4,S0V4,a0V4,Y0V4,b0V4,H0V4,Q0V4,K0V4,B0V4,f0V4,z0V4,k0V4,D0V4,F0V4,o0V4,J0V4,X0V4,E0V4,O0V4,p0V4,e0V4,V2V4,T2V4,P2V4,t2V4,i2V4,U2V4,Z2V4,W2V4,u2V4,x2V4,A2V4,g2V4,l2V4,m2V4,G2V4,n2V4,d2V4,y2V4,v2V4,L2V4,C2V4,w2V4,r2V4,q2V4,s2V4,c2V4,N2V4,j2V4,R2V4,h2V4,I2V4,S2V4,a2V4,Y2V4,b2V4,H2V4,Q2V4,O6j,p6j,e6j,V3j,T3j;s21=typeof _CIQ !== "undefined"?_CIQ:q21.CIQ;if(!s21.Studies){E2j=1423815742;X2j=1360931229;Z3i4.m0R0(14);J2j=Z3i4.O0R0("2",0);for(var F2j=1;Z3i4.x1y(F2j.toString(),F2j.toString().length,16864) !== E2j;F2j++){w3j="studiesA";w3j+="dvanced feature require";w3j+="s first activating studies feature.";console.error(w3j);J2j+=2;}if(Z3i4.x1y(J2j.toString(),J2j.toString().length,32958) !== X2j){console.error("");}}else {C4V4="#";C4V4+="b82";C4V4+="c0c";w4V4="#8cc1";w4V4+="76";M4V4="0";M4V4+="9";M4V4+=":3";M4V4+="0";r4V4="0 t";r4V4+="o";r4V4+=" m";r4V4+="ax";q4V4="Projected Aggrega";q4V4+="te ";q4V4+="Volume";s4V4="#";s4V4+="b";s4V4+="82c";s4V4+="0c";c4V4="-";c4V4+="40";c4V4+="%";N4V4="+";N4V4+="1";N4V4+="0";N4V4+="%";j4V4="0";j4V4+="9:";j4V4+="3";j4V4+="0";R4V4="P";R4V4+="roje";R4V4+="cted Volume ";R4V4+="at Time";h4V4="fi";h4V4+="e";h4V4+="l";h4V4+="d";I4V4="m";I4V4+="a";S4V4="0";S4V4+=" to 1";S4V4+="00";a4V4="Zi";a4V4+="gZag";Y4V4="0";Y4V4+=".";Y4V4+="0";Y4V4+="1";b4V4="0";b4V4+=".01";H4V4="a";H4V4+="u";H4V4+="t";H4V4+="o";Q4V4="V";Q4V4+="olume Profile";K4V4="#";K4V4+="b";K4V4+="82c0c";B4V4="#5";B4V4+="F7C";B4V4+="B8";f4V4="high";f4V4+="/low";z4V4="c";z4V4+="lose";k4V4="f";k4V4+="iel";k4V4+="d";D4V4="fie";D4V4+="ld";F4V4="#";F4V4+="00DD00";o4V4="#";o4V4+="FF";o4V4+="00";o4V4+="FF";J4V4="#FFF";J4V4+="F00";X4V4="#FF0";X4V4+="0";X4V4+="0";X4V4+="0";E4V4="Rain";E4V4+="bow Moving Average";O4V4="Dispa";O4V4+="rity Index";p4V4="0";p4V4+=".1";e4V4="a";e4V4+="u";e4V4+="t";e4V4+="o";V0V4="a";V0V4+="u";V0V4+="t";V0V4+="o";T0V4="a";T0V4+="u";T0V4+="to";P0V4="aut";P0V4+="o";t0V4="fie";t0V4+="ld";i0V4="Trend ";i0V4+="Intensit";i0V4+="y ";i0V4+="Index";U0V4="U";U0V4+="l";U0V4+="cer Ind";U0V4+="ex";Z0V4="S";Z0V4+="P";Z0V4+="Y";W0V4="B";W0V4+="et";W0V4+="a";u0V4="#00D";u0V4+="D0";u0V4+="0";x0V4="#";x0V4+="00DD";x0V4+="0";x0V4+="0";A0V4="#";A0V4+="FF0";A0V4+="000";g0V4="Alli";g0V4+="gato";g0V4+="r";l0V4="#d";l0V4+="3";l0V4+="e8a";l0V4+="e";m0V4="#b";m0V4+="3d9";m0V4+="8";m0V4+="7";G0V4="#699";G0V4+="158";n0V4="Pivot ";n0V4+="P";n0V4+="oi";n0V4+="nts";d0V4="#8";d0V4+="BC";d0V4+="176";y0V4="Elder Imp";y0V4+="ulse Sy";y0V4+="s";y0V4+="tem";v0V4="f";v0V4+="i";v0V4+="eld";L0V4="m";L0V4+="a";C0V4="#FF";C0V4+="0";C0V4+="00";C0V4+="0";w0V4="a";w0V4+="u";w0V4+="t";w0V4+="o";M0V4="aut";M0V4+="o";r0V4="A";r0V4+="T";r0V4+="R Ban";r0V4+="ds";q0V4="#";q0V4+="5";q0V4+="f";q0V4+="7cb8";s0V4="#8";s0V4+="b";s0V4+="c";s0V4+="176";c0V4="Market Facilitation In";c0V4+="dex";N0V4="Awes";N0V4+="ome Oscillator";j0V4="a";j0V4+="u";j0V4+="to";R0V4="a";R0V4+="ut";R0V4+="o";h0V4="0 ";h0V4+="to";h0V4+=" ";h0V4+="100";I0V4="0";I0V4+=".0";I0V4+="5";S0V4="0.";S0V4+="05";a0V4="a";a0V4+="uto";Y0V4="fi";Y0V4+="e";Y0V4+="l";Y0V4+="d";b0V4="Price M";b0V4+="oment";b0V4+="u";b0V4+="m Oscillator";H0V4="-";H0V4+="1";H0V4+=" t";H0V4+="o 1";Q0V4="Corre";Q0V4+="lation Coeffic";Q0V4+="ient";K0V4="#";K0V4+="8";K0V4+="cc1";K0V4+="76";B0V4="me";B0V4+="a";B0V4+="n";f0V4="Wil";f0V4+="liam";f0V4+="s %";f0V4+="R";z0V4="Po";z0V4+="int";z0V4+="s";k0V4="a";k0V4+="ut";k0V4+="o";D0V4="e";D0V4+="m";D0V4+="a";F0V4="a";F0V4+="u";F0V4+="t";F0V4+="o";o0V4="f";o0V4+="i";o0V4+="e";o0V4+="ld";J0V4="au";J0V4+="to";X0V4="aut";X0V4+="o";E0V4="a";E0V4+="uto";O0V4="#F";O0V4+="F";O0V4+="000";O0V4+="0";p0V4="fie";p0V4+="l";p0V4+="d";e0V4="RA";e0V4+="VI";V2V4="Rando";V2V4+="m Walk Index";T2V4="a";T2V4+="u";T2V4+="t";T2V4+="o";P2V4="aut";P2V4+="o";t2V4="-1 t";t2V4+="o";t2V4+=" 1";i2V4="Pr";i2V4+="ice";i2V4+=" ";i2V4+="Volume Trend";U2V4="P";U2V4+="e";U2V4+="rcent";Z2V4="Poi";Z2V4+="n";Z2V4+="t";Z2V4+="s";W2V4="e";W2V4+="m";W2V4+="a";u2V4="au";u2V4+="t";u2V4+="o";x2V4="m";x2V4+="a";A2V4="Ma";A2V4+="s";A2V4+="s I";A2V4+="ndex";g2V4="au";g2V4+="to";l2V4="M";l2V4+="oving Average Envel";l2V4+="ope";m2V4="#F";m2V4+="F";m2V4+="00";m2V4+="00";G2V4="a";G2V4+="u";G2V4+="to";n2V4="f";n2V4+="iel";n2V4+="d";d2V4="#FF";d2V4+="0";d2V4+="000";y2V4="#00";y2V4+="DD00";v2V4="a";v2V4+="u";v2V4+="t";v2V4+="o";L2V4="e";L2V4+="m";L2V4+="a";C2V4="f";C2V4+="i";C2V4+="e";C2V4+="ld";w2V4="Historic";w2V4+="al Volatility";r2V4="au";r2V4+="t";r2V4+="o";q2V4="Elder R";q2V4+="ay ";q2V4+="Ind";q2V4+="ex";s2V4="Eh";s2V4+="ler Fi";s2V4+="sher Transform";c2V4="f";c2V4+="ie";c2V4+="ld";N2V4="f";N2V4+="i";N2V4+="e";N2V4+="ld";j2V4="Center ";j2V4+="Of";j2V4+=" Gr";j2V4+="avity";R2V4="a";R2V4+="ut";R2V4+="o";h2V4="a";h2V4+="u";h2V4+="t";h2V4+="o";I2V4="Chand";I2V4+="e Momentum Oscillator";S2V4="f";S2V4+="ie";S2V4+="ld";a2V4="Chaik";a2V4+="i";a2V4+="n Money Flow";Y2V4="aut";Y2V4+="o";b2V4="Average True ";b2V4+="Range";H2V4="0 t";H2V4+="o 100";Q2V4="#";Q2V4+="F";Q2V4+="F0000";O6j="TripleExpo";O6j+="ne";O6j+="n";O6j+="tial";p6j="DoubleExponen";p6j+="tial";e6j="H";e6j+="u";e6j+="l";e6j+="l";V3j="h";V3j+="m";V3j+="a";T3j="de";T3j+="ma";s21.Studies.calculateRSI=function(k81,p21){var x7k0=Z3i4;var v3j,L3j,C3j,g81,P81,A81,y81,D81,v81,T81,c81;v3j="R";v3j+="SI";L3j="C";L3j+="los";L3j+="e";C3j="f";C3j+="i";C3j+="e";C3j+="ld";g81=p21.chart.scrubbed;function j81(K81,I81){var C81;if(I81 === "0" >> 358287232){return 100;}x7k0.I3k0();x7k0.m0R0(7);C81=x7k0.O0R0(I81,K81);x7k0.m0R0(63);return x7k0.O0R0(100,"1",C81,100);}P81=p21.inputs.Field;if(!P81 || P81 == C3j){P81=L3j;}if(g81.length < p21.days + 1){p21.error=!"";return;}for(var l81=p21.startFrom;l81 < g81.length;l81++){if(!l81)continue;A81=g81[l81];x7k0.S0R0(64);y81=g81[x7k0.O0R0(630246944,"1",l81)];if(!A81[P81] && A81[P81] !== 0)continue;if(!y81[P81] && y81[P81] !== 0)continue;D81=A81[P81] - y81[P81];v81=Math.min(l81,p21.days);T81=y81["_avgG " + p21.name];if(!T81){T81=0;}x7k0.S0R0(7);T81-=x7k0.O0R0(v81,T81);c81=y81["_avgL " + p21.name];if(!c81){c81=0;}x7k0.m0R0(7);c81-=x7k0.O0R0(v81,c81);if(D81 > 0){x7k0.S0R0(7);T81+=x7k0.O0R0(v81,D81);}else if(D81 <= 0){x7k0.m0R0(7);c81-=x7k0.O0R0(v81,D81);}else continue;if(l81 >= p21.days){if((T81 || T81 !== 0) && (c81 || c81 !== 0)){A81["RSI " + p21.name]=j81(T81,c81);}}A81["_avgG " + p21.name]=T81;A81["_avgL " + p21.name]=c81;}x7k0.s3k0();p21.zoneOutput=v3j;};s21.Studies.calculateValuationLines=function(E81,o81,J81){var Q7k0=Z3i4;var G3j,n3j,d3j,y3j,r81,f81,m81,x81,R81,z81,e81,Z81,Y81,B81,t81,i81,h81;G3j="Display 2 Standard Dev";G3j+="iation (2\u03C3)";n3j="Display 1";n3j+=" Standard Deviation (1\u03C3)";d3j="Avera";d3j+="g";d3j+="e Type";y3j="fie";y3j+="l";y3j+="d";r81=o81.inputs.Field == y3j?"Close":o81.inputs.Field;f81=o81.inputs[d3j];m81=o81.inputs["Display Average"];x81=o81.inputs[n3j];R81=o81.inputs[G3j];z81=o81.inputs["Display 3 Standard Deviation (3\u03C3)"];e81=[];for(var X81=0;X81 < J81.length;++X81){if(J81[X81] && !isNaN(J81[X81][r81])){e81.push(J81[X81][r81]);}}Z81=(function(N81,F81){var M81,V81,w81,L81,n81,G81,b0j,Y0j,a0j;M81=N81.length;V81=0;w81=0;L81=0;switch(F81){case "mean":w81=M81;for(;L81 < M81;++L81){V81+=N81[L81];}break;case "harmonic":V81=M81;for(;L81 < M81;++L81){w81+=1 / N81[L81];}break;case "median":Q7k0.S0R0(65);n81=Math.floor(Q7k0.O0R0("2",M81));G81=N81.slice().sort(function(u81,O81){Q7k0.I3k0();if(u81 > O81){return 1;}if(u81 < O81){return -1;}return 0;});if(M81 % 2 === 0){b0j=-1399436283;Y0j=-329148030;a0j=+"2";for(var I0j=1;Q7k0.x1y(I0j.toString(),I0j.toString().length,19270) !== b0j;I0j++){V81=G81[n81] * G81[n81 / ("0" * 1)];w81=9;a0j+=2;}if(Q7k0.x1y(a0j.toString(),a0j.toString().length,63161) !== Y0j){V81=G81[n81] + G81[n81 - 1];w81=2;}}else {V81=G81[n81];w81=1;}break;}Q7k0.m0R0(7);return Q7k0.O0R0(w81,V81);})(e81,f81);Y81=!(x81 || R81 || z81) || (function(S81,b81){var Q81,d81;Q81=S81.length;d81=0;for(var a81=0;a81 < Q81;++a81){d81+=Math.pow(S81[a81] - b81,2);}Q7k0.m0R0(7);return Math.sqrt(Q7k0.O0R0(Q81,d81));})(e81,Z81);o81.data={Average:m81?[Z81]:null,"1 Standard Deviation (1\u03C3)":x81?[Z81 + Y81,Z81 - Y81]:null,"2 Standard Deviation (2\u03C3)":R81?[Z81 + Y81 * ("2" | 0),Z81 - Y81 * 2]:null,"3 Standard Deviation (3\u03C3)":z81?[Z81 + Y81 * 3,Z81 - Y81 * 3]:null};B81=Y81;if(!o81.parameters){o81.parameters={};}if(z81){Q7k0.S0R0(66);o81.parameters.range=[Q7k0.O0R0(3,Z81,B81,Y81),Q7k0.y0R0(3,B81,Y81,Z81,Q7k0.m0R0(67))];}else if(R81){Q7k0.m0R0(66);o81.parameters.range=[Q7k0.O0R0(2,Z81,B81,Y81),Q7k0.y0R0(2,B81,Y81,Z81,Q7k0.m0R0(67))];}else if(x81){Q7k0.m0R0(59);o81.parameters.range=[Q7k0.O0R0(B81,Y81,Z81),Q7k0.y0R0(Y81,Z81,B81,Q7k0.S0R0(48))];}else if(m81){Q7k0.m0R0(6);o81.parameters.range=[Q7k0.y0R0(Z81,B81),Q7k0.y0R0(B81,Z81,Q7k0.S0R0(1))];}if(o81.panel){t81=E81.panels[o81.panel];i81=E81.getYAxisByName(t81,o81.name);if(i81){i81.decimalPlaces=t81.chart.yAxis.printDecimalPlaces;h81={yAxis:i81};E81.calculateYAxisRange(t81,i81,o81.parameters.range["0" * 1],o81.parameters.range[1]);E81.createYAxis(t81,h81);E81.drawYAxis(t81,h81);}}};s21.Studies.displayValuationLines=function(H81,s81){var Z7k0=Z3i4;var A3j,g3j,l3j,m3j,U81,q81,P41,l41,o41,Z41,Y41,T41,c41,A41,D41,v41,j41,k41,y41,g41,W81,I41,B41,C41,W3j,u3j,x3j,K41;A3j="st";A3j+="x";A3j+="_yaxis";g3j="H";g3j+="A";g3j+="V";g3j+="G";l3j="ME";Z7k0.I3k0();l3j+="D";m3j="AV";m3j+="G";U81=H81.panels[s81.panel];q81=s81.getYAxis(H81);P41=s81.getContext(H81);l41=s81.data;o41=s81.parameters.labels;Z41=s81.inputs["Average Type"];Y41={mean:m3j,median:l3j,harmonic:g3j};T41=H81.canvasStyle("ciq-valuation-average-line");c41=H81.canvasStyle("ciq-valuation-deviation-line");Z7k0.S0R0(17);A41=Z7k0.y0R0("3",149660480);D41=H81.getCanvasFontSize(A3j) + A41 * 2;for(var p81 in l41){if(!l41[p81])continue;Z7k0.m0R0(68);v41=Z7k0.y0R0(p81,"Average");j41=s21.Studies.determineColor(s81.outputs[p81]);k41=l41[p81];for(y41=0;y41 < k41.length;++y41){W3j="n";W3j+="o";W3j+="n";W3j+="e";u3j="s";u3j+="o";u3j+="li";u3j+="d";x3j="no";x3j+="ne";g41=k41[y41];W81=H81.pixelFromPrice(g41,U81,q81);if(W81 <= U81.top || W81 >= U81.yAxis.bottom)continue;C41=v41?{pattern:T41.borderStyle != x3j?T41.borderStyle || u3j:"solid",lineWidth:parseFloat(T41.borderWidth) || "1" << 1181843040,opacity:parseFloat(T41.opacity) || "1" * 1,yAxis:q81}:{pattern:c41.borderStyle != W3j?c41.borderStyle || "dashed":"dashed",lineWidth:parseFloat(c41.borderWidth) || 1,opacity:parseFloat(c41.opacity) || 1,yAxis:q81};H81.plotLine(U81.left,U81.right,W81,W81,j41,"line",P41,U81,C41);if(o41 === "yaxis"){H81.createYAxisLabel(U81,H81.formatYAxisPrice(g41,U81),W81,j41,null,P41,q81);continue;}W81+=Math.floor(C41.lineWidth / ("2" - 0));if(W81 + D41 >= U81.yAxis.bottom)continue;I41=(v41?Y41[Z41] + ": ":p81["0" & 2147483647] + "\u03C3: ") + H81.formatYAxisPrice(g41,U81);B41=P41.measureText(I41).width;K41=U81.right - B41 - A41;if(q81 && q81.position == "left"){K41=U81.left + A41;}Z7k0.S0R0(69);P41.strokeText(I41,K41,Z7k0.O0R0(D41,2,0.5,W81));}}};s21.Studies.calculateCorrelationCoefficient=function(L41,X41){var H7k0=Z3i4;var E41,R5j,j5j,N5j,J41,V0j,e4j,p4j,x41,R41,z41,r41,m41,h41,f41,M41,t3j,i3j,U3j,i41,Z3j,P3j,w41,N41,n41,G41;E41=X41.chart.scrubbed;R5j=892991494;j5j=1811018912;N5j=2;for(var s5j=1;H7k0.u1y(s5j.toString(),s5j.toString().length,10530) !== R5j;s5j++){J41=X41.days;N5j+=2;}if(H7k0.u1y(N5j.toString(),N5j.toString().length,3848) !== j5j){J41=X41.days;}if(E41.length < J41 + 1){X41.error=! ![];return;}H7k0.s3k0();X41.compare=X41.inputs["Compare To"];if(!X41.compare){V0j=-981109393;e4j=-883601537;H7k0.S0R0(17);p4j=H7k0.O0R0("2",962963904);for(var E4j=1;H7k0.u1y(E4j.toString(),E4j.toString().length,12713) !== V0j;E4j++){X41.compare=[];X41.outputs={};p4j+=2;}if(H7k0.x1y(p4j.toString(),p4j.toString().length,86674) !== e4j){X41.compare=[];X41.outputs={};}X41.outputMap={};for(var V41 in L41.chart.series){x41=L41.chart.series[V41];if(x41.parameters.color){X41.compare.push(x41.display);X41.outputs["Result " + x41.display]=x41.parameters.color;X41.outputMap["Result " + x41.display + ((895.18,7430) == (773.41,240)?6.99e+3:4550 > 6250?0x6e4:" ") + X41.name]="Result " + x41.display;}}}else {X41.compare=[X41.compare];}if(!X41.compare.length){X41.error="Correlation Coefficient requires at least one comparison symbol";return;}for(var e41="0" ^ 0;e41 < X41.compare.length;e41++){R41=0;z41=0;H7k0.m0R0(0);r41=H7k0.O0R0("0",1);m41=0;h41=0;f41=X41.compare[e41];M41=0;for(var t41=X41.startFrom - J41;t41 < E41.length;t41++){t3j="_tem";t3j+="p";t3j+="s";t3j+=" ";i3j="_";i3j+="tem";i3j+="p";i3j+="s ";U3j="_";U3j+="temp";U3j+="s ";if(!E41[t41])continue;i41=E41[t41][f41];if(i41 && typeof i41 == "object"){i41=i41.Close;}if(!i41 && i41 !== 0){Z3j="_tem";Z3j+="ps ";if(t41 > ("0" ^ 0) && E41[t41 - 1] && E41[t41 - +"1"][Z3j + X41.name] && E41[t41 - 1]["_temps " + X41.name].c){i41=E41[t41 - 1]["_temps " + X41.name].c;}else {H7k0.S0R0(0);i41=H7k0.y0R0("0",1);}}if(i41 && typeof i41 == "object"){i41=i41.Close;}E41[t41]["_temps " + X41.name]={};R41+=E41[t41]["_temps " + X41.name].b=E41[t41].Close;z41+=E41[t41]["_temps " + X41.name].c=i41;r41+=E41[t41][U3j + X41.name].b2=Math.pow(E41[t41].Close,2);m41+=E41[t41][i3j + X41.name].c2=Math.pow(i41,+"2");h41+=E41[t41][t3j + X41.name].bc=E41[t41].Close * i41;if(M41 >= J41){P3j="Result";P3j+=" ";R41-=E41[t41 - J41]["_temps " + X41.name].b;z41-=E41[t41 - J41]["_temps " + X41.name].c;r41-=E41[t41 - J41]["_temps " + X41.name].b2;m41-=E41[t41 - J41]["_temps " + X41.name].c2;h41-=E41[t41 - J41]["_temps " + X41.name].bc;w41=r41 / J41 - Math.pow(R41 / J41,2);N41=m41 / J41 - Math.pow(z41 / J41,2);n41=h41 / J41 - R41 * z41 / Math.pow(J41,2);G41=n41 / Math.sqrt(w41 * N41);E41[t41][P3j + f41 + (6740 < (9530,2920)?("K",! !1):" ") + X41.name]=G41;}M41++;}}};s21.Studies.prettify=s21.extend({"2-exponential":T3j,"3-exponential":"tema",hull:V3j},s21.Studies.prettify);s21.extend(s21.Studies.movingAverage,{conversions:{hma:"hull",dema:"2-exponential",tema:"3-exponential"},translations:{hull:"Hull","2-exponential":"Double Exponential","3-exponential":"Triple Exponential"},typeMap:{hma:e6j,hull:"Hull",dema:p6j,"2-exponential":"DoubleExponential",tema:O6j,"3-exponential":"TripleExponential"}});s21.Studies.calculateMovingAverageHull=function(U41,F41){var o6j,E6j,O41,w9j,C9j,L9j,a41,u41,Q41,X6j,J6j,d41,S41,H41,b41,F6j;o6j="_";o6j+="MMA ";E6j="w";E6j+="ma";O41=F41.chart.scrubbed;w9j=-1950224127;C9j=-1980082722;L9j=2;for(var y9j=1;Z3i4.u1y(y9j.toString(),y9j.toString().length,87350) !== w9j;y9j++){a41=F41.inputs.Field;L9j+=2;}if(Z3i4.x1y(L9j.toString(),L9j.toString().length,89795) !== C9j){a41=F41.inputs.Field;}if(!a41 || a41 == "field"){a41="Close";}s21.Studies.MA("wma",F41.days,a41,0,"_WMA1",U41,F41);s21.Studies.MA(E6j,Math.ceil(F41.days / ("2" | 0)),a41,0,"_WMA2",U41,F41);for(u41=F41.startFrom - 1;u41 >= 0;u41--){X6j="o";X6j+="b";X6j+="je";X6j+="ct";Q41=O41[u41][a41];if(Q41 && typeof Q41 == X6j){Q41=Q41[F41.subField];}if(Q41 || Q41 === 0)break;}for(u41++;u41 < O41.length;u41++){J6j="_M";J6j+="MA ";d41=O41[u41];d41[J6j + F41.name]=2 * d41["_WMA2 " + F41.name] - d41["_WMA1 " + F41.name];}S41=parseInt(F41.inputs.Offset,10);if(isNaN(S41)){S41=0;}H41=Math.floor(Math.sqrt(F41.days));s21.Studies.MA("wma",H41,o6j + F41.name,S41,"_HMA",U41,F41);b41=F41.name;for(var W41 in F41.outputs){Z3i4.S0R0(48);b41=Z3i4.y0R0(" ",W41,b41);}for(u41=Math.max(F41.days + H41 - +"1",F41.startFrom);u41 < O41.length;u41++){F6j="_HMA";F6j+=" ";O41[u41][b41]=O41[u41][F6j + F41.name];}};s21.Studies.calculateMovingAverageDoubleExponential=function(z01,s41){var I7k0=Z3i4;var k6j,D6j,I01,Y01,p41,q41,l01,P61,z6j,X01,T61,B6j,f6j,c61,l61,A61;k6j="_EMA";k6j+="2";D6j="_E";D6j+="MA";D6j+="1";I01=s41.chart.scrubbed;Y01=s41.inputs.Field;if(!Y01 || Y01 == "field"){Y01="Close";}I7k0.s3k0();s21.Studies.MA("ema",s41.days,Y01,+"0",D6j,z01,s41);s21.Studies.MA("ema",s41.days,"_EMA1 " + s41.name,0,k6j,z01,s41);p41=parseInt(s41.inputs.Offset,10);if(isNaN(p41)){p41=0;}P61=p41;for(q41=s41.startFrom - 1;q41 >= ("0" | 0);q41--){z6j="obje";z6j+="ct";l01=I01[q41][Y01];if(l01 && typeof l01 == z6j){l01=l01[s41.subField];}if(!l01 && l01 !== 0)continue;if(P61 > 0){P61--;continue;}break;}X01=s41.name;for(var y61 in s41.outputs){I7k0.m0R0(48);X01=I7k0.O0R0((+"661.34",6000) != (+"7120",2640)?(+"3706","4247" * 1) <= (9130,1040)?(929.37,4080) === (415.82,+"316.68")?(0x596,"p"):777.67:" ":"e",y61,X01);}T61=[];for(q41++;q41 < I01.length;q41++){B6j="_";B6j+="EM";B6j+="A2";B6j+=" ";f6j="_E";f6j+="MA";f6j+="1 ";if(q41 < 2 * (s41.days - 1))continue;c61=I01[q41];l61=+"2" * c61[f6j + s41.name] - c61[B6j + s41.name];if(q41 + p41 >= 0){if(q41 + p41 < I01.length){I7k0.m0R0(1);I01[I7k0.O0R0(p41,q41)][X01]=l61;}else {A61={};A61[X01]=l61;T61.push(A61);}}}s41.appendFutureTicks(z01,T61);};s21.Studies.calculateMovingAverageTripleExponential=function(K61,g61){var s7k0=Z3i4;var H6j,Q6j,K6j,k61,I61,v61,D61,j61,Z61,C61,Y61,o61,B61,X61;H6j="_EMA";H6j+="3";Q6j="e";Q6j+="m";Q6j+="a";K6j="_";K6j+="E";K6j+="MA1";k61=g61.chart.scrubbed;I61=g61.inputs.Field;if(!I61 || I61 == "field"){I61="Close";}s21.Studies.MA("ema",g61.days,I61,0,K6j,K61,g61);s21.Studies.MA("ema",g61.days,"_EMA1 " + g61.name,0,"_EMA2",K61,g61);s21.Studies.MA(Q6j,g61.days,"_EMA2 " + g61.name,0,H6j,K61,g61);v61=parseInt(g61.inputs.Offset,10);if(isNaN(v61)){s7k0.m0R0(6);v61=s7k0.y0R0("0",0);}s7k0.s3k0();Z61=v61;for(D61=g61.startFrom - 1;D61 >= 0;D61--){j61=k61[D61][I61];if(j61 && typeof j61 == "object"){j61=j61[g61.subField];}if(!j61 && j61 !== "0" - 0)continue;if(Z61 > 0){Z61--;continue;}break;}C61=g61.name;for(var t61 in g61.outputs){s7k0.S0R0(48);C61=s7k0.O0R0((874.77,+"7121") <= (7130,1436)?642.82 !== (7980,583.4)?(1351,"7413" * 1) !== 2239?"z":483.93:!0:" ",t61,C61);}Y61=[];for(D61++;D61 < k61.length;D61++){if(D61 < +"3" * (g61.days - 1))continue;o61=k61[D61];B61=3 * o61["_EMA1 " + g61.name] - 3 * o61["_EMA2 " + g61.name] + o61["_EMA3 " + g61.name];if(D61 + v61 >= 0){if(D61 + v61 < k61.length){s7k0.m0R0(1);k61[s7k0.O0R0(v61,D61)][C61]=B61;}else {X61={};X61[C61]=B61;Y61.push(X61);}}}g61.appendFutureTicks(K61,Y61);};s21.Studies.calculateATRBands=function(J61,E61){var i61;s21.Studies.calculateStudyATR(J61,E61);i61=E61.inputs.Field;Z3i4.I3k0();if(!i61 || i61 == "field"){i61="Close";}s21.Studies.calculateGenericEnvelope(J61,E61,E61.inputs.Shift,i61,"ATR " + E61.name);};s21.Studies.calculateSTARCBands=function(R61,x61){s21.Studies.calculateStudyATR(R61,x61);Z3i4.I3k0();s21.Studies.MA("simple",x61.inputs["MA Period"],"Close",+"0","_MA",R61,x61);s21.Studies.calculateGenericEnvelope(R61,x61,x61.inputs.Multiplier,"_MA " + x61.name,"ATR " + x61.name);};s21.Studies.calculateATRStops=function(N61,z61){var B7k0=Z3i4;var S6j,a6j,h61,L61,b6j,e61,w61,r61,m61,M61,V61,Y6j;S6j="All ";S6j+="St";S6j+="ops ";a6j="All Stop";a6j+="s";h61=z61.chart.scrubbed;if(!h61){return;}s21.Studies.calculateStudyATR(N61,z61);L61=z61.inputs.HighLow;for(var f61=Math.max(z61.startFrom - 1,1);f61 < h61.length - 1;f61++){b6j="A";b6j+="T";b6j+="R";b6j+=" ";e61=h61[f61];B7k0.S0R0(6);w61=h61[B7k0.O0R0(f61,1)];r61=e61["Buy Stops " + z61.name];if(!r61){r61=e61["Sell Stops " + z61.name];}if(!r61){B7k0.m0R0(17);r61=B7k0.O0R0("0",1035331680);}if(!e61 || !w61)continue;m61=e61.Close;M61=m61;V61=e61[b6j + z61.name] * z61.inputs.Multiplier;if(e61.Close > r61 && w61.Close > r61){if(L61){m61=e61.High;}B7k0.m0R0(6);M61=Math.max(r61,B7k0.y0R0(m61,V61));}else if(e61.Close <= r61 && w61.Close <= r61){if(L61){m61=e61.Low;}B7k0.m0R0(1);M61=Math.min(r61,B7k0.y0R0(V61,m61));}else if(e61.Close > r61){if(L61){m61=e61.High;}B7k0.S0R0(6);M61=B7k0.O0R0(m61,V61);}else if(e61.Close <= r61){if(L61){m61=e61.Low;}B7k0.S0R0(1);M61=B7k0.O0R0(V61,m61);}if(m61 <= M61){B7k0.m0R0(12);h61[B7k0.y0R0(f61,"1",1)]["Buy Stops " + z61.name]=M61;B7k0.S0R0(1);delete h61[B7k0.y0R0(1,f61)]["Sell Stops " + z61.name];}else if(m61 > M61){Y6j="Sell St";Y6j+="op";Y6j+="s";Y6j+=" ";B7k0.m0R0(1);h61[B7k0.y0R0(1,f61)][Y6j + z61.name]=M61;B7k0.S0R0(35);delete h61[B7k0.O0R0(f61,"1")]["Buy Stops " + z61.name];}B7k0.S0R0(1);h61[B7k0.O0R0(1,f61)]["All Stops " + z61.name]=M61;}z61.referenceOutput=a6j;z61.outputMap={};z61.outputMap[S6j + z61.name]="";};s21.Studies.calculateAwesomeOscillator=function(u61,n61){var c6j,j6j,R6j,h6j,I6j,G61,N6j;c6j="_h";c6j+="i";c6j+="st";j6j="simp";j6j+="l";j6j+="e";R6j="_";R6j+="MA";R6j+="5";h6j="h";h6j+="l";h6j+="/";h6j+="2";I6j="s";I6j+="imp";I6j+="le";G61=n61.chart.scrubbed;if(G61.length < 33){n61.error=! !{};return;}s21.Studies.MA(I6j,5,h6j,0,R6j,u61,n61);Z3i4.S0R0(0);s21.Studies.MA(j6j,Z3i4.y0R0("34",1),"hl/2",0,"_MA34",u61,n61);for(var F61=Math.max(n61.startFrom,+"33");F61 < G61.length;F61++){N6j="_";N6j+="h";N6j+="is";N6j+="t";if(!G61[F61])continue;G61[F61][n61.name + N6j]=G61[F61]["_MA5 " + n61.name] - G61[F61]["_MA34 " + n61.name];}n61.outputMap={};n61.outputMap[n61.name + c6j]="";};s21.Studies.calculateRelativeVolatility=function(s61,O61){var s6j,W61,b61,a61,d61,S61,Q61,H61,q6j;s6j="m";s6j+="a";O61.days=Number(O61.inputs["Smoothing Period"]);W61=Number(O61.inputs["STD Period"]);b61=O61.chart.scrubbed;if(b61.length < O61.days + W61){O61.error=!"";return;}a61=O61.inputs.Field;if(!a61 || a61 == "field"){a61="Close";}O61.std=new s21.Studies.StudyDescriptor(O61.name,"sdev",O61.panel);O61.std.chart=O61.chart;O61.std.days=W61;O61.std.startFrom=O61.startFrom;O61.std.inputs={Field:a61,"Standard Deviations":1,Type:s6j};O61.std.outputs={_STD:null};s21.Studies.calculateStandardDeviation(s61,O61.std);d61=0;S61=0;if(O61.startFrom > 1){d61=b61[O61.startFrom - 1]["_avgG " + O61.name] || 0;S61=b61[O61.startFrom - +"1"]["_avgL " + O61.name] || 0;}for(var U61=Math.max(O61.startFrom,O61.days);U61 < b61.length;U61++){Q61=b61[U61];Z3i4.m0R0(6);H61=b61[Z3i4.O0R0(U61,1)];if(!Q61[a61] && Q61[a61] !== 0)continue;if(!H61[a61] && H61[a61] !== 0)continue;if(!Q61["_STD " + O61.name] && Q61["_STD " + O61.name] !== 0)continue;if(Q61[a61] > H61[a61]){q6j="_S";q6j+="T";q6j+="D ";d61=(d61 * (O61.days - 1) + Q61[q6j + O61.name]) / O61.days;S61=S61 * (O61.days - 1) / O61.days;}else {S61=(S61 * (O61.days - 1) + Q61["_STD " + O61.name]) / O61.days;d61=d61 * (O61.days - ("1" | 1)) / O61.days;}Q61["Rel Vol " + O61.name]=q61(d61,S61);Q61["_avgG " + O61.name]=d61;Q61["_avgL " + O61.name]=S61;}function q61(p61,P71){if(p61 + P71 === "0" * 1){return +"100";}Z3i4.S0R0(70);return Z3i4.O0R0(100,p61,p61,P71);}O61.zoneOutput="Rel Vol";};s21.Studies.calculatePMO=function(g71,T71){var L6j,C6j,w6j,M6j,r6j,A71,c71,y71,l71,D71;L6j="e";L6j+="xponent";L6j+="ial";C6j="P";C6j+="M";C6j+="O";w6j="expon";w6j+="ential";M6j="S";M6j+="ignal Per";M6j+="i";M6j+="od";r6j="Smo";r6j+="othing Pe";r6j+="riod";A71={Smooth:Number(T71.inputs[r6j]) - +"1",Double:Number(T71.inputs["Double Smoothing Period"]) - ("1" >> 46530304),Signal:Number(T71.inputs[M6j])};c71=T71.chart.scrubbed;if(c71.length < A71.Smooth + A71.Double){T71.error=! !{};return;}y71=T71.inputs.Field;if(!y71 || y71 == "field"){y71="Close";}for(l71=T71.startFrom;l71 < c71.length;l71++){if(!c71[l71])continue;if(!c71[l71 - 1])continue;Z3i4.m0R0(6);D71=c71[Z3i4.y0R0(l71,1)][y71];if(D71){c71[l71]["_ROCx10 " + T71.name]=1000 * (c71[l71][y71] / D71 - 1);}}s21.Studies.MA("exponential",A71.Smooth,"_ROCx10 " + T71.name,0,"_EMAx10",g71,T71);s21.Studies.MA(w6j,A71.Double,"_EMAx10 " + T71.name,"0" << 1777573472,C6j,g71,T71);s21.Studies.MA(L6j,A71.Signal,"PMO " + T71.name,"0" >> 1808404704,"PMOSignal",g71,T71);T71.zoneOutput="PMO";};s21.Studies.calculateElderImpulse=function(K71,v71){var y6j,v6j,k71,o71,Z71,C71,I71,G6j,n6j,d6j;Z3i4.s3k0();y6j="_";y6j+="M";y6j+="A";v6j="Cl";v6j+="o";v6j+="s";v6j+="e";k71=v71.chart.scrubbed;o71=v71.outputs.Bullish;Z71=v71.outputs.Bearish;C71=v71.outputs.Neutral;Z3i4.m0R0(2);s21.Studies.MA("exponential",13,v6j,Z3i4.O0R0(569628512,"0"),y6j,K71,v71);v71.macd=new s21.Studies.StudyDescriptor(((228,+"2206") > (+"3240",125.32)?"_":(!{},9.70e+3)) + v71.name,"macd",v71.panel);v71.macd.chart=v71.chart;v71.macd.days=v71.days;v71.macd.startFrom=v71.startFrom;v71.macd.inputs={"Fast MA Period":12,"Slow MA Period":26,"Signal Period":9};v71.macd.outputs={_MACD:null,_Signal:null};s21.Studies.calculateMACD(K71,v71.macd);for(var j71=v71.startFrom;j71 < k71.length;j71++){G6j="_M";G6j+="A";G6j+=" ";n6j="_";n6j+="h";n6j+="ist";d6j="_";d6j+="hi";d6j+="s";d6j+="t";if(j71 === 0){I71=C71;}else if(k71[j71]["_MA " + v71.name] > k71[j71 - 1]["_MA " + v71.name] && k71[j71][(844.93 === (7724,"552.35" - 0)?7.95e+3:"_") + v71.name + d6j] > k71[j71 - 1][((7200,3580) !== 940?"_":3.92e+3) + v71.name + n6j]){I71=o71;}else if(k71[j71][G6j + v71.name] < k71[j71 - 1]["_MA " + v71.name] && k71[j71]["_" + v71.name + "_hist"] < k71[j71 - 1][((5813,4670) == +"1680"?6490 !== ("9305" & 2147483647)?(3010,+"2480") < (601.81,+"6291")?![]:(13.86,2.86e+3):"S":"_") + v71.name + "_hist"]){I71=Z71;}else {I71=C71;}k71[j71]["Result " + v71.name]=I71;;}};s21.Studies.calculatePivotPoints=function(E71,t71){var l6j,m6j,B71,i71,A6j,g6j,R71,z71,m71,J71,Y71,x6j,e71,r71,u6j,W6j;l6j="millis";l6j+="econ";l6j+="d";m6j="y";m6j+="ear";B71=t71.chart.scrubbed;i71="d";i71+="a";function x71(){Y71.pivotPoint=(Y71.high + Y71.low + B71[X71 - 1].Close) / +"3";Y71.prevHigh=Y71.high;Y71.prevLow=Y71.low;Y71.hlSpread=Y71.high - Y71.low;Y71.high=Y71.low=0;}i71+="y";if(E71.layout.interval == "day"){i71="month";}else if(s21.ChartEngine.isDailyInterval(E71.layout.interval)){i71=m6j;}else if(E71.layout.interval == "second" || E71.layout.interval == l6j || E71.layout.timeUnit == "second" || E71.layout.timeUnit == "millisecond"){i71="15min";}else {A6j="w";A6j+="eek";g6j="minu";g6j+="te";R71=E71.layout.periodicity;if(E71.layout.interval != g6j){R71*=E71.layout.interval;}if(R71 >= 30){i71=A6j;}}z71=s21.Market.Symbology.isForexSymbol(E71.chart.symbol);m71=s21.Market.Symbology.isForexMetal(E71.chart.symbol);J71=null;Y71={pivotPoint:NaN,high:0,low:+"0",prevHigh:0,prevLow:0,hlSpread:0};if(t71.startFrom > 1 && B71[t71.startFrom - 1]["_pointers " + t71.name]){Y71=s21.clone(B71[t71.startFrom - 1]["_pointers " + t71.name]);}for(var X71=Math.max(+"1",t71.startFrom);X71 < B71.length;X71++){x6j="y";x6j+="e";x6j+="ar";if(!B71[X71 - 1])continue;Y71.high=Math.max(Y71.high,B71[X71 - +"1"].High);Y71.low=Math.min(Y71.low > 0?Y71.low:B71[X71 - ("1" << 1000200352)].Low,B71[X71 - 1].Low);if(t71.inputs.Continuous){x71();}else if(i71 == x6j && B71[X71].DT.getYear() != B71[X71 - 1].DT.getYear()){x71();}else if(i71 == "month" && B71[X71].DT.getMonth() != B71[X71 - 1].DT.getMonth()){x71();}else if(i71 == "week" && B71[X71].DT.getDay() < B71[X71 - 1].DT.getDay()){x71();}else if(i71 == "day"){if(J71 === null){J71=s21.Studies.getMarketOffset(E71,B71[X71].DT,z71);if(z71){Z3i4.S0R0(71);J71+=Z3i4.O0R0("60",0,2036173824,1000,m71?6:7,"60");}}e71=new Date(new Date(+B71[X71].DT).setMilliseconds(B71[X71].DT.getMilliseconds() + J71));r71=new Date(new Date(+B71[X71 - 1].DT).setMilliseconds(B71[X71 - 1].DT.getMilliseconds() + J71));if(r71.getDate() !== e71.getDate() && r71.getDay() !== 0 && E71.chart.market.isMarketDate(e71)){J71=null;x71();}}else if(i71 == "15min" && (B71[X71].DT.getHours() != B71[X71 - 1].DT.getHours() || Math.floor(B71[X71].DT.getMinutes() / 15) != Math.floor(B71[X71 - 1].DT.getMinutes() / 15))){x71();}B71[X71]["Pivot " + t71.name]=Y71.pivotPoint;if(t71.inputs.Type.toLowerCase() == "fibonacci"){u6j="Support ";u6j+="2 ";B71[X71]["Resistance 1 " + t71.name]=Y71.pivotPoint + 0.382 * Y71.hlSpread;B71[X71]["Resistance 2 " + t71.name]=Y71.pivotPoint + 0.618 * Y71.hlSpread;B71[X71]["Resistance 3 " + t71.name]=Y71.pivotPoint + Y71.hlSpread;B71[X71]["Support 1 " + t71.name]=Y71.pivotPoint - +"0.382" * Y71.hlSpread;B71[X71][u6j + t71.name]=Y71.pivotPoint - "0.618" * 1 * Y71.hlSpread;B71[X71]["Support 3 " + t71.name]=Y71.pivotPoint - Y71.hlSpread;}else {W6j="Res";W6j+="istance 3 ";B71[X71]["Resistance 1 " + t71.name]=2 * Y71.pivotPoint - Y71.prevLow;B71[X71]["Resistance 2 " + t71.name]=Y71.pivotPoint + Y71.hlSpread;B71[X71][W6j + t71.name]=Y71.prevHigh + 2 * (Y71.pivotPoint - Y71.prevLow);B71[X71]["Support 1 " + t71.name]=2 * Y71.pivotPoint - Y71.prevHigh;B71[X71]["Support 2 " + t71.name]=Y71.pivotPoint - Y71.hlSpread;B71[X71]["Support 3 " + t71.name]=Y71.prevLow - 2 * (Y71.prevHigh - Y71.pivotPoint);}B71[X71]["_pointers " + t71.name]=s21.clone(Y71);}};s21.Studies.calculateMFI=function(n71,h71){var i6j,Z6j,f71,w71,L71,V71,N71,M71,U6j;i6j="_";i6j+="hist";Z6j="_";Z6j+="h";Z6j+="igh";Z6j+=" ";f71=h71.chart.scrubbed;L71=0;V71=h71.inputs["Scale Factor"];if(!V71){V71=h71.study.inputs["Scale Factor"];}N71=Math.pow(+"10",Number(V71));Z3i4.s3k0();if(h71.startFrom > 1){L71=f71[h71.startFrom - 1][Z6j + h71.name];}for(M71=h71.startFrom;M71 < f71.length;M71++){if(!f71[M71])continue;if(f71[M71].Volume){U6j="_high";U6j+=" ";f71[M71][h71.name + "_hist"]=w71=N71 * (f71[M71].High - f71[M71].Low) / f71[M71].Volume;f71[M71][U6j + h71.name]=L71=Math.max(L71,w71);}}h71.outputMap={};h71.outputMap[h71.name + i6j]="";};s21.Studies.calculateAlligator=function(S71,u71){var O71,G71,V6j,T6j,P6j,t6j,q2J,b2J,Q71,d71,a71;O71={J:Number(u71.inputs["Jaw Period"]),T:Number(u71.inputs["Teeth Period"]),L:Number(u71.inputs["Lips Period"])};G71=u71.chart.scrubbed;if(G71.length < Math.max(O71.J,O71.T,O71.L) + 1){u71.error=!0;return;}if(u71.type === "Gator" || u71.inputs["Show Lines"]){V6j="T";V6j+="eet";V6j+="h";T6j="Teet";T6j+="h ";T6j+="Offs";T6j+="et";P6j="welles";P6j+=" w";P6j+="il";P6j+="der";t6j="welles";t6j+=" w";t6j+="ild";t6j+="er";s21.Studies.MA(t6j,O71.J,"hl/2",u71.inputs["Jaw Offset"],"Jaw",S71,u71);s21.Studies.MA(P6j,O71.T,"hl/2",u71.inputs[T6j],V6j,S71,u71);s21.Studies.MA("welles wilder",O71.L,"hl/2",u71.inputs["Lips Offset"],"Lips",S71,u71);}for(var F71=u71.startFrom;F71 < G71.length;F71++){if(!G71[F71])continue;if(u71.type == "Gator"){q2J="_hist";q2J+="1";b2J="L";b2J+="ips ";Q71=G71[F71]["Jaw " + u71.name];d71=G71[F71][b2J + u71.name];a71=G71[F71]["Teeth " + u71.name];if(a71 || a71 === 0){if(Q71 || Q71 === "0" * 1){Z3i4.S0R0(6);G71[F71][u71.name + "_hist1"]=Math.abs(Z3i4.y0R0(Q71,a71));}if(d71 || d71 === "0" * 1){Z3i4.m0R0(6);G71[F71][u71.name + "_hist2"]=-Math.abs(Z3i4.y0R0(a71,d71));}}u71.outputMap={};u71.outputMap[u71.name + q2J]="";u71.outputMap[u71.name + "_hist2"]="";}if(u71.inputs["Show Fractals"]){if(!G71[F71 - 2] || !G71[F71 - 1] || !G71[F71] || !G71[F71 + 1] || !G71[F71 + 2])continue;if(G71[F71 - 2].High && G71[F71 - 1].High && G71[F71].High && G71[F71 + 1].High && G71[F71 + 2].High){if(G71[F71].High > G71[F71 - 1].High && G71[F71].High > G71[F71 - 2].High && G71[F71].High > G71[F71 + 1].High && G71[F71].High > G71[F71 + 2].High){G71[F71]["Fractal High " + u71.name]=1;}}if(G71[F71 - 2].Low && G71[F71 - 1].Low && G71[F71].Low && G71[F71 + 1].Low && G71[F71 + 2].Low){if(G71[F71].Low < G71[F71 - 1].Low && G71[F71].Low < G71[F71 - 2].Low && G71[F71].Low < G71[F71 + 1].Low && G71[F71].Low < G71[F71 + +"2"].Low){G71[F71]["Fractal Low " + u71.name]=1;}}}}};s21.Studies.calculateRelativeVigor=function(T51,b71){var r1k0=Z3i4;var e0J,P2J,U2J,m2J,H71,U71,W71,q71,p71,t2J,c51,P51,s71;e0J="RelVi";e0J+="gSignal";P2J="Re";P2J+="l V";P2J+="i";P2J+="g ";U2J="_";U2J+="Range ";m2J="tr";m2J+="iangular";H71=b71.chart.scrubbed;if(H71.length < b71.days + 1){b71.error=! ![];return;}for(U71=b71.startFrom;U71 < H71.length;U71++){W71=H71[U71];if(!isNaN(W71.Close) && !isNaN(W71.Open)){W71["_Change " + b71.name]=W71.Close - W71.Open;}if(!isNaN(W71.High) && !isNaN(W71.Low)){W71["_Range " + b71.name]=W71.High - W71.Low;}}s21.Studies.MA(m2J,+"4","_Change " + b71.name,0,"_Numer",T51,b71);s21.Studies.MA("triangular",4,U2J + b71.name,0,"_Denom",T51,b71);q71=[];r1k0.I3k0();p71=[];for(U71=Math.max(b71.startFrom - b71.days,"0" | 0);U71 < H71.length;U71++){t2J="_";t2J+="Denom ";if(H71[U71].futureTick)break;if(H71[U71]["_Numer " + b71.name] === null && H71[U71][t2J + b71.name] === null)continue;q71.push(H71[U71]["_Numer " + b71.name]);p71.push(H71[U71]["_Denom " + b71.name]);if(q71.length > b71.days){q71.shift();p71.shift();}r1k0.m0R0(17);c51=r1k0.O0R0("0",1746894400);P51=0;for(s71=0;s71 < q71.length;s71++){c51+=q71[s71];}for(s71="0" ^ 0;s71 < p71.length;s71++){P51+=p71[s71];}if(P51 === 0){P51=0.00000001;}if(U71 < b71.startFrom)continue;r1k0.S0R0(7);H71[U71]["Rel Vig " + b71.name]=r1k0.y0R0(P51,c51);}s21.Studies.MA("triangular",4,P2J + b71.name,+"0",e0J,T51,b71);for(U71=b71.startFrom;U71 < H71.length;U71++){H71[U71][b71.name + "_hist"]=H71[U71]["Rel Vig " + b71.name] - H71[U71]["RelVigSignal " + b71.name];}b71.outputMap[b71.name + "_hist"]="";};s21.Studies.calculateUlcerIndex=function(v51,l51){var y51,g51,A51,p0J,O0J,D51;y51=l51.chart.scrubbed;function j51(o51,C51,K51){var I51;I51=null;for(var k51=C51 - o51 + 1;k51 <= C51;k51++){if(k51 < +"0")continue;I51=I51 === null?y51[k51][K51]:Math.max(I51,y51[k51][K51]);}return I51;}if(y51.length < 2 * l51.days - 1){l51.error=! !1;return;}g51=l51.inputs.Field;if(!g51 || g51 == "field"){g51="Close";}for(A51=Math.max(l51.startFrom,l51.days - 1);A51 < y51.length;A51++){p0J="_P";p0J+="D2";p0J+=" ";y51[A51][p0J + l51.name]=Math.pow(100 * (y51[A51][g51] / j51(l51.days,A51,g51) - 1),+"2");}s21.Studies.MA("simple",l51.days,"_PD2 " + l51.name,0,"_MA",v51,l51);for(A51=Math.max(l51.startFrom,2 * (l51.days - 1));A51 < y51.length;A51++){O0J="R";O0J+="esult ";D51=y51[A51]["_MA " + l51.name];if(D51 || D51 === ("0" ^ 0)){y51[A51][O0J + l51.name]=Math.sqrt(D51);}}};s21.Studies.calculateChoppiness=function(E51,Z51){var B51,E0J,Y51,t51;s21.Studies.calculateStudyATR(E51,Z51);B51=Z51.chart.scrubbed;Z3i4.I3k0();if(B51.length < Z51.days + 1){Z51.error=! ![];return;}for(var X51=Math.max(Z51.startFrom,Z51.days);X51 < B51.length;X51++){E0J="Sum T";E0J+="rue Range ";Y51=B51[X51];if(!Y51)continue;if(Y51.futureTick)break;t51=i51(Z51.days,X51);if(Y51[E0J + Z51.name]){Y51["Result " + Z51.name]=100 * Math.log(Y51["Sum True Range " + Z51.name] / Math.max(0.000001,t51["1" * 1] - t51["0" & 2147483647])) / Math.log(Z51.days);}else if(!isNaN(Y51)){Y51["Result " + Z51.name]=0;}}function i51(e51,z51){var x51,R51;x51=Number.MAX_VALUE * -1;R51=Number.MAX_VALUE;for(var J51=z51 - e51 + 1;J51 <= z51;J51++){if(J51 < 0)continue;x51=Math.max(x51,B51[J51].High);R51=Math.min(R51,B51[J51].Low);}return [R51,x51];}};s21.Studies.calculateDisparity=function(L51,r51){var m51,f51,J0J,X0J,M51;m51=r51.chart.scrubbed;if(m51.length < r51.days + 1){r51.error=! ![];return;}f51=r51.inputs.Field;if(!f51 || f51 == "field"){f51="Close";}s21.Studies.MA(r51.inputs["Moving Average Type"],r51.days,f51,0,"_MA",L51,r51);for(var h51=Math.max(r51.startFrom,r51.days - 1);h51 < m51.length;h51++){J0J="Re";J0J+="s";J0J+="ult";J0J+=" ";X0J="_";X0J+="M";X0J+="A";X0J+=" ";if(!m51[h51])continue;M51=m51[h51][X0J + r51.name];if(M51){m51[h51][J0J + r51.name]=100 * (m51[h51][f51] / M51 - 1);}}};s21.Studies.calculateRainbow=function(b51,V51){var B0J,F0J,o0J,w51,G51,d51,k0J,D0J,S51,O51,a51,Q51,z0J,F51,u51,f0J,H0J,Q0J,K0J;B0J="O";B0J+="s";B0J+="c";function U51(p51,q51){var W51,s51;W51=Number.MAX_VALUE * -("1" << 1991369440);Z3i4.I3k0();s51=Number.MAX_VALUE;for(var H51=q51 - p51 + 1;H51 <= q51;H51++){if(H51 < 0)continue;W51=Math.max(W51,w51[H51].Close);s51=Math.min(s51,w51[H51].Close);}return [s51,W51];}F0J="C";F0J+="los";F0J+="e";o0J="fi";o0J+="eld";w51=V51.chart.scrubbed;if(w51.length < V51.days + 1){V51.error=!0;return;}G51=V51.inputs.Field;if(!G51 || G51 == o0J){G51=F0J;}d51=G51;Z3i4.I3k0();for(var n51=1;n51 <= +"10";n51++){k0J="S";k0J+="M";k0J+="A";D0J="s";D0J+="imple";s21.Studies.MA(D0J,V51.days,d51,0,k0J + n51,b51,V51);d51="SMA" + n51 + " " + V51.name;}for(var N51=Math.max(V51.startFrom,10);N51 < w51.length;N51++){if(!w51[N51])continue;if(w51[N51].futureTick)break;S51=+"0";O51=0;a51=Number.MAX_VALUE * -("1" << 1638946912);Q51=Number.MAX_VALUE;for(n51=1;n51 <= 10;n51++){z0J="S";z0J+="MA";F51=w51[N51][z0J + n51 + (9634 == (856.11,3560)?(+"229.95",82.96):3794 < +"2315"?0xd3a:" ") + V51.name];if(F51 || F51 === "0" << 2117829984){S51+=F51;O51++;a51=Math.max(a51,F51);Q51=Math.min(Q51,F51);}}if(V51.name.indexOf("Osc") > -("1" * 1)){u51=U51(V51.inputs["HHV/LLV Lookback"],N51);if(O51){f0J="O";f0J+="ver ";w51[N51][V51.name + "_hist"]=100 * (w51[N51][G51] - S51 / O51) / Math.max("0.000001" - 0,u51[1] - u51[0]);w51[N51]["Over " + V51.name]=("100" - 0) * (a51 - Q51) / Math.max(0.000001,u51[1] - u51["0" & 2147483647]);w51[N51]["Under " + V51.name]=-w51[N51][f0J + V51.name];w51[N51]["Zero " + V51.name]=0;}}}if(V51.name.indexOf(B0J) > -1){H0J="_";H0J+="h";H0J+="ist";Q0J="Z";Q0J+="er";Q0J+="o";Q0J+=" ";K0J="Neg";K0J+="ative Bar";V51.outputMap={};V51.outputMap["Over " + V51.name]="Positive Bar";V51.outputMap["Under " + V51.name]=K0J;V51.outputMap[Q0J + V51.name]="";V51.outputMap[V51.name + H0J]="";}};s21.Studies.calculateKST=function(v91,P91){var g1k0=Z3i4;var j0J,S0J,a0J,Y0J,b0J,l91,y91,A91,g91,j91,c91,T91,I0J,h0J,R0J,D91;j0J="KSTS";g1k0.s3k0();j0J+="igna";j0J+="l";S0J="H";S0J+="eavy SMA Period";a0J="L";a0J+="ight SMA Period";Y0J="Lightest SMA Pe";Y0J+="ri";Y0J+="od";b0J="L";b0J+="ight Rate of Change P";b0J+="eriod";l91=P91.chart.scrubbed;y91=P91.inputs.Field;if(!y91 || y91 == "field"){y91="Close";}A91={};g91={};A91[1]=Number(P91.inputs["Lightest Rate of Change Period"]);A91[2]=Number(P91.inputs[b0J]);A91[+"3"]=Number(P91.inputs["Heavy Rate of Change Period"]);A91[4]=Number(P91.inputs["Heaviest Rate of Change Period"]);g91[1]=Number(P91.inputs[Y0J]);g1k0.m0R0(2);g91[g1k0.y0R0(1628787712,"2")]=Number(P91.inputs[a0J]);g91[+"3"]=Number(P91.inputs[S0J]);g1k0.m0R0(0);g91[g1k0.y0R0("4",1)]=Number(P91.inputs["Heaviest SMA Period"]);j91=Number(P91.inputs["Signal Period"]);for(c91=P91.startFrom;c91 < l91.length;c91++){if(!l91[c91])continue;for(T91=1;T91 <= 4;T91++){I0J="_RO";I0J+="C";if(c91 >= A91[T91] && l91[c91 - A91[T91]] && l91[c91 - A91[T91]][y91]){l91[c91][I0J + T91 + ((+"4590",3546) == (2217,3495)?+"795.32" !== (2139,2240)?(953.05,2208) == (+"9627",914)?(![],7.68e+3):222.44:8.05e+3:" ") + P91.name]=100 * (l91[c91][y91] / l91[c91 - A91[T91]][y91] - +"1");}}}for(T91=1;T91 <= 4;T91++){h0J="_";h0J+="S";h0J+="MA";s21.Studies.MA("simple",g91[T91],"_ROC" + T91 + " " + P91.name,0,h0J + T91,v91,P91);}for(c91=P91.startFrom;c91 < l91.length;c91++){R0J="K";R0J+="S";R0J+="T";R0J+=" ";l91[c91][R0J + P91.name]=null;for(T91=1;T91 <= 4;T91++){D91=l91[c91]["_SMA" + T91 + " " + P91.name];if(D91 || D91 === 0){g1k0.m0R0(0);l91[c91]["KST " + P91.name]+=g1k0.y0R0(T91,D91);}}}s21.Studies.MA("simple",j91,"KST " + P91.name,0,j0J,v91,P91);};s21.Studies.calculateSpecialK=function(t91,o91){var e1k0=Z3i4;var C91,Z91,K91,p0j,O0j,E0j,Y91,B91,I91,k91,N0J,c0J,s0J,X91;C91=o91.chart.scrubbed;Z91=o91.inputs.Field;if(!Z91 || Z91 == "field"){Z91="Close";}K91=o91.inputs.Interval;p0j=-1703978917;O0j=-55021925;E0j=2;for(var J0j=1;e1k0.u1y(J0j.toString(),J0j.toString().length,55526) !== p0j;J0j++){if(!K91){K91="daily";}Y91={daily:[10,15,20,30,50,65,75,100,"195" >> 1158583072,265,390,530],weekly:[4,5,6,"8" * 1,10,13,+"15",20,39,"52" & 2147483647,78,104]};E0j+=2;}e1k0.s3k0();if(e1k0.u1y(E0j.toString(),E0j.toString().length,"5917" ^ 0) !== O0j){if(-K91){K91="";}Y91={daily:[81,79,41,38,96,39,82,"580" & 2147483647,684,491,209,508],weekly:[3,+"4",5,0,70,56,64,15,77,73,93,+"672"]};}B91={daily:[10,10,10,15,50,65,+"75","100" >> 1659268000,"130" * 1,130,130,195],weekly:[4,"5" >> 1432116224,6,"8" << 1875768096,10,13,15,20,26,26,26,39]};for(I91=o91.startFrom;I91 < C91.length;I91++){if(!C91[I91])continue;for(k91=0;k91 < Y91[K91].length;k91++){if(I91 >= Y91[K91][k91] && C91[I91 - Y91[K91][k91]] && C91[I91 - Y91[K91][k91]][Z91]){C91[I91]["_ROC" + k91 + " " + o91.name]=100 * (C91[I91][Z91] / C91[I91 - Y91[K91][k91]][Z91] - 1);}}}for(k91=0;k91 < B91[K91].length;k91++){N0J="si";N0J+="mple";s21.Studies.MA(K91 == "daily"?N0J:"exponential",B91[K91][k91],"_ROC" + k91 + " " + o91.name,0,"_MA" + k91,t91,o91);}for(I91=o91.startFrom;I91 < C91.length;I91++){c0J="Resul";c0J+="t ";C91[I91][c0J + o91.name]=null;for(k91=0;k91 < B91[K91].length;k91++){s0J="_";s0J+="MA";X91=C91[I91][s0J + k91 + (("8262" & 2147483647,796.75) <= (732.23,6201)?" ":(527.09,"v")) + o91.name];if(X91 || X91 === ("0" | 0)){e1k0.S0R0(72);C91[I91]["Result " + o91.name]+=e1k0.O0R0("1",k91,4,X91);}}}};s21.Studies.calculateDarvas=function(u91,r91){var z1k0=Z3i4;var C0J,w0J,r0J,q0J,E91,e91,N91,M0J,G91,m91,x91,z91,M91,h91,L91,f91,J91,R91,V91,Z0J,L0J,i91,G0J,y0J,v0J,d0J,n0J,m0J,g0J,l0J,u0J,x0J,A0J,W0J,U0J;C0J="A";C0J+="D";C0J+="V";w0J="*******";w0J+="********";w0J+="**";r0J="V";r0J+="olume";r0J+=" Spike";q0J="A";q0J+="TH L";q0J+="ook";q0J+="back Period";E91=r91.chart.scrubbed;z1k0.m0R0(23);e91=z1k0.y0R0(2147483647,"0");N91=parseInt(r91.inputs[q0J],10);z1k0.I3k0();if(r91.inputs[r0J]){M0J="s";M0J+="i";M0J+="mple";s21.Studies.MA(M0J,N91,"Volume",+"0","ADV",u91,r91);}G91=parseFloat(r91.inputs["Volume % of Avg"]) / 100;m91="none";x91={};z91=null;M91=null;h91=null;L91=parseFloat(r91.inputs["Level Offset"]);f91=!"1";if(f91){console.log(w0J);}R91={};["Darvas","Ghost","Profit","Loss","ATH",C0J,"Spike"].forEach(function(O91){var U0j,i0j,t0j;U0j=-1744237250;i0j=2055079419;t0j=2;for(var T0j=+"1";z1k0.x1y(T0j.toString(),T0j.toString().length,52385) !== U0j;T0j++){R91[O91]=O91 * "" * r91.name;z1k0.m0R0(6);t0j+=z1k0.O0R0("2",0);}if(z1k0.x1y(t0j.toString(),t0j.toString().length,"15808" ^ 0) !== i0j){R91[O91]=O91 + " " + r91.name;}});for(J91=r91.startFrom - 1;J91 > 0;J91--){V91=E91[J91];if(V91[R91.Darvas] || V91[R91.Ghost]){for(var F91 in R91){V91[F91]=null;}}else {e91=V91[R91.ATH] || 0;M91=V91[R91.Profit];h91=V91[R91.Loss];break;}}for(J91;J91 < E91.length;J91++){Z0J="Volume Spik";Z0J+="e";L0J="P";L0J+="r";L0J+="ic";L0J+="e Minimum";i91=E91[J91];if(!i91)continue;if(parseFloat(r91.inputs[L0J]) <= E91[e91].Close){G0J="d";G0J+="arvas";y0J="hi";y0J+="gh";v0J="Exit Fi";v0J+="el";v0J+="d";if(z91 && (!z91.End || J91 == z91.End + ("1" << 532184800))){if(E91[J91 - 1].Close > x91.High){x91={State:1,High:"2" * 1 * x91.High - x91.Low,Low:x91.High,Start:J91,End:2 * x91.End - x91.Start + ("1" - 0)};}else {z91=null;;}if(z91){i91[R91.Ghost]=s21.clone(x91);if(f91){console.log("Ghost begin:" + i91.DT);}x91.State=0;if(E91[x91.End]){E91[x91.End][R91.Ghost]=s21.clone(x91);if(f91){console.log("Ghost end:" + E91[x91.End].DT);}}z91={Start:x91.Start,End:x91.End};M91=x91.High + L91;if(!h91 || h91 < x91.Low - L91){h91=x91.Low - L91;}}}i91[R91.Profit]=M91;i91[R91.Loss]=h91;if(i91.Close >= M91){M91=null;}else if(r91.inputs[v0J] == "high/low" && i91.High >= M91){M91=null;}if(m91 == "none"){if(J91 == e91 + 3){if(!E91[e91 + 2][R91.Darvas] && !E91[e91 + +"1"][R91.Darvas] && !E91[e91][R91.Darvas] && E91[e91].High > i91.High){m91="high";;}}}if(m91 == y0J){if(i91.High > E91[e91].High){d0J="n";d0J+="on";d0J+="e";m91=d0J;}else if(E91[J91 - 3].Low < E91[J91 - 2].Low && E91[J91 - 3].Low < E91[J91 - 1].Low && E91[J91 - +"3"].Low < i91.Low){n0J="d";n0J+="a";n0J+="rvas";x91={State:1,High:E91[e91].High,Low:E91[J91 - 3].Low,Start:e91};E91[e91][R91.Darvas]=s21.clone(x91);m91=n0J;if(f91){console.log("Darvas begin:" + E91[e91].DT);}if(f91){console.log("Darvas established:" + i91.DT);}if(z91){if(z91.End > J91 && E91[z91.Start]){i91[R91.Ghost]=s21.clone(E91[z91.Start][R91.Ghost]);i91[R91.Ghost].End=J91;if(E91[z91.End]){delete E91[z91.End][R91.Ghost];if(f91){console.log("Ghost End removed:" + E91[z91.End].DT);}}}i91[R91.Ghost].State=+"0";E91[z91.Start][R91.Ghost].End=J91;if(f91){console.log("Ghost end:" + i91.DT);}z91=null;}M91=x91.High + L91;if(!h91 || h91 < x91.Low - L91){h91=x91.Low - L91;}}}if(m91 == G0J){m0J="n";m0J+="on";m0J+="e";if(i91.Close > x91.High){z91={};}else if(r91.inputs["Exit Field"] == "high/low" && i91.High > x91.High){z91={};}else if(i91.Close < x91.Low){m91=m0J;}else if(r91.inputs["Exit Field"] == "high/low" && i91.Low < x91.Low){m91="none";}if(z91){m91="none";}else if(m91 == "none"){M91=null;h91=null;}if(!r91.inputs["Ghost Boxes"]){z91=null;}if(m91 == "none"){for(var n91=x91.Start + +"1";n91 < J91;n91++){E91[n91][R91.Darvas]=s21.clone(x91);}x91.State=0;x91.End=J91;i91[R91.Darvas]=s21.clone(x91);if(f91){console.log("Darvas end:" + i91.DT);}i91[R91.ATH]=e91;continue;}}if(h91){g0J="high";g0J+="/";g0J+="lo";g0J+="w";l0J="Exit Fi";l0J+="el";l0J+="d";if(i91.Close < x91.Low || r91.inputs[l0J] == g0J && i91.Low < x91.Low){u0J="high";u0J+="/lo";u0J+="w";x0J="E";x0J+="x";x0J+="i";x0J+="t Field";A0J="non";A0J+="e";if(m91 == "darvas"){m91=A0J;}if(i91.Close < h91 || r91.inputs[x0J] == u0J && i91.Low < h91){M91=null;h91=null;}if(z91){if(z91.End > J91 && E91[z91.Start]){i91[R91.Ghost]=s21.clone(E91[z91.Start][R91.Ghost]);i91[R91.Ghost].End=J91;if(E91[z91.End]){delete E91[z91.End][R91.Ghost];if(f91){console.log("Ghost End removed:" + E91[z91.End].DT);}}}i91[R91.Ghost].State=0;E91[z91.Start][R91.Ghost].End=J91;if(f91){console.log("Ghost end:" + i91.DT);}z91=null;}}}}if(i91.High >= E91[e91].High){e91=J91;if(f91){console.log("All Time High:" + i91.DT);}}if(J91 < 3 || i91.High >= E91[J91 - 1].High && i91.High >= E91[J91 - 2].High && i91.High >= E91[J91 - 3].High){if(J91 - e91 >= N91){W0J="A";W0J+="ll Ti";W0J+="me High:";e91=J91;for(var w91=0;w91 < N91;w91++){if(J91 - w91 < +"0")break;if(E91[J91 - w91].High > E91[e91].High){z1k0.S0R0(6);e91=z1k0.y0R0(J91,w91);}}if(f91){console.log(W0J + i91.DT);}}}if(r91.inputs[Z0J] && J91 > N91 && J91 == e91){if(i91[R91.ADV] * G91 < i91.Volume){U0J="Volume Sp";U0J+="ik";U0J+="e:";i91[R91.Spike]=1;if(f91){console.log(U0J + i91.DT);}}}i91[R91.ATH]=e91;}};s21.Studies.calculateSupertrend=function(s91,a91){var R1k0=Z3i4;var d91,F8J,X8J,T0J,S91,H91,W91,b91,U91,P0J,t0J,i0J,O8J,e8J,V0J;d91=a91.chart.scrubbed;if(d91.length < a91.days + 1){a91.error=!"";return;}s21.Studies.calculateStudyATR(s91,a91);for(var Q91=a91.startFrom;Q91 < d91.length;Q91++){F8J="Tre";F8J+="n";F8J+="d ";X8J="_Uptr";X8J+="end ";T0J="_Direc";T0J+="tion ";S91=d91[Q91];if(!S91)continue;H91=(S91.High + S91.Low) / ("2" & 2147483647);W91=a91.inputs.Multiplier * S91["ATR " + a91.name];R1k0.m0R0(6);b91=R1k0.y0R0(H91,W91);R1k0.m0R0(1);U91=R1k0.O0R0(W91,H91);if(Q91){P0J="_Down";P0J+="tr";P0J+="en";P0J+="d ";t0J="_Up";t0J+="t";t0J+="r";t0J+="end ";i0J="_Up";i0J+="tr";i0J+="en";i0J+="d ";if(d91[Q91 - ("1" | 1)] && d91[Q91 - 1].Close && d91[Q91 - 1].Close > d91[Q91 - 1][i0J + a91.name] && d91[Q91 - 1]["_Uptrend " + a91.name] > b91){R1k0.S0R0(6);b91=d91[R1k0.y0R0(Q91,1)][t0J + a91.name];}if(d91[Q91 - ("1" ^ 0)] && d91[Q91 - 1].Close && d91[Q91 - 1].Close < d91[Q91 - 1]["_Downtrend " + a91.name] && d91[Q91 - 1][P0J + a91.name] < U91){R1k0.m0R0(57);U91=d91[R1k0.y0R0("1",Q91)]["_Downtrend " + a91.name];}}S91[T0J + a91.name]=1;if(Q91){O8J="_Direct";O8J+="ion ";e8J="_Di";e8J+="recti";e8J+="o";e8J+="n ";V0J="_Direc";V0J+="ti";V0J+="on ";R1k0.m0R0(6);S91[V0J + a91.name]=d91[R1k0.y0R0(Q91,1)][e8J + a91.name];if(S91.Close > d91[Q91 - ("1" & 2147483647)]["_Downtrend " + a91.name]){S91["_Direction " + a91.name]=1;}else if(S91.Close < d91[Q91 - 1]["_Uptrend " + a91.name]){S91[O8J + a91.name]=-1;}}S91[X8J + a91.name]=b91;S91["_Downtrend " + a91.name]=U91;S91[F8J + a91.name]=S91["_Direction " + a91.name] > 0?b91:U91;if(!Q91)continue;}a91.outputMap={};R1k0.I3k0();a91.outputMap["Trend " + a91.name]="";};s21.Studies.calculatePriceRelative=function(g3F,P3F){var k8J,D8J,T3F,c3F,y3F,p91,l3F,q91,z8J;k8J="]";k8J+="/";k8J+="[";D8J="Compariso";D8J+="n S";D8J+="ymbol";T3F=P3F.chart.scrubbed;c3F=P3F.inputs["Comparison Symbol"].toUpperCase();if(!c3F){c3F=P3F.study.inputs[D8J];}y3F={};p91=g3F.chart.symbol || "";p91=p91.replace(/[=+\-*\\%]/g,"");y3F[p91]=T3F.slice(P3F.startFrom);if(!y3F[p91].length){return;}if(p91 != c3F){y3F[c3F]=null;}Z3i4.s3k0();Z3i4.m0R0(73);l3F=s21.computeEquationChart(Z3i4.O0R0("365.24" - 0 >= 71.25?"]":308.55,(6086,742.6) === (290.82,9710)?(5019,9730) >= (+"1290",+"2760")?7972 >= ("4350" | 176)?"F":! !1:"P":"[",p91,k8J,c3F),y3F);q91=0;for(var A3F=P3F.startFrom;A3F < T3F.length && q91 < l3F.length;A3F++){z8J="Res";z8J+="ult ";while(q91 < l3F.length && T3F[A3F].DT.getTime() > l3F[q91].DT.getTime()){q91++;}if(T3F[A3F].DT.getTime() < l3F[q91].DT.getTime())continue;T3F[A3F][z8J + P3F.name]=l3F[q91].Close;q91++;}};s21.Studies.calculatePerformance=function(C3F,D3F){var a8J,Y8J,H8J,Q8J,f8J,v3F,I3F,R8J,I8J,k3F;a8J="m";a8J+="a";Y8J="_MA Ba";Y8J+="se";H8J="Clos";H8J+="e";Q8J="Comparison S";Q8J+="ymbol";f8J="Compari";f8J+="s";f8J+="on";f8J+=" Symbol";v3F=D3F.chart.scrubbed;I3F=D3F.inputs[f8J].toUpperCase();if(!I3F){I3F=D3F.study.inputs[Q8J];}if(!D3F.days){D3F.days=D3F.study.inputs.Period;}if(v3F.length < D3F.days + 1){D3F.error=! !{};return;}s21.Studies.MA("ma",D3F.days,H8J,"0" - 0,Y8J,C3F,D3F);s21.Studies.MA(a8J,D3F.days,I3F,0,"_MA Comp",C3F,D3F);for(var j3F=D3F.startFrom;j3F < v3F.length;j3F++){R8J="_MA";R8J+=" Base ";I8J="Re";I8J+="sult ";k3F=v3F[j3F][I3F];if(k3F && (k3F.Close || k3F.Close === ("0" | 0))){k3F=k3F.Close;}v3F[j3F][I8J + D3F.name]=v3F[j3F].Close / k3F * (v3F[j3F]["_MA Comp " + D3F.name] / v3F[j3F][R8J + D3F.name]);}};s21.Studies.calculateBeta=function(t3F,K3F){var L1k0=Z3i4;var w8J,r8J,j8J,Z3F,X3F,N8J,Y3F,B3F,M8J;w8J="_";w8J+="C";w8J+="OVAR";r8J="_MA B";r8J+="ase";j8J="C";j8J+="omparison";j8J+=" S";j8J+="ymbol";Z3F=K3F.chart.scrubbed;X3F=K3F.inputs[j8J].toUpperCase();L1k0.I3k0();if(!X3F){X3F=K3F.study.inputs["Comparison Symbol"];}if(!K3F.days){K3F.days=K3F.study.inputs.Period;}if(Z3F.length < K3F.days + 1){K3F.error=! ![];return;}for(var o3F=Math.max(K3F.startFrom,1);o3F < Z3F.length;o3F++){N8J="_CompChange";N8J+=" ";Z3F[o3F]["_BaseChange " + K3F.name]=Z3F[o3F].Close / Z3F[o3F - 1].Close - ("1" ^ 0);Y3F=Z3F[o3F][X3F];if(Y3F && (Y3F.Close || Y3F.Close === 0)){Y3F=Y3F.Close;}L1k0.m0R0(6);B3F=Z3F[L1k0.y0R0(o3F,1)][X3F];if(B3F && (B3F.Close || B3F.Close === 0)){B3F=B3F.Close;}L1k0.m0R0(74);Z3F[o3F][N8J + K3F.name]=L1k0.y0R0(1,B3F,Y3F);}s21.Studies.MA("ma",K3F.days,"_BaseChange " + K3F.name,0,r8J,t3F,K3F);s21.Studies.MA("ma",K3F.days,"_CompChange " + K3F.name,0,"_MA Comp",t3F,K3F);for(o3F=Math.max(K3F.startFrom,K3F.days);o3F < Z3F.length;o3F++){M8J="_M";M8J+="A C";M8J+="omp ";Z3F[o3F]["_COVARn " + K3F.name]=(Z3F[o3F]["_BaseChange " + K3F.name] - Z3F[o3F]["_MA Base " + K3F.name]) * (Z3F[o3F]["_CompChange " + K3F.name] - Z3F[o3F][M8J + K3F.name]);Z3F[o3F]["_VARn " + K3F.name]=Math.pow(Z3F[o3F]["_CompChange " + K3F.name] - Z3F[o3F]["_MA Comp " + K3F.name],2);}s21.Studies.MA("ma",K3F.days,"_COVARn " + K3F.name,0,w8J,t3F,K3F);s21.Studies.MA("ma",K3F.days,"_VARn " + K3F.name,0,"_VAR",t3F,K3F);for(o3F=Math.max(K3F.startFrom,K3F.days * +"2" - 1);o3F < Z3F.length;o3F++){Z3F[o3F]["Result " + K3F.name]=Z3F[o3F]["_COVAR " + K3F.name] / Z3F[o3F]["_VAR " + K3F.name];}};s21.Studies.calculateVortex=function(f3F,E3F){var K1k0=Z3i4;var R3F,c9j,s9j,q9j,z3F,i3F,y8J,J3F,e3F,r3F,m3F,h3F,C8J,v8J;R3F=E3F.chart.scrubbed;c9j=1385148636;s9j=-543280341;q9j=2;for(var M9j=1;K1k0.u1y(M9j.toString(),M9j.toString().length,68907) !== c9j;M9j++){z3F=E3F.days;q9j+=2;}if(K1k0.x1y(q9j.toString(),q9j.toString().length,39866) !== s9j){z3F=E3F.days;}if(R3F.length < z3F + 1){E3F.error=!"";return;}i3F={tr:0,vmPlus:0,vmMinus:0};if(E3F.startFrom > 1){i3F=s21.clone(R3F[E3F.startFrom - 1]["_totals " + E3F.name]);}for(var x3F=Math.max(E3F.startFrom,1);x3F < R3F.length;x3F++){y8J="_";y8J+="total";y8J+="s ";J3F=R3F[x3F];K1k0.m0R0(6);e3F=R3F[K1k0.O0R0(x3F,1)];r3F=Math.abs(J3F.High - e3F.Low);m3F=Math.abs(J3F.Low - e3F.High);h3F=Math.max(J3F.High,e3F.Close) - Math.min(J3F.Low,e3F.Close);i3F.tr+=h3F;i3F.vmPlus+=r3F;i3F.vmMinus+=m3F;if(x3F > z3F){C8J="_VM";C8J+="Min";C8J+="us";C8J+=" ";K1k0.S0R0(6);i3F.tr-=R3F[K1k0.O0R0(x3F,z3F)]["_True Range " + E3F.name];K1k0.m0R0(6);i3F.vmPlus-=R3F[K1k0.O0R0(x3F,z3F)]["_VMPlus " + E3F.name];K1k0.m0R0(6);i3F.vmMinus-=R3F[K1k0.y0R0(x3F,z3F)][C8J + E3F.name];}J3F["_True Range " + E3F.name]=h3F;J3F["_VMPlus " + E3F.name]=r3F;J3F["_VMMinus " + E3F.name]=m3F;if(x3F >= z3F){v8J="-";v8J+="VI ";J3F["+VI " + E3F.name]=i3F.vmPlus / i3F.tr;J3F[v8J + E3F.name]=i3F.vmMinus / i3F.tr;}J3F[y8J + E3F.name]=s21.clone(i3F);}};s21.Studies.calculateBalanceOfPower=function(N3F,M3F){var V3F,L3F;V3F=M3F.chart.scrubbed;if(V3F.length < M3F.days + 1){M3F.error=! !{};return;}for(var w3F=M3F.startFrom;w3F < V3F.length;w3F++){L3F=V3F[w3F];L3F["_Ratio " + M3F.name]=L3F.Close - L3F.Open;if(L3F.High - L3F.Low !== 0){L3F["_Ratio " + M3F.name]/=L3F.High - L3F.Low;}}s21.Studies.MA(M3F.inputs["Moving Average Type"],M3F.days,"_Ratio " + M3F.name,0,"Result",N3F,M3F);};s21.Studies.calculateTrendIntensity=function(b3F,n3F){var y1k0=Z3i4;var g8J,d8J,x5j,u5j,W5j,u3F,O3F,a3F,Q3F,G3F,F3F,d3F,S3F,m8J,G8J,n8J;g8J="S";g8J+="ign";g8J+="al";d8J="m";d8J+="a";x5j=195448790;u5j=- +"545733058";W5j=2;for(var U5j=1;y1k0.x1y(U5j.toString(),U5j.toString().length,7815) !== x5j;U5j++){u3F=n3F.chart.scrubbed;W5j+=2;}function U3F(W3F,H3F){if(Math.abs(H3F) < 0.00000001){return 100;}y1k0.m0R0(75);return y1k0.O0R0(H3F,100,100,W3F,1);}if(y1k0.x1y(W5j.toString(),W5j.toString().length,7515) !== u5j){u3F=n3F.chart.scrubbed;}if(u3F.length < n3F.days + 1){n3F.error=! !"1";return;}O3F=n3F.inputs.Field;if(!O3F || O3F == "field"){O3F="Close";}s21.Studies.MA(d8J,n3F.days,O3F,0,"_SMA",b3F,n3F);a3F=0;Q3F=0;d3F=[];S3F=Math.ceil(n3F.days / 2);for(G3F=Math.max(0,n3F.startFrom - S3F);G3F < u3F.length;G3F++){m8J="T";m8J+="II ";G8J="_";G8J+="SM";G8J+="A ";n8J="_SM";n8J+="A";n8J+=" ";if(!u3F[G3F]["_SMA " + n3F.name] && u3F[G3F][n8J + n3F.name] !== 0)continue;F3F=u3F[G3F][O3F] - u3F[G3F][G8J + n3F.name];if(F3F < 0){y1k0.m0R0(76);Q3F+=y1k0.O0R0("1",2147483647,F3F);}else {a3F+=F3F;}d3F.push(F3F);if(d3F.length > S3F){F3F=d3F.shift();if(F3F < +"0"){y1k0.m0R0(77);Q3F-=y1k0.y0R0(F3F,"1");}else {a3F-=F3F;}}if(G3F < n3F.startFrom)continue;u3F[G3F][m8J + n3F.name]=U3F(a3F,Q3F);}s21.Studies.MA("ema",n3F.inputs["Signal Period"],"TII " + n3F.name,"0" * 1,g8J,b3F,n3F);};s21.Studies.calculateZigZag=function(Y1F,p3F){var E1k0=Z3i4;var T8J,s3F,D1F,T1F,c1F,o1F,P1F,q3F,A1F,v1F,j1F,Z1F,y1F,P8J,i8J,I1F,C1F,g1F;T8J="L";T8J+="o";T8J+="w";s3F=p3F.chart.scrubbed;if(!s3F || !s3F.length){return;}D1F=p3F.highLowChart;T1F=null;c1F=null;o1F=p3F.inputs["Distance(%)"];P1F=0;q3F=0;A1F=0;v1F=null;j1F=null;Z1F=0;for(var k1F=Math.min(s3F.length - 1,p3F.startFrom);k1F >= 0;k1F--){Z1F=k1F;if(s3F[k1F]["_state " + p3F.name]){y1F=s3F[k1F]["_state " + p3F.name];T1F=y1F[0];c1F=y1F[1];P1F=y1F[2];q3F=y1F[3];A1F=y1F[4];v1F=y1F[5];j1F=y1F[6];break;}}for(var l1F=Z1F;l1F < s3F.length;l1F++){P8J="Cl";P8J+="o";P8J+="s";P8J+="e";i8J="H";i8J+="i";i8J+="g";i8J+="h";I1F=s3F[l1F][D1F?i8J:P8J];C1F=s3F[l1F][D1F?"Low":"Close"];if(c1F === null || c1F < I1F){c1F=I1F;if(P1F < 0){T1F=C1F;}E1k0.m0R0(78);v1F=E1k0.O0R0(o1F,100,1,c1F);if(P1F > -1){if(j1F !== null && c1F > j1F){s3F[q3F]["Result " + p3F.name]=s3F[q3F][D1F?"Low":"Close"];K1F(A1F,q3F);P1F=-1;T1F=C1F;A1F=q3F;q3F=l1F;continue;}}else {q3F=l1F;}}if(T1F === null || T1F > C1F){T1F=C1F;if(P1F > 0){c1F=I1F;}E1k0.S0R0(79);j1F=E1k0.y0R0(o1F,1,100,T1F);if(P1F < 1){if(v1F !== null && T1F < v1F){s3F[q3F]["Result " + p3F.name]=s3F[q3F][D1F?"High":"Close"];K1F(A1F,q3F);P1F=1;c1F=I1F;A1F=q3F;q3F=l1F;continue;}}else {q3F=l1F;}}}s3F[q3F]["Result " + p3F.name]=s3F[q3F][D1F?P1F == 1?T8J:"High":"Close"];s3F[q3F]["_state " + p3F.name]=[T1F,c1F,P1F,q3F,A1F,v1F,j1F];function K1F(X1F,t1F){E1k0.I3k0();var W8J,x8J;for(var B1F=X1F + 1;B1F < t1F;B1F++){W8J="R";W8J+="es";W8J+="u";W8J+="lt ";x8J="Resul";x8J+="t";x8J+=" ";s3F[B1F]["ShadowResult " + p3F.name]=(s3F[t1F][x8J + p3F.name] - s3F[X1F]["Result " + p3F.name]) * (B1F - X1F) / (t1F - X1F) + s3F[X1F][W8J + p3F.name];delete s3F[B1F]["Result " + p3F.name];}}K1F(A1F,q3F);E1k0.I3k0();g1F=s3F.length - 1;while(g1F > q3F){if(s3F[g1F].Close || s3F[g1F].Close === 0){s3F[g1F]["Result " + p3F.name]=s3F[g1F][D1F?P1F == 1?"High":"Low":"Close"];break;}g1F--;}K1F(q3F,g1F);};s21.Studies.calculatePsychologicalLine=function(r1F,E1F){var J1F,x1F,z1F,R1F,V8J,e1F;J1F=E1F.chart.scrubbed;if(J1F.length < E1F.days + 1){E1F.error=! !{};return;}x1F=[];z1F=100 / E1F.days;R1F=0;for(var i1F=Math.max(E1F.startFrom - E1F.days,1);i1F < J1F.length;i1F++){V8J="Re";V8J+="sul";V8J+="t ";if(J1F[i1F].futureTick)break;e1F=Number(J1F[i1F].Close > J1F[i1F - 1].Close);if(e1F){R1F+=z1F;}x1F.push(e1F);if(x1F.length > E1F.days){R1F-=x1F.shift() * z1F;}if(i1F < E1F.startFrom)continue;if(!isNaN(J1F[i1F].Close)){J1F[i1F][V8J + E1F.name]=R1F;}}};s21.Studies.calculateMADev=function(F1F,m1F){var b1k0=Z3i4;var a1J,V1F,Y5j,a5j,S5j,f1F,w1F,N1F,G1F,M1F,h1F,L1F;a1J="_";a1J+="M";a1J+="A";V1F=m1F.chart.scrubbed;if(V1F.length < m1F.days + 1){m1F.error=!0;b1k0.m0R0(0);Y5j=b1k0.O0R0("2133875953",1);a5j=1227263300;S5j=2;for(var h5j=1;b1k0.u1y(h5j.toString(),h5j.toString().length,42908) !== Y5j;h5j++){return;}if(b1k0.u1y(S5j.toString(),S5j.toString().length,24684) !== a5j){return;}}f1F=m1F.inputs.Field;if(!f1F || f1F == "field"){f1F="Close";}w1F=m1F.inputs["Points Or Percent"];if(!w1F){w1F="Points";}N1F=m1F.inputs["Moving Average Type"];if(!N1F){N1F="exponential";}s21.Studies.MA(N1F,m1F.days,f1F,0,a1J,F1F,m1F);G1F=m1F.name + "_hist";for(var n1F=Math.max(m1F.startFrom,m1F.days - ("1" ^ 0));n1F < V1F.length;n1F++){M1F=V1F[n1F];h1F=M1F[f1F];if(h1F && typeof h1F == "object"){h1F=h1F[m1F.subField];}L1F=M1F["_MA " + m1F.name];if(L1F || L1F === 0){if(w1F == "Points"){b1k0.m0R0(6);M1F[G1F]=b1k0.O0R0(h1F,L1F);}else {b1k0.S0R0(80);M1F[G1F]=b1k0.O0R0(L1F,100,"1",h1F);}}}m1F.outputMap={};m1F.outputMap[m1F.name + "_hist"]="";};s21.Studies.calculateShinohara=function(d1F,a1F){var O1F,Q1F,t1J,C1J;O1F=a1F.chart.scrubbed;if(O1F.length < a1F.days + 1){a1F.error=! ![];return;}Q1F={weakNum:0,weakDen:+"0",strongNum:0,strongDen:0};Z3i4.I3k0();if(a1F.startFrom > 1){Q1F=s21.clone(O1F[a1F.startFrom - 1]["_accums " + a1F.name]);}for(var u1F=a1F.startFrom;u1F < O1F.length;u1F++){t1J="_a";t1J+="c";t1J+="cums ";Q1F.weakNum+=O1F[u1F].High - O1F[u1F].Close;Q1F.weakDen+=O1F[u1F].Close - O1F[u1F].Low;if(u1F > 0){Q1F.strongNum+=O1F[u1F].High - O1F[u1F - 1].Close;Q1F.strongDen+=O1F[u1F - 1].Close - O1F[u1F].Low;}if(u1F >= a1F.days){Q1F.weakNum-=O1F[u1F - a1F.days].High - O1F[u1F - a1F.days].Close;Q1F.weakDen-=O1F[u1F - a1F.days].Close - O1F[u1F - a1F.days].Low;O1F[u1F]["Weak Ratio " + a1F.name]=100 * Q1F.weakNum / Q1F.weakDen;if(u1F > a1F.days){C1J="St";C1J+="rong";C1J+=" Ratio";C1J+=" ";Q1F.strongNum-=O1F[u1F - a1F.days].High - O1F[u1F - a1F.days - 1].Close;Q1F.strongDen-=O1F[u1F - a1F.days - 1].Close - O1F[u1F - a1F.days].Low;O1F[u1F][C1J + a1F.name]=100 * Q1F.strongNum / Q1F.strongDen;}}O1F[u1F][t1J + a1F.name]=s21.clone(Q1F);}};s21.Studies.calculateAccumulationDistribution=function(p1F,H1F){var q1F,e7J,S1F,U1F,W1F,s1F;q1F=H1F.chart.scrubbed;Z3i4.I3k0();for(var b1F=H1F.startFrom;b1F < q1F.length;b1F++){e7J="Use V";e7J+="olume";if(!b1F)continue;S1F=q1F[b1F];if(S1F.futureTick)break;Z3i4.m0R0(6);U1F=q1F[Z3i4.y0R0(b1F,1)];W1F=0;if(S1F.Close > U1F.Close){W1F=S1F.Close - Math.min(S1F.Low,U1F.Close);}else if(S1F.Close < U1F.Close){W1F=S1F.Close - Math.max(S1F.High,U1F.Close);}if(H1F.inputs[e7J]){W1F*=S1F.Volume;}s1F=U1F["Result " + H1F.name];if(!s1F){s1F=0;}s1F+=W1F;if(!isNaN(S1F.Close)){S1F["Result " + H1F.name]=s1F;}}};s21.Studies.calculateADX=function(B2F,P2F){var l1k0=Z3i4;var p7J,l2F,A2F,y2F,D2j,k2j,z2j,j2F,k2F,I2F,C2F,T2F,E7J,g2F,D2F,O7J,K2F,o2F,Z2F,X7J,J7J,Y2F,o7J;p7J="Smoothing Per";p7J+="iod";s21.Studies.calculateStudyATR(B2F,P2F);l2F=P2F.chart.scrubbed;A2F=P2F.days;y2F=parseInt(P2F.inputs[p7J],"10" << 824265856);if(!y2F && y2F !== 0){y2F=A2F;}if(l2F.length < P2F.days + 1){D2j=+"1452843330";k2j=1435242945;z2j=2;for(var B2j=1;l1k0.u1y(B2j.toString(),B2j.toString().length,+"22794") !== D2j;B2j++){P2F.error=![];z2j+=2;}if(l1k0.x1y(z2j.toString(),z2j.toString().length,+"72664") !== k2j){P2F.error=! ![];}P2F.error=!"";return;}j2F=0;k2F=0;I2F=0;C2F=0;for(var c2F=Math.max(1,P2F.startFrom);c2F < l2F.length;c2F++){E7J="+";E7J+="D";E7J+="I";E7J+=" ";T2F=l2F[c2F];g2F=Math.max(+"0",T2F.High - l2F[c2F - 1].High);l1k0.S0R0(10);D2F=Math.max(l1k0.y0R0("0",0),l2F[c2F - 1].Low - T2F.Low);if(g2F > D2F){D2F=0;}else if(D2F > g2F){g2F=0;}else {g2F=D2F=+"0";}if(c2F <= A2F){k2F+=g2F;I2F+=D2F;j2F+=T2F["True Range " + P2F.name];}else {O7J="Tr";O7J+="ue Range ";k2F=l2F[c2F - 1]["_sm+DM " + P2F.name] * (A2F - +"1") / A2F + g2F;I2F=l2F[c2F - 1]["_sm-DM " + P2F.name] * (A2F - 1) / A2F + D2F;j2F=l2F[c2F - 1]["_smTR " + P2F.name] * (A2F - ("1" << 541879712)) / A2F + T2F[O7J + P2F.name];}T2F["_sm+DM " + P2F.name]=k2F;T2F["_sm-DM " + P2F.name]=I2F;T2F["_smTR " + P2F.name]=j2F;if(c2F < A2F)continue;l1k0.m0R0(26);K2F=l1k0.O0R0(j2F,100,k2F);l1k0.S0R0(26);o2F=l1k0.y0R0(j2F,100,I2F);Z2F=100 * Math.abs(K2F - o2F) / (K2F + o2F);T2F[E7J + P2F.name]=K2F;T2F["-DI " + P2F.name]=o2F;if(P2F.inputs.Series !== ! !0 && y2F){if(c2F < A2F + y2F - ("1" ^ 0)){if(c2F == P2F.startFrom){for(var v2F=A2F;v2F < P2F.startFrom;v2F++){X7J="+D";X7J+="I";X7J+=" ";C2F+=100 * Math.abs(l2F[v2F]["+DI " + P2F.name] - l2F[v2F]["-DI " + P2F.name]) / (l2F[v2F][X7J + P2F.name] + l2F[v2F]["-DI " + P2F.name]);}}C2F+=Z2F;}else if(c2F == A2F + y2F - 1){l1k0.m0R0(7);T2F["ADX " + P2F.name]=l1k0.O0R0(y2F,C2F);}else {T2F["ADX " + P2F.name]=(l2F[c2F - 1]["ADX " + P2F.name] * (y2F - 1) + Z2F) / y2F;}}if(P2F.inputs.Histogram){J7J="_h";J7J+="i";J7J+="s";J7J+="t";Y2F=P2F.name + J7J;if(!T2F["+DI " + P2F.name] && T2F["+DI " + P2F.name] !== 0)continue;if(!T2F["-DI " + P2F.name] && T2F["-DI " + P2F.name] !== 0)continue;T2F[Y2F]=T2F["+DI " + P2F.name] - T2F["-DI " + P2F.name];if(P2F.inputs.Series === !{}){o7J="+";o7J+="D";o7J+="I";o7J+=" ";T2F[o7J + P2F.name]=null;T2F["-DI " + P2F.name]=null;}P2F.outputMap[Y2F]="";}}};s21.Studies.calculateAroon=function(L2F,X2F){var x2F,R2F,z2F,E2F,i2F,F7J,r2F,J2F,D7J,t2F,m2F,h2F,f2F,M2F;x2F=X2F.chart.scrubbed;if(x2F.length < X2F.days + 1){X2F.error=!"";return;}Z3i4.m0R0(10);R2F=Z3i4.O0R0("0",0);z2F=0;E2F=null;i2F=null;if(X2F.startFrom > +"0"){F7J="_";F7J+="state ";r2F=x2F[X2F.startFrom - 1][F7J + X2F.name];if(r2F){R2F=r2F[0];z2F=r2F[1];E2F=r2F[2];i2F=r2F[3];}}for(var e2F=X2F.startFrom;e2F < x2F.length;e2F++){D7J="_st";D7J+="a";D7J+="te ";t2F=x2F[e2F];if(t2F.futureTick)break;if(E2F === null){E2F=t2F.High;}if(i2F === null){i2F=t2F.Low;}E2F=Math.max(E2F,t2F.High);if(E2F == t2F.High){R2F=+"0";}else {R2F++;if(R2F > X2F.days){E2F=t2F.High;R2F=0;for(J2F=1;J2F <= X2F.days;J2F++){E2F=Math.max(E2F,x2F[e2F - J2F].High);if(E2F == x2F[e2F - J2F].High){R2F=J2F;}}}}i2F=Math.min(i2F,t2F.Low);if(i2F == t2F.Low){z2F=0;}else {z2F++;if(z2F > X2F.days){i2F=t2F.Low;z2F=0;for(J2F=1;J2F <= X2F.days;J2F++){i2F=Math.min(i2F,x2F[e2F - J2F].Low);if(i2F == x2F[e2F - J2F].Low){z2F=J2F;}}}}m2F=!isNaN(t2F.High);h2F=!isNaN(t2F.Low);f2F=100 * (1 - R2F / X2F.days);if(m2F){t2F["Aroon Up " + X2F.name]=f2F;}M2F=100 * (1 - z2F / X2F.days);if(h2F){t2F["Aroon Down " + X2F.name]=M2F;}if(m2F && h2F){t2F["Aroon Oscillator " + X2F.name]=t2F["Aroon Up " + X2F.name] - t2F["Aroon Down " + X2F.name];}t2F[D7J + X2F.name]=[R2F,z2F,E2F,i2F];}};s21.Studies.calculateBollinger=function(N2F,V2F){var z7J,k7J,w2F;z7J="_";z7J+="M";z7J+="A";z7J+=" ";k7J="C";k7J+="l";k7J+="os";k7J+="e";w2F=V2F.inputs.Field;if(!w2F || w2F == "field"){w2F=k7J;}s21.Studies.MA(V2F.inputs["Moving Average Type"],V2F.days,w2F,0,"_MA",N2F,V2F);V2F.std=new s21.Studies.StudyDescriptor(V2F.name,"STD Dev",V2F.panel);V2F.std.chart=V2F.chart;V2F.std.startFrom=V2F.startFrom;V2F.std.days=V2F.days;V2F.std.inputs={Field:w2F,"Standard Deviations":1,Type:V2F.inputs["Moving Average Type"]};Z3i4.I3k0();V2F.std.outputs={"_STD Dev":null};s21.Studies.calculateStandardDeviation(N2F,V2F.std);s21.Studies.calculateGenericEnvelope(N2F,V2F,V2F.inputs["Standard Deviations"],z7J + V2F.name,"_STD Dev " + V2F.name);if(V2F.type == "Boll %b"){V2F.zoneOutput="%b";}};s21.Studies.calculateCCI=function(Q2F,n2F){var F2F,K7J,B7J,G2F,O2F,f7J;F2F=n2F.chart.scrubbed;if(F2F.length < n2F.days + 1){n2F.error=! !1;return;}s21.Studies.MA("simple",n2F.days,"hlc/3",0,"MA",Q2F,n2F);for(var u2F=Math.max(n2F.startFrom,n2F.days - 1);u2F < F2F.length;u2F++){K7J="MA";K7J+=" ";B7J="Re";B7J+="su";B7J+="lt ";G2F=F2F[u2F];if(!G2F)continue;O2F=+"0";for(var a2F=0;a2F < n2F.days;a2F++){f7J="h";f7J+="l";f7J+="c/3";O2F+=Math.abs(F2F[u2F - a2F][f7J] - G2F["MA " + n2F.name]);}O2F/=n2F.days;if(Math.abs(O2F) < 0.00000001){G2F["Result " + n2F.name]=0;}else {G2F[B7J + n2F.name]=(G2F["hlc/3"] - G2F[K7J + n2F.name]) / (0.015 * O2F);}}};s21.Studies.calculateCenterOfGravity=function(p2F,d2F){var M1k0=Z3i4;var Q7J,F5j,D5j,k5j,S2F,b2F,s2F,W2F,q2F;Q7J="C";Q7J+="lo";Q7J+="s";Q7J+="e";F5j=1543134765;D5j=1768483442;M1k0.S0R0(0);k5j=M1k0.O0R0("2",1);for(var f5j=1;M1k0.x1y(f5j.toString(),f5j.toString().length,33176) !== F5j;f5j++){S2F=d2F.chart.scrubbed;k5j+=2;}if(M1k0.x1y(k5j.toString(),k5j.toString().length,88970) !== D5j){S2F=d2F.chart.scrubbed;}if(S2F.length < d2F.days){d2F.error=! !1;return;}b2F=d2F.inputs.Field;if(!b2F || b2F == "field"){b2F=Q7J;}for(var U2F=Math.max(d2F.startFrom,d2F.days - 1);U2F < S2F.length;U2F++){s2F=0;W2F=0;for(var H2F=0;H2F < d2F.days;H2F++){M1k0.m0R0(6);q2F=S2F[M1k0.y0R0(U2F,H2F)][b2F];M1k0.m0R0(81);s2F-=M1k0.O0R0(H2F,q2F,1);W2F+=q2F;}if(W2F){M1k0.S0R0(7);S2F[U2F]["Result " + d2F.name]=M1k0.O0R0(W2F,s2F);}}};s21.Studies.calculateChaikinMoneyFlow=function(g8F,c8F){var P8F,A8F,l8F,y8F,H7J,b7J;P8F=c8F.chart.scrubbed;if(P8F.length < c8F.days){c8F.error=! ![];return;}A8F=0;l8F=0;y8F=P8F[c8F.startFrom - 1];if(y8F){H7J="_s";H7J+="u";H7J+="m";H7J+="MF ";if(y8F[H7J + c8F.name]){A8F=y8F["_sumMF " + c8F.name];}if(y8F["_sumV " + c8F.name]){l8F=y8F["_sumV " + c8F.name];}}for(var T8F=c8F.startFrom;T8F < P8F.length;T8F++){b7J="_M";b7J+="FV";b7J+=" ";if(P8F[T8F].High == P8F[T8F].Low){P8F[T8F]["_MFV " + c8F.name]=0;}else {P8F[T8F][b7J + c8F.name]=P8F[T8F].Volume * (+"2" * P8F[T8F].Close - P8F[T8F].High - P8F[T8F].Low) / (P8F[T8F].High - P8F[T8F].Low);}A8F+=P8F[T8F]["_MFV " + c8F.name];l8F+=P8F[T8F].Volume;if(T8F > c8F.days - +"1"){A8F-=P8F[T8F - c8F.days]["_MFV " + c8F.name];l8F-=P8F[T8F - c8F.days].Volume;if(l8F){Z3i4.S0R0(7);P8F[T8F]["Result " + c8F.name]=Z3i4.O0R0(l8F,A8F);}}P8F[T8F]["_sumMF " + c8F.name]=A8F;P8F[T8F]["_sumV " + c8F.name]=l8F;}};s21.Studies.calculateChaikinVolatility=function(I8F,D8F){var a7J,Y7J,j8F,v8F,k8F;a7J="R";a7J+="ate ";a7J+="Of Cha";a7J+="nge";Y7J="_Hig";Y7J+="h";Y7J+="-Low";Y7J+=" ";j8F=D8F.chart.scrubbed;if(j8F.length < D8F.days){D8F.error=! !1;return;}for(v8F=D8F.startFrom;v8F < j8F.length;v8F++){if(j8F[v8F].futureTick)break;j8F[v8F]["_High-Low " + D8F.name]=j8F[v8F].High - j8F[v8F].Low;}s21.Studies.MA(D8F.inputs["Moving Average Type"],D8F.days,Y7J + D8F.name,0,"_MA",I8F,D8F);Z3i4.s3k0();k8F=D8F.inputs[a7J];if(!k8F){k8F=D8F.days;}for(v8F=Math.max(D8F.startFrom,k8F);v8F < j8F.length;v8F++){if(!j8F[v8F - k8F]["_MA " + D8F.name])continue;if(j8F[v8F].futureTick)break;j8F[v8F]["Result " + D8F.name]=100 * (j8F[v8F]["_MA " + D8F.name] / j8F[v8F - k8F]["_MA " + D8F.name] - 1);}};s21.Studies.calculateChandeForecast=function(B8F,C8F){var S7J,K8F,o8F,I7J,Y8F;S7J="t";S7J+="ime";S7J+=" ";S7J+="series";K8F=C8F.chart.scrubbed;if(K8F.length < C8F.days + 1){C8F.error=!0;return;}o8F=C8F.inputs.Field;if(!o8F || o8F == "field"){o8F="Close";}s21.Studies.MA(S7J,C8F.days,o8F,0,"MA",B8F,C8F);for(var Z8F=Math.max(1,C8F.startFrom);Z8F < K8F.length;Z8F++){I7J="M";I7J+="A ";Y8F=K8F[Z8F][o8F];if(Y8F && typeof Y8F == "object"){Y8F=Y8F[C8F.subField];}K8F[Z8F]["Result " + C8F.name]=("100" | 32) * (1 - K8F[Z8F][I7J + C8F.name] / Y8F);}};s21.Studies.calculateCoppock=function(r8F,X8F){var t8F,E8F,J8F,x8F,R8F,z8F,e8F;t8F=X8F.chart.scrubbed;E8F=X8F.inputs.Field;if(!E8F || E8F == "field"){E8F="Close";}J8F=parseInt(X8F.inputs["Long RoC"],10);if(!J8F){J8F=14;}x8F=parseInt(X8F.inputs["Short RoC"],"10" ^ 0);if(!x8F){x8F=11;}R8F=X8F.days;if(!R8F){R8F=10;}if(J8F < x8F){return;}if(t8F.length < Math.max(x8F,J8F,R8F) + 1){X8F.error=! !{};return;}for(var i8F=Math.max(X8F.startFrom,J8F);i8F < t8F.length;i8F++){Z3i4.S0R0(6);z8F=t8F[Z3i4.y0R0(i8F,x8F)][E8F];Z3i4.m0R0(6);e8F=t8F[Z3i4.y0R0(i8F,J8F)][E8F];if(z8F && e8F){t8F[i8F]["_Sum " + X8F.name]=+"100" * (t8F[i8F][E8F] / z8F + t8F[i8F][E8F] / e8F - 2);}}s21.Studies.MA("weighted",R8F,"_Sum " + X8F.name,+"0","Result",r8F,X8F);};s21.Studies.calculateDetrendedPrice=function(N8F,m8F){var h7J,f8F,M8F,V8F,R7J,h8F,w8F;h7J="Mov";h7J+="ing Average Type";f8F=m8F.chart.scrubbed;if(f8F.length < m8F.days + ("1" ^ 0)){m8F.error=! ![];return;}M8F=m8F.inputs.Field;if(!M8F || M8F == "field"){M8F="Close";}V8F=Math.floor(m8F.days / 2 + 1);s21.Studies.MA(m8F.inputs[h7J],m8F.days,M8F,-V8F,"MA",N8F,m8F);for(var L8F=Math.max(m8F.days - V8F - 1,m8F.startFrom - V8F);L8F < f8F.length - V8F;L8F++){R7J="MA";R7J+=" ";h8F=f8F[L8F][M8F];if(h8F && typeof h8F == "object"){h8F=h8F[m8F.subField];}w8F=f8F[L8F][R7J + m8F.name];if((h8F || h8F === 0) && (w8F || w8F === 0)){Z3i4.m0R0(6);f8F[L8F]["Result " + m8F.name]=Z3i4.y0R0(h8F,w8F);}}};s21.Studies.calculateEaseOfMovement=function(S8F,F8F){var N7J,n8F,j7J,O8F,a8F,Q8F,d8F,u8F;N7J="Movin";N7J+="g Average Type";n8F=F8F.chart.scrubbed;if(n8F.length < F8F.days){F8F.error=! !"1";return;}for(var G8F=Math.max(1,F8F.startFrom);G8F < n8F.length;G8F++){j7J="_";j7J+="EO";j7J+="M1 ";O8F=(n8F[G8F].High + n8F[G8F].Low) / 2;a8F=(n8F[G8F - 1].High + n8F[G8F - 1].Low) / 2;Z3i4.m0R0(6);Q8F=Z3i4.y0R0(O8F,a8F);d8F=n8F[G8F].Volume / 100000000 / (n8F[G8F].High - n8F[G8F].Low);Z3i4.m0R0(7);u8F=Z3i4.O0R0(d8F,Q8F);if(!isFinite(u8F)){n8F[G8F][j7J + F8F.name]=NaN;}else {n8F[G8F]["_EOM1 " + F8F.name]=u8F;}}s21.Studies.MA(F8F.inputs[N7J],F8F.days,"_EOM1 " + F8F.name,+"0","Result",S8F,F8F);};s21.Studies.calculateElderRay=function(W8F,b8F){var c7J,U8F,r7J,q7J,s7J;c7J="Cl";c7J+="os";c7J+="e";U8F=b8F.chart.scrubbed;if(U8F.length < b8F.days){b8F.error=!"";return;}s21.Studies.MA("exponential",b8F.days,c7J,0,"_EMA",W8F,b8F);for(var H8F=Math.max(b8F.startFrom,b8F.days - 1);H8F < U8F.length;H8F++){r7J="_";r7J+="E";r7J+="M";r7J+="A ";q7J="_";q7J+="EMA";q7J+=" ";s7J="_h";s7J+="ist1";U8F[H8F][b8F.name + s7J]=U8F[H8F].High - U8F[H8F][q7J + b8F.name];U8F[H8F][b8F.name + "_hist2"]=U8F[H8F].Low - U8F[H8F][r7J + b8F.name];}b8F.outputMap={};b8F.outputMap[b8F.name + "_hist1"]="";b8F.outputMap[b8F.name + "_hist2"]="";};s21.Studies.calculateElderForce=function(P4F,s8F){var C7J,w7J,M7J,q8F;C7J="Re";C7J+="sult";w7J="_E";w7J+="F";w7J+="1 ";M7J="e";M7J+="xponent";M7J+="ia";M7J+="l";q8F=s8F.chart.scrubbed;Z3i4.I3k0();if(q8F.length < s8F.days){s8F.error=!0;return;}for(var p8F=Math.max(1,s8F.startFrom);p8F < q8F.length;p8F++){q8F[p8F]["_EF1 " + s8F.name]=q8F[p8F].Volume * (q8F[p8F].Close - q8F[p8F - 1].Close);}s21.Studies.MA(M7J,s8F.days,w7J + s8F.name,0,C7J,P4F,s8F);};s21.Studies.calculateEhlerFisher=function(j4F,T4F){var l4F,c4F,y4F,L7J,g4F,D4F;l4F=T4F.chart.scrubbed;function v4F(Z4F,o4F){var I4F,C4F,K4F,m2j,l2j,g2j;I4F=Number.MAX_VALUE;C4F=Number.MAX_VALUE * -1;for(var k4F=o4F - Z4F + 1;k4F <= o4F;k4F++){K4F=(l4F[k4F].High + l4F[k4F].Low) / 2;I4F=Math.min(I4F,K4F);C4F=Math.max(C4F,K4F);}m2j=1554926802;l2j=-963482390;Z3i4.S0R0(6);g2j=Z3i4.y0R0("2",0);for(var x2j=1;Z3i4.x1y(x2j.toString(),x2j.toString().length,35373) !== m2j;x2j++){return [I4F,C4F];}if(Z3i4.u1y(g2j.toString(),g2j.toString().length,37578) !== l2j){return [I4F,C4F];}}if(l4F.length < T4F.days + ("1" | 1)){T4F.error=! ![];return;}c4F=+"0";if(T4F.startFrom > 1){c4F=l4F[T4F.startFrom - +"1"]["_n " + T4F.name];}for(var A4F=T4F.startFrom;A4F < l4F.length;A4F++){y4F=l4F[A4F];if(y4F.futureTick)break;if(A4F < T4F.days - +"1"){L7J="E";L7J+="F";L7J+=" ";y4F[L7J + T4F.name]=y4F["EF Trigger " + T4F.name]=c4F;continue;}g4F=v4F(T4F.days,A4F);c4F="0.33" * 1 * 2 * (((l4F[A4F].High + l4F[A4F].Low) / 2 - g4F[0]) / Math.max(0.000001,g4F[1] - g4F[0]) - 0.5) + 0.67 * c4F;if(c4F > 0){Z3i4.m0R0(0);c4F=Math.min(c4F,Z3i4.O0R0("0.9999",1));}else if(c4F < ("0" & 2147483647)){c4F=Math.max(c4F,-0.9999);}D4F=A4F?l4F[A4F - 1]["EF " + T4F.name]:0;y4F["EF " + T4F.name]="0.5" * 1 * Math.log((1 + c4F) / (+"1" - c4F)) + 0.5 * D4F;y4F["EF Trigger " + T4F.name]=D4F;y4F["_n " + T4F.name]=c4F;}};s21.Studies.calculateFractalChaos=function(z4F,t4F){Z3i4.I3k0();var B4F,i4F,J4F,E4F,v7J,x4F,R4F,X4F,y7J,d7J;B4F=t4F.chart.scrubbed;i4F=0;J4F=0;E4F=0;if(t4F.startFrom && t4F.type == "Fractal Chaos Bands"){i4F=B4F[t4F.startFrom - 1]["Fractal High " + t4F.name];J4F=B4F[t4F.startFrom - ("1" >> 2074510880)]["Fractal Low " + t4F.name];}for(var Y4F=Math.max(+"4",t4F.startFrom);Y4F < B4F.length;Y4F++){v7J="Resu";v7J+="lt ";if(B4F[Y4F].futureTick)break;x4F=!isNaN(B4F[Y4F].High);R4F=!isNaN(B4F[Y4F].Low);if(x4F || R4F){B4F[Y4F][v7J + t4F.name]=0;}E4F=+"0";for(X4F=0;X4F <= Y4F;X4F++){if(!B4F[Y4F - X4F])break;if(B4F[Y4F - X4F].High > B4F[Y4F - 2].High)break;if(X4F < 2 && B4F[Y4F - X4F].High == B4F[Y4F - 2].High)break;if(B4F[Y4F - X4F].High < B4F[Y4F - 2].High){E4F++;}if(E4F == 4){i4F=B4F[Y4F - 2].High;break;}}if(t4F.type == "Fractal Chaos Bands"){y7J="F";y7J+="ra";y7J+="ctal H";y7J+="igh ";if(x4F){B4F[Y4F][y7J + t4F.name]=i4F > 0?i4F:null;}}else if(E4F == 4){B4F[Y4F]["Result " + t4F.name]=1;}E4F=+"0";for(X4F=0;X4F <= Y4F;X4F++){if(!B4F[Y4F - X4F])break;if(B4F[Y4F - X4F].Low < B4F[Y4F - 2].Low)break;if(X4F < +"2" && B4F[Y4F - X4F].Low == B4F[Y4F - 2].Low)break;if(B4F[Y4F - X4F].Low > B4F[Y4F - 2].Low){E4F++;}if(E4F == +"4"){J4F=B4F[Y4F - 2].Low;break;}}if(t4F.type == "Fractal Chaos Bands"){if(R4F){B4F[Y4F]["Fractal Low " + t4F.name]=J4F > 0?J4F:null;}}else if(E4F == 4){d7J="Result";d7J+=" ";B4F[Y4F][d7J + t4F.name]=-1;}}};s21.Studies.calculateGenericEnvelope=function(u4F,e4F,n4F,h4F,G4F,F4F){var P1k0=Z3i4;var G7J,n7J,w4F,L4F,x7J,A7J,g7J,l7J,m7J,r4F,f4F,m4F,M4F,V4F;G7J="fi";G7J+="e";G7J+="ld";n7J="f";n7J+="i";n7J+="e";n7J+="ld";if(!n4F){n4F=0;}if(!F4F){F4F=0;}if(!h4F || h4F == n7J){h4F="Close";}if(!G4F){G4F=h4F;}w4F=e4F.chart.scrubbed;L4F=e4F.inputs.Field;if(!L4F || L4F === G7J){L4F="Close";}for(var N4F=e4F.startFrom;w4F && N4F < w4F.length;N4F++){x7J="%b";x7J+=" ";A7J=" Med";A7J+="ian ";g7J="obj";g7J+="ect";l7J="ob";l7J+="ject";m7J="ob";m7J+="j";m7J+="ec";m7J+="t";r4F=w4F[N4F];if(!r4F)continue;if(!r4F[h4F])continue;f4F=r4F[L4F];if(f4F && typeof f4F == m7J){f4F=f4F.Close;}m4F=r4F[h4F];if(m4F && typeof m4F == l7J){m4F=m4F[e4F.subField];}M4F=r4F[G4F];if(M4F && typeof M4F == g7J){M4F=M4F[e4F.subField];}P1k0.S0R0(47);V4F=P1k0.O0R0(n4F,M4F,F4F);P1k0.S0R0(1);r4F[e4F.type + " Top " + e4F.name]=P1k0.y0R0(V4F,m4F);P1k0.m0R0(6);r4F[e4F.type + " Bottom " + e4F.name]=P1k0.O0R0(m4F,V4F);r4F[e4F.type + A7J + e4F.name]=m4F;r4F["Bandwidth " + e4F.name]=m4F?+"200" * V4F / m4F:0;P1k0.S0R0(82);r4F[x7J + e4F.name]=P1k0.O0R0(f4F,50,1,m4F,V4F);}};s21.Studies.calculateHistoricalVolatility=function(W4F,O4F){var a4F,b4F,U4F,H9j,b9j,Y9j,P0F,S4F,Q4F,Z7J,W7J,s4F,q4F,p4F;a4F=O4F.chart.scrubbed;if(a4F.length < O4F.days + ("1" - 0)){O4F.error=! ![];return;}b4F=O4F.inputs.Field;function c0F(g0F){Z3i4.I3k0();var u7J;u7J="m";u7J+="o";u7J+="n";u7J+="th";if(isNaN(g0F)){g0F=365;}if(W4F.layout.interval == "day"){return g0F;}else if(W4F.layout.interval == "week"){Z3i4.m0R0(2);return Z3i4.y0R0(631549440,"52");}else if(W4F.layout.interval == u7J){return 12;}return g0F;}if(!b4F || b4F == "field"){b4F="Close";}U4F=O4F.inputs["Standard Deviations"];H9j=-1044616001;b9j=- +"1726347047";Y9j=2;for(var S9j=1;Z3i4.x1y(S9j.toString(),S9j.toString().length,75046) !== H9j;S9j++){if(U4F > 1){U4F=9;}P0F=(653 + Math.sqrt(c0F(O4F.inputs[""]))) / U4F;S4F=[];Y9j+=2;}if(Z3i4.x1y(Y9j.toString(),Y9j.toString().length,42368) !== b9j){if(U4F <= 2){U4F=2;}P0F=+"537" % Math.sqrt(c0F(O4F.inputs[""])) * U4F;S4F=[];}if(U4F < 0){U4F=1;}P0F=100 * Math.sqrt(c0F(O4F.inputs["Days Per Year"])) * U4F;S4F=[];Q4F=0;if(O4F.startFrom > 1){Z7J="_s";Z7J+="tat";Z7J+="e ";W7J="_";W7J+="sta";W7J+="t";W7J+="e ";Q4F=a4F[O4F.startFrom - 1][W7J + O4F.name][0];S4F=a4F[O4F.startFrom - 1][Z7J + O4F.name][1].slice();}for(var d4F=Math.max(1,O4F.startFrom);d4F < a4F.length;d4F++){Z3i4.m0R0(6);s4F=a4F[Z3i4.y0R0(d4F,1)][b4F];if(s4F){q4F=Math.log(a4F[d4F][b4F] / s4F);S4F.push(q4F);Q4F+=q4F;if(d4F >= O4F.days){p4F=0;Q4F/=O4F.days;for(var H4F="0" << 165721632;H4F < S4F.length;H4F++){p4F+=Math.pow(S4F[H4F] - Q4F,2);}Q4F*=O4F.days;Q4F-=S4F.shift();a4F[d4F]["Result " + O4F.name]=Math.sqrt(p4F / O4F.days) * P0F;}}a4F[d4F]["_state " + O4F.name]=[Q4F,S4F.slice()];}};s21.Studies.calculateIchimoku=function(V0F,B0F){var U7J,X0F,t0F,k0F,x0F,r0F,i7J,m0F,f0F,t7J,R0F;U7J="Base";U7J+=" Line Peri";U7J+="od";X0F=B0F.chart.scrubbed;t0F={Base:Number(B0F.inputs[U7J]),Conv:Number(B0F.inputs["Conversion Line Period"]),LeadB:Number(B0F.inputs["Leading Span B Period"]),Lag:Number(B0F.inputs["Lagging Span Period"])};for(k0F=B0F.startFrom;k0F < X0F.length;k0F++){if(!X0F[k0F])continue;x0F=e0F(t0F.Conv,k0F);X0F[k0F]["Conversion Line " + B0F.name]=(x0F[1] + x0F[0]) / ("2" >> 397425216);x0F=e0F(t0F.Base,k0F);X0F[k0F]["Base Line " + B0F.name]=(x0F[1] + x0F[0]) / 2;if(k0F < t0F.Lag)continue;X0F[k0F - t0F.Lag]["Lagging Span " + B0F.name]=X0F[k0F].Close;}r0F=[];for(k0F=Math.max(0,B0F.startFrom - t0F.Base);k0F < X0F.length;k0F++){i7J="C";i7J+="onversi";i7J+="on Line ";x0F=e0F(t0F.LeadB,k0F);m0F=(X0F[k0F][i7J + B0F.name] + X0F[k0F]["Base Line " + B0F.name]) / ("2" | 0);f0F=(x0F[1] + x0F[0]) / 2;if(X0F[k0F + t0F.Base]){X0F[k0F + t0F.Base]["Leading Span A " + B0F.name]=m0F;X0F[k0F + t0F.Base]["Leading Span B " + B0F.name]=f0F;}else {t7J="Lea";t7J+="di";t7J+="ng Span B ";R0F={};R0F["Leading Span A " + B0F.name]=m0F;R0F[t7J + B0F.name]=f0F;r0F.push(R0F);}}Z3i4.s3k0();B0F.appendFutureTicks(V0F,r0F);function e0F(W0F,U0F){var d0F,b0F;d0F=Number.MAX_VALUE;b0F=Number.MAX_VALUE * -1;Z3i4.s3k0();for(var Q0F=U0F - W0F + 1;Q0F <= U0F;Q0F++){if(Q0F < +"0")continue;d0F=Math.min(d0F,X0F[Q0F].Low);b0F=Math.max(b0F,X0F[Q0F].High);}return [d0F,b0F];}};s21.Studies.calculateKlinger=function(y6F,p0F){var X6J,E6J,O6J,p6J,e6J,V7J,T7J,P7J,P6F,g6F,T6F,D6F,c6F,k6F,l6F,v6F,j6F,q0F,A6F;X6J="exp";X6J+="onential";E6J="_E";E6J+="MA-L";O6J="expon";O6J+="entia";Z3i4.s3k0();O6J+="l";p6J="_";p6J+="E";p6J+="MA-";p6J+="L ";e6J="K";e6J+="l";e6J+="inger ";V7J="_";V7J+="h";V7J+="i";V7J+="st";T7J="L";T7J+="o";T7J+="ng Cy";T7J+="cle";P7J="S";P7J+="ho";P7J+="rt ";P7J+="Cycle";P6F=p0F.chart.scrubbed;g6F=Number(p0F.inputs[P7J]);T6F=Number(p0F.inputs[T7J]);if(P6F.length < Math.max(g6F,T6F) + 1){p0F.error=! !"1";return;}D6F=p0F.name + V7J;c6F=e6J + p0F.name;k6F="KlingerSignal " + p0F.name;l6F="_SV " + p0F.name;v6F="_EMA-S " + p0F.name;j6F=p6J + p0F.name;for(q0F=Math.max(1,p0F.startFrom);q0F < P6F.length;q0F++){A6F=P6F[q0F].Volume;if(P6F[q0F]["hlc/3"] < P6F[q0F - ("1" << 128847040)]["hlc/3"]){A6F*=-1;}if(A6F){P6F[q0F][l6F]=A6F;}}s21.Studies.MA("exponential",g6F,l6F,0,"_EMA-S",y6F,p0F);Z3i4.m0R0(17);s21.Studies.MA(O6J,T6F,l6F,Z3i4.O0R0("0",1536655936),E6J,y6F,p0F);for(q0F=Math.max(T6F,p0F.startFrom);q0F < P6F.length;q0F++){if(P6F[q0F].futureTick || P6F[q0F][v6F] === null || P6F[q0F][j6F] === null)break;P6F[q0F][c6F]=P6F[q0F][v6F] - P6F[q0F][j6F];}s21.Studies.MA(X6J,Number(p0F.inputs["Signal Periods"]),c6F,0,"KlingerSignal",y6F,p0F);for(q0F=p0F.startFrom;q0F < P6F.length;q0F++){P6F[q0F][D6F]=P6F[q0F][c6F] - P6F[q0F][k6F];}p0F.outputMap[D6F]="";};s21.Studies.calculateKeltner=function(C6F,I6F){var o6J,J6J;o6J="M";o6J+="A";o6J+=" ";J6J="Mo";J6J+="ving Av";J6J+="erage Type";s21.Studies.MA(I6F.inputs[J6J],I6F.days,"Close",0,"MA",C6F,I6F);s21.Studies.calculateStudyATR(C6F,I6F);s21.Studies.calculateGenericEnvelope(C6F,I6F,I6F.inputs.Shift,o6J + I6F.name,"ATR " + I6F.name);};s21.Studies.calculateMACD=function(J6F,K6F){var O1k0=Z3i4;var K6J,k6J,D6J,F6J,B6F,X6F,o6F,t6F,E6F,Y6F,Z6F,x6F,B6J,f6J,z6J,i6F,R6F,z6F;K6J="Signal MA Typ";K6J+="e";k6J="Clo";k6J+="se";D6J="f";D6J+="ield";F6J="Fast MA Per";F6J+="i";F6J+="od";B6F=K6F.chart.scrubbed;X6F=K6F.inputs;o6F=K6F.name;if(!K6F.macd1Days){K6F.macd1Days=parseFloat(X6F[F6J]);}if(!K6F.macd2Days){K6F.macd2Days=parseFloat(X6F["Slow MA Period"]);}if(!K6F.signalDays){K6F.signalDays=parseFloat(X6F["Signal Period"]);}if(!K6F.days){K6F.days=Math.max(K6F.macd1Days,K6F.macd2Days,K6F.signalDays);}if(B6F.length < K6F.days + 1){K6F.error=! !"1";return;}t6F=K6F.inputs.Field;if(!t6F || t6F == D6J){t6F=k6J;}E6F=X6F["Moving Average Type"];if(!E6F){E6F="exponential";}s21.Studies.MA(E6F,K6F.macd1Days,t6F,0,"_MACD1",J6F,K6F);s21.Studies.MA(E6F,K6F.macd2Days,t6F,0,"_MACD2",J6F,K6F);x6F=Math.max(K6F.startFrom,K6F.days - 1);for(Y6F=x6F;Y6F < B6F.length;Y6F++){B6J="_MACD";B6J+="1 ";f6J="M";f6J+="A";f6J+="C";f6J+="D ";z6J="_MA";z6J+="CD1";z6J+=" ";Z6F=B6F[Y6F];if((Z6F["_MACD1 " + o6F] || Z6F[z6J + o6F] === 0) && (Z6F["_MACD2 " + o6F] || Z6F["_MACD2 " + o6F] === 0)){O1k0.S0R0(1);Z6F[O1k0.O0R0(o6F,f6J)]=Z6F[B6J + o6F] - Z6F["_MACD2 " + o6F];}}i6F=X6F[K6J];if(!i6F){i6F="exponential";}s21.Studies.MA(i6F,K6F.signalDays,"MACD " + o6F,0,"Signal",J6F,K6F);O1k0.S0R0(1);R6F=O1k0.y0R0("_hist",o6F);for(Y6F=x6F;Y6F < B6F.length;Y6F++){Z6F=B6F[Y6F];O1k0.S0R0(1);z6F=Z6F[O1k0.y0R0(o6F,"Signal ")];if(!z6F && z6F !== 0)continue;Z6F[R6F]=Z6F["MACD " + o6F] - Z6F["Signal " + o6F];}K6F.outputMap[R6F]="";};s21.Studies.calculateMAEnvelope=function(f6F,e6F){var Y6J,Q6J,r6F,m6F,h6F,H6J,b6J;Y6J="poi";Y6J+="nts";Q6J="Shi";Q6J+="f";Q6J+="t Type";r6F=e6F.inputs.Field;if(!r6F || r6F == "field"){r6F="Close";}s21.Studies.MA(e6F.inputs["Moving Average Type"],e6F.days,r6F,0,"MA",f6F,e6F);m6F=e6F.inputs[Q6J];h6F=e6F.inputs.Shift;Z3i4.I3k0();if(!m6F){H6J="Shift";H6J+=" Pe";H6J+="rce";H6J+="ntage";m6F="percent";h6F=e6F.inputs[H6J];}if(m6F == "percent"){b6J="M";b6J+="A";b6J+=" ";Z3i4.m0R0(7);s21.Studies.calculateGenericEnvelope(f6F,e6F,Z3i4.y0R0(100,h6F),b6J + e6F.name);}else if(m6F == Y6J){s21.Studies.calculateGenericEnvelope(f6F,e6F,null,"MA " + e6F.name,null,Number(h6F));}};s21.Studies.calculateMassIndex=function(n6F,M6F){var I6J,S6J,a6J,L6F,N6F,h6J;I6J="_t";I6J+="o";I6J+="tal ";S6J="_E";S6J+="M";S6J+="A";S6J+=" ";a6J="_H";a6J+="igh";a6J+="-Low";a6J+=" ";L6F=M6F.chart.scrubbed;if(L6F.length < Math.max(9,M6F.days + 1)){M6F.error=! !1;return;}for(var w6F=M6F.startFrom;w6F < L6F.length;w6F++){L6F[w6F]["_High-Low " + M6F.name]=L6F[w6F].High - L6F[w6F].Low;}Z3i4.S0R0(23);Z3i4.s3k0();s21.Studies.MA("exponential",Z3i4.y0R0(2147483647,"9"),a6J + M6F.name,0,"_EMA",n6F,M6F);s21.Studies.MA("exponential",9,S6J + M6F.name,0,"_EMA2",n6F,M6F);N6F=0;if(L6F[M6F.startFrom - 1] && L6F[M6F.startFrom - 1]["_total " + M6F.name]){N6F=L6F[M6F.startFrom - 1][I6J + M6F.name];}for(var V6F=Math.max(17,M6F.startFrom);V6F < L6F.length;V6F++){h6J="_";h6J+="E";h6J+="MA2 ";N6F+=L6F[V6F]["_EMA " + M6F.name] / L6F[V6F][h6J + M6F.name];if(V6F >= 17 + M6F.days - 1){L6F[V6F]["Result " + M6F.name]=N6F;N6F-=L6F[V6F - M6F.days + 1]["_EMA " + M6F.name] / L6F[V6F - M6F.days + 1]["_EMA2 " + M6F.name];}L6F[V6F]["_total " + M6F.name]=N6F;}};s21.Studies.calculateMaxHighMinLow=function(U6F,G6F){var u1k0=Z3i4;var F6F,b6F,S6F,I9j,h9j,R9j,a6F,O6F,Q6F,j6J,R6J,d6F,N6J,c6J,s6J,r6J,q6J,M6J;u1k0.s3k0();F6F=G6F.chart.scrubbed;b6F=G6F.days;S6F=G6F.days;if(G6F.inputs["High Period"]){b6F=G6F.inputs["High Period"];}if(G6F.inputs["Low Period"]){S6F=G6F.inputs["Low Period"];}if(F6F.length < Math.max(b6F,S6F) + 1){G6F.error=! ![];return;}I9j=-1388369868;h9j=39451332;R9j=2;for(var N9j=1;u1k0.u1y(N9j.toString(),N9j.toString().length,77684) !== I9j;N9j++){a6F=Number.MAX_VALUE;O6F=Number.MAX_VALUE - !6;R9j+=2;}if(u1k0.x1y(R9j.toString(),R9j.toString().length,+"36637") !== h9j){a6F=Number.MAX_VALUE;O6F=Number.MAX_VALUE / -1;}a6F=Number.MAX_VALUE;O6F=Number.MAX_VALUE * -1;if(G6F.startFrom > 1){for(Q6F=1;Q6F < b6F;Q6F++){O6F=Math.max(O6F,F6F[G6F.startFrom - Q6F].High);}for(Q6F=+"1";Q6F < S6F;Q6F++){a6F=Math.min(a6F,F6F[G6F.startFrom - Q6F].Low);}}for(var u6F=Math.max("0" & 2147483647,G6F.startFrom - +"1");u6F < F6F.length;u6F++){j6J="D";j6J+="onchian Width";R6J="L";R6J+="LV";O6F=Math.max(O6F,F6F[u6F].High);a6F=Math.min(a6F,F6F[u6F].Low);if(u6F >= b6F){if(F6F[u6F - b6F].High == O6F){O6F=F6F[u6F].High;for(Q6F=1;Q6F < b6F;Q6F++){O6F=Math.max(O6F,F6F[u6F - Q6F].High);}}}if(u6F >= S6F){if(F6F[u6F - S6F].Low == a6F){a6F=F6F[u6F].Low;for(Q6F=1;Q6F < S6F;Q6F++){a6F=Math.min(a6F,F6F[u6F - Q6F].Low);}}}d6F=0;if(G6F.type == "HHV"){d6F=O6F;}else if(G6F.type == R6J){d6F=a6F;}else if(G6F.type == j6J){u1k0.m0R0(6);d6F=u1k0.O0R0(O6F,a6F);}else if(G6F.type == "GAPO" || G6F.type == "Gopala"){d6F=Math.log(O6F - a6F) / Math.log(S6F);}else if(G6F.type == "VT HZ Filter"){N6J="_MH";N6J+="M";N6J+="L";N6J+=" ";u1k0.S0R0(6);d6F=u1k0.y0R0(O6F,a6F);F6F[u6F][N6J + G6F.name]=d6F;continue;}else if(G6F.type == "Williams %R"){c6J="Res";c6J+="ul";c6J+="t ";d6F=-100 * (O6F - F6F[u6F].Close) / (O6F - a6F);F6F[u6F][c6J + G6F.name]=d6F;continue;}if(u6F == F6F.length - 1)break;if(!F6F[u6F + ("1" - 0)].futureTick){s6J="Donchi";s6J+="an";s6J+=" Ch";s6J+="annel";if(G6F.type == s6J){r6J="Donchi";r6J+="an Median ";q6J="Donchian H";q6J+="igh";q6J+=" ";u1k0.m0R0(1);F6F[u1k0.y0R0(1,u6F)][q6J + G6F.name]=O6F;u1k0.m0R0(1);F6F[u1k0.y0R0(1,u6F)]["Donchian Low " + G6F.name]=a6F;u1k0.S0R0(1);F6F[u1k0.y0R0(1,u6F)][r6J + G6F.name]=u1k0.y0R0(a6F,O6F,2,u1k0.m0R0(3));}else {M6J="R";M6J+="esult ";u1k0.S0R0(1);F6F[u1k0.O0R0(1,u6F)][M6J + G6F.name]=d6F;}}}};s21.Studies.calculateMoneyFlowIndex=function(v7F,s6F){var x1k0=Z3i4;var C6J,w6J,W6F,p6F,q6F,T7F,y7F,c7F,g7F,l7F,L6J,D7F,P7F,A7F;C6J="Resu";C6J+="lt ";w6J="_";w6J+="c";w6J+="umMF ";W6F=s6F.chart.scrubbed;if(W6F.length < s6F.days + 1){s6F.error=! !1;return;}p6F=0;q6F=0;T7F=W6F[s6F.startFrom - +"1"];y7F="_rawMF " + s6F.name;c7F=w6J + s6F.name;g7F=C6J + s6F.name;if(T7F && T7F[c7F]){x1k0.S0R0(0);p6F=T7F[c7F][x1k0.y0R0("0",1)];x1k0.S0R0(23);q6F=T7F[c7F][x1k0.y0R0(2147483647,"1")];}for(var H6F=s6F.startFrom;H6F < W6F.length;H6F++){l7F=W6F[H6F]["hlc/3"];if(H6F > 0 && !W6F[H6F].futureTick){L6J="hlc";L6J+="/";L6J+="3";x1k0.m0R0(6);D7F=W6F[x1k0.O0R0(H6F,1)][L6J];P7F=l7F * W6F[H6F].Volume;if(l7F > D7F){p6F+=P7F;}else if(l7F < D7F){x1k0.m0R0(14);P7F*=-x1k0.O0R0("1",0);q6F-=P7F;}else {P7F=0;}if(H6F > s6F.days){A7F=W6F[H6F - s6F.days][y7F];if(A7F > 0){p6F-=A7F;}else {q6F+=A7F;}if(q6F === 0){W6F[H6F][g7F]=100;}else if(W6F[H6F].Volume){x1k0.S0R0(75);W6F[H6F][g7F]=x1k0.y0R0(q6F,100,100,p6F,1);}}W6F[H6F][y7F]=P7F;W6F[H6F][c7F]=[p6F,q6F];}}};s21.Studies.calculateOnBalanceVolume=function(t7F,I7F){var Q1k0=Z3i4;var y6J,v6J,j7F,C7F,X7F,o7F,Z7F,K7F,Y7F,B7F;y6J="Mi";y6J+="n T";y6J+="ic";y6J+="k Value";v6J="f";v6J+="i";v6J+="el";v6J+="d";j7F=I7F.inputs.Field;if(!j7F || j7F == v6J){j7F="Close";}C7F=I7F.inputs[y6J];X7F=![];if(!C7F && C7F !== 0){X7F=! ![];C7F=+"0";}o7F=I7F.chart.scrubbed;Z7F=0;for(var k7F=I7F.startFrom;k7F < o7F.length;k7F++){K7F=o7F[k7F];if(!k7F || !K7F[j7F])continue;if(o7F[k7F - 1][j7F]){Q1k0.m0R0(6);Y7F=o7F[Q1k0.y0R0(k7F,1)];}if(!Y7F)continue;if(K7F[j7F] - Y7F[j7F] > C7F){Z7F=1;}else if(Y7F[j7F] - K7F[j7F] > C7F){Q1k0.m0R0(0);Z7F=-Q1k0.y0R0("1",1);}else if(X7F){Z7F=0;}B7F=Y7F["Result " + I7F.name];if(!B7F){Q1k0.m0R0(17);B7F=Q1k0.O0R0("0",733743936);}B7F+=K7F.Volume * Z7F;K7F["Result " + I7F.name]=B7F;}};s21.Studies.calculatePrettyGoodOscillator=function(x7F,E7F){var m6J,G6J,n6J,d6J,i7F,g6J,l6J;m6J="_";m6J+="SM";m6J+="A";G6J="Cl";G6J+="o";G6J+="s";G6J+="e";n6J="_";n6J+="EMA";d6J="expo";d6J+="nential";i7F=E7F.chart.scrubbed;if(i7F.length < E7F.days + 1){E7F.error=! ![];return;}s21.Studies.MA(d6J,E7F.days,"trueRange",0,n6J,x7F,E7F);s21.Studies.MA("simple",E7F.days,G6J,"0" | 0,m6J,x7F,E7F);for(var J7F=Math.max(1,E7F.startFrom);J7F < i7F.length;J7F++){g6J="_";g6J+="E";g6J+="MA";g6J+=" ";l6J="Res";l6J+="ul";l6J+="t ";if(!i7F[J7F]["_SMA " + E7F.name] || !i7F[J7F]["_EMA " + E7F.name])continue;i7F[J7F][l6J + E7F.name]=(i7F[J7F].Close - i7F[J7F]["_SMA " + E7F.name]) / i7F[J7F][g6J + E7F.name];}};s21.Studies.calculatePriceOscillator=function(N7F,R7F){var Z1k0=Z3i4;var U6J,Z6J,u6J,x6J,A6J,f7F,w7F,M7F,e7F,r7F,W6J,L7F,i6J,z7F,m7F,h7F,P6J,t6J,T6J;U6J="_L";U6J+="o";U6J+="ng ";U6J+="MA";Z6J="_Sh";Z6J+="ort M";Z6J+="A";u6J="C";u6J+="los";Z1k0.s3k0();u6J+="e";x6J="fie";x6J+="ld";A6J="Shor";A6J+="t";A6J+=" Cycle";f7F=R7F.chart.scrubbed;w7F=Number(R7F.inputs[A6J]);M7F=Number(R7F.inputs["Long Cycle"]);if(f7F.length < Math.max(w7F,M7F) + +"1"){R7F.error=! !"1";return;}e7F=R7F.inputs.Field;r7F=R7F.inputs["Moving Average Type"];if(!r7F){r7F="simple";}if(!e7F || e7F == x6J){e7F=u6J;}if(R7F.parameters.isVolume){W6J="ex";W6J+="ponenti";W6J+="al";e7F="Volume";r7F=W6J;}L7F=R7F.inputs["Points Or Percent"];if(!L7F){L7F="Percent";}s21.Studies.MA(r7F,w7F,e7F,0,Z6J,N7F,R7F);s21.Studies.MA(r7F,M7F,e7F,0,U6J,N7F,R7F);for(var V7F=Math.max(M7F,R7F.startFrom);V7F < f7F.length;V7F++){i6J="_S";i6J+="hor";i6J+="t MA";i6J+=" ";z7F=f7F[V7F];if(!z7F)continue;m7F=z7F[i6J + R7F.name];h7F=z7F["_Long MA " + R7F.name];if((m7F || m7F === 0) && (h7F || h7F === 0)){P6J="R";P6J+="e";P6J+="sult ";t6J="Po";t6J+="in";t6J+="t";t6J+="s";if(L7F == t6J){Z1k0.S0R0(6);z7F["Result " + R7F.name]=Z1k0.O0R0(m7F,h7F);}else {Z1k0.S0R0(80);z7F[P6J + R7F.name]=Z1k0.y0R0(h7F,100,"1",m7F);}if(R7F.outputs["Increasing Bar"]){T6J="_his";T6J+="t";z7F[R7F.name + T6J]=z7F["Result " + R7F.name];R7F.outputMap={};R7F.outputMap[R7F.name + "_hist"]="";}}}};s21.Studies.calculatePriceVolumeTrend=function(a7F,u7F){var F7F,n7F,O7F,V6J;F7F=u7F.inputs.Field;if(!F7F || F7F == "field"){F7F="Close";}n7F=u7F.chart.scrubbed;O7F=0;if(u7F.startFrom > 1){O7F=n7F[u7F.startFrom - 1]["Result " + u7F.name];}for(var G7F=Math.max(1,u7F.startFrom);G7F < n7F.length;G7F++){V6J="Resu";V6J+="lt";V6J+=" ";if(!n7F[G7F][F7F])continue;if(!n7F[G7F - 1][F7F])continue;O7F+=n7F[G7F].Volume * (n7F[G7F][F7F] - n7F[G7F - 1][F7F]) / n7F[G7F - 1][F7F];n7F[G7F][V6J + u7F.name]=O7F;}};s21.Studies.calculatePrimeNumber=function(l5F,b7F){var H1k0=Z3i4;var U7F,q7F,S7F,d7F,Q7F,p93,e93,H7F,T5F,c5F;U7F=[];q7F=b7F.chart.scrubbed;for(var s7F=b7F.startFrom;s7F < q7F.length;s7F++){S7F=q7F[s7F];if(!S7F)continue;d7F=S7F.High;if(!isNaN(d7F)){for(var p7F=0;d7F > 0 && d7F <= 10;p7F++){d7F*=10;}if(W7F(d7F)){d7F+=2;}d7F=Math.ceil(d7F);if(d7F % +"2" === 0){d7F++;}while(!W7F(d7F)){d7F+=2;}d7F/=Math.pow(10,p7F);}Q7F=S7F.Low;if(!isNaN(Q7F)){for(var P5F=0;Q7F > 0 && Q7F <= 10;P5F++){H1k0.m0R0(14);Q7F*=H1k0.O0R0("10",0);}if(W7F(Q7F)){Q7F-=+"2";}Q7F=Math.floor(Q7F);if(Q7F % 2 === +"0"){Q7F--;}if(Q7F > 0){while(!W7F(Q7F)){Q7F-=2;}H1k0.m0R0(14);Q7F/=Math.pow(H1k0.y0R0("10",0),P5F);}}if(b7F.type == "Prime Number Bands"){if(!isNaN(d7F)){S7F["Prime Bands Top " + b7F.name]=d7F;}if(!isNaN(Q7F)){H1k0.m0R0(10);S7F["Prime Bands Bottom " + b7F.name]=Math.max(H1k0.O0R0("0",0),Q7F);}}else {p93="R";p93+="esul";p93+="t ";e93="T";e93+="olerance P";e93+="erc";e93+="entage";H7F=+"0";T5F=b7F.inputs[e93] * (d7F - Q7F) / 100;c5F=d7F + Q7F - 2 * S7F.Close;if(c5F < T5F){H7F=1;}else if(c5F > T5F){H7F=-1;}if(H7F){S7F[p93 + b7F.name]=H7F;}}}function W7F(A5F){var g5F;if(A5F <= 0){return ![];}else if(A5F != Math.floor(A5F)){return !{};}else if(U7F[A5F] === !"" || U7F[A5F] === ! !""){return U7F[A5F];}g5F=parseInt(Math.sqrt(A5F),10);for(var y5F=2;y5F <= g5F;y5F++){if(A5F % y5F === 0){U7F[A5F]=![];return !"1";}}U7F[A5F]=! !{};return ! !"1";}};s21.Studies.calculatePSAR=function(i5F,I5F){var c1k0=Z3i4;var D5F,C5F,j5F,K5F,k5F,Y5F,B5F,O93,o5F,Z5F,X5F,t5F;D5F=I5F.chart.scrubbed;C5F=0;j5F=null;K5F=! !"";k5F=+"0";Y5F=parseFloat(I5F.inputs["Minimum AF"]);B5F=parseFloat(I5F.inputs["Maximum AF"]);if(I5F.startFrom > 0){O93="Resul";O93+="t ";k5F=D5F[I5F.startFrom - +"1"][O93 + I5F.name];o5F=D5F[I5F.startFrom - 1]["_state " + I5F.name];if(o5F && o5F.length == 3){C5F=o5F[+"0"];j5F=o5F[1];K5F=o5F[2];}}for(var v5F=I5F.startFrom - 1;v5F < D5F.length - 1;v5F++){if(v5F < +"0")continue;if(D5F[v5F].futureTick)break;Z5F=k5F;if(K5F){if(!j5F || j5F < D5F[v5F].High){j5F=D5F[v5F].High;c1k0.S0R0(1);C5F=Math.min(c1k0.y0R0(Y5F,C5F),B5F);}c1k0.S0R0(83);k5F=c1k0.y0R0(j5F,C5F,Z5F,Z5F);X5F=Math.min(D5F[Math.max(1,v5F) - 1].Low,D5F[v5F].Low);if(k5F > D5F[v5F + +"1"].Low){k5F=j5F;E5F();}else if(k5F > X5F){k5F=X5F;}}else {if(!j5F || j5F > D5F[v5F].Low){j5F=D5F[v5F].Low;c1k0.m0R0(1);C5F=Math.min(c1k0.O0R0(Y5F,C5F),B5F);}c1k0.S0R0(83);k5F=c1k0.y0R0(j5F,C5F,Z5F,Z5F);t5F=Math.max(D5F[Math.max(1,v5F) - 1].High,D5F[v5F].High);if(k5F < D5F[v5F + 1].High){k5F=j5F;E5F();}else if(k5F < t5F){k5F=t5F;}}c1k0.m0R0(1);D5F[c1k0.O0R0(1,v5F)]["_state " + I5F.name]=[C5F,j5F,K5F];if(!isNaN(D5F[v5F].High) || !isNaN(D5F[v5F].Low)){c1k0.S0R0(84);D5F[c1k0.O0R0(2147483647,"1",v5F)]["Result " + I5F.name]=k5F;}}c1k0.s3k0();function E5F(){C5F=0;j5F=null;K5F=!K5F;}};s21.Studies.calculateQStick=function(z5F,J5F){var J93,x5F,E93;J93="R";J93+="esu";J93+="l";J93+="t";x5F=J5F.chart.scrubbed;if(x5F.length < J5F.days + 1){J5F.error=! ![];return;}for(var R5F=J5F.startFrom;R5F < x5F.length;R5F++){E93="_Cl";E93+="ose-Ope";E93+="n ";x5F[R5F][E93 + J5F.name]=x5F[R5F].Close - x5F[R5F].Open;}s21.Studies.MA(J5F.inputs["Moving Average Type"],J5F.days,"_Close-Open " + J5F.name,0,J93,z5F,J5F);};s21.Studies.calculateRandomWalk=function(F5F,h5F){var r5F,V5F,w5F,N5F,f5F,M5F,L5F,n5F,G5F,F93;r5F=h5F.chart.scrubbed;if(r5F.length < h5F.days + ("1" - 0)){h5F.error=!0;return;}for(var e5F=Math.max(2,h5F.startFrom);e5F < r5F.length;e5F++){V5F=0;w5F=r5F[e5F].High;N5F=r5F[e5F].Low;f5F=0;M5F=0;for(var m5F=1;m5F <= h5F.days;m5F++){if(r5F[e5F].futureTick)break;if(e5F <= m5F){f5F=M5F=0;break;}V5F+=r5F[e5F - m5F].trueRange;L5F=V5F / m5F * Math.sqrt(m5F);if(L5F){n5F=(w5F - r5F[e5F - m5F].Low) / L5F;G5F=(r5F[e5F - m5F].High - N5F) / L5F;f5F=Math.max(f5F,n5F);M5F=Math.max(M5F,G5F);}}if(!r5F[e5F].futureTick && (!isNaN(w5F) || !isNaN(N5F))){F93="Rando";F93+="m Walk Low ";r5F[e5F]["Random Walk High " + h5F.name]=f5F;r5F[e5F][F93 + h5F.name]=M5F;}}};s21.Studies.calculateSchaff=function(A9F,u5F){var z93,Q5F,S5F,c9F,b5F,U5F,l9F,H5F,W5F,a93,H93,Q93,d5F,s5F,q5F,p5F,a5F,b93,T9F,h93,S93;z93="Moving Average ";z93+="Type";Q5F=u5F.chart.scrubbed;S5F=u5F.days;c9F=Number(u5F.inputs["Short Cycle"]);b5F=Number(u5F.inputs["Long Cycle"]);if(Q5F.length < Math.max(S5F,c9F,b5F) + +"1"){u5F.error=! ![];return;}U5F=u5F.inputs.Field;Z3i4.s3k0();if(!U5F || U5F == "field"){U5F="Close";}l9F=+"0.5";s21.Studies.MA(u5F.inputs[z93],c9F,U5F,0,"_MACD1",A9F,u5F);s21.Studies.MA(u5F.inputs["Moving Average Type"],b5F,U5F,0,"_MACD2",A9F,u5F);H5F=0;W5F=0;for(var O5F=u5F.startFrom;O5F < Q5F.length;O5F++){a93="_";a93+="P";a93+="F";H93="_";H93+="MA";H93+="C";H93+="D";Q93="_";Q93+="MACD ";d5F=Q5F[O5F];if(O5F < b5F - ("1" & 2147483647))continue;s5F=d5F["_MACD1 " + u5F.name];q5F=d5F["_MACD2 " + u5F.name];if(s5F || s5F === 0 || q5F || q5F === 0){Z3i4.S0R0(6);d5F["_MACD " + u5F.name]=Z3i4.y0R0(s5F,q5F);}p5F=d5F[Q93 + u5F.name];if(O5F < b5F + (S5F - 1))continue;a5F=y9F(S5F,O5F,H93);H5F=a5F["1" >> 1849996480] > a5F[+"0"]?100 * (p5F - a5F[+"0"]) / (a5F[1] - a5F[0]):H5F;if(p5F || p5F === 0){b93="_";b93+="P";b93+="F ";d5F[b93 + u5F.name]=Q5F[O5F - 1]["_PF " + u5F.name]?Q5F[O5F - 1]["_PF " + u5F.name] + l9F * (H5F - Q5F[O5F - 1]["_PF " + u5F.name]):H5F;}T9F=d5F["_PF " + u5F.name];if(O5F < b5F + 2 * (S5F - 1))continue;a5F=y9F(S5F,O5F,a93);W5F=a5F[1] > a5F[0]?100 * (T9F - a5F[+"0"]) / (a5F[+"1"] - a5F[0]):W5F;if(T9F || T9F === 0){h93="Result";h93+=" ";S93="R";S93+="esult ";d5F[S93 + u5F.name]=Q5F[O5F - +"1"]["Result " + u5F.name]?Q5F[O5F - 1]["Result " + u5F.name] + l9F * (W5F - Q5F[O5F - 1][h93 + u5F.name]):W5F;}}function y9F(B9F,Z9F,X9F){var I9F,C9F,j9F;I9F=null;C9F=null;for(var K9F=Z9F - B9F + 1;K9F <= Z9F;K9F++){j9F=Q5F[K9F][X9F + ((5458,1060) === 44.14?2.71e+3:" ") + u5F.name];if(!j9F)continue;I9F=I9F === null?j9F:Math.min(I9F,j9F);C9F=C9F === null?j9F:Math.max(C9F,j9F);}return [I9F,C9F];}};s21.Studies.calculateStochastics=function(L9F,t9F){var l93,m93,G93,n93,d93,M93,r93,q93,s93,e9F,i9F,R9F,u2j,W2j,Z2j,h9F,M9F,N9F;l93="%";l93+="K";l93+=" ";m93="%";m93+="K";G93="si";G93+="m";G93+="p";G93+="le";n93="S";n93+="low";d93="F";d93+="a";d93+="s";d93+="t";M93="%D Peri";M93+="ods";r93="%K";r93+=" Smoothing";r93+=" Periods";q93="C";q93+="lose";s93="fi";s93+="e";Z3i4.I3k0();s93+="l";s93+="d";if(!t9F.smooth){t9F.smooth=t9F.inputs.Smooth;}e9F=t9F.inputs.Field;if(!e9F || e9F == s93){e9F=q93;}i9F=t9F.inputs["%K Periods"];if(!i9F){i9F=t9F.days;}R9F=t9F.chart.scrubbed;if(R9F.length < Math.max(i9F,t9F.days) + 1){u2j=-184844507;W2j=1150987974;Z2j=2;for(var i2j=1;Z3i4.x1y(i2j.toString(),i2j.toString().length,+"60093") !== u2j;i2j++){t9F.error=!{};Z2j+=2;}if(Z3i4.u1y(Z2j.toString(),Z2j.toString().length,40952) !== W2j){t9F.error=! !1;}return;}h9F=t9F.inputs[r93];function w9F(d9F,u9F,H9F){var S9F,F9F,G9F,y93,L93,a9F,Q9F,U9F;Z3i4.S0R0(8);S9F=Z3i4.y0R0(1,H9F,d9F);F9F=Number.MAX_VALUE * -1;G9F=Number.MAX_VALUE;for(var O9F=S9F;O9F <= d9F;O9F++){y93="C";y93+="l";y93+="os";y93+="e";L93="C";L93+="lose";a9F=R9F[O9F][u9F == L93?"Low":u9F];Q9F=R9F[O9F][u9F == y93?"High":u9F];if(!a9F && a9F !== 0)continue;if(!Q9F && Q9F !== 0)continue;G9F=Math.min(G9F,a9F);F9F=Math.max(F9F,Q9F);}if(F9F == Number.MAX_VALUE * -1 || G9F == Number.MAX_VALUE){return null;}U9F=F9F == G9F?0:(R9F[d9F][u9F] - G9F) / (F9F - G9F) * 100;return U9F;}if(h9F){t9F.smooth=! ![];}else if(t9F.smooth){h9F=3;}M9F=t9F.inputs[M93];if(!M9F){M9F=3;}t9F.outputMap={};t9F.outputMap["%K " + t9F.name]=d93;t9F.outputMap["%D " + t9F.name]=n93;for(var r9F=Math.max(i9F,t9F.startFrom);r9F < R9F.length;r9F++){N9F=w9F(r9F,e9F,i9F);if(N9F !== null){R9F[r9F][t9F.name]=w9F(r9F,e9F,i9F);}}s21.Studies.MA(G93,t9F.smooth?h9F:1,t9F.name,0,m93,L9F,t9F);s21.Studies.MA("simple",M9F,l93 + t9F.name,0,"%D",L9F,t9F);};s21.Studies.calculateStochMomentum=function(p9F,W9F){var c5V4,N5V4,V93,U93,W93,u93,x93,P3q,c3q,l3q,y3q,s9F,q9F,A3q,T3q;c5V4="%D Moving ";c5V4+="Average Type";N5V4="_D";N5V4+="HL1 ";V93="_";V93+="H";V93+="S";V93+="1 ";U93="expone";U93+="nt";U93+="ial";W93="_";W93+="H";W93+="S1";u93="%K Doub";u93+="le Smoo";u93+="thing Pe";u93+="riods";x93="%K Smoo";x93+="thing Periods";P3q=Number(W9F.inputs["%K Periods"]);c3q=Number(W9F.inputs[x93]);function g3q(I3q,k3q){var v3q,j3q;v3q=null;j3q=null;for(var D3q=k3q - I3q + 1;D3q <= k3q;D3q++){v3q=v3q === null?s9F[D3q].Low:Math.min(v3q,s9F[D3q].Low);j3q=j3q === null?s9F[D3q].High:Math.max(j3q,s9F[D3q].High);}return [v3q,j3q];}l3q=Number(W9F.inputs[u93]);y3q=Number(W9F.inputs["%D Periods"]);s9F=W9F.chart.scrubbed;if(s9F.length < P3q + c3q + l3q - 1 || s9F.length < y3q){W9F.error=!"";return;}for(q9F=Math.max(P3q,W9F.startFrom) - 1;q9F < s9F.length;q9F++){A3q=s9F[q9F];T3q=g3q(P3q,q9F);A3q["_H " + W9F.name]=A3q.Close - (T3q[0] + T3q[1]) / 2;A3q["_DHL " + W9F.name]=T3q[1] - T3q[0];}s21.Studies.MA("exponential",c3q,"_H " + W9F.name,0,W93,p9F,W9F);s21.Studies.MA(U93,l3q,V93 + W9F.name,0,"_HS2",p9F,W9F);s21.Studies.MA("exponential",c3q,"_DHL " + W9F.name,0,"_DHL1",p9F,W9F);s21.Studies.MA("exponential",l3q,N5V4 + W9F.name,0,"_DHL2",p9F,W9F);for(q9F=P3q - 1;q9F < s9F.length;q9F++){s9F[q9F]["%K " + W9F.name]=s9F[q9F]["_HS2 " + W9F.name] / (0.5 * s9F[q9F]["_DHL2 " + W9F.name]) * 100;}s21.Studies.MA(W9F.inputs[c5V4],y3q,"%K " + W9F.name,0,"%D",p9F,W9F);W9F.zoneOutput="%K";};s21.Studies.calculateSwingIndex=function(z3q,o3q){var N1k0=Z3i4;var s5V4,Z3q,C3q,Y3q,q5V4,X3q,t3q,x3q,R3q,i3q,E3q,B3q,J3q;s5V4="L";s5V4+="i";s5V4+="mit Mov";s5V4+="e Value";Z3q=o3q.inputs[s5V4];if(Z3q === null || isNaN(Z3q)){Z3q=99999;}N1k0.I3k0();C3q=o3q.chart.scrubbed;Y3q=0;if(o3q.startFrom > 1){Y3q=C3q[o3q.startFrom - 1]["Result " + o3q.name];}for(var K3q=Math.max(1,o3q.startFrom);K3q < C3q.length;K3q++){q5V4="Re";q5V4+="sul";q5V4+="t";q5V4+=" ";X3q=Math.abs(C3q[K3q].High - C3q[K3q - 1].Close);t3q=Math.abs(C3q[K3q].Low - C3q[K3q - 1].Close);x3q=Math.abs(C3q[K3q].High - C3q[K3q].Low);R3q=Math.abs(C3q[K3q - 1].Close - C3q[K3q - 1].Open);i3q=Math.max(X3q,t3q);E3q=Math.max(x3q,i3q);N1k0.m0R0(12);B3q=N1k0.y0R0(E3q,0.25,R3q);if(E3q == X3q){N1k0.m0R0(0);B3q-=N1k0.y0R0(0.5,t3q);}else if(E3q == t3q){N1k0.S0R0(0);B3q-=N1k0.y0R0(0.5,X3q);}J3q=50 * (C3q[K3q].Close - C3q[K3q - 1].Close + +"0.5" * (C3q[K3q].Close - C3q[K3q].Open) + 0.25 * (C3q[K3q - 1].Close - C3q[K3q - 1].Open)) / B3q * (i3q / Z3q);if(B3q === 0 || Z3q === 0){J3q=0;}if(o3q.type == "Swing"){Y3q=0;}Y3q+=J3q;C3q[K3q][q5V4 + o3q.name]=Y3q;}};s21.Studies.calculateTRIX=function(N3q,e3q){var k1k0=Z3i4;var r3q,h3q,M3q,M5V4,r5V4,V3q,w3q,L3q;r3q=e3q.chart.scrubbed;if(r3q.length < e3q.days + 1){e3q.error=!"";return;}h3q=e3q.name;k1k0.S0R0(1);M3q=["Close",k1k0.O0R0(h3q,"_MA1 "),k1k0.O0R0(h3q,"_MA2 "),k1k0.y0R0(h3q,"_MA3 ")];for(var f3q=0;f3q < M3q.length - 1;f3q++){M5V4="_M";M5V4+="A";r5V4="expo";r5V4+="nential";s21.Studies.MA(r5V4,e3q.days,M3q[f3q],0,M5V4 + (f3q + 1).toString(),N3q,e3q);}V3q=M3q[+"3"];for(var m3q=Math.max("1" << 1401796896,e3q.startFrom);m3q < r3q.length;m3q++){k1k0.m0R0(85);w3q=r3q[k1k0.y0R0(m3q,"1",2147483647)][V3q];if(!w3q)continue;L3q=r3q[m3q][V3q];if(L3q || L3q === 0){k1k0.S0R0(1);r3q[m3q][k1k0.O0R0(h3q,"Result ")]=k1k0.y0R0(w3q,100,"1",L3q,k1k0.m0R0(80));}}};s21.Studies.calculateTwiggsMoneyFlow=function(S3q,n3q){var B1k0=Z3i4;var F3q,O3q,u3q,a3q,L5V4,C5V4,w5V4,v5V4,Q3q,d3q;F3q=n3q.chart.scrubbed;if(F3q.length < n3q.days){n3q.error=!"";return;}B1k0.s3k0();O3q=0;B1k0.S0R0(0);u3q=B1k0.y0R0("0",1);a3q=F3q[n3q.startFrom - 1];if(a3q){L5V4="_s";L5V4+="u";L5V4+="mV";L5V4+=" ";C5V4="_su";C5V4+="m";C5V4+="V";C5V4+=" ";w5V4="_sum";w5V4+="M";w5V4+="F ";if(a3q[w5V4 + n3q.name]){O3q=a3q["_sumMF " + n3q.name];}if(a3q[C5V4 + n3q.name]){u3q=a3q[L5V4 + n3q.name];}}for(var G3q=Math.max(1,n3q.startFrom);G3q < F3q.length;G3q++){v5V4="_";v5V4+="sum";v5V4+="V";v5V4+=" ";Q3q=Math.max(F3q[G3q - +"1"].Close,F3q[G3q].High);d3q=Math.min(F3q[G3q - 1].Close,F3q[G3q].Low);F3q[G3q]["_MFV " + n3q.name]=F3q[G3q].Volume * (+"2" * F3q[G3q].Close - Q3q - d3q) / (Q3q - d3q === 0?999999:Q3q - d3q);if(G3q > n3q.days - 1){O3q*=(n3q.days - "1" * 1) / n3q.days;u3q*=(n3q.days - 1) / n3q.days;}O3q+=F3q[G3q]["_MFV " + n3q.name];u3q+=F3q[G3q].Volume;if(G3q > n3q.days - 1){if(u3q){B1k0.m0R0(7);F3q[G3q]["Result " + n3q.name]=B1k0.y0R0(u3q > 0?u3q:999999,O3q);}}F3q[G3q]["_sumMF " + n3q.name]=O3q;F3q[G3q][v5V4 + n3q.name]=u3q;}};s21.Studies.calculateUltimateOscillator=function(C1q,U3q){var A1k0=Z3i4;var y5V4,b3q,W3q,P1q,T1q,c1q,l1q,q3q,p3q,A1q,g1q,D1q,y1q,v1q,j1q,k1q,I1q;y5V4="C";y5V4+="yc";y5V4+="le 2";b3q=U3q.chart.scrubbed;W3q=[U3q.inputs["Cycle 1"],U3q.inputs[y5V4],U3q.inputs["Cycle 3"]];P1q=Math.max(W3q[0],W3q[1],W3q[2]);if(b3q.length < P1q + 1){U3q.error=! ![];return;}T1q=W3q[0] * W3q[1];c1q=W3q[0] * W3q[2];l1q=W3q[1] * W3q[2];q3q=[+"0",0,0];A1k0.m0R0(0);p3q=[A1k0.O0R0("0",1),0,0];if(U3q.startFrom){if(b3q[U3q.startFrom - 1]["_accbp " + U3q.name]){q3q=b3q[U3q.startFrom - 1]["_accbp " + U3q.name].slice();}if(b3q[U3q.startFrom - 1]["_acctr " + U3q.name]){p3q=b3q[U3q.startFrom - 1]["_acctr " + U3q.name].slice();}}for(var H3q=Math.max(1,U3q.startFrom);H3q < b3q.length;H3q++){A1q=Math.min(b3q[H3q].Low,b3q[H3q - 1].Close);g1q=b3q[H3q].Close - A1q;D1q=Math.max(b3q[H3q].High,b3q[H3q - 1].Close) - A1q;for(var s3q=0;s3q < W3q.length;s3q++){q3q[s3q]+=g1q;p3q[s3q]+=D1q;if(H3q > W3q[s3q]){y1q=Math.min(b3q[H3q - W3q[s3q]].Low,b3q[H3q - W3q[s3q] - 1].Close);v1q=b3q[H3q - W3q[s3q]].Close - y1q;j1q=Math.max(b3q[H3q - W3q[s3q]].High,b3q[H3q - W3q[s3q] - 1].Close) - y1q;q3q[s3q]-=v1q;p3q[s3q]-=j1q;}}b3q[H3q]["_accbp " + U3q.name]=q3q.slice();b3q[H3q]["_acctr " + U3q.name]=p3q.slice();if(H3q < P1q)continue;k1q=l1q * q3q[0] / p3q[0] + c1q * q3q[1] / p3q[1] + T1q * q3q[2] / p3q[2];A1k0.m0R0(48);I1q=A1k0.O0R0(c1q,l1q,T1q);A1k0.S0R0(26);b3q[H3q]["Result " + U3q.name]=A1k0.y0R0(I1q,100,k1q);}};s21.Studies.calculateVerticalHorizontalFilter=function(t1q,K1q){var o1q,Y1q,B1q,X1q;o1q=K1q.chart.scrubbed;if(o1q.length < K1q.days + 1){K1q.error=! !{};return;}K1q.mhml=new s21.Studies.StudyDescriptor(K1q.name,K1q.type,K1q.panel);K1q.mhml.chart=K1q.chart;K1q.mhml.days=K1q.days;K1q.mhml.startFrom=K1q.startFrom;K1q.mhml.inputs={};K1q.mhml.outputs={_MHML:null};s21.Studies.calculateMaxHighMinLow(t1q,K1q.mhml);Y1q=0;B1q=[];for(var Z1q=Math.max(1,K1q.startFrom - K1q.days);Z1q < o1q.length;Z1q++){X1q=Math.abs(o1q[Z1q].Close - o1q[Z1q - 1].Close);B1q.push(X1q);Y1q+=X1q;if(B1q.length == K1q.days){o1q[Z1q]["Result " + K1q.name]=o1q[Z1q]["_MHML " + K1q.name] / Y1q;Y1q-=B1q.shift();}}};s21.Studies.calculateVolumeIndex=function(h1q,E1q){var Y3k0=Z3i4;var n5V4,d5V4,z1q,i1q,e1q,G5V4,x1q,r1q,R1q,m1q;n5V4="Ind";n5V4+="e";n5V4+="x";n5V4+=" ";d5V4="fi";d5V4+="e";d5V4+="l";d5V4+="d";z1q=E1q.inputs.Field;if(!z1q || z1q == d5V4){z1q="Close";}i1q=E1q.chart.scrubbed;if(i1q.length < E1q.days + 1){E1q.error=!"";return;}Y3k0.s3k0();e1q=100;if(E1q.startFrom > "1" - 0){e1q=i1q[E1q.startFrom - 1][n5V4 + E1q.name];}for(var J1q=Math.max(1,E1q.startFrom);J1q < i1q.length;J1q++){G5V4="ob";G5V4+="je";G5V4+="c";G5V4+="t";x1q=i1q[J1q][z1q];r1q=i1q[J1q].Volume;if(x1q && typeof x1q == "object"){r1q=x1q.Volume;x1q=x1q[E1q.subField];}Y3k0.m0R0(6);R1q=i1q[Y3k0.y0R0(J1q,1)][z1q];m1q=i1q[J1q - +"1"].Volume;if(R1q && typeof R1q == G5V4){m1q=R1q.Volume;R1q=R1q[E1q.subField];}if(!x1q)continue;if(!R1q)continue;if(E1q.type == "Pos Vol" && r1q > m1q || E1q.type == "Neg Vol" && r1q < m1q){Y3k0.m0R0(7);e1q*=Y3k0.O0R0(R1q,x1q);}i1q[J1q]["Index " + E1q.name]=e1q;}s21.Studies.MA(E1q.inputs["Moving Average Type"],E1q.days,"Index " + E1q.name,0,"MA",h1q,E1q);};s21.Studies.validateProjectedVolumeLookback=function(V1q,w1q){var {interval:f1q, periodicity:M1q}=V1q.layout;var {"Lookback Days":L1q}=w1q.inputs;Z3i4.m0R0(86);Z3i4.s3k0();return Z3i4.O0R0(f1q,M1q,10,L1q);};s21.Studies.calculateProjectedVolume=function(G1q,N1q){var a3k0=Z3i4;var Z5V4,W5V4,g5V4,l5V4,m5V4,e2q,d1q,W1y,Z1y,U1y,L5j,v5j,y5j,A2q,s2q,m2q,K2q,o2q,F1q,Z2q,q2q,W1q,h2q,Y2q,f2q,B2q,S1q,X2q,p2q,a1q,P8q,y2q,U1q,g2q,u1q,s1q,L2q,V2q,w2q,N2q,E2q,i2q,j2q,y8q,n2q,A5V4,q1q,p1q,k2q,g8q,x5V4,J2q,O1q,G2q,F2q,I2q,D8q,u2q,u5V4;Z5V4="Av";Z5V4+="e";function d2q(r8q){a3k0.s3k0();var i5V4;i5V4="scr";i5V4+="ub";i5V4+="be";i5V4+="d";return G1q.dateFromTick(r8q,null,!"",i5V4);}Z5V4+="rage L";Z5V4+="ine";W5V4="P";W5V4+="V";W5V4+=" ";g5V4="he";g5V4+="i";g5V4+="kina";g5V4+="shi";l5V4="ti";l5V4+="ck";function Q2q(z8q){var U5V4;a3k0.s3k0();U5V4="scru";U5V4+="bbed";return G1q.tickFromDate(z8q,null,null,! !1,U5V4);}m5V4="P";m5V4+="A";m5V4+="V";var {interval:S2q, timeUnit:x2q, aggregationType:R2q}=G1q.layout;var {symbol:z2q, scroll:b2q, scrubbed:n1q, market:P2q}=G1q.chart;e2q=N1q.type === m5V4;var {"Lookback Days":l2q, "Anchor Time":U2q}=N1q.inputs;var [H2q,W2q,r2q = 0]=U2q.split(":");d1q=N1q.study?N1q.study.name:N1q.type;if(s21.ChartEngine.isDailyInterval(S2q)){N1q.error=`${d1q} is Intraday Only`;}else if(x2q === l5V4){W1y=-946128533;Z1y=1277551130;a3k0.m0R0(14);U1y=a3k0.O0R0("2",0);for(var t1y=1;a3k0.u1y(t1y.toString(),t1y.toString().length,26384) !== W1y;t1y++){N1q.error=`Tick mode not supported for ${d1q}`;U1y+=2;}if(a3k0.u1y(U1y.toString(),U1y.toString().length,76921) !== Z1y){N1q.error=`Tick mode not supported for ${d1q}`;}N1q.error=`Tick mode not supported for ${d1q}`;}else if(x2q !== "minute"){N1q.error=`Sub-minute periodicities not supported for ${d1q}`;}else if(!R2q || !["ohlc",g5V4].includes(R2q)){L5j=-906026166;v5j=-1057547127;y5j=2;for(var n5j=1;a3k0.u1y(n5j.toString(),n5j.toString().length,15747) !== L5j;n5j++){N1q.error=`Aggregation type not supported for ${d1q}`;y5j+=2;}if(a3k0.u1y(y5j.toString(),y5j.toString().length,+"85802") !== v5j){N1q.error=`Aggregation type not supported for ${d1q}`;}}else if(!s21.Studies.validateProjectedVolumeLookback(G1q,N1q)){N1q.error=`Selected lookback/periodicity combo not supported for ${d1q}`;}if(N1q.error){return;}A2q=s21.Market.Symbology.isForexSymbol(z2q);s2q=s21.Market.Symbology.isForexMetal(z2q);m2q=N1q.getDependents(G1q);K2q=0;function O2q(Y8q){console.error(`Expected data for ${d2q(Y8q).toDateString()} but found none. This may be caused by gaps in your data or an improperly configured market definition.`);}o2q=[];function C2q(V8q,N8q){var M8q,L8q,f8q;M8q=d2q(V8q);L8q=P2q.getOpen(M8q) || v8q(M8q);a3k0.I3k0();f8q=Q2q(L8q);if(!N8q){return f8q;}if(f8q < 0){f8q=Q2q(a2q(L8q,1,! ![]));}if(f8q >= n1q.length){return ! !0;}return f8q;}m2q.forEach(({inputs:k8q, outputMap:I8q})=>{if(k8q.Period){K2q=Math.max(parseInt(k8q.Period),K2q);o2q.push(...Object.keys(I8q));}});N1q.dependentsOutputMap=o2q;function c2q(X8q){a3k0.I3k0();return {hours:X8q.getHours(),minutes:X8q.getMinutes()};}Z2q=C2q(n1q.length - 1,! !1);q2q=Math.ceil(n1q.length - 1 - b2q);a3k0.S0R0(6);W1q=C2q(a3k0.O0R0(q2q,K2q));if(!A2q && N1q.startFrom > W1q && n1q[W1q] && n1q[W1q]["V " + N1q.name] !== undefined && o2q.every(K8q=>{a3k0.I3k0();return ![undefined,null].includes(n1q[W1q][K8q]);}) && Z2q !== ![]){F1q=Z2q;;}else {F1q=W1q;}h2q=a2q(d2q(W1q),l2q);Y2q=C2q(0,!0);f2q=(Y2q || Y2q === 0) && Q2q(a2q(n1q[Y2q].DT,l2q,! !{}));if(n1q[0].DT > h2q){if(G1q.quoteDriver){G1q.quoteDriver.extendHistoricalData({from:h2q});if(f2q > "0" * 1){F1q=f2q;}else {return;}}else {return N1q.error=`Not enough data to calculate ${d1q}`;}}if(F1q < 0 || F1q > n1q.length - +"1"){return;}B2q=n1q.length - N1q.startFrom === 1 && N1q.cachedFutureTicks && N1q.cachedLastProjection && +N1q.cachedLastProjection.DT === +n1q[n1q.length - +"1"].DT && n1q[F1q]["PV " + N1q.name];function v8q(m8q){var h8q;m8q.setHours(0);m8q.setMinutes(0);h8q=s21.Studies.getMarketOffset(G1q,m8q,A2q);return new Date(m8q.getTime() + h8q);}if(B2q){n1q[n1q.length - 1]["PV " + N1q.name]=N1q.cachedLastProjection.projectedValue;N1q.appendFutureTicks(G1q,N1q.cachedFutureTicks);F1q=N1q.startFrom;}else {N1q.cachedFutureTicks=null;N1q.cachedLastProjection=null;S1q=[Z2q];X2q=[];for(var M2q=0;M2q < l2q;M2q++){p2q=C2q(S1q[+"0"] - 1);S1q.unshift(p2q);;}while(S1q[l2q] >= F1q){a1q=S1q.pop();if(!n1q[a1q]){return O2q(a1q);}P8q=c2q(n1q[a1q].DT);var {hours:b1q, minutes:T2q}=P8q;y2q=P2q.getClose(n1q[a1q].DT);U1q=void 0;if(!y2q){U1q={hours:"24" | 8,minutes:0};}else {g2q=P2q.getNextClose(n1q[a1q].DT);while(y2q.getDate() === g2q.getDate()){y2q=g2q;g2q=P2q.getNextClose(g2q);}U1q=c2q(y2q);if(U1q.hours === 0){U1q.hours=24;}}u1q=S1q.slice();for(var D2q=0;D2q < u1q.length;D2q++){s1q=u1q[D2q];if(!n1q[s1q]){return O2q(s1q);}var {hours:v2q, minutes:t2q}=c2q(n1q[s1q].DT);if(v2q < b1q || v2q === b1q && t2q < T2q){do {s1q++;({hours:v2q, minutes:t2q}=c2q(n1q[s1q].DT));}while(!(v2q === b1q && t2q === T2q));}u1q[D2q]=s1q;}while(b1q < U1q.hours || b1q === U1q.hours && T2q < U1q.minutes){L2q=!{};V2q=void 0;w2q=void 0;N2q=+"0";E2q=0;for(var H1q=0;H1q < u1q.length;H1q++){i2q=u1q[H1q];if(i2q === null)continue;j2q=n1q[i2q];if(!j2q){return O2q(i2q);}var {hours:l8q, minutes:A8q}=c2q(j2q.DT);y8q=j2q.DT.getDate();if(l8q === b1q && A8q === T2q){N2q+=j2q.Volume;E2q++;u1q[H1q]++;if(n1q[u1q[H1q]].DT.getDate() !== y8q){u1q[H1q]=null;}else if(!L2q){({hours:V2q, minutes:w2q}=c2q(n1q[u1q[H1q]].DT));L2q=! !"1";;}}}b1q=V2q;T2q=w2q;if(E2q === 0)break;a3k0.S0R0(7);n2q=a3k0.y0R0(E2q,N2q);if(n1q[a1q]){n1q[a1q]["PV " + N1q.name]=n2q;}else {A5V4="P";A5V4+="V ";X2q.push({[A5V4 + N1q.name]:n2q});}a1q++;}S1q.unshift(C2q(S1q[0] - 1));;}N1q.cachedLastProjection={DT:n1q[n1q.length - 1].DT,projectedValue:n1q[n1q.length - 1]["PV " + N1q.name]};N1q.cachedFutureTicks=X2q;N1q.appendFutureTicks(G1q,X2q);}q1q=null;function a2q(t8q,E8q,R8q){a3k0.I3k0();while(E8q){t8q=new Date(new Date(t8q).setDate(t8q.getDate() + (R8q?1:-1)));if(P2q.isMarketDate(t8q)){E8q--;}}return t8q;}p1q=0;k2q=0;if(B2q && e2q){while(F1q > 0){x5V4="V";x5V4+=" ";a3k0.m0R0(6);J2q=n1q[a3k0.O0R0(F1q,1)][x5V4 + N1q.name];if(J2q || J2q === ("0" & 2147483647)){p1q=J2q;break;}F1q--;}}for(var Q1q=F1q;Q1q < n1q.length;Q1q++){O1q=n1q[Q1q];G2q=O1q.Volume;F2q=O1q["PV " + N1q.name];if(!O1q.futureTick){g8q=Q1q;}if(q1q === null){q1q=s21.Studies.getMarketOffset(G1q,n1q[Q1q].DT,A2q);if(A2q){a3k0.m0R0(87);q1q+=a3k0.y0R0(1000,"60",0,s2q?6:7,"60",1);}}I2q=new Date(O1q.DT.getTime() + q1q);if(n1q[Q1q - +"1"] && n1q[Q1q - 1].DT){D8q=new Date(n1q[Q1q - 1].DT.getTime() + q1q);if(D8q.getDate() !== I2q.getDate() && G1q.chart.market.isMarketDate(I2q)){q1q=null;a3k0.S0R0(14);p1q=a3k0.O0R0("0",0);k2q=+"0";}}u2q=new Date(I2q);u2q.setHours(H2q,W2q,r2q);if(I2q < u2q){u5V4="PV";u5V4+=" ";O1q["V " + N1q.name]=0;O1q[u5V4 + N1q.name]=0;continue;}if(e2q){p1q+=G2q;k2q+=F2q;}else {p1q=G2q;k2q=F2q;}O1q["V " + N1q.name]=p1q;if(!B2q){O1q["PV " + N1q.name]=k2q;}if([NaN,null,undefined].includes(p1q) && !O1q.futureTick){N1q.error=`${d1q} requires volume`;return;}}N1q.cachedLastProjection.projectedValue=n1q[g8q][W5V4 + N1q.name];N1q.outputMap={};N1q.outputMap["V " + N1q.name]="";N1q.outputMap["PV " + N1q.name]=Z5V4;m2q.forEach(Z8q=>{a3k0.s3k0();Z8q.startFrom=F1q;Z8q.study.calculateFN(G1q,Z8q);});};s21.Studies.displayIchimoku=function(F8q,G8q,s8q){var u8q,Q8q,U8q,H8q,W8q,S8q,b8q;u8q="Leading Span A " + G8q.name;Q8q="Leading Span B " + G8q.name;U8q=s21.Studies.determineColor(G8q.outputs[G8q.outputMap[u8q]]);H8q=s21.Studies.determineColor(G8q.outputs[G8q.outputMap[Q8q]]);W8q=F8q.panels[G8q.panel];S8q=G8q.getYAxis(F8q);b8q={topBand:u8q,bottomBand:Q8q,topColor:U8q,bottomColor:H8q,skipTransform:W8q.name != G8q.chart.name,topAxis:S8q,bottomAxis:S8q,opacity:"0.3" - 0};if(!G8q.highlight && F8q.highlightedDraggable){b8q.opacity*=+"0.3";}s21.fillIntersecting(F8q,G8q.panel,b8q);s21.Studies.displaySeriesAsLine(F8q,G8q,s8q);};s21.Studies.displayDarvas=function(p8q,c4q,A4q){var t3k0=Z3i4;var t5V4,Y4q,v4q,C4q,l4q,q8q,P4q,T4q,J4q,j4q,y4q,V5V4,T5V4,P5V4,E4q,x4q,e4q,R4q,g4q,D4q,k4q,B4q,I4q,Z4q,K4q,t4q,o4q,X4q,r4q,i4q,O9V4,p9V4,m4q,e9V4,E9V4,r2j,M2j,w2j,z4q,a2j,S2j,I2j;t5V4="au";t5V4+="t";t5V4+="o";Y4q=s21.Studies.determineColor(c4q.outputs.Levels);if(!Y4q || Y4q == "auto" || s21.isTransparent(Y4q)){Y4q=p8q.defaultColor;}v4q=s21.Studies.determineColor(c4q.outputs.Darvas);if(!v4q || v4q == t5V4 || s21.isTransparent(v4q)){v4q=p8q.defaultColor;}C4q=s21.Studies.determineColor(c4q.outputs.Ghost);if(!C4q || C4q == "auto" || s21.isTransparent(C4q)){C4q=p8q.defaultColor;}l4q=p8q.panels[c4q.panel];q8q=c4q.getContext(p8q);y4q=p8q.layout.candleWidth - 2;if(y4q < 2){y4q=1;}p8q.startClip(c4q.panel);if(c4q.inputs["Stop Levels"]){if(q8q.setLineDash){t3k0.S0R0(17);q8q.setLineDash([2,t3k0.y0R0("2",876405920)]);}q8q.lineWidth=+"2";q8q.strokeStyle=Y4q;q8q.beginPath();for(P4q=0;P4q < A4q.length;P4q++){V5V4="Lo";V5V4+="s";V5V4+="s ";T5V4="Lo";T5V4+="ss";T5V4+=" ";P5V4="Loss";P5V4+=" ";T4q=A4q[P4q];t3k0.m0R0(6);E4q=A4q[t3k0.O0R0(P4q,1)];if(!T4q)continue;j4q=T4q[P5V4 + c4q.name]?Math.floor(p8q.pixelFromPrice(T4q[T5V4 + c4q.name],l4q)):null;x4q=E4q && E4q["Loss " + c4q.name]?Math.floor(p8q.pixelFromPrice(E4q[V5V4 + c4q.name],l4q)):null;if(j4q){if(T4q.candleWidth){y4q=Math.floor(Math.max(+"1",T4q.candleWidth));}e4q=Math.floor(p8q.pixelFromBar(P4q,l4q.chart) + y4q / 2);R4q=Math.floor(p8q.pixelFromBar(P4q,l4q.chart) - y4q / 2);if(x4q && x4q >= j4q){q8q.lineTo(R4q,j4q);}else if(P4q === 0){q8q.moveTo(p8q.chart.left,j4q);}else {q8q.moveTo(R4q,j4q);}q8q.lineTo(e4q,j4q);}}q8q.stroke();if(q8q.setLineDash){q8q.setLineDash([]);}q8q.lineWidth=1;}t3k0.S0R0(2);g4q=-t3k0.y0R0(494940512,"10");k4q=0;I4q=-10;K4q=0;o4q=![];X4q=![];r4q=q8q.measureText(2188 <= 5537?"\u25B2":!0).width / 2;i4q=+"0";for(P4q=0;P4q < A4q.length;P4q++){O9V4="Gh";O9V4+="ost B";O9V4+="oxe";O9V4+="s";p9V4="Gh";p9V4+="o";p9V4+="st";p9V4+=" ";if(!A4q[P4q])continue;if(A4q[P4q].Close || A4q[P4q].Close === "0" >> 208578880){i4q=P4q;}if(A4q[P4q]["Spike " + c4q.name]){q8q.fillStyle=v4q;q8q.textBaseline="bottom";m4q=p8q.pixelFromPrice(A4q[P4q].High,p8q.chart.panel);q8q.fillText("\u25BC",p8q.pixelFromBar(P4q) - r4q,m4q - 5);;}if(A4q[P4q].candleWidth){y4q=Math.floor(Math.max(1,A4q[P4q].candleWidth));}if(A4q[P4q]["Darvas " + c4q.name]){e9V4="D";e9V4+="arvas ";T4q=A4q[P4q][e9V4 + c4q.name];if(T4q.State == 1 && !o4q){g4q=Math.floor(p8q.pixelFromBar(P4q,l4q.chart) - y4q / 2);D4q=Math.floor(p8q.pixelFromPrice(T4q.High,l4q));B4q=Math.floor(p8q.pixelFromPrice(T4q.Low,l4q)) - D4q;o4q=! !{};}else if(T4q.State === 0){k4q=Math.floor(p8q.pixelFromBar(P4q,l4q.chart) + y4q / 2) - g4q;D4q=Math.floor(p8q.pixelFromPrice(T4q.High,l4q));B4q=Math.floor(p8q.pixelFromPrice(T4q.Low,l4q)) - D4q;q8q.strokeStyle=v4q;q8q.fillStyle=v4q;if(!c4q.inputs["Stop Levels"]){q8q.strokeRect(g4q,D4q,k4q,B4q);q8q.globalAlpha=0.2;}else {q8q.globalAlpha=0.3;}q8q.fillRect(g4q,D4q,k4q,B4q);q8q.globalAlpha=1;o4q=! !0;}}if(A4q[P4q][p9V4 + c4q.name] && c4q.inputs[O9V4]){T4q=A4q[P4q]["Ghost " + c4q.name];if(T4q.State == +"1" && !X4q){I4q=Math.floor(p8q.pixelFromBar(P4q,l4q.chart) - y4q / 2);Z4q=Math.floor(p8q.pixelFromPrice(T4q.High,l4q));K4q=Math.floor((T4q.End - T4q.Start + 1) * p8q.layout.candleWidth + y4q / 2);t4q=Math.floor(p8q.pixelFromPrice(T4q.Low,l4q)) - Z4q;X4q=! ![];}else if(T4q.State === 0){E9V4="Stop";E9V4+=" ";E9V4+="Level";E9V4+="s";if(T4q.Start == T4q.End){I4q=Math.floor(p8q.pixelFromBar(P4q,l4q.chart) - y4q / 2);}K4q=Math.floor(p8q.pixelFromBar(P4q,l4q.chart) + y4q / 2) - I4q;Z4q=Math.floor(p8q.pixelFromPrice(T4q.High,l4q));t4q=Math.floor(p8q.pixelFromPrice(T4q.Low,l4q)) - Z4q;q8q.strokeStyle=C4q;q8q.fillStyle=C4q;if(!c4q.inputs[E9V4]){q8q.strokeRect(I4q,Z4q,K4q,t4q);t3k0.m0R0(0);q8q.globalAlpha=t3k0.O0R0("0.2",1);}else {t3k0.S0R0(0);q8q.globalAlpha=t3k0.O0R0("0.3",1);}q8q.fillRect(I4q,Z4q,K4q,t4q);q8q.globalAlpha=1;X4q=!1;}}}if(o4q){k4q=Math.floor(p8q.pixelFromBar(i4q,l4q.chart) + y4q / 2) - g4q;q8q.strokeStyle=v4q;q8q.fillStyle=v4q;if(!c4q.inputs["Stop Levels"]){q8q.beginPath();t3k0.S0R0(12);q8q.moveTo(t3k0.y0R0(g4q,2,k4q),D4q);q8q.lineTo(g4q,D4q);t3k0.S0R0(1);q8q.lineTo(g4q,t3k0.y0R0(B4q,D4q));t3k0.S0R0(12);q8q.lineTo(t3k0.O0R0(g4q,2,k4q),t3k0.O0R0(B4q,D4q,t3k0.m0R0(1)));q8q.stroke();q8q.globalAlpha=0.2;}else {r2j=-1822636790;t3k0.m0R0(10);M2j=t3k0.O0R0("113463264",113444864);t3k0.S0R0(10);w2j=t3k0.y0R0("2",2);for(var L2j=1;t3k0.u1y(L2j.toString(),L2j.toString().length,5413) !== r2j;L2j++){q8q.globalAlpha=0.3;w2j+=2;}if(t3k0.x1y(w2j.toString(),w2j.toString().length,"71138" | 66688) !== M2j){q8q.globalAlpha=654;}}t3k0.m0R0(0);q8q.fillRect(g4q,D4q,t3k0.y0R0(2,k4q),B4q);q8q.globalAlpha=1;}if(X4q){q8q.strokeStyle=C4q;q8q.fillStyle=C4q;if(!c4q.inputs["Stop Levels"]){q8q.strokeRect(I4q,Z4q,K4q,t4q);q8q.globalAlpha=0.2;}else {q8q.globalAlpha=0.3;}q8q.fillRect(I4q,Z4q,K4q,t4q);q8q.globalAlpha=1;}if(o4q || X4q){if(c4q.inputs["Stop Levels"]){if(q8q.setLineDash){q8q.setLineDash([2,2]);}q8q.lineWidth=2;q8q.strokeStyle=Y4q;z4q=Math.floor(p8q.pixelFromBar(i4q - 1,l4q.chart) + y4q / 2);if(J4q){q8q.beginPath();q8q.moveTo(z4q,J4q);q8q.lineTo(o4q?g4q + 2 * k4q:I4q + K4q,J4q);q8q.stroke();}if(j4q){q8q.beginPath();q8q.moveTo(z4q,j4q);q8q.lineTo(o4q?g4q + 2 * k4q:I4q + K4q,j4q);q8q.stroke();}if(q8q.setLineDash){q8q.setLineDash([]);}a2j=611864293;S2j=- +"1982751816";I2j=2;for(var R2j=1;t3k0.u1y(R2j.toString(),R2j.toString().length,93911) !== a2j;R2j++){t3k0.S0R0(6);q8q.lineWidth=t3k0.y0R0("1",0);I2j+=2;}if(t3k0.x1y(I2j.toString(),I2j.toString().length,"25817" | 16513) !== S2j){q8q.lineWidth=2;}}o4q=! !"";X4q=! !0;}p8q.endClip();};s21.Studies.displaySupertrend=function(f4q,h4q,V4q){var w4q,M4q,N4q,b4q,O4q,n4q,G4q,L4q,X9V4,J9V4,Q4q,d4q;w4q=f4q.panels[h4q.panel];M4q=h4q.getContext(f4q);N4q=h4q.getYAxis(f4q);b4q={skipTransform:w4q.name != h4q.chart.name,skipProjections:! !"1",label:f4q.preferences.labels,yAxis:N4q,highlight:h4q.highlight};Z3i4.s3k0();M4q.strokeStyle=S4q(f4q,V4q[V4q.length - 1]);M4q.lineWidth=+"2";if(h4q.highlight){M4q.lineWidth=1.5;}O4q="Trend " + h4q.name;function S4q(H4q,U4q,W4q){if(U4q && U4q["_Direction " + h4q.name] < +"0"){return h4q.outputs.Downtrend;}return h4q.outputs.Uptrend;}for(var a4q=0;w4q.chart.transformFunc && N4q != w4q.chart.yAxis && a4q < V4q.length;a4q++){n4q=V4q[a4q];if(n4q && n4q.transform){n4q.transform[O4q]=w4q.chart.transformFunc(f4q,w4q.chart,n4q[O4q]);}}f4q.plotDataSegmentAsLine(O4q,w4q,b4q,S4q);M4q.lineWidth=1;M4q.globalAlpha=1;f4q.startClip(h4q.panel);if(!h4q.highlight && f4q.highlightedDraggable){M4q.globalAlpha*=0.3;}G4q=M4q.measureText(808 === +"336.91"?(684.63,557.24) <= (4570,448.99)?(0x63,14.55):! ![]:"\u25B2").width / ("2" - 0);for(L4q=0;L4q < V4q.length;L4q++){X9V4="_D";X9V4+="ir";X9V4+="ec";X9V4+="tion ";if(!V4q[L4q] || !V4q[L4q - 1])continue;if(V4q[L4q - 1][X9V4 + h4q.name] > V4q[L4q]["_Direction " + h4q.name]){J9V4="bo";J9V4+="tt";J9V4+="o";J9V4+="m";M4q.fillStyle=h4q.outputs.Downtrend;M4q.textBaseline=J9V4;Q4q=f4q.pixelFromPrice(V4q[L4q].High,w4q,N4q);for(var F4q=5;F4q <= "45" - 0;F4q+=10){if(N4q.flipped){M4q.fillText("\u25B2",f4q.pixelFromBar(L4q) - G4q,Q4q + F4q);}else {M4q.fillText("\u25BC",f4q.pixelFromBar(L4q) - G4q,Q4q - F4q);}}}else if(V4q[L4q - 1]["_Direction " + h4q.name] < V4q[L4q]["_Direction " + h4q.name]){M4q.fillStyle=h4q.outputs.Uptrend;M4q.textBaseline="top";d4q=f4q.pixelFromPrice(V4q[L4q].Low,w4q,N4q);for(var u4q="5" >> 1811168448;u4q <= 45;u4q+=10){if(N4q.flipped){M4q.fillText((+"416.36",4695) == 647?5.16e+3:"\u25BC",f4q.pixelFromBar(L4q) - G4q,d4q - u4q);}else {M4q.fillText("\u25B2",f4q.pixelFromBar(L4q) - G4q,d4q + u4q);}}}}f4q.endClip();};s21.Studies.displayMFI=function(q4q,s4q,y0q){var g0q,T0q,A0q,D0q,l0q,v0q,j0q,k0q,I0q,F9V4,o9V4,p4q,P0q;g0q=q4q.panels[s4q.panel];T0q=s4q.getContext(q4q);A0q=s4q.getYAxis(q4q);D0q=A0q.flipped?A0q.top:A0q.bottom;l0q=q4q.layout.candleWidth - 2;if(l0q < 2){l0q=1;}v0q=s21.Studies.determineColor(s4q.outputs.Green);j0q=s21.Studies.determineColor(s4q.outputs.Fade);k0q=s21.Studies.determineColor(s4q.outputs.Fake);Z3i4.s3k0();I0q=s21.Studies.determineColor(s4q.outputs.Squat);q4q.canvasColor("stx_histogram");if(!s4q.underlay){T0q.globalAlpha=+"1";}T0q.fillStyle="#CCCCCC";q4q.startClip(s4q.panel);if(!s4q.highlight && q4q.highlightedDraggable){T0q.globalAlpha*=+"0.3";}for(var c0q=0;c0q < y0q.length;c0q++){F9V4="_h";F9V4+="i";F9V4+="s";F9V4+="t";o9V4="_h";o9V4+="i";o9V4+="s";o9V4+="t";p4q=y0q[c0q];Z3i4.m0R0(6);P0q=y0q[Z3i4.y0R0(c0q,1)];if(!P0q){P0q=q4q.getPreviousBar(q4q.chart,s4q.name + "_hist",c0q);}if(!p4q)continue;if(!P0q);else if(P0q[s4q.name + "_hist"] < p4q[s4q.name + o9V4]){if(P0q.Volume < p4q.Volume){T0q.fillStyle=v0q;}else if(P0q.Volume > p4q.Volume){T0q.fillStyle=k0q;}}else if(P0q[s4q.name + "_hist"] > p4q[s4q.name + F9V4]){if(P0q.Volume < p4q.Volume){T0q.fillStyle=I0q;}else if(P0q.Volume > p4q.Volume){T0q.fillStyle=j0q;}}if(p4q.candleWidth){l0q=Math.floor(Math.max(1,p4q.candleWidth - 2));}T0q.fillRect(Math.floor(q4q.pixelFromBar(c0q,g0q.chart) - l0q / ("2" - 0)),Math.floor(D0q),Math.floor(l0q),Math.floor(q4q.pixelFromPrice(p4q[s4q.name + "_hist"],g0q,A0q) - D0q));}q4q.endClip();};s21.Studies.displayAwesomeOscillator=function(K0q,C0q,E0q){var r3k0=Z3i4;var k9V4,D9V4,t0q,o0q,i0q,J0q,B0q,x0q,R0q,B9V4,f9V4,z9V4,Y0q,X0q;k9V4="stx";k9V4+="_his";k9V4+="togram";D9V4="In";D9V4+="cr";D9V4+="easing";D9V4+=" Bar";t0q=K0q.panels[C0q.panel];o0q=C0q.getContext(K0q);i0q=C0q.getYAxis(K0q);J0q=K0q.pixelFromPrice(0,t0q,i0q);B0q=K0q.layout.candleWidth - 2;if(B0q < 2){B0q=+"1";}x0q=s21.Studies.determineColor(C0q.outputs[D9V4]);R0q=s21.Studies.determineColor(C0q.outputs["Decreasing Bar"]);K0q.canvasColor(k9V4);if(!C0q.underlay){r3k0.S0R0(23);o0q.globalAlpha=r3k0.y0R0(2147483647,"1");}o0q.fillStyle="#CCCCCC";K0q.startClip(C0q.panel);if(!C0q.highlight && K0q.highlightedDraggable){r3k0.S0R0(6);o0q.globalAlpha*=r3k0.y0R0("0.3",0);}for(var Z0q=0;Z0q < E0q.length;Z0q++){B9V4="_h";B9V4+="i";B9V4+="s";B9V4+="t";f9V4="_";f9V4+="h";f9V4+="i";f9V4+="st";z9V4="_";z9V4+="hi";z9V4+="st";Y0q=E0q[Z0q];r3k0.S0R0(6);X0q=E0q[r3k0.y0R0(Z0q,1)];if(!X0q){X0q=K0q.getPreviousBar(K0q.chart,C0q.name + z9V4,Z0q);}if(!Y0q)continue;if(!X0q);else if(X0q[C0q.name + "_hist"] < Y0q[C0q.name + "_hist"]){o0q.fillStyle=x0q;}else if(X0q[C0q.name + f9V4] > Y0q[C0q.name + B9V4]){o0q.fillStyle=R0q;}if(Y0q.candleWidth){B0q=Math.floor(Math.max("1" >> 519458944,Y0q.candleWidth - 2));}o0q.fillRect(Math.floor(K0q.pixelFromBar(Z0q,t0q.chart) - B0q / 2),Math.floor(J0q),Math.floor(B0q),Math.floor(K0q.pixelFromPrice(Y0q[C0q.name + "_hist"],t0q,i0q) - J0q));}K0q.endClip();};s21.Studies.displayGator=function(e0q,z0q,w0q){var K9V4,V0q,m0q,N0q,n0q,M0q,G0q,F0q,f0q,L0q,Y9V4,b9V4,H9V4,Q9V4;K9V4="Decreasin";K9V4+="g B";K9V4+="ar";V0q=e0q.panels[z0q.panel];m0q=z0q.getContext(e0q);N0q=z0q.getYAxis(e0q);n0q=e0q.pixelFromPrice(0,V0q,N0q);M0q=e0q.layout.candleWidth - 2;Z3i4.I3k0();if(M0q < 2){M0q=1;}G0q=s21.Studies.determineColor(z0q.outputs["Increasing Bar"]);F0q=s21.Studies.determineColor(z0q.outputs[K9V4]);e0q.canvasColor("stx_histogram");if(!z0q.underlay){m0q.globalAlpha=+"1";}m0q.fillStyle="#CCCCCC";e0q.startClip(z0q.panel);if(!z0q.highlight && e0q.highlightedDraggable){m0q.globalAlpha*=0.3;}for(var h0q=0;h0q < w0q.length;h0q++){f0q=w0q[h0q];Z3i4.m0R0(6);L0q=w0q[Z3i4.O0R0(h0q,1)];if(!f0q)continue;for(var r0q=1;r0q <= 2;r0q++){Y9V4="_";Y9V4+="his";Y9V4+="t";b9V4="_";b9V4+="hi";b9V4+="s";b9V4+="t";H9V4="_h";H9V4+="ist";Q9V4="_";Q9V4+="h";Q9V4+="ist";if(!L0q){L0q=e0q.getPreviousBar(e0q.chart,z0q.name + "_hist" + r0q,h0q);}if(!L0q){m0q.fillStyle="#CCCCCC";}else if(Math.abs(L0q[z0q.name + Q9V4 + r0q]) < Math.abs(f0q[z0q.name + H9V4 + r0q])){m0q.fillStyle=G0q;}else if(Math.abs(L0q[z0q.name + "_hist" + r0q]) > Math.abs(f0q[z0q.name + b9V4 + r0q])){m0q.fillStyle=F0q;}if(f0q.candleWidth){M0q=Math.floor(Math.max(1,f0q.candleWidth - 2));}m0q.fillRect(Math.floor(e0q.pixelFromBar(h0q,V0q.chart) - M0q / 2),Math.floor(n0q),Math.floor(M0q),Math.floor(e0q.pixelFromPrice(f0q[z0q.name + Y9V4 + r0q],V0q,N0q) - n0q));}}e0q.endClip();};s21.Studies.initElderImpulse=function(O0q,Q0q,d0q,S0q,a0q,b0q){var u0q;u0q=s21.Studies.initializeFN(O0q,Q0q,d0q,S0q,a0q,b0q);if(a0q.calculateOnly){return u0q;}O0q.chart.customChart={chartType:"colored_bar",colorFunction:function(W0q,H0q,s0q){var a9V4,U0q;Z3i4.I3k0();a9V4="ob";a9V4+="jec";a9V4+="t";U0q=H0q["Result " + u0q.name];if(U0q && typeof U0q == a9V4){U0q=U0q.color;}return U0q;}};O0q.setMainSeriesRenderer();return u0q;};s21.Studies.displayPivotPoints=function(p0q,q0q,c6q){var K2j,Q2j,H2j,R9V4,h9V4,I9V4,S9V4,T6q,P6q;q0q.noSlopes=!q0q.inputs.Continuous;Z3i4.I3k0();K2j=914541192;Q2j=45454574;H2j=2;for(var Y2j=1;Z3i4.x1y(Y2j.toString(),Y2j.toString().length,69473) !== K2j;Y2j++){s21.Studies.displaySeriesAsLine(p0q,q0q,c6q);H2j+=2;}if(Z3i4.x1y(H2j.toString(),H2j.toString().length,20017) !== Q2j){s21.Studies.displaySeriesAsLine(p0q,q0q,c6q);}if(q0q.inputs.Shading){R9V4="Sup";R9V4+="por";R9V4+="t 2 ";h9V4="P";h9V4+="ivot";h9V4+=" ";I9V4="Resist";I9V4+="ance 1 ";S9V4="R";S9V4+="esis";S9V4+="tance";S9V4+=" 2 ";T6q=p0q.panels[q0q.panel];P6q={noSlopes:q0q.noSlopes,opacity:q0q.parameters.opacity?q0q.parameters.opacity:0.2,skipTransform:T6q.name != q0q.chart.name,yAxis:q0q.getYAxis(p0q)};if(!q0q.highlight && p0q.highlightedDraggable){P6q.opacity*=0.3;}s21.prepareChannelFill(p0q,s21.extend({panelName:q0q.panel,topBand:"Resistance 3 " + q0q.name,bottomBand:S9V4 + q0q.name,color:s21.Studies.determineColor(q0q.outputs["Resistance 3"])},P6q));s21.prepareChannelFill(p0q,s21.extend({panelName:q0q.panel,topBand:"Resistance 2 " + q0q.name,bottomBand:I9V4 + q0q.name,color:s21.Studies.determineColor(q0q.outputs["Resistance 2"])},P6q));s21.prepareChannelFill(p0q,s21.extend({panelName:q0q.panel,topBand:"Resistance 1 " + q0q.name,bottomBand:"Pivot " + q0q.name,color:s21.Studies.determineColor(q0q.outputs["Resistance 1"])},P6q));s21.prepareChannelFill(p0q,s21.extend({panelName:q0q.panel,topBand:"Support 1 " + q0q.name,bottomBand:h9V4 + q0q.name,color:s21.Studies.determineColor(q0q.outputs["Support 1"])},P6q));s21.prepareChannelFill(p0q,s21.extend({panelName:q0q.panel,topBand:R9V4 + q0q.name,bottomBand:"Support 1 " + q0q.name,color:s21.Studies.determineColor(q0q.outputs["Support 2"])},P6q));s21.prepareChannelFill(p0q,s21.extend({panelName:q0q.panel,topBand:"Support 3 " + q0q.name,bottomBand:"Support 2 " + q0q.name,color:s21.Studies.determineColor(q0q.outputs["Support 3"])},P6q));}};s21.Studies.displayVWAP=function(A6q,l6q,C6q){var v6q,j6q,k6q,j9V4,I6q,y6q,g6q,D6q,s9V4,c9V4,N9V4,r9V4,q9V4;s21.Studies.displaySeriesAsLine(A6q,l6q,C6q);v6q=l6q.inputs["Display 1 Standard Deviation (1\u03C3)"];j6q=l6q.inputs["Display 2 Standard Deviation (2\u03C3)"];k6q=l6q.inputs["Display 3 Standard Deviation (3\u03C3)"];if((v6q || j6q || k6q) && l6q.inputs.Shading){j9V4="VWAP";j9V4+=" ";I6q=A6q.panels[l6q.panel];y6q={opacity:l6q.parameters.opacity?l6q.parameters.opacity:0.2,skipTransform:I6q.name != l6q.chart.name,yAxis:l6q.getYAxis(A6q)};if(!l6q.highlight && A6q.highlightedDraggable){y6q.opacity*=0.3;}g6q=j9V4 + l6q.name;D6q="VWAP " + l6q.name;if(v6q){s9V4="SDVWAP1";s9V4+="+ ";c9V4="SDV";c9V4+="WA";c9V4+="P1+ ";N9V4="S";N9V4+="DVWAP1+ ";s21.prepareChannelFill(A6q,s21.extend({panelName:l6q.panel,topBand:N9V4 + l6q.name,bottomBand:g6q,color:s21.Studies.determineColor(l6q.outputs[l6q.outputMap[c9V4 + l6q.name]])},y6q));s21.prepareChannelFill(A6q,s21.extend({panelName:l6q.panel,topBand:"SDVWAP1- " + l6q.name,bottomBand:D6q,color:s21.Studies.determineColor(l6q.outputs[l6q.outputMap["SDVWAP1- " + l6q.name]])},y6q));g6q=s9V4 + l6q.name;D6q="SDVWAP1- " + l6q.name;}if(j6q){r9V4="SDVW";r9V4+="AP2- ";q9V4="S";q9V4+="DVWAP2+ ";s21.prepareChannelFill(A6q,s21.extend({panelName:l6q.panel,topBand:"SDVWAP2+ " + l6q.name,bottomBand:g6q,color:s21.Studies.determineColor(l6q.outputs[l6q.outputMap[q9V4 + l6q.name]])},y6q));s21.prepareChannelFill(A6q,s21.extend({panelName:l6q.panel,topBand:r9V4 + l6q.name,bottomBand:D6q,color:s21.Studies.determineColor(l6q.outputs[l6q.outputMap["SDVWAP2- " + l6q.name]])},y6q));g6q="SDVWAP2+ " + l6q.name;D6q="SDVWAP2- " + l6q.name;}if(k6q){s21.prepareChannelFill(A6q,s21.extend({panelName:l6q.panel,topBand:"SDVWAP3+ " + l6q.name,bottomBand:g6q,color:s21.Studies.determineColor(l6q.outputs[l6q.outputMap["SDVWAP3+ " + l6q.name]])},y6q));s21.prepareChannelFill(A6q,s21.extend({panelName:l6q.panel,topBand:"SDVWAP3- " + l6q.name,bottomBand:D6q,color:s21.Studies.determineColor(l6q.outputs[l6q.outputMap["SDVWAP3- " + l6q.name]])},y6q));}}};s21.Studies.displayADX=function(o6q,K6q,t6q){var E6q,M9V4,Z6q,Y6q,i6q,J6q,B6q,X6q;E6q=K6q.underlay?"0.3" - 0:K6q.inputs.Series?0.4:1;if(K6q.inputs.Series && K6q.inputs.Shading){M9V4="+";M9V4+="D";M9V4+="I";M9V4+=" ";Z6q=M9V4 + K6q.name;Y6q="-DI " + K6q.name;i6q=s21.Studies.determineColor(K6q.outputs[K6q.outputMap[Z6q]]);J6q=s21.Studies.determineColor(K6q.outputs[K6q.outputMap[Y6q]]);B6q=K6q.getYAxis(o6q);X6q={topBand:Z6q,bottomBand:Y6q,topColor:i6q,bottomColor:J6q,skipTransform:o6q.panels[K6q.panel].name != K6q.chart.name,topAxis:B6q,bottomAxis:B6q,opacity:0.3};if(!K6q.highlight && o6q.highlightedDraggable){X6q.opacity*=0.3;}s21.fillIntersecting(o6q,K6q.panel,X6q);}if(K6q.inputs.Histogram){s21.Studies.createHistogram(o6q,K6q,t6q,!{},E6q);}if(K6q.inputs.Series !== !{}){s21.Studies.displaySeriesAsLine(o6q,K6q,t6q);}else if(!K6q.inputs.Series && !K6q.inputs.Histogram){o6q.displayErrorAsWatermark(K6q.panel,o6q.translateIf(K6q.name) + ": " + o6q.translateIf("Nothing to display"));}};s21.Studies.displayAlligator=function(x6q,e6q,r6q){var y9V4,v9V4,R6q,G9V4,n9V4,d9V4;y9V4="Sho";y9V4+="w Fractals";v9V4="Show L";v9V4+="ines";R6q=e6q.getContext(x6q);function m6q(M6q,L6q){var w9V4,f6q,h6q,C9V4,L9V4;w9V4="h";w9V4+="igh";h6q=x6q.chart.panel.yAxis.flipped;if(M6q == w9V4){C9V4="t";C9V4+="op";R6q.fillStyle=x6q.defaultColor;R6q.textBaseline=h6q?C9V4:"bottom";f6q=x6q.pixelFromPrice(r6q[L6q].High);R6q.fillText(h6q?"\u25BC":"\u25B2",x6q.pixelFromBar(z6q,x6q.chart) - R6q.measureText("\u25B2").width / +"2" + 1,h6q?f6q + +"5":f6q - 5);;}else if(M6q == "low"){L9V4="t";L9V4+="op";R6q.fillStyle=x6q.defaultColor;R6q.textBaseline=h6q?"bottom":L9V4;f6q=x6q.pixelFromPrice(r6q[L6q].Low);R6q.fillText(h6q?"\u25B2":("1749" & 2147483647,522.15) >= (7830,1532)?(2.20e+3,8.45e+2):598.22 != ("1318" ^ 0)?"\u25BC":4730 !== 662.77?("0x124c" << 1216550240,1.86e+3):"Z",x6q.pixelFromBar(z6q,x6q.chart) - R6q.measureText(1660 < 7915?"\u25BC":9930 > 797?494.97:! !"1").width / 2 + 1,h6q?f6q - 5:f6q + 5);;}}if(e6q.inputs[v9V4]){s21.Studies.displaySeriesAsLine(x6q,e6q,r6q);}if(e6q.inputs[y9V4]){x6q.startClip();R6q.globalAlpha=e6q.underlay?0.3:1;if(!e6q.highlight && x6q.highlightedDraggable){R6q.globalAlpha*=0.3;}for(var z6q=2;z6q < r6q.length - 2;z6q++){if(r6q[z6q]){G9V4="l";G9V4+="o";G9V4+="w";n9V4="Fr";n9V4+="a";n9V4+="cta";n9V4+="l Low ";d9V4="h";d9V4+="i";d9V4+="gh";if(r6q[z6q]["Fractal High " + e6q.name]){m6q(d9V4,z6q);}if(r6q[z6q][n9V4 + e6q.name]){m6q(G9V4,z6q);}}}x6q.endClip();}};s21.Studies.displayChannel=function(n6q,V6q,u6q){var w6q,m9V4,N6q,F6q;Z3i4.I3k0();if(V6q.inputs["Channel Fill"]){w6q={panelName:V6q.panel};for(var G6q in V6q.outputs){m9V4="Cha";m9V4+="n";m9V4+="ne";m9V4+="l";N6q=G6q.split(" ").pop();if(N6q == "Top" || N6q == "High"){w6q.topBand=G6q + " " + V6q.name;}else if(N6q == "Bottom" || N6q == "Low"){w6q.bottomBand=G6q + (629 !== (6680,"2210" << 549668096)?(614.09,17) === (+"854",160.75)?"P":" ":(0x8e5,9.93e+3)) + V6q.name;}else if(N6q == "Median" || N6q == m9V4){w6q.color=s21.Studies.determineColor(V6q.outputs[G6q]);}}if(V6q.parameters && V6q.parameters.opacity){w6q.opacity=V6q.parameters.opacity;}else {w6q.opacity=0.2;}F6q=n6q.panels[V6q.panel];w6q.skipTransform=F6q.name != V6q.chart.name;w6q.yAxis=V6q.getYAxis(n6q);if(!V6q.highlight && n6q.highlightedDraggable){w6q.opacity*=0.3;}s21.prepareChannelFill(n6q,w6q);}s21.Studies.displaySeriesAsLine(n6q,V6q,u6q);};s21.Studies.displayElderForce=function(a6q,O6q,U6q){var d6q,S6q,b6q,Q6q;s21.Studies.displaySeriesAsLine(a6q,O6q,U6q);d6q=s21.Studies.determineColor(O6q.outputs.Result);S6q=a6q.panels[O6q.panel];b6q=O6q.getYAxis(a6q);Q6q={skipTransform:S6q.name != O6q.chart.name,panelName:O6q.panel,band:"Result " + O6q.name,threshold:0,color:d6q,yAxis:b6q};if(!O6q.highlight && a6q.highlightedDraggable){Q6q.opacity=+"0.3";}Q6q.direction=1;s21.preparePeakValleyFill(a6q,Q6q);Q6q.direction=-1;s21.preparePeakValleyFill(a6q,Q6q);};s21.Studies.displayElderRay=function(W6q,H6q,y7q){var l9V4,T7q,p6q,l7q,A7q,P7q,g7q,Z9V4,W9V4,u9V4,x9V4,A9V4,g9V4,s6q;l9V4="stx_";l9V4+="hi";l9V4+="stogram";T7q=W6q.panels[H6q.panel];p6q=H6q.getContext(W6q);l7q=H6q.getYAxis(W6q);A7q=W6q.pixelFromPrice(0,T7q,l7q);P7q=W6q.layout.candleWidth - 2;if(P7q < 2){P7q=+"1";}Z3i4.I3k0();W6q.canvasColor(l9V4);g7q=p6q.fillStyle;if(!H6q.underlay){Z3i4.m0R0(17);p6q.globalAlpha=Z3i4.y0R0("1",1250872416);}W6q.startClip(H6q.panel);if(!H6q.highlight && W6q.highlightedDraggable){p6q.globalAlpha*=0.3;}for(var q6q=0;q6q < y7q.length;q6q++){Z9V4="Elder Bear P";Z9V4+="ower";W9V4="Elder";W9V4+=" Bul";W9V4+="l Po";W9V4+="wer";u9V4="_h";u9V4+="is";u9V4+="t";u9V4+="1";x9V4="_hi";x9V4+="st2";A9V4="_h";A9V4+="ist2";g9V4="Elder B";g9V4+="ul";g9V4+="l Power";s6q=y7q[q6q];if(!s6q)continue;if(s6q.candleWidth){P7q=Math.floor(Math.max(1,s6q.candleWidth - 2));}if(s6q[H6q.name + "_hist1"] > 0){c7q(q6q,0,g9V4,"_hist1");}if(s6q[H6q.name + A9V4] < "0" * 1){c7q(q6q,0,"Elder Bear Power",x9V4);}if(s6q[H6q.name + u9V4] < +"0"){c7q(q6q,0.1,W9V4,"_hist1");}if(s6q[H6q.name + "_hist2"] > 0){c7q(q6q,0.1,Z9V4,"_hist2");}}W6q.endClip();function c7q(v7q,D7q,j7q,k7q){p6q.fillStyle=s21.Studies.determineColor(H6q.outputs[j7q]);p6q.fillRect(Math.floor(W6q.pixelFromBar(v7q,T7q.chart) - P7q / +"2" + P7q * D7q),Math.floor(A7q),Math.floor(P7q * (1 - ("2" ^ 0) * D7q)),Math.floor(W6q.pixelFromPrice(s6q[H6q.name + k7q],T7q,l7q) - A7q));}p6q.fillStyle=g7q;};s21.Studies.displayMassIndex=function(C7q,I7q,B7q){var K7q,X7q,o7q,Z7q,Y7q;s21.Studies.displaySeriesAsLine(C7q,I7q,B7q);K7q=I7q.inputs["Bulge Threshold"];Z3i4.I3k0();X7q=C7q.panels[I7q.panel];o7q=I7q.getYAxis(C7q);Z7q=s21.Studies.determineColor(I7q.outputs.Result);Y7q={skipTransform:C7q.panels[I7q.panel].name != I7q.chart.name,panelName:I7q.panel,band:"Result " + I7q.name,threshold:K7q,direction:1,color:Z7q,yAxis:o7q,opacity:0.3};if(!I7q.highlight && C7q.highlightedDraggable){Y7q.opacity*=0.3;}s21.preparePeakValleyFill(C7q,Y7q);s21.Studies.drawHorizontal(C7q,I7q,null,K7q,o7q,Z7q);};s21.Studies.displayPSAR2=function(i7q,t7q,e7q){var R3k0=Z3i4;var U9V4,f7q,M7q,V7q,E7q,w7q,R7q,h7q,n7q,x7q,z7q,m7q,r7q,L7q;U9V4="Pl";U9V4+="ot Ty";U9V4+="p";U9V4+="e";f7q=i7q.panels[t7q.panel];M7q=t7q.getYAxis(i7q);V7q=M7q == i7q.chart.panel.yAxis;i7q.startClip(f7q.name);E7q=t7q.getContext(i7q);R3k0.I3k0();w7q=t7q.inputs[U9V4] == "squarewave";for(var N7q in t7q.outputs){R7q=N7q + ("331.43" - 0 >= 5149?0x131:(1670,7350) <= "5810" - 0?379:7340 != 850.22?" ":("b","0x192" >> 1756545952)) + t7q.name;E7q.beginPath();h7q=i7q.layout.candleWidth;n7q=Math.max(3,Math.floor(i7q.chart.tmpWidth / 2));for(var J7q=0;J7q < e7q.length;J7q++){x7q=e7q[J7q];if(!x7q || !x7q[R7q] && x7q[R7q] !== ("0" ^ 0))continue;if(x7q.candleWidth){h7q=x7q.candleWidth;}if(V7q && x7q.transform){x7q=x7q.transform;}z7q=i7q.pixelFromBar(J7q,f7q.chart);if(w7q){R3k0.m0R0(37);z7q-=R3k0.O0R0("2",0,h7q);}m7q=i7q.pixelFromTransformedValue(x7q[t7q.referenceOutput?t7q.referenceOutput + ((724.02,5890) == (348.53,4128)?(0x22d6,939):" ") + t7q.name:R7q],f7q,M7q);if(J7q === 0 || !e7q[J7q - 1] || !e7q[J7q - 1][R7q] && e7q[J7q - 1][R7q] !== ("0" ^ 0)){E7q.moveTo(z7q,m7q);}if(w7q){E7q.lineTo(z7q,m7q);R3k0.m0R0(1);E7q.lineTo(R3k0.O0R0(h7q,z7q),m7q);if(e7q[J7q + 1]){R3k0.S0R0(1);r7q=e7q[R3k0.y0R0(1,J7q)];if(V7q && r7q.transform){r7q=r7q.transform;}if(!r7q[R7q] && r7q[R7q] !== 0){R3k0.m0R0(1);E7q.lineTo(R3k0.O0R0(h7q,z7q),i7q.pixelFromTransformedValue(r7q[t7q.referenceOutput?t7q.referenceOutput + ((4250,689) >= ("8703" >> 349538240,5123)?499.16:(150.16,9140) <= (637.95,1402)?(399.48,308.35) <= (+"5.13",5802)?(+"761.17",! !{}):(! !{},7.97e+3):" ") + t7q.name:R7q],i7q.panels[t7q.panel],M7q));}}}else {R3k0.S0R0(24);E7q.moveTo(R3k0.y0R0(2,z7q,n7q),m7q);R3k0.S0R0(25);E7q.lineTo(R3k0.y0R0(z7q,2,n7q),m7q);}}E7q.lineWidth=1;if(t7q.highlight){E7q.lineWidth=3;}L7q=s21.Studies.determineColor(t7q.outputs[N7q]);if(L7q == "auto"){L7q=i7q.defaultColor;}E7q.strokeStyle=L7q;if(!t7q.highlight && i7q.highlightedDraggable){E7q.globalAlpha*=+"0.3";}E7q.stroke();E7q.closePath();E7q.lineWidth=+"1";}i7q.endClip();};s21.Studies.displayRainbowMA=function(u7q,F7q,a7q){var O7q;O7q=u7q.panels[F7q.panel];Z3i4.s3k0();for(var G7q=10;G7q > 0;G7q--){s21.Studies.displayIndividualSeriesAsLine(u7q,F7q,O7q,"SMA" + G7q + " " + F7q.name,a7q);}};s21.Studies.displayRainbowOsc=function(d7q,Q7q,A5q){var L3k0=Z3i4;var i9V4,U7q,b7q,S7q,s7q,q7q,P5q,T5q,c5q,l5q,W7q,t9V4,H7q;i9V4="stx_";i9V4+="his";i9V4+="togr";i9V4+="am";s21.Studies.displaySeriesAsLine(d7q,Q7q,A5q);U7q=d7q.panels[Q7q.panel];b7q=Q7q.getContext(d7q);S7q=Q7q.getYAxis(d7q);d7q.startClip(Q7q.panel);if(!Q7q.highlight && d7q.highlightedDraggable){b7q.globalAlpha*=+"0.3";}s7q=d7q.pixelFromPrice(0,U7q,S7q);q7q=U7q.name != Q7q.chart.name;P5q=s21.Studies.determineColor(Q7q.outputs["Positive Bar"]);b7q.strokeStyle=P5q;d7q.plotDataSegmentAsLine("Over " + Q7q.name,U7q,{skipTransform:q7q,label:!1,yAxis:S7q});T5q=b7q.createLinearGradient(0,s7q,0,S7q.flipped?S7q.bottom:S7q.top);T5q.addColorStop(0,d7q.containerColor);T5q.addColorStop(1,P5q);s21.prepareChannelFill(d7q,{skipTransform:q7q,color:T5q,opacity:!Q7q.highlight && d7q.highlightedDraggable?0.3:1,panelName:Q7q.panel,topBand:"Over " + Q7q.name,bottomBand:"Zero " + Q7q.name,yAxis:S7q});c5q=s21.Studies.determineColor(Q7q.outputs["Negative Bar"]);b7q.strokeStyle=c5q;L3k0.I3k0();d7q.plotDataSegmentAsLine("Under " + Q7q.name,U7q,{skipTransform:q7q,label:!"1",yAxis:S7q});l5q=b7q.createLinearGradient(0,s7q,0,S7q.flipped?S7q.top:S7q.bottom);l5q.addColorStop(+"0",d7q.containerColor);l5q.addColorStop(1,c5q);s21.prepareChannelFill(d7q,{skipTransform:q7q,color:l5q,opacity:!Q7q.highlight && d7q.highlightedDraggable?+"0.3":1,panelName:Q7q.panel,topBand:"Zero " + Q7q.name,bottomBand:"Under " + Q7q.name,yAxis:S7q});W7q=d7q.layout.candleWidth - ("2" << 564662720);if(W7q < 2){L3k0.S0R0(23);W7q=L3k0.O0R0(2147483647,"1");}d7q.canvasColor(i9V4);if(!Q7q.underlay){L3k0.m0R0(0);b7q.globalAlpha=L3k0.O0R0("1",1);}if(!Q7q.highlight && d7q.highlightedDraggable){b7q.globalAlpha*=+"0.3";}b7q.fillStyle="#CCCCCC";for(var p7q=0;p7q < A5q.length;p7q++){t9V4="_";t9V4+="hi";t9V4+="st";H7q=A5q[p7q];if(!H7q)continue;if(H7q[Q7q.name + "_hist"] > +"0"){b7q.fillStyle=P5q;}else if(H7q[Q7q.name + "_hist"] < 0){b7q.fillStyle=c5q;}if(H7q.candleWidth){W7q=Math.floor(Math.max("1" | 0,H7q.candleWidth - 2));}b7q.fillRect(Math.floor(d7q.pixelFromBar(p7q,U7q.chart) - W7q / 2),Math.floor(s7q),Math.floor(W7q),Math.floor(d7q.pixelFromPrice(H7q[Q7q.name + t9V4],U7q,S7q) - s7q));}d7q.endClip();};s21.Studies.displayRAVI=function(g5q,y5q,K5q){var P9V4,C5q,v5q,o5q,Z5q,k5q,X5q,t5q,O2V4,p2V4,e2V4,V9V4,T9V4,D5q,I5q,Y5q,B5q;Z3i4.s3k0();P9V4="D";P9V4+="ecreasi";P9V4+="ng Bar";C5q=g5q.panels[y5q.panel];v5q=y5q.getContext(g5q);o5q=y5q.getYAxis(g5q);Z5q=g5q.pixelFromPrice(0,C5q,o5q);k5q=g5q.layout.candleWidth - 2;if(k5q < 2){k5q=+"1";}X5q=s21.Studies.determineColor(y5q.outputs["Increasing Bar"]);t5q=s21.Studies.determineColor(y5q.outputs[P9V4]);g5q.startClip(y5q.panel);g5q.canvasColor("stx_histogram");if(!y5q.underlay){v5q.globalAlpha=1;}if(!y5q.highlight && g5q.highlightedDraggable){v5q.globalAlpha*=0.3;}for(var j5q=0;j5q < K5q.length;j5q++){O2V4="_";O2V4+="h";O2V4+="i";O2V4+="st";p2V4="#";p2V4+="C";p2V4+="CCC";p2V4+="CC";e2V4="_h";e2V4+="i";e2V4+="s";e2V4+="t";V9V4="_";V9V4+="h";V9V4+="ist";T9V4="_hi";T9V4+="st";D5q=K5q[j5q];Z3i4.m0R0(88);I5q=K5q[Z3i4.y0R0("1",0,j5q)];if(!I5q){I5q=g5q.getPreviousBar(g5q.chart,y5q.name + "_hist",j5q);}if(!D5q)continue;Y5q=0;B5q=0;if(y5q.parameters && y5q.parameters.studyOverZonesEnabled){Y5q=parseFloat(y5q.parameters.studyOverBoughtValue);B5q=parseFloat(y5q.parameters.studyOverSoldValue);}if(!I5q){v5q.fillStyle="#CCCCCC";}else if(D5q[y5q.name + "_hist"] > Y5q && I5q[y5q.name + "_hist"] < D5q[y5q.name + "_hist"]){v5q.fillStyle=X5q;}else if(D5q[y5q.name + T9V4] < B5q && I5q[y5q.name + V9V4] > D5q[y5q.name + e2V4]){v5q.fillStyle=t5q;}else {v5q.fillStyle=p2V4;}if(D5q.candleWidth){k5q=Math.floor(Math.max(+"1",D5q.candleWidth - 2));}v5q.fillRect(Math.floor(g5q.pixelFromBar(j5q,C5q.chart) - k5q / 2),Math.floor(Z5q),Math.floor(k5q),Math.floor(g5q.pixelFromPrice(D5q[y5q.name + O2V4],C5q,o5q) - Z5q));}g5q.endClip();};s21.Studies.displayZigZag=function(R5q,E5q,z5q){var J2V4,m5q,e5q,x5q,X2V4,E2V4,i5q,J5q,o2V4;J2V4="Sh";J2V4+="a";J2V4+="dowRe";J2V4+="sult ";m5q=R5q.chart.highLowBars;if(E5q.highLowChart != m5q){E5q.highLowChart=m5q;E5q.startFrom=0;E5q.study.calculateFN(R5q,E5q);}e5q=R5q.chart;for(var r5q=0;r5q < z5q.length;r5q++){x5q=z5q[r5q];if(x5q){if(x5q["_shadowCopy " + E5q.name]){X2V4="_";X2V4+="shadow";X2V4+="C";X2V4+="opy ";E2V4="Re";E2V4+="su";E2V4+="lt ";delete x5q[E2V4 + E5q.name];delete x5q[X2V4 + E5q.name];}if(!x5q["Result " + E5q.name]){if(x5q.transform){delete x5q.transform["Result " + E5q.name];}}}}i5q=z5q[0];J5q=z5q[z5q.length - +"1"];if(i5q && i5q[J2V4 + E5q.name]){o2V4="Shadow";o2V4+="R";o2V4+="esult ";i5q["Result " + E5q.name]=i5q[o2V4 + E5q.name];if(i5q.transform){i5q.transform["Result " + E5q.name]=e5q.transformFunc(R5q,e5q,i5q["ShadowResult " + E5q.name]);}i5q["_shadowCopy " + E5q.name]=+"1";}if(J5q && J5q["ShadowResult " + E5q.name]){J5q["Result " + E5q.name]=J5q["ShadowResult " + E5q.name];if(J5q.transform){J5q.transform["Result " + E5q.name]=e5q.transformFunc(R5q,e5q,J5q["ShadowResult " + E5q.name]);}J5q["_shadowCopy " + E5q.name]=1;}s21.Studies.displaySeriesAsLine(R5q,E5q,z5q);};s21.Studies.displayVolumeProfile=function(M5q,w5q,T9q){var y3k0=Z3i4;var f2V4,k2V4,D2V4,V5q,n5q,u5q,Q5q,d5q,s5q,f5q,F2V4,O5q,L5q,c9q,a5q,F5q,h5q,q5q,p5q,U5q,H5q,N5q,l9q,P9q,A9q,W5q;f2V4="stx_v";f2V4+="ol";f2V4+="ume_pr";y3k0.s3k0();f2V4+="ofile";k2V4="stx_vo";function y9q(B9q,k9q){var C9q,I9q,v9q,D9q,j9q,K9q,o9q,z2V4,Z9q,Y9q;if(!k9q){N5q-=2;}W5q.canvasColor(B9q);h5q.beginPath();C9q=f5q[+"0"][+"0"];I9q=N5q;for(var g9q=1;g9q < f5q.length;g9q++){if(f5q[g9q][1]){v9q=Math.round(N5q - f5q[g9q][1] * l9q / O5q) - 0.5;D9q=Math.round(W5q.pixelFromTransformedValue(C9q,U5q)) + 0.5;j9q=Math.round(W5q.pixelFromTransformedValue(f5q[g9q][0],U5q)) + 0.5;if(!k9q){D9q-=0.5;j9q+=0.5;v9q+=0.5;}if(D9q > H5q){D9q=H5q;}if(j9q < H5q){h5q.moveTo(N5q,D9q);h5q.lineTo(N5q,j9q);h5q.lineTo(v9q,j9q);h5q.lineTo(v9q,D9q);if(k9q){if(I9q > v9q || g9q == 1){h5q.lineTo(I9q,D9q);};}else {h5q.lineTo(N5q,D9q);if(d5q){K9q=s21.condenseInt(f5q[g9q][1]);y3k0.m0R0(6);o9q=y3k0.y0R0(D9q,j9q);if(p5q <= o9q - 2){z2V4="t";z2V4+="o";z2V4+="p";try{Z9q=h5q.measureText(K9q).width;}catch(X9q){Z9q=0;}h5q.textBaseline=z2V4;Y9q=h5q.fillStyle;h5q.fillStyle=P9q;y3k0.m0R0(59);h5q.fillText(K9q,y3k0.y0R0(3,Z9q,v9q),y3k0.O0R0(2,2,o9q,j9q,p5q,y3k0.m0R0(89)));h5q.fillStyle=Y9q;}}}}I9q=v9q;}else {I9q=N5q;;}C9q=f5q[g9q][0];}if(!w5q.highlight && M5q.highlightedDraggable){h5q.globalAlpha*=+"0.3";}if(!k9q){h5q.fill();}h5q.strokeStyle=P9q;if(k9q){h5q.stroke();}h5q.closePath();}k2V4+="lume_profi";k2V4+="le";D2V4="Bars C";D2V4+="o";D2V4+="lor";if(!M5q || !M5q.chart.dataSet){return;}V5q=M5q.chart;n5q=w5q.parameters.numberOfBars;u5q=w5q.parameters.widthPercentage;Q5q=w5q.parameters.displayBorder;d5q=w5q.parameters.displayVolume;if(!n5q || n5q < 0){y3k0.m0R0(0);n5q=y3k0.y0R0("30",1);}n5q=Math.ceil(n5q);if(!u5q || u5q < 0){u5q=0.25;}if(Q5q !== !"1"){Q5q=! ![];}if(d5q !== ! !{}){d5q=! !"";}s5q=(V5q.highValue - V5q.lowValue) / n5q;if(s5q === 0){return;}f5q=[];for(var S5q=V5q.lowValue;S5q < V5q.highValue + +"0.1";S5q+=s5q){f5q.push([S5q,+"0"]);}if(f5q.length < 2){F2V4="char";F2V4+="t";M5q.displayErrorAsWatermark(F2V4,M5q.translateIf("Not enough data to render the Volume Profile"));return;}O5q=0;for(var b5q=0;b5q < T9q.length;b5q++){L5q=T9q[b5q];if(!L5q)continue;c9q=L5q.Volume;if(w5q.panel == V5q.name && L5q.transform){L5q=L5q.transform;}a5q=f5q[+"0"][0];F5q=0;for(var G5q=1;G5q < f5q.length;G5q++){F5q=f5q[G5q][0];if(L5q.Low >= a5q && L5q.Low <= F5q || L5q.Low < a5q && L5q.High > F5q || L5q.High >= a5q && L5q.High <= F5q){f5q[G5q][1]+=c9q;if(f5q[G5q][1] > O5q){y3k0.m0R0(6);O5q=f5q[G5q][y3k0.y0R0("1",0)];}}a5q=F5q;}}if(O5q === +"0"){M5q.displayErrorAsWatermark("chart",M5q.translateIf("Not enough data to render the Volume Profile"));return;}M5q.setStyle("stx_volume_profile","color",s21.Studies.determineColor(w5q.outputs[D2V4]));h5q=w5q.getContext(M5q);q5q="stx-float-date";M5q.canvasFont(q5q,h5q);p5q=M5q.getCanvasFontSize(q5q);U5q=V5q.panel;H5q=U5q.yAxis.bottom;N5q=Math.round(V5q.right) - +"0.5";l9q=V5q.width * u5q;P9q=M5q.canvasStyle(k2V4).borderTopColor;A9q=!s21.isTransparent(M5q.canvasStyle("stx_volume_profile").borderTopColor) && Q5q;W5q=M5q;y9q(f2V4,![]);if(A9q){y9q("stx_volume_profile",!"");}h5q.globalAlpha=1;};s21.Studies.displayProjectedVolume=function(E9q,t9q,i9q){var B2V4,R9q,J9q,z9q,e9q,r9q,h9q,f9q;B2V4="o";B2V4+="b";B2V4+="je";B2V4+="ct";if(t9q.error){return;}var {"Alert Threshold":x9q = ""}=t9q.inputs;R9q=parseInt(x9q.slice(0,-1),10) / 100;J9q=t9q.outputs["Alert Bar"];if(typeof J9q === B2V4){J9q=J9q.color;}t9q.volumeField="V " + t9q.name;t9q.plotStepLine=! !{};t9q.alignStepToSide=! !{};Z3i4.s3k0();t9q.extendToEndOfLastBar=!0;t9q.lineWidth=2;z9q=E9q.canvasStyle("stx_volume_underlay_up").opacity;e9q=E9q.canvasStyle("stx_volume_underlay_down").opacity;t9q.colorFunction=function(L9q){var u9q,M9q,O9q,V9q,w9q,N9q;var {Open:n9q, Close:G9q, iqPrevClose:F9q}=L9q;u9q=E9q.colorByCandleDirection?n9q:F9q;Z3i4.m0R0(90);M9q=Z3i4.y0R0(u9q,G9q);O9q=L9q["PV " + t9q.name];V9q=L9q["V " + t9q.name];Z3i4.m0R0(91);w9q=Z3i4.O0R0(O9q,1,R9q);N9q=R9q < 0?V9q < w9q:V9q > w9q;return {fill_color:N9q && J9q || (M9q?this.fill_color_down:this.fill_color_up),border_color:M9q?this.border_color_down:this.border_color_up,opacity:N9q?1:M9q?e9q:z9q,border_opacity:M9q?e9q:z9q};};r9q=t9q.study?t9q.study.name:t9q.type;var {loadingMore:m9q}=E9q.chart;h9q=i9q.some(a9q=>{var K2V4;K2V4="P";K2V4+="V";K2V4+=" ";Z3i4.s3k0();return a9q && a9q[t9q.volumeField] && a9q[K2V4 + t9q.name];});f9q=i9q[0] && !i9q["0" ^ 0].futureTick && (i9q["0" - 0]["PV " + t9q.name] === undefined || (t9q.dependentsOutputMap || []).some(Q9q=>{Z3i4.s3k0();return [undefined,null].includes(i9q[0][Q9q]);}));if(!h9q && m9q){return t9q.error=`Fetching data for ${r9q}`;}s21.Studies.createVolumeChart(E9q,t9q,i9q);s21.Studies.displaySeriesAsLine(E9q,t9q,i9q);if(f9q){s21.Studies.calculateProjectedVolume(E9q,t9q);}};s21.Studies.studyLibrary=s21.extend(s21.Studies.studyLibrary,{"Acc Swing":{name:"Accumulative Swing Index",calculateFN:s21.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}},ADX:{name:"ADX/DMS",calculateFN:s21.Studies.calculateADX,seriesFN:s21.Studies.displayADX,inputs:{Period:14,"Smoothing Period":14,Series:! ![],Shading:!1,Histogram:!"1"},outputs:{"+DI":"#00FF00","-DI":Q2V4,ADX:"auto","Positive Bar":"#00DD00","Negative Bar":"#FF0000"}},Aroon:{name:"Aroon",range:H2V4,calculateFN:s21.Studies.calculateAroon,outputs:{"Aroon Up":"#00DD00","Aroon Down":"#FF0000"}},"Aroon Osc":{name:"Aroon Oscillator",calculateFN:s21.Studies.calculateAroon,outputs:{"Aroon Oscillator":"auto"}},ATR:{name:b2V4,calculateFN:s21.Studies.calculateStudyATR,outputs:{ATR:"auto"}},"Bollinger Bands":{name:"Bollinger Bands",overlay:! !"1",calculateFN:s21.Studies.calculateBollinger,seriesFN:s21.Studies.displayChannel,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma","Channel Fill":! !{}},outputs:{"Bollinger Bands Top":"auto","Bollinger Bands Median":"auto","Bollinger Bands Bottom":"auto"},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},CCI:{name:"Commodity Channel Index",calculateFN:s21.Studies.calculateCCI,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:-100,studyOverSoldColor:Y2V4}},attributes:{Period:{min:2}}},"Chaikin MF":{name:a2V4,calculateFN:s21.Studies.calculateChaikinMoneyFlow,inputs:{Period:"20" * 1}},"Chaikin Vol":{name:"Chaikin Volatility",calculateFN:s21.Studies.calculateChaikinVolatility,inputs:{Period:"14" ^ 0,"Rate Of Change":2,"Moving Average Type":"ma"}},"Chande Fcst":{name:"Chande Forecast Oscillator",calculateFN:s21.Studies.calculateChandeForecast,inputs:{Period:14,Field:S2V4}},"Chande Mtm":{name:I2V4,calculateFN:s21.Studies.calculateChandeMomentum,inputs:{Period:9},parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:50,studyOverBoughtColor:h2V4,studyOverSoldValue:-50,studyOverSoldColor:R2V4}}},COG:{name:j2V4,calculateFN:s21.Studies.calculateCenterOfGravity,inputs:{Period:10,Field:"field"}},Coppock:{name:"Coppock Curve",calculateFN:s21.Studies.calculateCoppock,inputs:{Period:10,Field:N2V4,"Short RoC":11,"Long RoC":"14" * 1}},Detrended:{name:"Detrended Price Oscillator",calculateFN:s21.Studies.calculateDetrendedPrice,inputs:{Period:14,Field:c2V4,"Moving Average Type":"ma"}},"Donchian Channel":{name:"Donchian Channel",overlay:!0,calculateFN:s21.Studies.calculateMaxHighMinLow,seriesFN:s21.Studies.displayChannel,inputs:{"High Period":20,"Low Period":20,"Channel Fill":!""},outputs:{"Donchian High":"auto","Donchian Median":"auto","Donchian Low":"auto"}},"Ehler Fisher":{name:s2V4,calculateFN:s21.Studies.calculateEhlerFisher,inputs:{Period:+"10"},outputs:{EF:"auto","EF Trigger":"#FF0000"}},"Elder Force":{name:"Elder Force Index",calculateFN:s21.Studies.calculateElderForce,seriesFN:s21.Studies.displayElderForce,inputs:{Period:"13" ^ 0}},"Elder Ray":{name:q2V4,seriesFN:s21.Studies.displayElderRay,calculateFN:s21.Studies.calculateElderRay,centerline:0,inputs:{Period:13},outputs:{"Elder Bull Power":"#00DD00","Elder Bear Power":"#FF0000"}},EOM:{name:"Ease of Movement",calculateFN:s21.Studies.calculateEaseOfMovement,inputs:{Period:14,"Moving Average Type":"ma"}},"Fractal Chaos":{name:"Fractal Chaos Oscillator",range:"-1 to 1",calculateFN:s21.Studies.calculateFractalChaos,inputs:{},centerline:null},"Fractal Chaos Bands":{name:"Fractal Chaos Bands",overlay:! !"1",calculateFN:s21.Studies.calculateFractalChaos,seriesFN:s21.Studies.displayChannel,inputs:{"Channel Fill":!""},outputs:{"Fractal High":"auto","Fractal Low":"auto","Fractal Channel":"auto"}},GAPO:{name:"Gopalakrishnan Range Index",calculateFN:s21.Studies.calculateMaxHighMinLow},HHV:{name:"Highest High Value",calculateFN:s21.Studies.calculateMaxHighMinLow,inputs:{Period:+"14"}},"High Low":{name:"High Low Bands",overlay:! !{},seriesFN:s21.Studies.displayChannel,calculateFN:function(S9q,d9q){d9q.inputs["Moving Average Type"]="triangular";s21.Studies.calculateMAEnvelope(S9q,d9q);},inputs:{Period:10,Field:"field","Shift Percentage":5,"Channel Fill":! ![]},outputs:{"High Low Top":r2V4,"High Low Median":"auto","High Low Bottom":"auto"},attributes:{"Shift Percentage":{min:"0.1" - 0,step:0.1}}},"High-Low":{name:"High Minus Low",calculateFN:function(W9q,H9q){var U9q,M2V4;U9q=H9q.chart.scrubbed;for(var b9q=H9q.startFrom;b9q < U9q.length;b9q++){M2V4="Re";M2V4+="s";M2V4+="u";M2V4+="lt ";U9q[b9q][M2V4 + H9q.name]=U9q[b9q].High - U9q[b9q].Low;}},inputs:{}},"Hist Vol":{name:w2V4,calculateFN:s21.Studies.calculateHistoricalVolatility,inputs:{Period:+"10",Field:C2V4,"Days Per Year":["252" * 1,365],"Standard Deviations":1},attributes:{"Standard Deviations":{min:"0.1" - 0,step:0.1}}},"Intraday Mtm":{name:"Intraday Momentum Index",calculateFN:s21.Studies.calculateIntradayMomentum,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:"70" >> 657484672,studyOverBoughtColor:"auto",studyOverSoldValue:"30" & 2147483647,studyOverSoldColor:"auto"}}},Keltner:{name:"Keltner Channel",overlay:! ![],seriesFN:s21.Studies.displayChannel,calculateFN:s21.Studies.calculateKeltner,inputs:{Period:50,Shift:+"5","Moving Average Type":L2V4,"Channel Fill":!""},outputs:{"Keltner Top":"auto","Keltner Median":"auto","Keltner Bottom":v2V4},attributes:{Shift:{min:0.1,step:+"0.1"}}},Klinger:{name:"Klinger Volume Oscillator",seriesFN:s21.Studies.displayHistogramWithSeries,calculateFN:s21.Studies.calculateKlinger,inputs:{"Signal Periods":13,"Short Cycle":+"34","Long Cycle":55},outputs:{Klinger:"auto",KlingerSignal:"#FF0000","Increasing Bar":y2V4,"Decreasing Bar":d2V4}},"Lin Fcst":{name:"Linear Reg Forecast",overlay:! !1,calculateFN:s21.Studies.calculateLinearRegressionIndicator,inputs:{Period:"14" - 0,Field:"field"},outputs:{Forecast:"auto"}},"Lin Incpt":{name:"Linear Reg Intercept",overlay:! !{},calculateFN:s21.Studies.calculateLinearRegressionIndicator,inputs:{Period:+"14",Field:n2V4},outputs:{Intercept:"auto"}},"Lin R2":{name:"Linear Reg R2",calculateFN:s21.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{RSquared:"auto"}},LLV:{name:"Lowest Low Value",calculateFN:s21.Studies.calculateMaxHighMinLow,inputs:{Period:14}},"LR Slope":{name:"Linear Reg Slope",calculateFN:s21.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Slope:G2V4}},macd:{name:"MACD",calculateFN:s21.Studies.calculateMACD,seriesFN:s21.Studies.displayHistogramWithSeries,inputs:{"Fast MA Period":+"12","Slow MA Period":26,"Signal Period":"9" ^ 0},outputs:{MACD:"auto",Signal:m2V4,"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}},"MA Env":{name:l2V4,overlay:! !{},seriesFN:s21.Studies.displayChannel,calculateFN:s21.Studies.calculateMAEnvelope,inputs:{Period:50,Field:"field","Shift Type":["percent","points"],Shift:5,"Moving Average Type":"ma","Channel Fill":!""},outputs:{"MA Env Top":g2V4,"MA Env Median":"auto","MA Env Bottom":"auto"},attributes:{Shift:{min:0.1,step:0.1}}},"Mass Idx":{name:A2V4,seriesFN:s21.Studies.displayMassIndex,calculateFN:s21.Studies.calculateMassIndex,inputs:{Period:25,"Bulge Threshold":"27" & 2147483647},attributes:{"Bulge Threshold":{min:+"20",max:35,step:0.1}}},"M Flow":{name:"Money Flow Index",range:"0 to 100",calculateFN:s21.Studies.calculateMoneyFlowIndex,inputs:{Period:+"14"},parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}},"Neg Vol":{name:"Negative Volume Index",calculateFN:s21.Studies.calculateVolumeIndex,inputs:{Period:255,Field:"field","Moving Average Type":x2V4},outputs:{Index:"auto",MA:"#FF0000"}},"On Bal Vol":{name:"On Balance Volume",calculateFN:s21.Studies.calculateOnBalanceVolume,inputs:{}},"Pos Vol":{name:"Positive Volume Index",calculateFN:s21.Studies.calculateVolumeIndex,inputs:{Period:+"255",Field:"field","Moving Average Type":"ma"},outputs:{Index:"auto",MA:"#FF0000"}},"Pretty Good":{name:"Pretty Good Oscillator",calculateFN:s21.Studies.calculatePrettyGoodOscillator,parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:- +"3",studyOverSoldColor:u2V4}}},"Price Osc":{name:"Price Oscillator",calculateFN:s21.Studies.calculatePriceOscillator,inputs:{Field:"field","Short Cycle":12,"Long Cycle":26,"Moving Average Type":W2V4,"Points Or Percent":[Z2V4,U2V4]}},"Price Vol":{name:i2V4,calculateFN:s21.Studies.calculatePriceVolumeTrend,inputs:{Field:"field"}},"Prime Number":{name:"Prime Number Oscillator",range:t2V4,calculateFN:s21.Studies.calculatePrimeNumber,centerline:0,inputs:{"Tolerance Percentage":5},attributes:{"Tolerance Percentage":{min:0.1,step:0.1}}},"Prime Number Bands":{name:"Prime Number Bands",overlay:! ![],calculateFN:s21.Studies.calculatePrimeNumber,seriesFN:s21.Studies.displayChannel,inputs:{"Channel Fill":! !{}},outputs:{"Prime Bands Top":"auto","Prime Bands Bottom":P2V4,"Prime Bands Channel":T2V4}},PSAR:{name:"Parabolic SAR",overlay:!"",calculateFN:s21.Studies.calculatePSAR,seriesFN:s21.Studies.displayPSAR2,inputs:{"Minimum AF":0.02,"Maximum AF":0.2}},QStick:{name:"QStick",calculateFN:s21.Studies.calculateQStick,inputs:{Period:8,"Moving Average Type":"ma"}},"Random Walk":{name:V2V4,calculateFN:s21.Studies.calculateRandomWalk,outputs:{"Random Walk High":"#FF0000","Random Walk Low":"#0000FF"}},RAVI:{name:e0V4,seriesFN:s21.Studies.displayRAVI,calculateFN:s21.Studies.calculatePriceOscillator,inputs:{Field:p0V4,"Moving Average Type":"vdma","Short Cycle":7,"Long Cycle":65},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":O0V4},centerline:0,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:3,studyOverBoughtColor:E0V4,studyOverSoldValue:- +"3",studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:"0.1"},studyOverSoldValue:{max:0,step:"0.1"}}},rsi:{name:"RSI",inputs:{Period:14,Field:"field"},calculateFN:s21.Studies.calculateRSI,range:"0 to 100",outputs:{RSI:X0V4},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:+"80",studyOverBoughtColor:J0V4,studyOverSoldValue:20,studyOverSoldColor:"auto"}}},Schaff:{name:"Schaff Trend Cycle",range:"0 to 100",calculateFN:s21.Studies.calculateSchaff,inputs:{Period:10,Field:o0V4,"Short Cycle":23,"Long Cycle":50,"Moving Average Type":"ema"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:75,studyOverBoughtColor:"auto",studyOverSoldValue:25,studyOverSoldColor:F0V4}}},"Stch Mtm":{name:"Stochastic Momentum Index",calculateFN:s21.Studies.calculateStochMomentum,inputs:{"%K Periods":10,"%K Smoothing Periods":3,"%K Double Smoothing Periods":"3" | 3,"%D Periods":10,"%D Moving Average Type":D0V4},outputs:{"%K":k0V4,"%D":"#FF0000"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:40,studyOverBoughtColor:"auto",studyOverSoldValue:-40,studyOverSoldColor:"auto"}}},Swing:{name:"Swing Index",calculateFN:s21.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}},"Time Fcst":{name:"Time Series Forecast",overlay:! !{},calculateFN:s21.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}},"Trade Vol":{name:"Trade Volume Index",calculateFN:s21.Studies.calculateOnBalanceVolume,inputs:{"Min Tick Value":"0.5" * 1}},TRIX:{name:"TRIX",calculateFN:s21.Studies.calculateTRIX},Twiggs:{name:"Twiggs Money Flow",calculateFN:s21.Studies.calculateTwiggsMoneyFlow,inputs:{Period:+"21"}},"Typical Price":{name:"Typical Price",calculateFN:s21.Studies.calculateTypicalPrice,inputs:{Period:14}},Ultimate:{name:"Ultimate Oscillator",calculateFN:s21.Studies.calculateUltimateOscillator,inputs:{"Cycle 1":7,"Cycle 2":14,"Cycle 3":28},parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}},"Vol Osc":{name:"Volume Oscillator",calculateFN:s21.Studies.calculatePriceOscillator,inputs:{"Short Cycle":12,"Long Cycle":"26" ^ 0,"Points Or Percent":[z0V4,"Percent"]},parameters:{init:{isVolume:! !1}}},"Vol ROC":{name:"Volume Rate of Change",calculateFN:s21.Studies.calculateRateOfChange,parameters:{init:{isVolume:!""}}},"VT HZ Filter":{name:"Vertical Horizontal Filter",calculateFN:s21.Studies.calculateVerticalHorizontalFilter,inputs:{Period:28}},"W Acc Dist":{name:"Accumulation/Distribution",calculateFN:s21.Studies.calculateAccumulationDistribution,inputs:{"Use Volume":! !0}},"Weighted Close":{name:"Weighted Close",calculateFN:s21.Studies.calculateTypicalPrice,inputs:{Period:14}},"Williams %R":{name:f0V4,calculateFN:s21.Studies.calculateMaxHighMinLow,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:-20,studyOverBoughtColor:"auto",studyOverSoldValue:-80,studyOverSoldColor:"auto"}}},"val lines":{name:"Valuation Lines",calculateFN:function(){},seriesFN:function(s9q,q9q,p9q){s21.Studies.calculateValuationLines(s9q,q9q,p9q);s21.Studies.displayValuationLines(s9q,q9q);},overlay:! ![],yAxisFN:function(){},inputs:{Field:"field","Average Type":[B0V4,"median","harmonic"],"Display Average":! ![],"Display 1 Standard Deviation (1\u03C3)":!"1","Display 2 Standard Deviation (2\u03C3)":![],"Display 3 Standard Deviation (3\u03C3)":!1},outputs:{Average:"#00afed","1 Standard Deviation (1\u03C3)":"#e1e1e1","2 Standard Deviation (2\u03C3)":"#85c99e","3 Standard Deviation (3\u03C3)":"#fff69e"}},"vol undr":{name:"Volume Underlay",underlay:! !{},range:"0 to max",yAxis:{ground:! !{},initialMarginTop:+"0",position:"none",zoom:0,heightFactor:0.25},seriesFN:s21.Studies.createVolumeChart,calculateFN:s21.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":K0V4,"Down Volume":"#b82c0c"},customRemoval:!"",removeFN:function(P3Q,T3Q){P3Q.layout.volumeUnderlay=!{};P3Q.changeOccurred("layout");},attributes:{panelName:{hidden:! !{}}}},correl:{name:Q0V4,range:H0V4,calculateFN:s21.Studies.calculateCorrelationCoefficient,outputs:{}},PMO:{name:b0V4,calculateFN:s21.Studies.calculatePMO,inputs:{Field:Y0V4,"Smoothing Period":35,"Double Smoothing Period":+"20","Signal Period":10},outputs:{PMO:"auto",PMOSignal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:2.5,studyOverBoughtColor:a0V4,studyOverSoldValue:-2.5,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:S0V4},studyOverSoldValue:{max:+"0",step:I0V4}}},"Rel Vol":{name:"Relative Volatility",range:h0V4,calculateFN:s21.Studies.calculateRelativeVolatility,inputs:{Field:"field","STD Period":10,"Smoothing Period":14},outputs:{"Rel Vol":"auto"},centerline:"50" & 2147483647,parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:70,studyOverBoughtColor:R0V4,studyOverSoldValue:30,studyOverSoldColor:j0V4}}},Awesome:{name:N0V4,seriesFN:s21.Studies.displayAwesomeOscillator,calculateFN:s21.Studies.calculateAwesomeOscillator,inputs:{},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}},"W MFI":{name:c0V4,seriesFN:s21.Studies.displayMFI,calculateFN:s21.Studies.calculateMFI,yAxis:{ground:! !{}},range:"0 to max",inputs:{"Scale Factor":6},outputs:{Green:s0V4,Fade:"#ab611f",Fake:q0V4,Squat:"#ffd0cf"}},"ATR Bands":{name:r0V4,overlay:! ![],seriesFN:s21.Studies.displayChannel,calculateFN:s21.Studies.calculateATRBands,inputs:{Period:5,Field:"field",Shift:3,"Channel Fill":! !1},outputs:{"ATR Bands Top":"auto","ATR Bands Bottom":M0V4,"ATR Bands Channel":"auto"},attributes:{Shift:{min:0.1,step:"0.1" * 1}}},"STARC Bands":{name:"STARC Bands",overlay:!0,seriesFN:s21.Studies.displayChannel,calculateFN:s21.Studies.calculateSTARCBands,inputs:{Period:15,"MA Period":5,Multiplier:1.3,"Channel Fill":! ![]},outputs:{"STARC Bands Top":w0V4,"STARC Bands Median":"auto","STARC Bands Bottom":"auto"},attributes:{Multiplier:{min:0.1,step:0.1}}},"ATR Trailing Stop":{name:"ATR Trailing Stops",overlay:! ![],seriesFN:s21.Studies.displayPSAR2,calculateFN:s21.Studies.calculateATRStops,inputs:{Period:+"21",Multiplier:3,"Plot Type":["points","squarewave"],HighLow:!1},outputs:{"Buy Stops":C0V4,"Sell Stops":"#00FF00"},attributes:{Multiplier:{min:0.1,step:"0.1" - 0}}},"Boll %b":{name:"Bollinger %b",calculateFN:s21.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":L0V4},outputs:{"%b":"auto"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:0,studyOverSoldColor:"auto"}},attributes:{"Standard Deviations":{min:0.1,step:+"0.1"}}},"Boll BW":{name:"Bollinger Bandwidth",calculateFN:s21.Studies.calculateBollinger,inputs:{Period:20,Field:v0V4,"Standard Deviations":2,"Moving Average Type":"ma"},outputs:{Bandwidth:"auto"},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Donchian Width":{name:"Donchian Width",calculateFN:s21.Studies.calculateMaxHighMinLow,inputs:{"High Period":20,"Low Period":+"20"}},"Rel Vig":{name:"Relative Vigor Index",seriesFN:s21.Studies.displayHistogramWithSeries,calculateFN:s21.Studies.calculateRelativeVigor,inputs:{Period:+"10"},outputs:{"Rel Vig":"auto",RelVigSignal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}},"Elder Impulse":{name:y0V4,calculateFN:s21.Studies.calculateElderImpulse,initializeFN:s21.Studies.initElderImpulse,seriesFN:null,customRemoval:! !1,underlay:! ![],inputs:{},outputs:{Bullish:d0V4,Bearish:"#DD3E39",Neutral:"#5F7CB8"},removeFN:function(c3Q,l3Q){c3Q.chart.customChart=null;c3Q.setMainSeriesRenderer();}},"Pivot Points":{name:n0V4,overlay:! ![],seriesFN:s21.Studies.displayPivotPoints,calculateFN:s21.Studies.calculatePivotPoints,inputs:{Type:["standard","fibonacci"],Continuous:!{},Shading:!1},outputs:{Pivot:"auto","Resistance 1":"#b82c0b","Support 1":G0V4,"Resistance 2":"#e36460","Support 2":m0V4,"Resistance 3":"#ffd0cf","Support 3":l0V4},parameters:{init:{opacity:0.2}}},Alligator:{name:g0V4,overlay:! !1,seriesFN:s21.Studies.displayAlligator,calculateFN:s21.Studies.calculateAlligator,inputs:{"Show Lines":! !{},"Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":3,"Show Fractals":!{}},outputs:{Jaw:"#0000FF",Teeth:A0V4,Lips:x0V4}},Gator:{name:"Gator Oscillator",seriesFN:s21.Studies.displayGator,calculateFN:s21.Studies.calculateAlligator,inputs:{"Jaw Period":"13" >> 1674260224,"Jaw Offset":+"8","Teeth Period":8,"Teeth Offset":+"5","Lips Period":5,"Lips Offset":3},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"},centerline:0},"Ichimoku Clouds":{name:"Ichimoku Clouds",overlay:! !{},calculateFN:s21.Studies.calculateIchimoku,seriesFN:s21.Studies.displayIchimoku,inputs:{"Conversion Line Period":9,"Base Line Period":26,"Leading Span B Period":52,"Lagging Span Period":26},outputs:{"Conversion Line":"#0000FF","Base Line":"#FF0000","Leading Span A":"#00FF00","Leading Span B":"#FF0000","Lagging Span":"#808000"}},"Perf Idx":{name:"Performance Index",centerline:1,initializeFN:s21.Studies.initPriceRelative,seriesFN:s21.Studies.displayVsComparisonSymbol,calculateFN:s21.Studies.calculatePerformance,inputs:{Period:+"120","Comparison Symbol":"SPY"},outputs:{Result:"auto",Gain:u0V4,Loss:"#FF0000"},deferUpdate:! ![]},Beta:{name:W0V4,centerline:"1" << 279929536,initializeFN:s21.Studies.initPriceRelative,seriesFN:s21.Studies.displayVsComparisonSymbol,calculateFN:s21.Studies.calculateBeta,inputs:{Period:20,"Comparison Symbol":Z0V4},deferUpdate:! !{}},Ulcer:{name:U0V4,calculateFN:s21.Studies.calculateUlcerIndex,inputs:{Period:14,Field:"field"}},"Bal Pwr":{name:"Balance of Power",range:"-1 to 1",centerline:0,calculateFN:s21.Studies.calculateBalanceOfPower,inputs:{Period:14,"Moving Average Type":"ma"}},"Trend Int":{name:i0V4,calculateFN:s21.Studies.calculateTrendIntensity,range:"0 to 100",inputs:{Period:14,Field:t0V4,"Signal Period":9},outputs:{TII:P0V4,Signal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:80,studyOverBoughtColor:T0V4,studyOverSoldValue:20,studyOverSoldColor:"auto"}}},Choppiness:{name:"Choppiness Index",calculateFN:s21.Studies.calculateChoppiness,centerline:50,parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:61.8,studyOverBoughtColor:V0V4,studyOverSoldValue:38.2,studyOverSoldColor:e4V4}},attributes:{studyOverBoughtValue:{min:50,step:"0.1"},studyOverSoldValue:{max:50,step:p4V4}}},Disparity:{name:O4V4,calculateFN:s21.Studies.calculateDisparity,inputs:{Period:14,Field:"field","Moving Average Type":"ma"}},"Rainbow MA":{name:E4V4,overlay:! !{},calculateFN:s21.Studies.calculateRainbow,seriesFN:s21.Studies.displayRainbowMA,inputs:{Period:2,Field:"field"},outputs:{SMA1:X4V4,SMA2:"#FF7F00",SMA3:J4V4,SMA4:"#7FFF00",SMA5:"#00FF7F",SMA6:"#00FFFF",SMA7:"#007FFF",SMA8:"#0000FF",SMA9:"#7F00FF",SMA10:o4V4}},"Rainbow Osc":{name:"Rainbow Oscillator",calculateFN:s21.Studies.calculateRainbow,seriesFN:s21.Studies.displayRainbowOsc,centerline:+"0",inputs:{Period:2,Field:"field","HHV/LLV Lookback":10},outputs:{"Positive Bar":F4V4,"Negative Bar":"#FF0000"}},"Pring KST":{name:"Pring's Know Sure Thing",calculateFN:s21.Studies.calculateKST,inputs:{Field:D4V4,"Lightest Rate of Change Period":10,"Lightest SMA Period":10,"Light Rate of Change Period":+"15","Light SMA Period":10,"Heavy Rate of Change Period":20,"Heavy SMA Period":10,"Heaviest Rate of Change Period":30,"Heaviest SMA Period":"15" & 2147483647,"Signal Period":9},outputs:{KST:"#00DD00",KSTSignal:"#FF0000"}},"Pring Sp-K":{name:"Pring's Special K",calculateFN:s21.Studies.calculateSpecialK,inputs:{Field:k4V4,Interval:["daily","weekly"]}},Darvas:{name:"Darvas Box",underlay:! !1,calculateFN:s21.Studies.calculateDarvas,seriesFN:s21.Studies.displayDarvas,inputs:{"ATH Lookback Period":100,"Exit Field":[z4V4,f4V4],"Ghost Boxes":! !{},"Stop Levels":!{},"Level Offset":0.01,"Price Minimum":5,"Volume Spike":!{},"Volume % of Avg":+"400"},outputs:{Darvas:B4V4,Ghost:"#699158",Levels:"auto"},customRemoval:! !"1",attributes:{"Price Minimum":{min:0.01,step:0.01},yaxisDisplayValue:{hidden:! !1},panelName:{hidden:! ![]},flippedEnabled:{hidden:!""}}},Supertrend:{name:"Supertrend",overlay:! !1,seriesFN:s21.Studies.displaySupertrend,calculateFN:s21.Studies.calculateSupertrend,inputs:{Period:7,Multiplier:"3" - 0},outputs:{Uptrend:"#8cc176",Downtrend:K4V4},attributes:{Multiplier:{min:+"0.1",step:0.1}}},"vol profile":{name:Q4V4,underlay:! !"1",seriesFN:s21.Studies.displayVolumeProfile,calculateFN:null,inputs:{},outputs:{"Bars Color":"#b64a96"},customRemoval:! !{},parameters:{init:{displayBorder:! ![],displayVolume:!1,numberOfBars:30,widthPercentage:0.25}},attributes:{yaxisDisplayValue:{hidden:! !"1"},panelName:{hidden:!""},flippedEnabled:{hidden:!0}}},Vortex:{name:"Vortex Indicator",calculateFN:s21.Studies.calculateVortex,centerline:1,outputs:{"+VI":"#00FF00","-VI":"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:+"1.1",studyOverBoughtColor:H4V4,studyOverSoldValue:"0.9" - 0,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:1,step:b4V4},studyOverSoldValue:{max:1,step:Y4V4}}},ZigZag:{name:a4V4,overlay:! !{},seriesFN:s21.Studies.displayZigZag,calculateFN:s21.Studies.calculateZigZag,inputs:{"Distance(%)":10},parameters:{init:{label:![]}},attributes:{"Distance(%)":{min:0.1,step:"0.1" * 1}}},PSY:{name:"Psychological Line",range:S4V4,calculateFN:s21.Studies.calculatePsychologicalLine,inputs:{Period:20}},"MA Dev":{name:"Moving Average Deviation",calculateFN:s21.Studies.calculateMADev,seriesFN:s21.Studies.displayHistogramWithSeries,inputs:{Period:12,Field:"field","Moving Average Type":I4V4,"Points Or Percent":["Points","Percent"]},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}},Shinohara:{name:"Shinohara Intensity Ratio",calculateFN:s21.Studies.calculateShinohara,inputs:{Period:26},outputs:{"Strong Ratio":"#E99B54","Weak Ratio":"#5F7CB8"}},stochastics:{name:"Stochastics",range:"0 to 100",calculateFN:s21.Studies.calculateStochastics,inputs:{Period:14,Field:h4V4,Smooth:! !1},outputs:{Fast:"auto",Slow:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:"20" << 1097480896,studyOverSoldColor:"auto"}}},PVAT:{name:R4V4,range:"0 to max",yAxis:{ground:! !1,initialMarginTop:+"0",zoom:0},calculateFN:s21.Studies.calculateProjectedVolume,seriesFN:s21.Studies.displayProjectedVolume,inputs:{"Lookback Days":10,"Anchor Time":j4V4,"Alert Threshold":["+50%","+40%","+30%","+20%",N4V4,"None","-10%","-20%","-30%",c4V4,"-50%"]},outputs:{"Average Line":"#fe641c","Alert Bar":"#cfbd0e","Up Volume":"#8cc176","Down Volume":s4V4},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:1},"Alert Threshold":{defaultSelected:"+50%"}}},PAV:{name:q4V4,range:r4V4,yAxis:{ground:!0,initialMarginTop:0,zoom:0},calculateFN:s21.Studies.calculateProjectedVolume,seriesFN:s21.Studies.displayProjectedVolume,inputs:{"Lookback Days":"10" - 0,"Anchor Time":M4V4},outputs:{"Average Line":"#fe641c","Up Volume":w4V4,"Down Volume":C4V4},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:1}}}});}};N7H={CIQ:D7H,SplinePlotter:R7H,timezoneJS:M7H,$$:L7H,$$$:V7H};export {k7H as aggregations};export {I7H as drawingAdvanced};export {Y7H as equationsAdvanced};export {E7H as highPerformanceMarkers};export {i7H as renderersAdvanced};export {J7H as studiesAdvanced};export {D7H as CIQ, R7H as SplinePlotter, M7H as timezoneJS, L7H as $$, V7H as $$$};if(typeof __TREE_SHAKE__ === L4V4 || !__TREE_SHAKE__){(N7H.CIQ || D7H).activateImports(k7H,I7H,Y7H,E7H,i7H,J7H,null);}/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */
