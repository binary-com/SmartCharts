/**
 *	8.1.0
 *	Generation date: 2020-11-03T13:22:07.088Z
 *	Client name: binary ltd
 *	Package Type: Technical Analysis
 *	License type: annual
 *	Expiration date: "2021/04/01"
 *	Domain lock: ["127.0.0.1","localhost","binary.com","binary.sx","binary.me","binary.bot","deriv.com","derivcrypto.com"]
 *	iFrame lock: true
 */

/***********************************************************
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/
/*************************************** DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! **************************************/
/* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting */
/* and load that file right after the library has been loaded, but before the chart engine is instantiated.              */
/* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          */
/*************************************************************************************************************************/
/* eslint-disable no-extra-parens */


/* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */
R9EE[354008]=(function(){var S=2;for(;S !== 9;){switch(S){case 2:S=typeof globalThis === '\u006f\u0062\u006a\u0065\u0063\x74'?1:5;break;case 1:return globalThis;break;case 5:var t;try{var N=2;for(;N !== 6;){switch(N){case 2:Object['\x64\u0065\u0066\u0069\x6e\u0065\u0050\u0072\u006f\u0070\u0065\x72\u0074\x79'](Object['\x70\x72\x6f\x74\u006f\u0074\x79\u0070\u0065'],'\x7a\x48\x61\u0058\u0039',{'\x67\x65\x74':function(){var g=2;for(;g !== 1;){switch(g){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});t=zHaX9;t['\u004b\u0033\x45\x43\x6d']=t;N=4;break;case 4:N=typeof K3ECm === '\u0075\x6e\u0064\u0065\x66\u0069\u006e\u0065\u0064'?3:9;break;case 3:throw "";N=9;break;case 9:delete t['\x4b\u0033\u0045\x43\u006d'];var P=Object['\x70\x72\x6f\x74\x6f\u0074\x79\u0070\u0065'];delete P['\x7a\x48\x61\u0058\x39'];N=6;break;}}}catch(u){t=window;}return t;break;}}})();R9EE[452167]=U3XX(R9EE[354008]);R9EE[261964]=n3hU(R9EE[354008]);R9EE[520910]="Z$z";R9EE.h50=function(){return typeof R9EE[69146].y4B === 'function'?R9EE[69146].y4B.apply(R9EE[69146],arguments):R9EE[69146].y4B;};R9EE[64901]="Wyu";R9EE[69146]=(function(){var Q4B=function(v4B,j4B){var e4B=j4B & 0xffff;var g4B=j4B - e4B;return (g4B * v4B | 0) + (e4B * v4B | 0) | 0;},h4B=function(V4B,x4B,H4B){var q4B=0xcc9e2d51,n4B=0x1b873593;var t4B=H4B;var L4B=x4B & ~0x3;for(var c4B=0;c4B < L4B;c4B+=4){var K4B=V4B.u3XX(c4B) & 0xff | (V4B.u3XX(c4B + 1) & 0xff) << 8 | (V4B.u3XX(c4B + 2) & 0xff) << 16 | (V4B.u3XX(c4B + 3) & 0xff) << 24;K4B=Q4B(K4B,q4B);K4B=(K4B & 0x1ffff) << 15 | K4B >>> 17;K4B=Q4B(K4B,n4B);t4B^=K4B;t4B=(t4B & 0x7ffff) << 13 | t4B >>> 19;t4B=t4B * 5 + 0xe6546b64 | 0;}K4B=0;switch(x4B % 4){case 3:K4B=(V4B.u3XX(L4B + 2) & 0xff) << 16;case 2:K4B|=(V4B.u3XX(L4B + 1) & 0xff) << 8;case 1:K4B|=V4B.u3XX(L4B) & 0xff;K4B=Q4B(K4B,q4B);K4B=(K4B & 0x1ffff) << 15 | K4B >>> 17;K4B=Q4B(K4B,n4B);t4B^=K4B;}t4B^=x4B;t4B^=t4B >>> 16;t4B=Q4B(t4B,0x85ebca6b);t4B^=t4B >>> 13;t4B=Q4B(t4B,0xc2b2ae35);t4B^=t4B >>> 16;return t4B;};return {y4B:h4B};})();R9EE.j1kc=function(){return typeof R9EE[401065].F1kc === 'function'?R9EE[401065].F1kc.apply(R9EE[401065],arguments):R9EE[401065].F1kc;};R9EE[401065]=(function(X1kc){return {F1kc:function(){var L1kc,B1kc=arguments;switch(X1kc){case 61:L1kc=(B1kc[3] - (B1kc[2] + B1kc[0])) / B1kc[1];break;case 16:L1kc=B1kc[1] * B1kc[0];break;case 15:L1kc=B1kc[0] | B1kc[1];break;case 57:L1kc=B1kc[4] + B1kc[6] + B1kc[3] + B1kc[2] + B1kc[7] + B1kc[1] + B1kc[0] + B1kc[5];break;case 5:L1kc=B1kc[1] - B1kc[0] + B1kc[3] + B1kc[2];break;case 19:L1kc=B1kc[0] * B1kc[2] < B1kc[1];break;case 85:L1kc=B1kc[1] == B1kc[0];break;case 10:L1kc=B1kc[1] / B1kc[0];break;case 80:L1kc=B1kc[1] - B1kc[2] / (B1kc[3] + B1kc[0]);break;case 60:L1kc=B1kc[1] - B1kc[2] - B1kc[0];break;case 54:L1kc=(B1kc[4] + B1kc[0] * B1kc[3]) / (B1kc[2] | B1kc[1]);break;case 39:L1kc=B1kc[0] + (B1kc[1] - B1kc[2]) / B1kc[3];break;case 81:L1kc=B1kc[1] * -B1kc[0];break;case 73:L1kc=B1kc[3] + B1kc[2] * (B1kc[1] - B1kc[0]);break;case 46:L1kc=B1kc[1] * B1kc[0] + B1kc[2];break;case 30:L1kc=B1kc[0] % B1kc[1];break;case 4:L1kc=B1kc[1] - B1kc[0];break;case 26:L1kc=B1kc[0] - B1kc[1] / B1kc[2];break;case 18:L1kc=(B1kc[2] - B1kc[0]) / B1kc[1];break;case 32:L1kc=(B1kc[4] - B1kc[3]) / (B1kc[1] - B1kc[2]) > B1kc[0];break;case 82:L1kc=+B1kc[3] - +B1kc[1] / (B1kc[4] + B1kc[0] / B1kc[2]);break;case 55:L1kc=(B1kc[1] + B1kc[0] * B1kc[3]) / B1kc[2];break;case 29:L1kc=B1kc[2] * (B1kc[0] % +B1kc[1]);break;case 79:L1kc=B1kc[1] * (B1kc[2] + B1kc[0]);break;case 40:L1kc=B1kc[0] - B1kc[2] * (B1kc[1] - B1kc[3]);break;case 33:L1kc=B1kc[1] * B1kc[0] - B1kc[2];break;case 45:L1kc=(B1kc[1] - B1kc[2] * B1kc[0]) / B1kc[3];break;case 62:L1kc=B1kc[2] + B1kc[0] + B1kc[3] + B1kc[1];break;case 69:L1kc=B1kc[2] * B1kc[1] * B1kc[0];break;case 31:L1kc=B1kc[2] - B1kc[0] / +B1kc[1];break;case 0:L1kc=B1kc[0] & B1kc[1];break;case 76:L1kc=B1kc[3] / (B1kc[2] * B1kc[1]) <= B1kc[0];break;case 42:L1kc=B1kc[3] * (B1kc[2] + +B1kc[1]) / B1kc[0];break;case 66:L1kc=B1kc[2] / B1kc[0] - B1kc[1];break;case 7:L1kc=B1kc[1] + B1kc[2] - B1kc[0];break;case 25:L1kc=B1kc[1] + +B1kc[0];break;case 38:L1kc=B1kc[1] * B1kc[2] / B1kc[0];break;case 44:L1kc=(B1kc[0] * B1kc[6] - B1kc[2] * B1kc[4]) / (B1kc[1] * B1kc[3] - B1kc[5]);break;case 51:L1kc=(B1kc[3] * B1kc[0] + B1kc[1]) / +B1kc[2];break;case 48:L1kc=-(B1kc[1] - B1kc[2]) * B1kc[3] + B1kc[0];break;case 41:L1kc=B1kc[1] - +B1kc[0];break;case 71:L1kc=B1kc[2] / (B1kc[0] << B1kc[1]);break;case 22:L1kc=B1kc[1] * B1kc[0] - B1kc[2] - B1kc[3];break;case 56:L1kc=B1kc[2] - (B1kc[1] >> B1kc[0]);break;case 67:L1kc=(B1kc[2] + B1kc[0]) / (B1kc[1] | B1kc[3]);break;case 72:L1kc=B1kc[3] * (B1kc[1] / B1kc[0] - +B1kc[2]);break;case 1:L1kc=B1kc[0] ^ B1kc[1];break;case 35:L1kc=(B1kc[2] - B1kc[3]) / (B1kc[0] - B1kc[1]);break;case 23:L1kc=(B1kc[1] ^ B1kc[0]) * B1kc[2] - B1kc[4] - B1kc[3];break;case 47:L1kc=B1kc[2] + B1kc[0] + B1kc[1];break;case 84:L1kc=B1kc[2] + B1kc[3] * B1kc[1] + B1kc[0];break;case 43:L1kc=B1kc[3] * (B1kc[2] * B1kc[4] + B1kc[0]) / B1kc[1];break;case 83:L1kc=B1kc[2] - B1kc[0] * B1kc[3] - B1kc[1];break;case 53:L1kc=(B1kc[0] + B1kc[1]) / +B1kc[2];break;case 36:L1kc=(B1kc[1] - B1kc[2]) * (B1kc[5] - B1kc[4]) / (B1kc[0] - B1kc[6]) + B1kc[3];break;case 6:L1kc=(B1kc[3] + B1kc[0]) / (B1kc[1] >> B1kc[2]);break;case 65:L1kc=B1kc[2] * B1kc[5] * B1kc[6] + (B1kc[4] - B1kc[0] * B1kc[1]) * B1kc[3];break;case 86:L1kc=B1kc[3] + B1kc[2] / B1kc[0] + B1kc[1];break;case 77:L1kc=B1kc[2] - (B1kc[0] & B1kc[1]);break;case 52:L1kc=(B1kc[1] * B1kc[2] + B1kc[3]) / B1kc[0];break;case 70:L1kc=(B1kc[1] ^ B1kc[0]) - +B1kc[3] / (B1kc[2] + B1kc[4] / B1kc[5]);break;case 78:L1kc=B1kc[1] > B1kc[0];break;case 59:L1kc=B1kc[1] - B1kc[0] - (B1kc[3] | B1kc[2]);break;case 13:L1kc=B1kc[2] - B1kc[0] * B1kc[1];break;case 24:L1kc=(B1kc[2] + B1kc[1]) / (B1kc[0] - B1kc[3]);break;case 37:L1kc=+B1kc[1] / B1kc[0];break;case 27:L1kc=B1kc[1] << B1kc[0];break;case 49:L1kc=(B1kc[0] - B1kc[3]) * B1kc[1] + B1kc[2];break;case 34:L1kc=B1kc[0] < B1kc[1];break;case 64:L1kc=B1kc[2] - (B1kc[0] ^ B1kc[1]);break;case 2:L1kc=B1kc[1] + B1kc[0];break;case 21:L1kc=B1kc[0] >> B1kc[1];break;case 12:L1kc=B1kc[1] + B1kc[0] * B1kc[2];break;case 88:L1kc=B1kc[4] + (B1kc[1] / +B1kc[2] - B1kc[3] / B1kc[0]);break;case 14:L1kc=B1kc[0] - (B1kc[2] | B1kc[1]);break;case 20:L1kc=B1kc[0] + (B1kc[2] - B1kc[1]);break;case 63:L1kc=(B1kc[0] + +B1kc[2]) * B1kc[1];break;case 68:L1kc=B1kc[1] * B1kc[3] / (B1kc[0] + B1kc[2]);break;case 75:L1kc=(B1kc[3] % B1kc[1] + +B1kc[2]) * B1kc[0];break;case 74:L1kc=B1kc[1] * (B1kc[2] / B1kc[0] - B1kc[3]);break;case 17:L1kc=B1kc[2] - (B1kc[0] - B1kc[1]);break;case 11:L1kc=(B1kc[3] + B1kc[4] + B1kc[1] + B1kc[2]) / B1kc[0];break;case 8:L1kc=B1kc[2] + B1kc[1] - B1kc[0] - B1kc[3];break;case 3:L1kc=B1kc[2] - B1kc[0] + B1kc[1];break;case 28:L1kc=B1kc[0] + B1kc[2] / B1kc[1];break;case 9:L1kc=(B1kc[2] + B1kc[1]) / B1kc[0];break;case 58:L1kc=B1kc[0] * (B1kc[1] >> B1kc[2]);break;case 50:L1kc=B1kc[6] + (B1kc[4] - B1kc[3]) / (B1kc[5] - B1kc[1]) * (B1kc[0] - B1kc[2]);break;case 87:L1kc=+B1kc[3] * B1kc[0] / (B1kc[1] + B1kc[2]);break;}return L1kc;},H1kc:function(P1kc){X1kc=P1kc;}};})();function U3XX(Q50){function v50(c50){var Z50=2;for(;Z50 !== 5;){switch(Z50){case 2:var L50=[arguments];return L50[0][0].String;break;}}}var D50=2;for(;D50 !== 11;){switch(D50){case 2:var B50=[arguments];B50[8]="";B50[8]="X";B50[1]="";D50=3;break;case 3:B50[1]="";B50[1]="u3";B50[3]=1;B50[9]=B50[1];B50[9]+=B50[8];B50[9]+=B50[8];D50=13;break;case 13:var M50=function(E50,X50,j50,r50){var I50=2;for(;I50 !== 5;){switch(I50){case 2:var d50=[arguments];S50(B50[0][0],d50[0][0],d50[0][1],d50[0][2],d50[0][3]);I50=5;break;}}};D50=12;break;case 12:M50(v50,"charCodeAt",B50[3],B50[9]);D50=11;break;}}function S50(N50,i50,u50,z50,H50){var t50=2;for(;t50 !== 7;){switch(t50){case 2:var V50=[arguments];V50[7]="";V50[3]="eProperty";V50[7]="efin";t50=3;break;case 3:V50[4]="d";V50[1]=6;try{var q50=2;for(;q50 !== 8;){switch(q50){case 2:V50[5]={};V50[9]=(1,V50[0][1])(V50[0][0]);q50=5;break;case 5:V50[6]=[V50[1],V50[9].prototype][V50[0][3]];V50[5].value=V50[6][V50[0][2]];try{var K50=2;for(;K50 !== 3;){switch(K50){case 2:V50[2]=V50[4];V50[2]+=V50[7];V50[2]+=V50[3];V50[0][0].Object[V50[2]](V50[6],V50[0][4],V50[5]);K50=3;break;}}}catch(O50){}V50[6][V50[0][4]]=V50[5].value;q50=8;break;}}}catch(P50){}t50=7;break;}}}}R9EE[354008].T9II=R9EE;R9EE.N1kc=function(){return typeof R9EE[401065].H1kc === 'function'?R9EE[401065].H1kc.apply(R9EE[401065],arguments):R9EE[401065].H1kc;};function n3hU(Z17m){function Y87m(X17m){var v17m=2;for(;v17m !== 5;){switch(v17m){case 2:var P07m=[arguments];return P07m[0][0].Array;break;}}}function b87m(w17m){var i17m=2;for(;i17m !== 5;){switch(i17m){case 2:var o17m=[arguments];return o17m[0][0];break;}}}function F87m(Q17m){var n17m=2;for(;n17m !== 5;){switch(n17m){case 2:var G17m=[arguments];return G17m[0][0].Function;break;}}}function e87m(j17m,A17m,L17m,E17m,W17m){var V17m=2;for(;V17m !== 7;){switch(V17m){case 3:H07m[9]="";H07m[9]="def";try{var d17m=2;for(;d17m !== 8;){switch(d17m){case 2:H07m[6]={};H07m[5]=(1,H07m[0][1])(H07m[0][0]);H07m[8]=[H07m[5],H07m[5].prototype][H07m[0][3]];d17m=4;break;case 4:H07m[6].value=H07m[8][H07m[0][2]];d17m=3;break;case 3:try{var h17m=2;for(;h17m !== 3;){switch(h17m){case 2:H07m[4]=H07m[9];H07m[4]+=H07m[2];H07m[4]+=H07m[1];H07m[0][0].Object[H07m[4]](H07m[8],H07m[0][4],H07m[6]);h17m=3;break;}}}catch(j07m){}H07m[8][H07m[0][4]]=H07m[6].value;d17m=8;break;}}}catch(A07m){}V17m=7;break;case 2:var H07m=[arguments];H07m[1]="";H07m[1]="perty";H07m[2]="inePro";V17m=3;break;}}}function S87m(N17m){var y17m=2;for(;y17m !== 5;){switch(y17m){case 2:var I07m=[arguments];return I07m[0][0].RegExp;break;}}}var U17m=2;for(;U17m !== 74;){switch(U17m){case 14:B07m[3]="m";B07m[5]="";B07m[7]="X3";B07m[5]="__";B07m[4]="";U17m=20;break;case 24:B07m[35]="";B07m[35]="_";B07m[40]="";B07m[40]="h";U17m=35;break;case 48:B07m[63]+=B07m[9];B07m[63]+=B07m[45];B07m[88]=B07m[3];B07m[88]+=B07m[8];B07m[88]+=B07m[6];U17m=64;break;case 35:B07m[10]=1;B07m[75]="Q3";B07m[17]="3h";B07m[65]="a";B07m[58]="U";U17m=30;break;case 57:D87m(b87m,B07m[73],B07m[53],B07m[69]);U17m=56;break;case 39:B07m[85]=B07m[35];B07m[85]+=B07m[25];B07m[85]+=B07m[44];B07m[64]=B07m[4];U17m=54;break;case 75:D87m(F87m,"apply",B07m[10],B07m[46]);U17m=74;break;case 54:B07m[64]+=B07m[17];B07m[64]+=B07m[58];B07m[84]=B07m[81];B07m[84]+=B07m[40];B07m[84]+=B07m[58];B07m[63]=B07m[5];U17m=48;break;case 20:B07m[9]="o";B07m[45]="ptimize";B07m[4]="W";B07m[44]="";B07m[81]="U3";U17m=15;break;case 43:B07m[46]+=B07m[58];B07m[70]=B07m[75];B07m[70]+=B07m[40];B07m[70]+=B07m[58];U17m=39;break;case 64:B07m[69]=B07m[7];B07m[69]+=B07m[40];B07m[69]+=B07m[58];B07m[73]=B07m[5];U17m=60;break;case 9:B07m[8]="";B07m[1]="ract";B07m[8]="3";B07m[3]="";U17m=14;break;case 30:B07m[53]=7;B07m[53]=0;B07m[46]=B07m[65];B07m[46]+=B07m[17];U17m=43;break;case 76:D87m(b87m,B07m[85],B07m[53],B07m[70]);U17m=75;break;case 60:B07m[73]+=B07m[2];B07m[73]+=B07m[1];U17m=58;break;case 2:var B07m=[arguments];B07m[2]="";B07m[2]="abst";B07m[6]="";B07m[6]="hU";U17m=9;break;case 15:B07m[44]="";B07m[44]="ual";B07m[25]="";B07m[25]="_resid";U17m=24;break;case 58:var D87m=function(k17m,c17m,x17m,g17m){var R17m=2;for(;R17m !== 5;){switch(R17m){case 2:var f07m=[arguments];e87m(B07m[0][0],f07m[0][0],f07m[0][1],f07m[0][2],f07m[0][3]);R17m=5;break;}}};U17m=57;break;case 56:D87m(Y87m,"push",B07m[10],B07m[88]);U17m=55;break;case 55:D87m(b87m,B07m[63],B07m[53],B07m[84]);U17m=77;break;case 77:D87m(S87m,"test",B07m[10],B07m[64]);U17m=76;break;}}}R9EE.n1kc=function(){return typeof R9EE[401065].F1kc === 'function'?R9EE[401065].F1kc.apply(R9EE[401065],arguments):R9EE[401065].F1kc;};R9EE[130872]=false;R9EE[520993]=(function(){var u17m=2;for(;u17m !== 9;){switch(u17m){case 3:return p17m[1];break;case 2:var p17m=[arguments];p17m[4]=undefined;p17m[1]={};p17m[1].P2hU=function(){var C17m=2;for(;C17m !== 90;){switch(C17m){case 75:t17m[22]={};t17m[22][t17m[58]]=t17m[84][t17m[95]][t17m[54]];C17m=73;break;case 5:return 72;break;case 1:C17m=p17m[4]?5:4;break;case 49:t17m[1].m3hU(t17m[28]);t17m[1].m3hU(t17m[41]);t17m[1].m3hU(t17m[5]);t17m[1].m3hU(t17m[78]);t17m[1].m3hU(t17m[48]);C17m=65;break;case 73:t17m[22][t17m[80]]=t17m[46];t17m[44].m3hU(t17m[22]);C17m=71;break;case 2:var t17m=[arguments];C17m=1;break;case 56:t17m[84]=t17m[1][t17m[72]];try{t17m[46]=t17m[84][t17m[35]]()?t17m[51]:t17m[13];}catch(B3hU){t17m[46]=t17m[13];}C17m=77;break;case 4:t17m[1]=[];t17m[8]={};t17m[8].p1kc=['w8kc'];C17m=8;break;case 8:t17m[8].U1kc=function(){var z2hU=typeof X3hU === 'function';return z2hU;};t17m[2]=t17m[8];t17m[3]={};t17m[3].p1kc=['w8kc'];C17m=13;break;case 57:C17m=t17m[72] < t17m[1].length?56:69;break;case 36:t17m[33]=t17m[90];t17m[1].m3hU(t17m[15]);t17m[1].m3hU(t17m[7]);t17m[1].m3hU(t17m[33]);t17m[1].m3hU(t17m[9]);t17m[1].m3hU(t17m[2]);C17m=49;break;case 16:t17m[4].U1kc=function(){var x2hU=function(){return unescape('%3D');};var l2hU=(/\x3d/).W3hU(x2hU + []);return l2hU;};t17m[5]=t17m[4];t17m[79]={};t17m[79].p1kc=['w8kc'];C17m=25;break;case 63:t17m[13]='m1kc';t17m[95]='p1kc';t17m[80]='h1kc';t17m[35]='U1kc';t17m[58]='k1kc';C17m=58;break;case 67:p17m[4]=30;return 25;break;case 34:t17m[91]={};t17m[91].p1kc=['q1kc'];t17m[91].U1kc=function(){var c2hU=function(){return ['a','a'].join();};var e2hU=!(/(\x5b|\x5d)/).W3hU(c2hU + []);return e2hU;};t17m[28]=t17m[91];C17m=30;break;case 40:t17m[15]=t17m[69];t17m[90]={};t17m[90].p1kc=['q1kc'];t17m[90].U1kc=function(){var O2hU=function(){return ('aaaa').padEnd(5,'a');};var s2hU=(/\x61\u0061\u0061\x61\x61/).W3hU(O2hU + []);return s2hU;};C17m=36;break;case 71:t17m[54]++;C17m=76;break;case 13:t17m[3].U1kc=function(){var D2hU=false;var v2hU=[];try{for(var i2hU in console){v2hU.m3hU(i2hU);}D2hU=v2hU.length === 0;}catch(S2hU){}var p2hU=D2hU;return p2hU;};t17m[7]=t17m[3];t17m[6]={};t17m[6].p1kc=['w8kc'];C17m=20;break;case 77:t17m[54]=0;C17m=76;break;case 58:t17m[72]=0;C17m=57;break;case 20:t17m[6].U1kc=function(){var n2hU=typeof U3hU === 'function';return n2hU;};t17m[9]=t17m[6];t17m[4]={};t17m[4].p1kc=['q1kc'];C17m=16;break;case 25:t17m[79].U1kc=function(){var G2hU=typeof Q3hU === 'function';return G2hU;};t17m[78]=t17m[79];t17m[76]={};t17m[76].p1kc=['q1kc'];t17m[76].U1kc=function(){var R2hU=function(){return escape('=');};var H2hU=(/\u0033\u0044/).W3hU(R2hU + []);return H2hU;};t17m[41]=t17m[76];C17m=34;break;case 65:t17m[44]=[];t17m[51]='V1kc';C17m=63;break;case 30:t17m[24]={};t17m[24].p1kc=['q1kc'];t17m[24].U1kc=function(){var A2hU=function(){return ('a|a').split('|');};var w2hU=!(/\u007c/).W3hU(A2hU + []);return w2hU;};C17m=44;break;case 44:t17m[48]=t17m[24];t17m[69]={};t17m[69].p1kc=['q1kc'];t17m[69].U1kc=function(){var J2hU=function(){return ('a').codePointAt(0);};var b2hU=(/\u0039\u0037/).W3hU(J2hU + []);return b2hU;};C17m=40;break;case 68:C17m=51?68:67;break;case 76:C17m=t17m[54] < t17m[84][t17m[95]].length?75:70;break;case 69:C17m=(function(l17m){var K17m=2;for(;K17m !== 22;){switch(K17m){case 25:M17m[2]=true;K17m=24;break;case 10:K17m=M17m[8][t17m[80]] === t17m[51]?20:19;break;case 17:M17m[9]=0;K17m=16;break;case 14:K17m=typeof M17m[1][M17m[8][t17m[58]]] === 'undefined'?13:11;break;case 2:var M17m=[arguments];K17m=1;break;case 20:M17m[1][M17m[8][t17m[58]]].h+=true;K17m=19;break;case 11:M17m[1][M17m[8][t17m[58]]].t+=true;K17m=10;break;case 1:K17m=M17m[0][0].length === 0?5:4;break;case 8:M17m[9]=0;K17m=7;break;case 18:M17m[2]=false;K17m=17;break;case 12:M17m[5].m3hU(M17m[8][t17m[58]]);K17m=11;break;case 24:M17m[9]++;K17m=16;break;case 23:return M17m[2];break;case 13:M17m[1][M17m[8][t17m[58]]]=(function(){var O17m=2;for(;O17m !== 9;){switch(O17m){case 2:var a17m=[arguments];a17m[5]={};a17m[5].h=0;O17m=4;break;case 4:a17m[5].t=0;return a17m[5];break;}}}).a3hU(this,arguments);K17m=12;break;case 15:M17m[3]=M17m[5][M17m[9]];M17m[7]=M17m[1][M17m[3]].h / M17m[1][M17m[3]].t;K17m=26;break;case 19:M17m[9]++;K17m=7;break;case 6:M17m[8]=M17m[0][0][M17m[9]];K17m=14;break;case 7:K17m=M17m[9] < M17m[0][0].length?6:18;break;case 26:K17m=M17m[7] >= 0.5?25:24;break;case 16:K17m=M17m[9] < M17m[5].length?15:23;break;case 5:return;break;case 4:M17m[1]={};M17m[5]=[];M17m[9]=0;K17m=8;break;}}})(t17m[44])?68:67;break;case 70:t17m[72]++;C17m=57;break;}}};u17m=3;break;}}})();function R9EE(){}R9EE.z17m=function(){return typeof R9EE[520993].P2hU === 'function'?R9EE[520993].P2hU.apply(R9EE[520993],arguments):R9EE[520993].P2hU;};R9EE.r1kc=function(){return typeof R9EE[401065].H1kc === 'function'?R9EE[401065].H1kc.apply(R9EE[401065],arguments):R9EE[401065].H1kc;};R9EE.q17m=function(){return typeof R9EE[520993].P2hU === 'function'?R9EE[520993].P2hU.apply(R9EE[520993],arguments):R9EE[520993].P2hU;};R9EE.M00=function(){return typeof R9EE[69146].y4B === 'function'?R9EE[69146].y4B.apply(R9EE[69146],arguments):R9EE[69146].y4B;};var V2n,n2n,U2n,p2n,u2n,P2n,m3n,r3n,X3n,c3n,h3n,F3n,g3n,z3n,a3n,o3n,Z3n,T3n,q3n,i3n,W3n,O3n,t3n,l3n,G3n,y3n,e3n,K3n,f3n,C3n,x3n,H3n,w3n,N3n,M3n,L3n,S3n,B3n,R3n,d3n,b3n,A3n,Y3n,I3n,J3n,j3n,k3n,Q3n,D3n,E3n,v3n,s3n,V3n,n3n,U3n,p3n,u3n,P3n,m1I,r1I,X1I,c1I,h1I,F1I,g1I,z1I,a1I,o1I,W1I;import {CIQ as s2n, SplinePlotter as Z1I, timezoneJS as T1I, $$ as q1I, $$$ as i1I} from "../js/standard.js";V2n=t1I=>{var z04,O1I;z04="und";z04+="efine";z04+="d";O1I=typeof _CIQ !== z04?_CIQ:t1I.CIQ;O1I.Renderer.Aggregations=function(G1I){var H04,l1I,D04;H04="_main_serie";R9EE.z17m();H04+="s";this.construct(G1I);l1I=this.params;this.highLowBars=this.barsHaveWidth=this.standaloneBars=!"";l1I.highlightable=![];if(l1I.name != H04){D04="Aggregations are ";D04+="only allowed on main ";D04+="series.";console.warn(D04);l1I.invalid=! !{};}};O1I.inheritsFrom(O1I.Renderer.Aggregations,O1I.Renderer.OHLC,!1);O1I.Renderer.Aggregations.requestNew=function(f1I,C1I){var t04,y1I,x1I,H1I,w1I,N1I,M1I,Z04,I04,K1I;t04="Ag";t04+="g";t04+="regations";y1I=null;x1I=!1;H1I=!"1";R9EE.q17m();w1I=! !"";N1I=! !"";M1I=! !"";for(var e1I="0" | 0;e1I < f1I.length;e1I++){Z04="r";Z04+="e";Z04+="nk";Z04+="o";I04="h";I04+="eiki";I04+="nash";I04+="i";K1I=f1I[e1I];switch(K1I){case "kagi":case "pandf":y1I=K1I;break;case I04:case "linebreak":case "rangebars":case Z04:y1I="candle";break;default:return null;}}if(y1I === null){return null;}return new O1I.Renderer[y1I == "candle"?"OHLC":t04]({params:O1I.extend(C1I,{type:y1I})});};O1I.Renderer.Aggregations.prototype.drawIndividualSeries=function(R1I,S1I){var y04,L1I,B1I,p00,v00,S00,K04,q04,l04;y04="ka";y04+="g";y04+="i";if(S1I.invalid){return;}L1I=this.stx;B1I={colors:[]};R9EE.z17m();if(S1I.type == y04){p00=1560742692;v00=1473124318;S00=+"2";for(var U00=+"1";R9EE.M00(U00.toString(),U00.toString().length,32604) !== p00;U00++){L1I.drawKagiSquareWave(R1I.panel,"stx_kagi_up","stx_kagi_up",S1I);B1I.colors.push(L1I.getCanvasColor("stx_kagi_up"));B1I.colors.push(L1I.getCanvasColor("stx_kagi_up"));S00+=2;}if(R9EE.h50(S00.toString(),S00.toString().length,18701) !== v00){K04="stx_kagi_";K04+="down";q04="stx_kagi_dow";q04+="n";L1I.drawKagiSquareWave(R1I.panel,"stx_kagi_up",q04,S1I);B1I.colors.push(L1I.getCanvasColor("stx_kagi_up"));B1I.colors.push(L1I.getCanvasColor(K04));}}else if(S1I.type == "pandf"){l04="stx_pand";l04+="f_down";L1I.drawPointFigureChart(R1I.panel,"stx_pandf_up",9560 == "9980" << 1162346272?("l",0x192d):"X",S1I);B1I.colors.push(L1I.getCanvasColor("stx_pandf_up"));L1I.drawPointFigureChart(R1I.panel,"stx_pandf_down",114.47 == (4598,2570)?(5492,2280) === (574.62,870.69)?"0x1a6e" >> 138589152:459.93:"O",S1I);B1I.colors.push(L1I.getCanvasColor(l04));}return B1I;};O1I.ChartEngine.prototype.setAggregationType=function(b1I){var d1I;this.layout.chartType="candle";d1I=this.chart;if(d1I.baseline.userLevel !== !1){d1I.baseline.userLevel=d1I.baseline.defaultLevel;d1I.panel.yAxis.scroll=O1I.ChartEngine.YAxis.prototype.scroll;}this.layout.aggregationType=b1I;R9EE.z17m();this.setMainSeriesRenderer();if(d1I.canvas){this.createDataSet();this.draw();}this.changeOccurred("layout");};O1I.ChartEngine.prototype.drawKagiSquareWave=function(D1I,s1I,V1I,n1I){var D67m=R9EE;var Q1I,U1I,A1I,Y1I,g4I,p1I,u1I,r4I,X4I,P1I,m4I,c4I,h4I,j1I,z4I,v1I,k1I,J1I,a4I,I1I,F4I;Q1I=D1I.chart;this.startClip(D1I.name);U1I=Q1I.dataSegment;A1I=Q1I.context;Y1I=D1I.yAxis;if(Y1I.flipped){g4I=s1I;s1I=V1I;V1I=g4I;}p1I=this.canvasStyle(s1I);u1I=this.canvasStyle(V1I);this.canvasColor(s1I);if(n1I.border_color_up){A1I.strokeStyle=n1I.border_color_up;}r4I=A1I.strokeStyle;D67m.q17m();this.canvasColor(V1I);if(n1I.border_color_down){A1I.strokeStyle=n1I.border_color_down;}X4I=A1I.strokeStyle;D67m.r1kc(0);P1I=D67m.n1kc("1",2147483647);if(p1I.width && parseInt(p1I.width,10) <= 25){P1I=Math.max(1,O1I.stripPX(p1I.width));}m4I=1;if(u1I.width && parseInt(u1I.width,10) <= 25){m4I=Math.max(1,O1I.stripPX(u1I.width));}if(this.highlightedDraggable){A1I.globalAlpha*=0.3;}A1I.beginPath();c4I=Q1I.dataSet.length - Q1I.scroll - 1;h4I=! !"1";j1I=null;z4I=null;v1I=null;k1I=D1I.left - 0.5 * this.layout.candleWidth + this.micropixels - 1;for(var E1I=0;E1I <= U1I.length;E1I++){k1I+=this.layout.candleWidth;J1I=U1I[E1I];if(!J1I)continue;if(J1I.projection)break;v1I=J1I.kagiTrend;if(Y1I.flipped){D67m.N1kc(1);v1I*=-D67m.j1kc("1",0);}if(J1I.transform && Q1I.transformFunc){a4I=J1I.kagiPrevOpen;J1I=J1I.transform;J1I.kagiPrevOpen=Q1I.transformFunc(this,Q1I,a4I);}I1I=J1I.cache;D67m.r1kc(2);F4I=D67m.j1kc(E1I,c4I);if(F4I < D1I.cacheLeft || F4I > D1I.cacheRight || !I1I.kagiOpen){I1I.kagiOpen=Y1I.semiLog?Y1I.height * (("1" >> 537505472) - (Math.log(Math.max(J1I.Open,0)) / Math.LN10 - Y1I.logLow) / Y1I.logShadow):(Y1I.high - J1I.Open) * Y1I.multiplier;I1I.kagiClose=Y1I.semiLog?Y1I.height * (1 - (Math.log(Math.max(J1I.Close,0)) / Math.LN10 - Y1I.logLow) / Y1I.logShadow):(Y1I.high - J1I.Close) * Y1I.multiplier;if(Y1I.flipped){I1I.kagiOpen=Y1I.bottom - I1I.kagiOpen;I1I.kagiClose=Y1I.bottom - I1I.kagiClose;}else {I1I.kagiOpen+=Y1I.top;I1I.kagiClose+=Y1I.top;}}z4I=I1I.kagiClose;j1I=Y1I.semiLog?Y1I.height * (1 - (Math.log(Math.max(J1I.kagiPrevOpen,0)) / Math.LN10 - Y1I.logLow) / Y1I.logShadow):(Y1I.high - J1I.kagiPrevOpen) * Y1I.multiplier;if(Y1I.flipped){j1I=Y1I.bottom - j1I;}else {j1I+=Y1I.top;}if(h4I){A1I.moveTo(c4I >= 0?D1I.left:Math.floor(k1I),I1I.kagiOpen);A1I.lineTo(Math.floor(k1I),I1I.kagiOpen);if(I1I.kagiClose < I1I.kagiOpen){A1I.strokeStyle=r4I;A1I.lineWidth=P1I;}else {A1I.strokeStyle=X4I;A1I.lineWidth=m4I;}}else {if(v1I != -1 && I1I.kagiClose < j1I && j1I < I1I.kagiOpen){A1I.lineTo(Math.floor(k1I),j1I);A1I.stroke();A1I.beginPath();A1I.moveTo(Math.floor(k1I),j1I);A1I.strokeStyle=r4I;A1I.lineWidth=P1I;}else if(v1I != 1 && I1I.kagiClose > j1I && j1I > I1I.kagiOpen){A1I.lineTo(Math.floor(k1I),j1I);A1I.stroke();A1I.beginPath();A1I.moveTo(Math.floor(k1I),j1I);A1I.strokeStyle=X4I;A1I.lineWidth=m4I;}}A1I.lineTo(Math.floor(k1I),I1I.kagiClose);if(E1I + +"1" < U1I.length){A1I.lineTo(Math.floor(k1I + this.layout.candleWidth),I1I.kagiClose);}h4I=! !0;}A1I.stroke();this.endClip();D67m.N1kc(0);A1I.lineWidth=D67m.j1kc("1",2147483647);};O1I.ChartEngine.prototype.drawPointFigureChart=function(y4I,I4I,e4I,L4I){var J67m=R9EE;var W4I,d4I,Z4I,O4I,t4I,K4I,x4I,H4I,b4I,k4I,o4I,A4I,l4I,T4I,q4I,S4I,B4I,i4I,f4I,C4I,Q4I,R4I,G4I,Y4I,N4I,M4I;W4I=y4I.chart;this.startClip(y4I.name);d4I=W4I.dataSegment;Z4I=W4I.context;this.canvasColor(I4I);if(e4I == "X" && L4I.border_color_up){Z4I.strokeStyle=L4I.border_color_up;}else if(e4I == "O" && L4I.border_color_down){Z4I.strokeStyle=L4I.border_color_down;}O4I=this.canvasStyle(I4I);t4I=parseInt(O4I.paddingTop,10);K4I=parseInt(O4I.paddingBottom,10);x4I=parseInt(O4I.paddingLeft,"10" | 8);H4I=parseInt(O4I.paddingRight,10);if(O4I.width && parseInt(O4I.width,10) <= 25){Z4I.lineWidth=Math.max(1,O1I.stripPX(O4I.width));}else {Z4I.lineWidth=2;}if(this.highlightedDraggable){Z4I.globalAlpha*=0.3;}function J4I(E4I,v4I,D4I){J67m.N1kc(2);Z4I.moveTo(J67m.n1kc(x4I,E4I),J67m.j1kc(K4I,q4I,D4I,J67m.N1kc(3)));J67m.N1kc(4);Z4I.lineTo(J67m.n1kc(H4I,v4I),J67m.n1kc(T4I,D4I,q4I,t4I,J67m.N1kc(5)));J67m.q17m();J67m.N1kc(2);Z4I.moveTo(J67m.n1kc(x4I,E4I),J67m.j1kc(T4I,D4I,q4I,t4I,J67m.r1kc(5)));J67m.r1kc(4);Z4I.lineTo(J67m.n1kc(H4I,v4I),J67m.n1kc(K4I,q4I,D4I,J67m.N1kc(3)));}Z4I.beginPath();b4I=this.chart.state.aggregation.box;k4I=W4I.dataSet.length - W4I.scroll - 1;J67m.q17m();o4I=y4I.yAxis;function j4I(V4I,n4I,s4I){J67m.N1kc(6);Z4I.moveTo(J67m.n1kc(n4I,"2",223761152,V4I),J67m.n1kc(q4I,s4I,t4I,J67m.r1kc(7)));J67m.r1kc(2);Z4I.bezierCurveTo(J67m.n1kc(H4I,n4I),J67m.j1kc(q4I,s4I,t4I,J67m.r1kc(7)),J67m.n1kc(H4I,n4I,J67m.r1kc(2)),J67m.n1kc(K4I,T4I,s4I,q4I,J67m.r1kc(8)),J67m.j1kc(2,n4I,V4I,J67m.r1kc(9)),J67m.n1kc(K4I,T4I,s4I,q4I,J67m.r1kc(8)));J67m.N1kc(4);J67m.q17m();Z4I.bezierCurveTo(J67m.j1kc(x4I,V4I),J67m.j1kc(K4I,T4I,s4I,q4I,J67m.N1kc(8)),J67m.j1kc(x4I,V4I,J67m.r1kc(4)),J67m.n1kc(q4I,s4I,t4I,J67m.r1kc(7)),J67m.n1kc(2,n4I,V4I,J67m.N1kc(9)),J67m.j1kc(q4I,s4I,t4I,J67m.r1kc(7)));}T4I=b4I * o4I.multiplier;J67m.N1kc(10);q4I=J67m.j1kc(2,T4I);S4I=this.layout.candleWidth;B4I=y4I.left - S4I + this.micropixels - 1;for(var w4I=0;w4I < d4I.length;w4I++){B4I+=S4I;i4I=d4I[w4I];if(!i4I)continue;if(i4I.projection)break;f4I=i4I.pfOpen;C4I=i4I.pfClose;Q4I=i4I.pfTrend;R4I=i4I.pfStepBack;if(i4I.transform && W4I.transformFunc){i4I=i4I.transform;f4I=W4I.transformFunc(this,W4I,f4I);C4I=W4I.transformFunc(this,W4I,C4I);}G4I=i4I.cache;J67m.r1kc(2);Y4I=J67m.j1kc(w4I,k4I);if(Y4I < y4I.cacheLeft || Y4I > y4I.cacheRight || !G4I.pfOpen){if(o4I.flipped){G4I.pfOpen=o4I.bottom - (o4I.high - f4I) * o4I.multiplier;G4I.pfClose=o4I.bottom - (o4I.high - C4I) * o4I.multiplier;}else {G4I.pfOpen=(o4I.high - f4I) * o4I.multiplier + o4I.top;G4I.pfClose=(o4I.high - C4I) * o4I.multiplier + o4I.top;}}N4I=Math.round(B4I);J67m.N1kc(2);M4I=Math.round(J67m.j1kc(S4I,B4I));A4I=Math.abs(Math.round((C4I - f4I) / b4I));l4I=G4I.pfOpen;if(e4I == R4I){if(R4I == ("4229" - 0 != +"648"?"X":0x95b)){J67m.N1kc(4);J4I(N4I,M4I,J67m.j1kc(T4I,l4I));}else if(R4I == (1143 >= 369.74?"O":(!"1",2.01e+3))){J67m.r1kc(2);j4I(N4I,M4I,J67m.j1kc(T4I,l4I));}}if(e4I == Q4I){for(;A4I >= "0" << 115362784;A4I--){if(e4I == ("338.55" - 0 > 55?"X":5.62e+2)){J4I(N4I,M4I,l4I,T4I,q4I);l4I-=o4I.flipped?-T4I:T4I;}else if(e4I == "O"){j4I(N4I,M4I,l4I,T4I,q4I);l4I+=o4I.flipped?-T4I:T4I;}}}}Z4I.stroke();this.endClip();Z4I.lineWidth=+"1";};O1I.ChartEngine.calculateAggregation=function(U4I,u4I,P4I,m7I){var U34,v34,h04,p4I,r7I;U34="pa";U34+="ndf";v34="k";v34+="a";v34+="g";v34+="i";h04="he";h04+="i";h04+="kenas";h04+="hi";r7I=U4I.layout;if(["heikinashi",h04].indexOf(u4I) > -1){p4I=O1I.calculateHeikinAshi(U4I,P4I,m7I);}else if(u4I == "rangebars"){p4I=O1I.calculateRangeBars(U4I,P4I,r7I.rangebars,m7I);}else if(u4I == v34){p4I=O1I.calculateKagi(U4I,P4I,r7I.kagi,m7I);}else if(u4I == "linebreak"){p4I=O1I.calculateLineBreak(U4I,P4I,r7I.priceLines,m7I);}else if(u4I == "renko"){p4I=O1I.calculateRenkoBars(U4I,P4I,r7I.renko,m7I);}else if(u4I == U34){p4I=O1I.calculatePointFigure(U4I,P4I,r7I.pandf,m7I);}return p4I;};O1I.calculateHeikinAshi=function(l7I,i7I,W7I){var a7I,X7I,c7I,Z7I,g7I,h7I,F7I,z7I,O7I,t7I,T7I;if(!i7I.length){return i7I;}if(!W7I){W7I=[];}a7I=[];for(var o7I=0;o7I < i7I.length;o7I++){X7I=i7I[o7I];if(!X7I)continue;c7I=a7I[a7I.length - 1];if(!c7I && !o7I){c7I=W7I[W7I.length - 1];}if(!c7I){c7I=X7I;}Z7I=X7I.Close;g7I=X7I.Open;h7I=X7I.High;F7I=X7I.Low;z7I=c7I.Open;g7I=g7I || g7I === 0?g7I:Z7I;h7I=h7I || h7I === 0?h7I:Z7I;F7I=F7I || F7I === 0?F7I:Z7I;z7I=z7I || z7I === 0?z7I:c7I.Close;O7I=(z7I + c7I.Close) / 2;R9EE.r1kc(11);t7I=R9EE.n1kc(4,F7I,Z7I,g7I,h7I);T7I={DT:X7I.DT,displayDate:X7I.displayDate,Date:X7I.Date,Open:O7I,Close:t7I,High:Math.max(h7I,Math.max(O7I,t7I)),Low:Math.min(F7I,Math.min(O7I,t7I)),Volume:X7I.Volume,iqPrevClose:c7I.Close};for(var q7I in X7I){if(!T7I[q7I] && T7I[q7I] !== 0){T7I[q7I]=X7I[q7I];}}a7I.push(T7I);}return a7I;};O1I.calculateKagi=function(L7I,f7I,K7I,N7I){var M7I,H7I,a34,x7I,G7I,B7I,e7I,S7I,y7I;if(!f7I.length){return f7I;}if(!N7I){N7I=[];}M7I=L7I.layout;H7I=L7I.chart;K7I=parseFloat(K7I);H7I.defaultChartStyleConfig.kagi=O1I.ChartEngine.isDailyInterval(M7I.interval)?4:0.4;if(isNaN(K7I) || K7I <= 0){K7I=H7I.defaultChartStyleConfig.kagi;if(O1I.Market.Symbology.isForexSymbol(H7I.symbol)){K7I/=4;}if(M7I.kagi !== null){a34="la";a34+="y";a34+="o";a34+="ut";M7I.kagi=null;L7I.changeOccurred(a34);}}K7I/=100;x7I=[];G7I=N7I[N7I.length - +"1"];B7I=G7I?G7I.DT:+"0";for(var C7I=0;C7I < f7I.length;C7I++){e7I=f7I[C7I];if(!e7I)continue;if(!G7I){R9EE.N1kc(4);G7I=f7I[R9EE.n1kc(1,C7I)];}if(!G7I)continue;S7I=G7I.Open || G7I.Open === 0?G7I.Open:G7I.Close;if(S7I > G7I.Close){if(e7I.Close > G7I.Close * (1 + K7I)){e7I.Open=G7I.Close;}else {if(G7I.Close > e7I.Close){G7I.Close=e7I.Close;}G7I.Volume+=e7I.Volume;if(C7I < f7I.length - 1)continue;}}else if(S7I < G7I.Close){if(e7I.Close < G7I.Close * (1 - K7I)){e7I.Open=G7I.Close;}else {if(G7I.Close < e7I.Close){G7I.Close=e7I.Close;}G7I.Volume+=e7I.Volume;if(C7I < f7I.length - 1)continue;}}else {G7I.Close=e7I.Close;G7I.Volume+=e7I.Volume;if(C7I < f7I.length - 1)continue;}y7I={DT:G7I.DT,displayDate:G7I.displayDate,Date:G7I.Date,Open:G7I.Open,Close:G7I.Close,High:Math.max(G7I.Open,G7I.Close),Low:Math.min(G7I.Open,G7I.Close),Volume:G7I.Volume,iqPrevClose:G7I.iqPrevClose};for(var w7I in G7I){if(!y7I[w7I] && y7I[w7I] !== +"0"){y7I[w7I]=G7I[w7I];}}if(x7I.length){y7I.kagiPrevOpen=x7I[x7I.length - 1].Open;}else {y7I.kagiPrevOpen=y7I.Open;}if(y7I.Close > y7I.kagiPrevOpen && y7I.kagiPrevOpen > y7I.Open){y7I.kagiTrend=1;}else if(y7I.Close < y7I.kagiPrevOpen && y7I.kagiPrevOpen < y7I.Open){y7I.kagiTrend=-1;}if(B7I < y7I.DT){x7I.push(y7I);}G7I=e7I;H7I.currentQuote={Close:e7I.Close};}return x7I;};O1I.calculateLineBreak=function(p7I,v7I,b7I,u7I){var s7I,V7I,A7I,P7I,n7I,R7I,Y7I,I7I,k7I,Q7I,J7I,d7I,j7I,D7I;if(!v7I.length){return v7I;}if(!u7I){u7I=[];}s7I=p7I.layout;V7I=p7I.chart;V7I.defaultChartStyleConfig.priceLines=3;b7I=parseInt(b7I,10);if(isNaN(b7I) || b7I <= 0){b7I=V7I.defaultChartStyleConfig.priceLines;if(s7I.priceLines !== null){s7I.priceLines=null;p7I.changeOccurred("layout");}}else if(b7I > 10){s7I.priceLines=b7I=10;}A7I=u7I.slice(-b7I);P7I=A7I.length;n7I=0;a:for(var U7I=0;U7I < v7I.length;U7I++){R7I=v7I[U7I];if(!R7I)continue;n7I+=R7I.Volume;Y7I=A7I[A7I.length - 1];if(!Y7I){Y7I={Open:R7I.Open,Close:R7I.Open,High:R7I.Open,Low:R7I.Open};}I7I=Y7I.Close;k7I=Y7I.High;Q7I=Y7I.Low;J7I=Y7I.Open;k7I=k7I || k7I === 0?k7I:I7I;Q7I=Q7I || Q7I === 0?Q7I:I7I;J7I=J7I || J7I === ("0" ^ 0)?J7I:I7I;d7I={DT:R7I.DT,displayDate:R7I.displayDate,Date:R7I.Date,Close:R7I.Close,Volume:n7I,iqPrevClose:I7I};V7I.currentQuote={Close:R7I.Close};if(R7I.Close > I7I && Y7I.Close > J7I){;}else if(R7I.Close < I7I && Y7I.Close < J7I){;}else if(R7I.Close > k7I){for(j7I="2" - 0;j7I <= b7I;j7I++){D7I=A7I[A7I.length - j7I];if(D7I && R7I.Close <= D7I.High){continue a;}}}else if(R7I.Close < Q7I){for(j7I=2;j7I <= b7I;j7I++){D7I=A7I[A7I.length - j7I];if(D7I && R7I.Close >= D7I.Low){continue a;}}}else continue;if(R7I.Close < Y7I.Close){d7I.Open=Math.min(J7I,I7I);}else {d7I.Open=Math.max(J7I,I7I);}d7I.Low=Math.min(d7I.Open,d7I.Close);d7I.High=Math.max(d7I.Open,d7I.Close);for(var E7I in R7I){if(!d7I[E7I] && d7I[E7I] !== 0){d7I[E7I]=R7I[E7I];}}A7I.push(d7I);n7I=+"0";}R9EE.z17m();return A7I.slice(P7I);};O1I.calculateRenkoBars=function(a8I,r8I,m8I,o8I){var q67m=R9EE;var k34,e34,Z8I,g8I,z8I,e8I,W8I,T8I,O8I,X8I,c8I,h8I,t8I,F8I,l8I,G8I,y8I;k34="L";k34+="o";k34+="w";e34="H";e34+="i";e34+="gh";if(!r8I.length){return [];}if(!o8I){o8I=[];}Z8I=a8I.layout;g8I=a8I.chart;z8I=g8I.state.aggregation;q67m.q17m();if(!z8I){z8I=g8I.state.aggregation={};}e8I=Math.min(300,r8I.length);if(!z8I.minMax){z8I.minMax=a8I.determineMinMax(r8I.slice(r8I.length - e8I),["Close",e34,k34]);}W8I=z8I.minMax[1] - z8I.minMax[0];T8I=a8I.panels[g8I.name].height;if(!T8I){return [];}g8I.defaultChartStyleConfig.renko=Math.floor(10000 * W8I / (T8I / +"30")) / 10000;if(m8I === null || isNaN(m8I) || m8I <= 0){m8I=g8I.defaultChartStyleConfig.renko;if(Z8I.renko !== null){Z8I.renko=null;a8I.changeOccurred("layout");}}else {q67m.r1kc(10);m8I=Math.max(m8I,q67m.n1kc(T8I,W8I));if(Z8I.renko !== m8I){Z8I.renko=m8I;a8I.changeOccurred("layout");}}O8I=[];X8I=null;c8I=null;h8I=null;if(o8I.length){t8I=o8I[o8I.length - +"1"];X8I=t8I.Low - m8I;c8I=t8I.High + m8I;}for(var i8I=+"0";i8I < r8I.length;i8I++){F8I=r8I[i8I];if(!F8I)continue;if(!X8I && !c8I){l8I=F8I.Open || F8I.Open === 0?F8I.Open:F8I.Close;G8I=Math.floor(l8I / m8I) * m8I;y8I=isNaN(G8I)?l8I:G8I;q67m.r1kc(4);X8I=q67m.j1kc(m8I,y8I);q67m.N1kc(2);c8I=q67m.n1kc(m8I,y8I);}while(! ![]){if(!h8I){h8I=F8I;}if(F8I.Close <= X8I){q67m.N1kc(2);q8I(q67m.n1kc(m8I,X8I),X8I);q67m.r1kc(12);c8I=q67m.n1kc(2,X8I,m8I);X8I-=m8I;h8I=null;}else if(F8I.Close >= c8I){q67m.r1kc(4);q8I(q67m.n1kc(m8I,c8I),c8I);q67m.r1kc(13);X8I=q67m.j1kc(2,m8I,c8I);c8I+=m8I;h8I=null;}else break;}g8I.currentQuote=F8I;}if(X8I < r8I[r8I.length - 1].Close && X8I + m8I > r8I[r8I.length - 1].Close){q67m.r1kc(2);q8I(q67m.n1kc(m8I,X8I),r8I[r8I.length - 1].Close);}else if(c8I > r8I[r8I.length - 1].Close && c8I - m8I < r8I[r8I.length - 1].Close){q67m.r1kc(4);q8I(q67m.n1kc(m8I,c8I),r8I[r8I.length - 1].Close);}function q8I(K8I,f8I){q67m.z17m();var C8I;K8I=Number(K8I.toFixed(+"8"));f8I=Number(f8I.toFixed(8));C8I={DT:h8I.DT,displayDate:h8I.displayDate,Date:h8I.Date,Open:K8I,Close:f8I,High:Math.max(K8I,f8I),Low:Math.min(K8I,f8I),Volume:0,iqPrevClose:K8I != f8I?K8I:null};for(var x8I in h8I){if(!C8I[x8I] && C8I[x8I] !== +"0"){C8I[x8I]=h8I[x8I];}}O8I.push(C8I);}return O8I;};O1I.calculateRangeBars=function(k8I,B8I,w8I,E8I){var s67m=R9EE;var m34,D8I,Q8I,I8I,u8I,V8I,v8I,Y34,n8I,H8I,R8I,d8I,s8I,b8I,N8I,j8I,A8I,M8I,L8I,S8I,p8I,X5I;m34="C";m34+="lo";m34+="s";m34+="e";function U8I(){s67m.r1kc(2);R8I=s67m.n1kc(w8I,H8I);s67m.N1kc(4);d8I=s67m.j1kc(w8I,H8I);s8I=H8I;}if(!B8I.length){return B8I;}function J8I(i5I,T5I){while(+"1"){if(!b8I){b8I=i5I;}if(H8I < T5I){H8I=Math.min(T5I,R8I);s67m.r1kc(4);d8I=Math.max(d8I,s67m.n1kc(w8I,H8I));if(T5I < R8I)break;}else if(H8I >= T5I){H8I=Math.max(T5I,d8I);s67m.N1kc(2);R8I=Math.min(R8I,s67m.j1kc(w8I,H8I));if(T5I > d8I)break;}if(typeof H8I == "undefined"){console.log("Uh oh undefined in calculateRangeBars:processMove");return;}P8I(H8I);b8I=null;U8I();}}if(!E8I){E8I=[];}s67m.z17m();D8I=k8I.layout;Q8I=k8I.chart;I8I=Q8I.state.aggregation;if(!I8I){I8I=Q8I.state.aggregation={};}u8I=Math.min(+"300",B8I.length);function P8I(Z5I){s67m.q17m();var c5I;c5I={DT:b8I.DT,displayDate:b8I.displayDate,Date:b8I.Date,Open:Number(s8I.toFixed(+"8")),Close:Number(Z5I.toFixed("8" * 1)),High:Number(R8I.toFixed(8)),Low:Number(d8I.toFixed(8)),Volume:0};c5I.iqPrevClose=c5I.Open;for(var a5I in b8I){if(!c5I[a5I] && c5I[a5I] !== 0){c5I[a5I]=b8I[a5I];}}n8I.push(c5I);}if(!I8I.minMax){I8I.minMax=k8I.determineMinMax(B8I.slice(B8I.length - u8I),[m34,"High","Low"]);}V8I=I8I.minMax[1] - I8I.minMax[0];v8I=k8I.panels[Q8I.name].height;if(!v8I){return [];}Q8I.defaultChartStyleConfig.range=Math.floor(+"10000" * V8I / (v8I / 30)) / 10000;if(w8I === null || isNaN(w8I) || w8I < 0){w8I=Q8I.defaultChartStyleConfig.range;if(D8I.range !== null){D8I.range=null;k8I.changeOccurred("layout");}}else {s67m.r1kc(10);w8I=Math.max(w8I,s67m.j1kc(v8I,V8I));if(D8I.range !== w8I){Y34="l";Y34+="ayo";Y34+="u";Y34+="t";D8I.range=w8I;k8I.changeOccurred(Y34);}}n8I=[];H8I=null;R8I=null;d8I=null;s8I=null;b8I=null;for(var Y8I=0;Y8I < B8I.length;Y8I++){N8I=B8I[Y8I];if(!N8I)continue;s67m.r1kc(14);j8I=B8I[s67m.n1kc(Y8I,0,"1")];if(!Y8I){if(!j8I){j8I=E8I[E8I.length - 1];}if(j8I){H8I=j8I.Close;if(H8I || H8I === 0){U8I();}}}if(!j8I)continue;A8I=N8I.Close;M8I=N8I.Open;L8I=N8I.High;S8I=N8I.Low;if(!A8I && A8I !== 0)continue;M8I=M8I || M8I === 0?M8I:A8I;L8I=L8I || L8I === 0?L8I:A8I;S8I=S8I || S8I === +"0"?S8I:A8I;if(!H8I && H8I !== 0){p8I=Math.floor(M8I / w8I) * w8I;H8I=isNaN(p8I)?M8I:p8I;U8I();J8I(j8I,M8I);}if(Y8I){J8I(N8I,M8I);}if(L8I - M8I < M8I - S8I){if(L8I){J8I(N8I,L8I);}if(S8I){J8I(N8I,S8I);}}else {if(S8I){J8I(N8I,S8I);}if(L8I){J8I(N8I,L8I);}}J8I(N8I,A8I);if(Y8I == B8I.length - 1 && A8I != s8I){X5I=R8I;s67m.N1kc(2);R8I=s67m.n1kc(w8I,d8I);s67m.r1kc(4);d8I=s67m.n1kc(w8I,X5I);P8I(A8I);}}return n8I;};R9EE.q17m();O1I.calculatePointFigure=function(c0I,h0I,g0I,z0I){var O67m=R9EE;var b5I,E5I,a0I,W5I,P34,w5I,Z80,t80,y80,v5I,r0I,X0I,P5I,S5I,H5I,Y5I,O5I,j5I,m0I,G5I,f5I,n5I,u5I;if(!h0I.length){return h0I;}if(!z0I){z0I=[];}b5I=c0I.layout;E5I=c0I.chart;a0I=E5I.state.aggregation;if(!a0I){a0I=E5I.state.aggregation={};}function F0I(O0I,t0I,l0I,G0I,y0I){var g00,G00,C00;O0I.High=Math.max(t0I,O0I.High);O0I.Low=Math.min(l0I,O0I.Low);O67m.N1kc(1);g00=O67m.j1kc("2000267605",0);O67m.z17m();G00=2092579874;C00=2;for(var e00=+"1";O67m.h50(e00.toString(),e00.toString().length,38106) !== g00;e00++){O0I.Close=G0I;O67m.N1kc(15);C00+=O67m.j1kc("2",0);}if(O67m.h50(C00.toString(),C00.toString().length,98801) !== G00){O0I.Close=G0I;}O0I.Volume+=y0I;}E5I.defaultChartStyleConfig.box=1;E5I.defaultChartStyleConfig.reversal=3;if(!g0I){g0I={};}W5I=g0I.box;if(!W5I){if(b5I.pandf){if(b5I.pandf.box !== null){P34="la";P34+="y";P34+="o";P34+="ut";b5I.pandf.box=null;c0I.changeOccurred(P34);}}W5I=E5I.defaultChartStyleConfig.box;w5I=h0I[h0I.length - 1].Close;if(w5I){Z80=-1158140088;t80=570758260;y80=2;for(var K80=1;O67m.h50(K80.toString(),K80.toString().length,+"27227") !== Z80;K80++){if(w5I < +"0.25"){W5I=0.0625;}else if(w5I < 1){W5I=0.125;}else if(w5I < 5){W5I=0.25;}else if(w5I < 20){O67m.r1kc(4);W5I=O67m.j1kc(0,"0.5");}else if(w5I < 100){W5I=1;}else if(w5I < 200){W5I=2;}else if(w5I < 500){W5I=4;}else if(w5I < 1000){W5I=5;}else if(w5I < 25000){W5I=50;}else {W5I=500;}y80+=2;}if(O67m.M00(y80.toString(),y80.toString().length,28383) !== t80){if(w5I <= 1117){W5I=547184;}else if(w5I >= +"2"){W5I=83057;}else if(w5I > 6){W5I=7912;}else if(w5I <= 49){W5I=111;}else if(w5I >= 408){W5I=+"5";}else if(w5I >= 513){W5I=3;}else if(w5I > 963){W5I=1;}else if(w5I >= 8928){W5I=8;}else if(w5I > 96408){W5I=11;}else {W5I=571;}}}if(!O1I.ChartEngine.isDailyInterval(b5I.interval)){W5I/=10;}if(O1I.Market.Symbology.isForexSymbol(E5I.symbol)){if(w5I){if(w5I < 1){W5I=0.001;}else if(w5I < 2){W5I=+"0.002";}else if(w5I < 50){W5I=0.02;}else if(w5I < 200){W5I=+"0.2";}}if(O1I.ChartEngine.isDailyInterval(b5I.interval)){W5I*=10;}}E5I.defaultChartStyleConfig.box=W5I;}W5I=parseFloat(W5I);if(isNaN(W5I) || W5I <= "0" << 67205696){if(b5I.pandf){if(b5I.pandf.box !== null){b5I.pandf.box=null;c0I.changeOccurred("layout");}}E5I.defaultChartStyleConfig.box=W5I=1;}v5I=Math.ceil(parseFloat(g0I.reversal));O67m.z17m();if(v5I > 0 && v5I > g0I.reversal){b5I.pandf.reversal=v5I;c0I.changeOccurred("layout");}else if(isNaN(v5I) || v5I <= 0){if(b5I.pandf){if(b5I.pandf.reversal !== null){b5I.pandf.reversal=null;c0I.changeOccurred("layout");}}v5I=E5I.defaultChartStyleConfig.reversal;}a0I.box=W5I;v5I*=W5I;function T0I(e0I,K0I,f0I,C0I,x0I,H0I,w0I,N0I,M0I){return {DT:e0I.DT,Date:e0I.Date,pfOpen:N0I,pfClose:M0I,Open:K0I,Close:x0I,High:f0I,Low:C0I,Volume:H0I,iqPrevClose:w0I};}r0I=0.00000001;function Z0I(W0I,i0I){for(var q0I in W0I){if(!i0I[q0I] && i0I[q0I] !== 0){i0I[q0I]=W0I[q0I];}}O67m.q17m();return i0I;}X0I=(W5I.toString() + ".").split(".")[1].length;P5I=[];S5I=0;for(var o0I=0;o0I < h0I.length;o0I++){Y5I=h0I[o0I];if(!Y5I)continue;S5I+=Y5I.Volume;j5I=Y5I.Close;m0I=Y5I.Open;G5I=Y5I.High;f5I=Y5I.Low;m0I=m0I || m0I === 0?m0I:j5I;G5I=G5I || G5I === 0?G5I:j5I;f5I=f5I || f5I === 0?f5I:j5I;if(!P5I.length && !z0I.length){H5I=Z0I(Y5I,T0I(Y5I,m0I,G5I,f5I,j5I,S5I,G5I + W5I,Number((Math.ceil(f5I / W5I - r0I) * W5I).toFixed(X0I)),Number((Math.floor(G5I / W5I + r0I) * W5I).toFixed(X0I))));H5I.pfTrend="X";if(H5I.pfOpen == H5I.pfClose){H5I.pfStepBack=(5491,5750) != (4715,276)?("7584" * 1,5414) == (316.9,+"5401")?(782,![]):(+"6420",139.25) === (+"5600",4190)?("s",0xb60):"-":(9.75e+3,"d");}P5I.push(H5I);S5I=0;continue;}O5I=P5I[P5I.length - 1];if(!O5I){O5I=O1I.clone(z0I[z0I.length - 1]);}if(O5I.pfTrend == ((+"4742","4220" * 1) !== (603.89,998)?(+"7683","498.71" - 0) >= 7890?(493.21,"0x6ca" & 2147483647):"O":(4.07e+3,"7.92e+3" >> 942361568))){if(f5I <= O5I.pfClose - W5I){O5I.pfClose=Number((Math.ceil(f5I / W5I - r0I) * W5I).toFixed(X0I));if(O5I.pfStepBack == (4600 < 3040?(955.44,"C"):"O")){O5I.pfStepBack=null;}F0I(O5I,G5I,f5I,j5I,S5I);}else if(G5I >= O5I.pfClose + v5I){n5I=O5I.pfClose + W5I;u5I=Number((Math.floor(G5I / W5I + r0I) * W5I).toFixed(X0I));H5I=T0I(Y5I,m0I,G5I,f5I,j5I,S5I,O5I.pfClose,n5I,u5I);if(n5I == u5I){H5I.pfStepBack="X";}if(O5I.pfStepBack == ((9619,429.89) > 3880?(7497,881.01) > 6790?(861.69,"G"):(+"1610",3900) > 8407?893.10:(+"0x199e",! !1):"O")){O5I.pfOpen=n5I;O5I.pfClose=u5I;O5I.pfTrend=6382 != (359,9170)?"X":("28" ^ 0) >= (9870,9030)?! !0:(+"793.66",![]);F0I(O5I,G5I,f5I,j5I,S5I);}else {H5I=Z0I(Y5I,H5I);H5I.pfTrend="X";P5I.push(H5I);}}else {F0I(O5I,G5I,f5I,j5I,S5I);}S5I=0;}else if(O5I.pfTrend == "X"){if(G5I >= O5I.pfClose + W5I){O5I.pfClose=Number((Math.floor(G5I / W5I + r0I) * W5I).toFixed(X0I));if(O5I.pfStepBack == (727.94 == 233.12?(0xb1a,0xd31):(737.89,+"3461") > (7596,"910.66" - 0)?893.28 >= 9070?("c",1.12e+3):"X":983.01) || O5I.pfStepBack == (42 == (735.26,589.09)?"866.8" * 1 <= (+"2480",552.79)?(357.04,"Q"):7.90e+3:"-")){O5I.pfStepBack=null;}F0I(O5I,G5I,f5I,j5I,S5I);}else if(f5I <= O5I.pfClose - v5I){n5I=O5I.pfClose - W5I;u5I=Number((Math.ceil(f5I / W5I - r0I) * W5I).toFixed(X0I));H5I=T0I(Y5I,m0I,G5I,f5I,j5I,S5I,O5I.pfClose,n5I,u5I);if(n5I == u5I){H5I.pfStepBack="109.64" - 0 < "4895" * 1?"O":(9.42e+3,3.11e+3);}if(O5I.pfStepBack == "X" || O5I.pfStepBack == "-"){O5I.pfOpen=n5I;O5I.pfClose=u5I;O5I.pfTrend="O";F0I(O5I,G5I,f5I,j5I,S5I);if(n5I != u5I && O5I.pfStepBack == "-"){O5I.pfStepBack=null;}}else {H5I=Z0I(Y5I,H5I);H5I.pfTrend="O";P5I.push(H5I);}}else {F0I(O5I,G5I,f5I,j5I,S5I);}O67m.N1kc(16);S5I=O67m.n1kc(1,"0");}}return P5I;};};n2n=B0I=>{var v67m=R9EE;var L0I,S0I,b34,N54,i54,u54,z44,u44,i44,N44,L44,d44,B44,T44,a44,C44,G44,t14,u14,w74,P74,O74,a74,C74,S74,v74,H34,r34,L34,d34;L0I=typeof _CIQ !== "undefined"?_CIQ:B0I.CIQ;S0I=typeof _timezoneJS !== "undefined"?_timezoneJS:B0I.timezoneJS;if(!L0I.Drawing){b34="drawingAdvanced feat";b34+="ure requires first activating drawing feature.";N54=1206298806;i54=-1069731186;u54=2;for(var H54=1;v67m.h50(H54.toString(),H54.toString().length,67826) !== N54;H54++){console.error("");u54+=2;}if(v67m.h50(u54.toString(),u54.toString().length,62354) !== i54){console.error("");}console.error(b34);}else {z44="br[cq-wave-paramete";z44+="rs]";u44="p";u44+="attern";i44="l";i44+="i";i44+="neCol";i44+="or";N44="I";N44+="I";L44="pa";L44+="ttern";d44="l";d44+="ineW";d44+="idt";d44+="h";B44="fil";B44+="l";B44+="Color";T44="fillC";T44+="o";T44+="lor";a44="patte";a44+="r";a44+="n3";C44="co";C44+="lor2";G44="ac";G44+="t";G44+="iv";G44+="e1";t14="p";t14+="at";t14+="tern";u14="fil";u14+="l";u14+="Color";w74="fi";w74+="llCol";w74+="or";P74="p";P74+="l";O74="p";O74+="t";a74="pa";a74+="tt";a74+="ern";C74="fillCol";C74+="or";S74="pa";S74+="tte";S74+="rn";v74="c";v74+="o";v74+="lor";H34="p";H34+="a";H34+="ttern";r34="lin";r34+="eWi";r34+="d";r34+="th";L34="pat";L34+="ter";L34+="n";d34="fi";d34+="ll";d34+="Colo";d34+="r";L0I.Drawing.ray=function(){v67m.q17m();this.name="ray";};L0I.inheritsFrom(L0I.Drawing.ray,L0I.Drawing.line);L0I.Drawing.ray.prototype.calculateOuterSet=function(b0I){var R0I,d0I;if(this.p0[+"0"] == this.p1[0] || this.p0[1] == this.p1[1] || L0I.ChartEngine.isDailyInterval(this.stx.layout.interval)){return;}R0I={x0:this.p0["0" | 0],y0:this.p0[1],x1:this.p1[0],y1:this.p1[1]};d0I=R0I.x1 + 1000;if(R0I.x0 > R0I.x1){d0I=R0I.x1 - 1000;}this.v0B=this.v0;this.v1B=L0I.yIntersection(R0I,d0I);this.d0B=this.d0;this.d1B=this.stx.dateFromTick(d0I,b0I.chart);};L0I.Drawing.ray.prototype.adjust=function(){var A0I;A0I=this.stx.panels[this.panelName];if(!A0I){return;}this.setPoint(0,this.d0,this.v0,A0I.chart);this.setPoint(1,this.d1,this.v1,A0I.chart);if(L0I.ChartEngine.isDailyInterval(this.stx.layout.interval) && this.d0B){this.setPoint(+"1",this.d1B,this.v1B,A0I.chart);}};L0I.Drawing.continuous=function(){this.name="continuous";this.dragToDraw=!{};this.maxSegments=null;};L0I.inheritsFrom(L0I.Drawing.continuous,L0I.Drawing.segment);L0I.Drawing.continuous.prototype.click=function(D0I,I0I,J0I){var Y0I,k0I,j0I,Q0I;Y0I=this.stx.panels[this.panelName];if(!Y0I){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,I0I,J0I,Y0I.chart);this.penDown=! ![];return !{};}if(this.accidentalClick(I0I,J0I)){this.stx.undo();return ! ![];}this.setPoint(1,I0I,J0I,Y0I.chart);k0I=L0I.Drawing.segment;j0I=new k0I();Q0I=this.serialize(this.stx);j0I.reconstruct(this.stx,Q0I);this.stx.addDrawing(j0I);this.stx.changeOccurred("vector");this.stx.draw();this.segment++;if(this.maxSegments && this.segment > this.maxSegments){return ! !{};}this.setPoint(0,I0I,J0I,Y0I.chart);return ! !"";};L0I.Drawing.ellipse=function(){var F34;F34="el";F34+="l";F34+="ipse";this.name=F34;};L0I.inheritsFrom(L0I.Drawing.ellipse,L0I.Drawing.BaseTwoPoint);L0I.Drawing.ellipse.prototype.render=function(E0I){var R34,V0I,F6I,u0I,P0I,m6I,n0I,r6I,X6I,c6I,h6I,U0I,v0I,s0I,f34,p0I,L80,V80,Q80,g6I;R34="a";R34+="u";R34+="t";R34+="o";V0I=this.stx.panels[this.panelName];if(!V0I){return;}F6I=this.stx.pixelFromTick(this.p0[0],V0I.chart);u0I=this.stx.pixelFromTick(this.p1[0],V0I.chart);P0I=this.stx.pixelFromValueAdjusted(V0I,this.p0[0],this.p0["1" & 2147483647]);m6I=this.stx.pixelFromValueAdjusted(V0I,this.p1["0" >> 2043563392],this.p1[1]);v67m.N1kc(17);n0I=v67m.n1kc(u0I,F6I,F6I);r6I=u0I;X6I=P0I;c6I=m6I;v67m.N1kc(17);h6I=v67m.n1kc(m6I,P0I,P0I);v67m.r1kc(18);U0I=v67m.n1kc(h6I,6,c6I);v0I=this.lineWidth;if(!v0I){v0I=1.1;}s0I=this.color;if(s0I == "auto" || L0I.isTransparent(s0I)){s0I=this.stx.defaultColor;}if(this.highlighted){f34="stx_highl";f34+="ig";f34+="ht_vector";s0I=this.stx.getCanvasColor(f34);if(v0I == 0.1){v0I=1.1;}}p0I=this.fillColor;E0I.beginPath();E0I.moveTo(n0I,X6I);v67m.q17m();v67m.N1kc(2);E0I.bezierCurveTo(n0I,v67m.j1kc(U0I,c6I),r6I,v67m.j1kc(U0I,c6I),r6I,X6I);v67m.r1kc(4);E0I.bezierCurveTo(r6I,v67m.j1kc(U0I,h6I),n0I,v67m.n1kc(U0I,h6I),n0I,X6I);if(p0I && !L0I.isTransparent(p0I) && p0I != R34){E0I.fillStyle=p0I;E0I.globalAlpha=0.2;E0I.fill();E0I.globalAlpha=1;}if(s0I && this.pattern != "none"){E0I.strokeStyle=s0I;E0I.lineWidth=v0I;if(E0I.setLineDash){E0I.setLineDash(L0I.borderPatternToArray(v0I,this.pattern));E0I.lineDashOffset=0;;}E0I.stroke();}E0I.closePath();if(this.highlighted){L80=68834785;V80=-247487173;Q80=2;for(var X80=1;v67m.M00(X80.toString(),X80.toString().length,63709) !== L80;X80++){g6I=this.highlighted !== ""?![]:! !{};Q80+=2;}if(v67m.M00(Q80.toString(),Q80.toString().length,+"50581") !== V80){g6I=this.highlighted === ""?! ![]:![];}g6I=this.highlighted == "p1"?! !{}:!{};this.littleCircle(E0I,u0I,m6I,g6I);}};L0I.Drawing.ellipse.prototype.intersected=function(q6I,i6I,z6I){var o34,U80,g80,G80,a6I,o6I,Z6I,T6I;if(!this.p0 || !this.p1){return null;}if(this.pointIntersection(this.p1[+"0"],this.p1[1],z6I)){o34="d";o34+="r";o34+="a";o34+="g";U80=2058421605;g80=1476870309;G80=2;for(var a80=+"1";v67m.M00(a80.toString(),a80.toString().length,49980) !== U80;a80++){this.highlighted="";G80+=2;}if(v67m.h50(G80.toString(),G80.toString().length,9957) !== g80){this.highlighted="";}this.highlighted="p1";return {action:o34,point:"p1"};}a6I=this.p0[0] - (this.p1[+"0"] - this.p0[0]);o6I=this.p1[0];Z6I=this.p1[1];T6I=this.p0[1] - (this.p1[1] - this.p0[1]);if(z6I.x0 > Math.max(a6I,o6I) || z6I.x1 < Math.min(a6I,o6I)){return ![];}if(z6I.y1 > Math.max(T6I,Z6I) || z6I.y0 < Math.min(T6I,Z6I)){return !{};}this.highlighted=!0;return {action:"move",p0:L0I.clone(this.p0),p1:L0I.clone(this.p1),tick:q6I,value:i6I};};L0I.Drawing.ellipse.prototype.configs=["color",d34,"lineWidth",L34];L0I.Drawing.ellipse.prototype.reconstruct=function(O6I,W6I){this.stx=O6I;this.color=W6I.col;this.fillColor=W6I.fc;this.panelName=W6I.pnl;this.pattern=W6I.ptrn;this.lineWidth=W6I.lw;this.d0=W6I.d0;this.d1=W6I.d1;this.tzo0=W6I.tzo0;this.tzo1=W6I.tzo1;this.v0=W6I.v0;this.v1=W6I.v1;this.adjust();};L0I.Drawing.ellipse.prototype.serialize=function(){v67m.z17m();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};};L0I.Drawing.channel=function(){var Q34;Q34="channe";Q34+="l";this.name=Q34;this.dragToDraw=![];this.p2=null;};L0I.inheritsFrom(L0I.Drawing.channel,L0I.Drawing.segment);L0I.Drawing.channel.prototype.configs=["color","fillColor",r34,"pattern"];L0I.Drawing.channel.prototype.move=function(y6I,t6I,l6I){var G6I;if(!this.penDown){return;}v67m.q17m();this.copyConfig();if(this.p2 === null){this.p1=[t6I,l6I];}else {G6I=l6I - (this.p1[1] - this.p0[1]) / (this.p1[0] - this.p0[0]) * (t6I - this.p1[0]);this.p2=[this.p1[0],G6I];}this.render(y6I);};L0I.Drawing.channel.prototype.click=function(C6I,K6I,f6I){var e6I;e6I=this.stx.panels[this.panelName];if(!e6I){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,K6I,f6I,e6I.chart);this.penDown=!"";return ![];}if(this.accidentalClick(K6I,f6I)){this.stx.undo();return !0;}if(this.p2 !== null){this.setPoint(2,this.p2[0],this.p2[1],e6I.chart);this.penDown=![];return !0;}this.setPoint(1,K6I,f6I,e6I.chart);if(this.p0[0] == this.p1["0" * 1]){this.p1=null;return ![];}this.p2=[this.p1[0],this.p1[1]];return !"1";};L0I.Drawing.channel.prototype.boxIntersection=function(M6I,B6I,w6I){var x6I,H6I,N6I,L6I,S6I;x6I=this.p0;H6I=this.p1;N6I=this.p2;if(!x6I || !H6I || !N6I){return ! !"";}if(w6I.x0 > Math.max(x6I[+"0"],H6I[0]) || w6I.x1 < Math.min(x6I[0],H6I[0])){return ! !"";}L6I=(H6I[0] - x6I[0]) * ((N6I[+"1"] < x6I[1]?w6I.y1:w6I.y0) - x6I[1]) - (H6I[1] - x6I[1]) * (M6I - x6I[0]);S6I=(N6I["0" ^ 0] - x6I[0]) * ((N6I[1] > x6I[+"1"]?w6I.y1:w6I.y0) - (x6I[1] + N6I[+"1"] - H6I[1])) - (H6I[1] - x6I[1]) * (M6I - x6I["0" | 0]);v67m.r1kc(19);return v67m.j1kc(L6I,0,S6I);};L0I.Drawing.channel.prototype.intersected=function(b6I,A6I,Y6I){var d6I,c34;if(!this.p0 || !this.p1 || !this.p2){return null;}d6I={0:this.p0,1:this.p1,2:this.p2};for(var R6I in d6I){if(this.pointIntersection(d6I[R6I][0],d6I[R6I][1],Y6I)){v67m.r1kc(2);this.highlighted=v67m.j1kc(R6I,(497.61,9310) === (295,6530)?4.50e+3:(26.1,427) > 6730?("a",273.66):(7836,5303) <= 8080?"p":2.22e+3);return {action:"drag",point:(57.88 !== (600.3,927.23)?"p":(+"328.86",2870) != ("1670" - 0,167)?(6330,308.57) != 6480?(774.39,! !"1"):4.84e+3:8.57e+3) + R6I};}}if(this.boxIntersection(b6I,A6I,Y6I)){c34="m";c34+="o";c34+="ve";this.highlighted=! !{};return {action:c34,p0:L0I.clone(this.p0),p1:L0I.clone(this.p1),p2:L0I.clone(this.p2),tick:b6I,value:A6I};}return null;};L0I.Drawing.channel.prototype.render=function(I6I){v67m.q17m();var z34,i34,J6I,Q6I,j6I,D6I,E6I,k6I,n6I,V6I,v6I,s6I,U6I,p6I,u6I;z34="se";z34+="gm";z34+="en";z34+="t";i34="a";i34+="u";i34+="to";J6I=this.stx.panels[this.panelName];if(!J6I){return;}Q6I=this.stx.pixelFromTick(this.p0[0],J6I.chart);j6I=this.stx.pixelFromTick(this.p1[0],J6I.chart);D6I=this.stx.pixelFromValueAdjusted(J6I,this.p0[0],this.p0[1]);E6I=this.stx.pixelFromValueAdjusted(J6I,this.p1[0],this.p1[1]);k6I=null;if(this.p2){k6I=this.stx.pixelFromValueAdjusted(J6I,this.p2[0],this.p2[1]);}n6I=this.lineWidth;V6I=this.getLineColor();v6I=this.fillColor;if(this.p2 && v6I && !L0I.isTransparent(v6I) && v6I != i34){I6I.beginPath();I6I.moveTo(Q6I,D6I);I6I.lineTo(j6I,E6I);I6I.lineTo(j6I,k6I);v67m.r1kc(20);I6I.lineTo(Q6I,v67m.j1kc(D6I,E6I,k6I));I6I.closePath();I6I.globalAlpha=0.2;I6I.fillStyle=v6I;I6I.fill();I6I.globalAlpha=1;}s6I={pattern:this.pattern,lineWidth:n6I};if((this.penDown || this.highlighted) && this.pattern == "none"){s6I.pattern="dotted";}this.stx.plotLine(Q6I,j6I,D6I,E6I,V6I,"segment",I6I,J6I,s6I);if(this.p2){v67m.r1kc(20);this.stx.plotLine(Q6I,j6I,v67m.n1kc(D6I,E6I,k6I),k6I,V6I,z34,I6I,J6I,s6I);}if(this.highlighted){U6I=this.highlighted == "p0"?!0:![];p6I=this.highlighted == "p1"?! !1:!"1";u6I=this.highlighted == "p2"?!"":!"1";this.littleCircle(I6I,Q6I,D6I,U6I);this.littleCircle(I6I,j6I,E6I,p6I);this.littleCircle(I6I,j6I,k6I,u6I);}};L0I.Drawing.channel.prototype.reposition=function(c9I,P6I,h9I,F9I){var m9I,r9I,X9I;if(!P6I){return;}m9I=this.stx.panels[this.panelName];r9I=P6I.tick - h9I;X9I=P6I.value - F9I;v67m.z17m();if(P6I.action == "move"){this.setPoint(0,P6I.p0[0] - r9I,P6I.p0[1] - X9I,m9I.chart);v67m.r1kc(4);this.setPoint(v67m.n1kc(0,"1"),P6I.p1["0" | 0] - r9I,P6I.p1[1] - X9I,m9I.chart);this.setPoint(2,P6I.p2[0] - r9I,P6I.p2[1] - X9I,m9I.chart);this.render(c9I);}else if(P6I.action == "drag"){this[P6I.point]=[h9I,F9I];v67m.r1kc(0);this.setPoint(v67m.n1kc("0",2147483647),this.p0[0],this.p0[1],m9I.chart);this.setPoint(1,this.p1[0],this.p1[1],m9I.chart);this.setPoint(2,this.p2[0],this.p2[1],m9I.chart);this.render(c9I);}};L0I.Drawing.channel.prototype.adjust=function(){var g9I;g9I=this.stx.panels[this.panelName];if(!g9I){return;}this.setPoint(0,this.d0,this.v0,g9I.chart);this.setPoint(+"1",this.d1,this.v1,g9I.chart);this.setPoint(2,this.d1,this.v2,g9I.chart);;};L0I.Drawing.channel.prototype.reconstruct=function(a9I,z9I){this.stx=a9I;this.color=z9I.col;this.fillColor=z9I.fc;this.panelName=z9I.pnl;this.pattern=z9I.ptrn;this.lineWidth=z9I.lw;this.d0=z9I.d0;this.d1=z9I.d1;this.tzo0=z9I.tzo0;this.tzo1=z9I.tzo1;this.v0=z9I.v0;this.v1=z9I.v1;this.v2=z9I.v2;this.adjust();};L0I.Drawing.channel.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,v2:this.v2};};L0I.Drawing.pitchfork=function(){var r04,c04,N04;this.name="pitchfork";v67m.r1kc(21);r04=-v67m.j1kc("1414631555",1857269376);c04=-1423508812;N04=2;for(var u04=1;v67m.M00(u04.toString(),u04.toString().length,52309) !== r04;u04++){this.dragToDraw=! !1;v67m.N1kc(21);N04+=v67m.n1kc("2",446140288);}if(v67m.M00(N04.toString(),N04.toString().length,94510) !== c04){this.dragToDraw=! !"";}this.p2=null;};L0I.inheritsFrom(L0I.Drawing.pitchfork,L0I.Drawing.channel);L0I.Drawing.pitchfork.prototype.configs=["color","lineWidth",H34];L0I.Drawing.pitchfork.prototype.move=function(T9I,o9I,Z9I){if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[o9I,Z9I];}else {this.p2=[o9I,Z9I];}this.render(T9I);};L0I.Drawing.pitchfork.prototype.intersected=function(t9I,l9I,G9I){var W9I,D34,O9I,h34,M74;if(!this.p0 || !this.p1 || !this.p2){return null;}W9I={0:this.p0,1:this.p1,2:this.p2};for(var i9I in W9I){if(this.pointIntersection(W9I[i9I]["0" | 0],W9I[i9I][1],G9I)){D34="d";D34+="r";D34+="a";D34+="g";v67m.N1kc(2);this.highlighted=v67m.n1kc(i9I,3.68 == 3220?("V",+"0x1a07"):53.51 !== (291,"9720" >> 946476896)?"4.1" - 0 >= (+"740","3128" | 3072)?("k",+"0xd1d"):"p":6.59e+3);return {action:D34,point:(6670 !== (7080,+"2536")?5300 !== 9792?(9729,9000) === 5990?"556.13" - 0:"p":(! !{},0x18a2):(! !{},"S")) + i9I};}}O9I=this.rays;for(var q9I="0" - 0;q9I < O9I.length;q9I++){h34="r";h34+="ay";if(this.lineIntersection(t9I,l9I,G9I,q9I?h34:"segment",O9I[q9I]["0" ^ 0],O9I[q9I][1],!"")){M74="mov";M74+="e";this.highlighted=! !{};return {action:M74,p0:L0I.clone(this.p0),p1:L0I.clone(this.p1),p2:L0I.clone(this.p2),tick:t9I,value:l9I};}}return null;};L0I.Drawing.pitchfork.prototype.render=function(L9I){var y9I,e9I,H9I,S9I,K9I,f9I,B9I,C9I,x9I,b9I,A9I,Y9I,w9I,R9I,d9I,M9I,I9I,J9I,j9I,k9I;y9I=this.stx.panels[this.panelName];if(!y9I){return;}e9I=this.stx;H9I=this.p2;if(!H9I){H9I=this.p1;}S9I=e9I.pixelFromTick(this.p0[0],y9I.chart);K9I=e9I.pixelFromTick(this.p1[0],y9I.chart);f9I=e9I.pixelFromTick(H9I[0],y9I.chart);B9I=e9I.pixelFromValueAdjusted(y9I,this.p0[0],this.p0[+"1"]);C9I=e9I.pixelFromValueAdjusted(y9I,this.p1[0],this.p1[1]);x9I=e9I.pixelFromValueAdjusted(y9I,H9I[0],H9I[1]);b9I=this.lineWidth;A9I=this.getLineColor();Y9I={pattern:this.pattern,lineWidth:b9I};w9I=+"50";v67m.N1kc(22);R9I=v67m.n1kc(B9I,2,C9I,x9I);v67m.r1kc(23);d9I=v67m.j1kc(0,"2",S9I,f9I,K9I);if(d9I < 0){w9I*=-1;}v67m.r1kc(10);R9I*=v67m.j1kc(d9I,w9I);v67m.N1kc(9);this.rays=[[[K9I,C9I],[f9I,x9I]],[[S9I,B9I],[v67m.n1kc(2,f9I,K9I),v67m.n1kc("2",x9I,C9I,0,v67m.r1kc(24))]]];if(!(K9I == f9I && C9I == x9I)){v67m.N1kc(4);this.rays.push([[K9I,C9I],[v67m.j1kc(w9I,K9I),v67m.j1kc(R9I,C9I)]],[[f9I,x9I],[v67m.j1kc(w9I,f9I),v67m.n1kc(R9I,x9I)]]);}for(var N9I=0;N9I < this.rays.length;N9I++){M9I=this.rays[N9I];I9I=N9I?"ray":"segment";e9I.plotLine(M9I["0" | 0][0],M9I[1][0],M9I[0][1],M9I[1][1],A9I,I9I,L9I,y9I,Y9I);}if(this.highlighted){J9I=this.highlighted == "p0"?! !1:! !0;j9I=this.highlighted == "p1"?! ![]:! !"";k9I=this.highlighted == "p2"?!0:! !"";this.littleCircle(L9I,S9I,B9I,J9I);this.littleCircle(L9I,K9I,C9I,j9I);this.littleCircle(L9I,f9I,x9I,k9I);}};L0I.Drawing.pitchfork.prototype.adjust=function(){var Q9I;Q9I=this.stx.panels[this.panelName];if(!Q9I){return;}this.setPoint(0,this.d0,this.v0,Q9I.chart);this.setPoint(1,this.d1,this.v1,Q9I.chart);this.setPoint(+"2",this.d2,this.v2,Q9I.chart);};L0I.Drawing.pitchfork.prototype.reconstruct=function(E9I,D9I){this.stx=E9I;v67m.q17m();this.color=D9I.col;this.panelName=D9I.pnl;this.pattern=D9I.ptrn;this.lineWidth=D9I.lw;this.d0=D9I.d0;this.d1=D9I.d1;this.d2=D9I.d2;this.tzo0=D9I.tzo0;this.tzo1=D9I.tzo1;this.tzo2=D9I.tzo2;this.v0=D9I.v0;this.v1=D9I.v1;this.v2=D9I.v2;this.adjust();};L0I.Drawing.pitchfork.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};};L0I.Drawing.gartley=function(){this.name="gartley";this.dragToDraw=! !0;this.maxSegments=4;this.shape=null;v67m.q17m();this.points=[];};L0I.inheritsFrom(L0I.Drawing.gartley,L0I.Drawing.continuous);L0I.Drawing.gartley.prototype.check=function(s9I,v9I){if(!v9I){return ! !1;}if(s9I[0] >= v9I[+"0"] || s9I[1] == v9I["1" >> 1553851712]){return ! !0;}if(this.segment == 1){if(s9I[1] < v9I[1]){this.shape=501 > 8760?627.02 >= 957.02?9.87e+3:6.44e+3:"M";}else {this.shape="W";}}else if(this.segment == +"2"){if(this.shape == "M" && s9I[1] < v9I[1]){return ! !0;}else if(this.shape == ((919.25,9620) == 4360?(2895,+"9680") != 1810?117 <= 6189?(941.77,0x54e):"u":0x1d21:"W") && s9I[1] > v9I[1]){return ! !0;}else if((v9I[1] - s9I["1" << 380308320]) / (this.points[0][1] - s9I[1]) < 0.618){return !{};}else if((v9I[1] - s9I[1]) / (this.points[0][1] - s9I[1]) >= 0.786){return !"1";}}else if(this.segment == "3" * 1){if(this.shape == "M" && s9I["1" & 2147483647] > v9I[1]){return !"1";}else if(this.shape == (+"3491" >= 211.46?("667.62" - 0,7610) !== (6112,"895" * 1)?"W":"j":("z",! !{})) && s9I[1] < v9I["1" & 2147483647]){return ! !0;}else if((v9I[1] - s9I[1]) / (this.points[1][1] - s9I[1]) < 0.618){return ![];}else if((v9I[1] - s9I[+"1"]) / (this.points[1][1] - s9I[1]) >= 0.786){return !1;}}else if(this.segment == 4){if(this.shape == "M" && (s9I[1] < v9I[1] || v9I[1] < this.points[0][1])){return !{};}else if(this.shape == (9661 < 5949?142.43:"W") && (s9I["1" << 714464608] > v9I[1] || v9I[+"1"] > this.points[0][1])){return !1;}else if((this.points[1][1] - v9I[1]) / (this.points[1][1] - this.points[2]["1" | 0]) < 1.27){return ! !0;}else if((this.points[1][1] - v9I[1]) / (this.points[1][1] - this.points[2][1]) >= 1.618){return !{};}}v67m.q17m();return !0;};L0I.Drawing.gartley.prototype.click=function(p9I,n9I,U9I){var V9I,B54,d54,L54;V9I=this.stx.panels[this.panelName];if(!V9I){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,n9I,U9I,V9I.chart);this.pts=[];this.penDown=! !"1";this.segment=1;return ! !"";}if(this.accidentalClick(n9I,U9I)){this.penDown=!0;return ! !"";}if(this.check(this.p0,this.p1)){if(this.segment == +"1"){this.points.push(this.p0);}this.points.push(this.p1);this.setPoint(1,n9I,U9I,V9I.chart);this.segment++;if(this.segment > this.maxSegments){this.setPoint(+"0",this.points[0][0],this.points[0][1],V9I.chart);this.penDown=!{};B54=-1592284084;d54=-322965098;L54=2;for(var Q54=1;v67m.M00(Q54.toString(),Q54.toString().length,+"91876") !== B54;Q54++){return !1;}if(v67m.h50(L54.toString(),L54.toString().length,"84310" | 67586) !== d54){return ! !{};}}this.pts.push(this.d1,this.tzo1,this.v1);this.setPoint(0,n9I,U9I,V9I.chart);;}return ![];};L0I.Drawing.gartley.prototype.render=function(P9I){var u9I,i2I,g2I,W2I,z2I,X2I,O2I,a2I,F2I,h2I,r2I,o2I,Z2I,T2I,q2I,E54,X54,j54;u9I=this.stx.panels[this.panelName];if(!u9I){return;}i2I=this.stx.pixelFromTick(this.p0[0],u9I.chart);g2I=this.stx.pixelFromTick(this.p1[0],u9I.chart);W2I=this.stx.pixelFromValueAdjusted(u9I,this.p0[0],this.p0[1]);z2I=this.stx.pixelFromValueAdjusted(u9I,this.p1[0],this.p1[1]);if(this.segment == 2){this.drawDropZone(P9I,0.618 * this.points[0][1] + 0.382 * this.p0[1],"0.786" * 1 * this.points[0]["1" ^ 0] + 0.214 * this.p0[1],this.p0[0]);}else if(this.segment == 3){this.drawDropZone(P9I,"0.618" * 1 * this.points[1][1] + +"0.382" * this.p0[1],0.786 * this.points[1][+"1"] + 0.214 * this.p0["1" - 0],this.p0[0]);}else if(this.segment == 4){X2I=1.618 * this.points[2][1] - "0.618" * 1 * this.points[1][1];if(this.shape == ((541.9,+"310.13") !== 340.25?+"2726" <= 6476?(+"749.54",+"894") <= (821.95,515.84)?(!"1",!"1"):"M":("G","i"):("E",!""))){X2I=Math.max(X2I,this.points[+"0"][1]);}else {X2I=Math.min(X2I,this.points[0][1]);}this.drawDropZone(P9I,X2I,1.27 * this.points[2]["1" << 374182592] - 0.27 * this.points[1][1],this.p0[0]);}O2I=this.lineWidth;a2I=this.getLineColor();F2I={pattern:this.pattern,lineWidth:O2I};if((this.penDown || this.highlighted) && this.pattern == "none"){F2I.pattern="dotted";}if(this.segment <= this.maxSegments){this.stx.plotLine(i2I,g2I,W2I,z2I,a2I,this.name,P9I,u9I,F2I);}h2I=this.fillColor;r2I=[];if(this.points.length){P9I.beginPath();for(var m2I="1" * 1;m2I < this.points.length && m2I <= 4;m2I++){o2I=this.stx.pixelFromTick(this.points[m2I - 1][+"0"],u9I.chart);Z2I=this.stx.pixelFromTick(this.points[m2I][0],u9I.chart);T2I=this.stx.pixelFromValueAdjusted(u9I,this.points[m2I - 1][0],this.points[m2I - 1][+"1"]);q2I=this.stx.pixelFromValueAdjusted(u9I,this.points[m2I][0],this.points[m2I][1]);if(m2I == 1){r2I.push(o2I,T2I);}r2I.push(Z2I,q2I);this.stx.plotLine(o2I,Z2I,T2I,q2I,a2I,this.name,P9I,u9I,F2I);}if(this.points.length == 2 || this.points.length == 4){r2I.push(g2I,z2I);}if(this.points[2]){r2I.push(this.stx.pixelFromTick(this.points[2][0],u9I.chart),this.stx.pixelFromValueAdjusted(u9I,this.points[2][0],this.points[2][1]));}if(h2I && h2I != "auto" && !L0I.isTransparent(h2I)){for(var c2I=0;c2I < r2I.length;c2I+=2){if(c2I === 0){P9I.moveTo(r2I[0],r2I[+"1"]);}P9I.lineTo(r2I[c2I],r2I[c2I + 1]);}E54=-409358655;X54=1844460778;j54=+"2";for(var c54=1;v67m.h50(c54.toString(),c54.toString().length,42669) !== E54;c54++){P9I.fillStyle=h2I;j54+=2;}if(v67m.h50(j54.toString(),j54.toString().length,28933) !== X54){P9I.fillStyle=h2I;}v67m.r1kc(16);P9I.globalAlpha=v67m.n1kc(1,"0.2");P9I.closePath();P9I.fill();P9I.globalAlpha=1;}};};L0I.Drawing.gartley.prototype.lineIntersection=function(y2I,e2I,K2I,f2I){var t2I,G2I,p74;t2I=this.points;G2I=this.stx.panels[this.panelName];if(t2I.length != this.maxSegments + 1 || !G2I){return ![];}for(var l2I=0;l2I < t2I.length - 1;l2I++){p74="s";p74+="egm";p74+="ent";if(L0I.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,y2I,e2I,K2I,p74,t2I[l2I],t2I[l2I + 1])){return ! ![];}}return !{};};L0I.Drawing.gartley.prototype.boxIntersection=function(N2I,M2I,x2I){var H2I,w2I;if(!this.p0 || !this.p1){return ![];}if(x2I.x0 > Math.max(this.p0["0" << 1623233920],this.p1[0]) || x2I.x1 < Math.min(this.p0[0],this.p1[0])){return ![];}H2I=Math.min(this.p0[+"1"],this.p1[1]);w2I=Math.max(this.p0["1" << 853134016],this.p1[1]);for(var C2I=0;C2I < this.points.length;C2I++){H2I=Math.min(H2I,this.points[C2I][1]);w2I=Math.max(w2I,this.points[C2I][1]);}if(x2I.y1 > w2I || x2I.y0 < H2I){return !1;}return ! !1;};L0I.Drawing.gartley.prototype.reposition=function(Y2I,S2I,R2I,d2I){var B2I,b2I,A2I;if(!S2I){return;}B2I=this.stx.panels[this.panelName];b2I=S2I.tick - R2I;S2I.tick=R2I;A2I=S2I.value - d2I;v67m.q17m();S2I.value=d2I;if(S2I.action == "move"){this.pts=[];for(var L2I="0" | 0;L2I < this.points.length;L2I++){this.points[L2I][0]-=b2I;this.points[L2I][1]-=A2I;this.setPoint(1,this.points[L2I][+"0"],this.points[L2I][1],B2I.chart);if(L2I && L2I < this.points.length - 1){this.pts.push(this.d1,this.tzo1,this.v1);}this.points[L2I]=this.p1;}v67m.N1kc(16);this.setPoint(v67m.n1kc(1,"0"),this.points[0]["0" << 1823103328],this.points[0][1],B2I.chart);this.render(Y2I);;}};L0I.Drawing.gartley.prototype.configs=[v74,"fillColor","lineWidth",S74];L0I.Drawing.gartley.prototype.adjust=function(){var I2I;I2I=this.stx.panels[this.panelName];if(!I2I){return;}this.reconstructPoints();this.setPoint(0,this.d0,this.v0,I2I.chart);this.points.unshift(this.p0);this.setPoint(1,this.d1,this.v1,I2I.chart);this.points.push(this.p1);};L0I.Drawing.gartley.prototype.reconstructPoints=function(){var k2I,j2I;k2I=this.stx.panels[this.panelName];v67m.z17m();if(!k2I){return;}this.points=[];for(var J2I=0;J2I < this.pts.length;J2I+=3){j2I=L0I.strToDateTime(this.pts[J2I]);j2I.setMinutes(j2I.getMinutes() + Number(this.pts[J2I + 1]) - j2I.getTimezoneOffset());this.points.push([this.stx.tickFromDate(L0I.yyyymmddhhmmssmmm(j2I),k2I.chart),this.pts[J2I + +"2"]]);}};L0I.Drawing.gartley.prototype.reconstruct=function(D2I,Q2I){this.stx=D2I;this.color=Q2I.col;this.fillColor=Q2I.fc;this.panelName=Q2I.pnl;this.pattern=Q2I.ptrn;this.lineWidth=Q2I.lw;this.d0=Q2I.d0;this.d1=Q2I.d1;this.tzo0=Q2I.tzo0;this.tzo1=Q2I.tzo1;this.v0=Q2I.v0;this.v1=Q2I.v1;this.pts=Q2I.pts.split((+"3030",2740) <= (3510,+"348.26")?9127 != 8080?0x187e:3.19e+3:",");this.adjust();};L0I.Drawing.gartley.prototype.serialize=function(){v67m.q17m();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,pts:this.pts.join(",")};};L0I.Drawing.freeform=function(){this.name="freeform";this.splineTension=0.3;this.dragToDraw=! !"1";};L0I.inheritsFrom(L0I.Drawing.freeform,L0I.Drawing.segment);L0I.Drawing.freeform.prototype.measure=function(){};L0I.Drawing.freeform.prototype.intersected=function(v2I,s2I,E2I){v67m.z17m();if(E2I.x0 > this.hiX || E2I.x1 < this.lowX){return null;}if(E2I.y1 > this.hiY || E2I.y0 < this.lowY){return null;}this.highlighted=! !{};return {action:"move",p0:L0I.clone(this.p0),tick:v2I,value:s2I};};L0I.Drawing.freeform.prototype.reposition=function(u2I,V2I,P2I,m3I){var n2I,U2I,p2I;if(!V2I){return;}n2I=this.stx.panels[this.panelName];U2I=V2I.tick - P2I;p2I=V2I.value - m3I;if(V2I.action == "move"){this.setPoint(0,V2I.p0[0] - U2I,V2I.p0[1] - p2I,n2I.chart);this.adjust();this.render(u2I);}};L0I.Drawing.freeform.prototype.click=function(F3I,X3I,h3I){var r3I,c3I;r3I=this.stx.panels[this.panelName];if(!r3I){return;}if(this.penDown === ![]){this.copyConfig();this.startX=Math.round(this.stx.resolveX(this.stx.pixelFromTick(X3I,r3I.chart)));this.startY=Math.round(this.stx.resolveY(this.stx.pixelFromValueAdjusted(r3I,X3I,h3I)));c3I=this.stx.dateFromTick(X3I,r3I.chart,! !{});this.d0=L0I.yyyymmddhhmmssmmm(c3I);this.tzo0=c3I.getTimezoneOffset();this.v0=h3I;this.p0=[L0I.ChartEngine.crosshairX - this.startX,L0I.ChartEngine.crosshairY - this.startY];this.nodes=[this.p0[0],this.p0[1]];this.pNodes=[this.p0];this.candleWidth=this.stx.layout.candleWidth;this.multiplier=r3I.yAxis.multiplier;this.interval=this.stx.layout.interval;this.periodicity=this.stx.layout.periodicity;this.tempSplineTension=this.splineTension;this.splineTension=-1;document.body.style.cursor="pointer";this.penDown=!"";return !"1";}this.penDown=!"1";this.splineTension=this.tempSplineTension;v67m.q17m();document.body.style.cursor="auto";return !0;};L0I.Drawing.freeform.prototype.move=function(a3I,o3I,Z3I){var g3I,z3I;if(!this.penDown){return;}g3I=this.stx.panels[this.panelName];z3I=this.stx.dateFromTick(o3I,g3I.chart,!"");this.d1=L0I.yyyymmddhhmmssmmm(z3I);this.tzo1=z3I.getTimezoneOffset();this.v1=Z3I;v67m.q17m();this.p1=[L0I.ChartEngine.crosshairX - this.startX,g3I.yAxis.flipped?this.startY - L0I.ChartEngine.crosshairY:L0I.ChartEngine.crosshairY - this.startY];if(this.pNodes.length > 2){if(this.p1[0] == this.pNodes[this.pNodes.length - 2][+"0"] && this.p1[0] == this.pNodes[this.pNodes.length - 1]["0" >> 1420483968]){this.pNodes.length--;this.nodes.length-=2;}else if(this.p1[1] == this.pNodes[this.pNodes.length - 2]["1" | 0] && this.p1[+"1"] == this.pNodes[this.pNodes.length - 1][+"1"]){this.pNodes.length--;v67m.N1kc(0);this.nodes.length-=v67m.n1kc("2",2147483647);}}this.nodes.push(this.p1["0" ^ 0],this.p1["1" & 2147483647]);this.pNodes.push(this.p1);this.render(a3I);return ! !0;};L0I.Drawing.freeform.prototype.intervalRatio=function(O3I,T3I,e3I,K3I,i3I,W3I){var q3I,s74,U74,g74,G74;q3I=0;function G3I(w3I,N3I){return 30;}if(O3I == T3I){q3I=1;}else if(!isNaN(O3I) && !isNaN(T3I)){v67m.N1kc(10);q3I=v67m.n1kc(T3I,O3I);}else if(isNaN(O3I)){if(O3I == "month"){s74="d";s74+="a";s74+="y";if(T3I == "week"){q3I=y3I(i3I,W3I);}else if(T3I == s74){q3I=G3I(i3I,W3I);}else if(!isNaN(T3I)){q3I=G3I(i3I,W3I) * t3I(i3I,W3I) / T3I;}}else if(O3I == "week"){U74="m";U74+="on";U74+="t";U74+="h";if(T3I == U74){q3I=("1" << 1791100608) / y3I(i3I,W3I);}if(T3I == "day"){q3I=l3I(i3I,W3I);}else if(!isNaN(T3I)){q3I=l3I(i3I,W3I) * t3I(i3I,W3I) / T3I;}}else if(O3I == "day"){g74="w";g74+="e";g74+="e";g74+="k";if(T3I == g74){q3I=("1" ^ 0) / l3I(i3I,W3I);}else if(T3I == "month"){q3I=1 / G3I(i3I,W3I);}else if(!isNaN(T3I)){q3I=t3I(i3I,W3I) / T3I;}}}else if(!isNaN(O3I)){G74="da";G74+="y";if(T3I == "month"){q3I=O3I / (G3I(i3I,W3I) * t3I(i3I,W3I));}else if(T3I == "week"){q3I=O3I / (l3I(i3I,W3I) * t3I(i3I,W3I));}else if(T3I == G74){q3I=O3I / t3I(i3I,W3I);}}v67m.z17m();function y3I(f3I,C3I){return 5;}function l3I(x3I,H3I){v67m.z17m();return 5;}function t3I(L3I,M3I){v67m.z17m();if(L0I.Market.Symbology.isForexSymbol(M3I)){return 1440;}return 390;}v67m.N1kc(10);q3I*=v67m.j1kc(K3I,e3I);return q3I;};L0I.Drawing.freeform.prototype.render=function(J3I){var S3I,b3I,j3I,k3I,Q3I,A3I,B3I,D3I,Y3I,I3I,E3I,d3I;S3I=this.stx.panels[this.panelName];if(!S3I){return;}b3I=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,S3I.chart.symbol);if(b3I === +"0"){return;}j3I=this.stx.layout.candleWidth / this.candleWidth;k3I=S3I.yAxis.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,S3I.chart);Q3I=this.stx.pixelFromTick(this.p0[0],S3I.chart);A3I=this.stx.pixelFromValueAdjusted(S3I,this.p0[0],this.p0[1]);B3I=[];D3I=this.lineWidth;Y3I=this.getLineColor();I3I={pattern:this.pattern,lineWidth:D3I};for(var R3I=0;R3I < this.pNodes.length;R3I++){E3I=b3I * j3I * this.pNodes[R3I][+"0"] + Q3I;d3I=k3I * this.pNodes[R3I][1];if(S3I.yAxis.flipped){v67m.r1kc(4);d3I=v67m.n1kc(d3I,A3I);}else {d3I+=A3I;}B3I.push(E3I,d3I);}if(!B3I.length){return;}if(this.splineTension < 0){this.stx.connectTheDots(B3I,Y3I,this.name,J3I,S3I,I3I);}else {this.stx.plotSpline(B3I,this.splineTension,Y3I,this.name,J3I,!"",I3I);}};L0I.Drawing.freeform.prototype.adjust=function(){var v3I,m17,s3I,p3I,u3I,n3I,P3I,U3I;v3I=this.stx.panels[this.panelName];if(!v3I){return;}m17=[this.nodes[0],this.nodes[1]];this.pNodes=[m17];this.lowX=this.nodes[0];this.hiX=this.nodes[0];v67m.N1kc(15);this.lowY=this.nodes[v67m.j1kc("1",0)];this.hiY=this.nodes[1];for(var V3I=2;V3I < this.nodes.length;V3I+=2){v67m.N1kc(25);s3I=[this.nodes[V3I],this.nodes[v67m.n1kc("1",V3I)]];this.pNodes.push(s3I);this.lowX=Math.min(this.lowX,s3I["0" | 0]);this.hiX=Math.max(this.hiX,s3I[0]);this.lowY=Math.max(this.lowY,s3I[1]);this.hiY=Math.min(this.hiY,s3I[1]);}p3I=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,v3I.chart.symbol);if(p3I === 0){return;}u3I=this.stx.layout.candleWidth / this.candleWidth;n3I=v3I.yAxis.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,v3I.chart);P3I=this.stx.pixelFromTick(this.p0[0],v3I.chart);U3I=this.stx.pixelFromValueAdjusted(v3I,this.p0[0],this.p0["1" >> 626092000]);this.lowX=this.stx.tickFromPixel(Math.floor(p3I * u3I * this.lowX) + P3I,v3I.chart);this.hiX=this.stx.tickFromPixel(Math.ceil(p3I * u3I * this.hiX) + P3I,v3I.chart);if(v3I.yAxis.flipped){this.lowY=this.stx.valueFromPixel(U3I - Math.floor(n3I * this.lowY),v3I);this.hiY=this.stx.valueFromPixel(U3I - Math.ceil(n3I * this.hiY),v3I);}else {this.lowY=this.stx.valueFromPixel(Math.floor(n3I * this.lowY) + U3I,v3I);this.hiY=this.stx.valueFromPixel(Math.ceil(n3I * this.hiY) + U3I,v3I);}};L0I.Drawing.freeform.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,cw:Number(this.candleWidth.toFixed(4)),mlt:Number(this.multiplier.toFixed(4)),d0:this.d0,tzo0:this.tzo0,v0:this.v0,inter:this.interval,pd:this.periodicity,nodes:this.nodes};};L0I.Drawing.freeform.prototype.reconstruct=function(X17,r17){this.stx=X17;this.color=r17.col;this.panelName=r17.pnl;this.pattern=r17.ptrn;this.lineWidth=r17.lw;this.candleWidth=r17.cw;this.multiplier=r17.mlt;this.d0=r17.d0;this.tzo0=r17.tzo0;this.v0=r17.v0;this.interval=r17.inter;this.periodicity=r17.pd;this.nodes=r17.nodes;this.adjust();};L0I.Drawing.callout=function(){this.name="callout";this.arr=[];this.w=0;this.h=0;v67m.z17m();this.padding=+"4";this.text="";this.ta=null;this.fontSize=0;this.font={};this.stemEntry="";this.defaultWidth=50;this.defaultHeight=10;;};L0I.inheritsFrom(L0I.Drawing.callout,L0I.Drawing.annotation);L0I.Drawing.callout.prototype.configs=["color",C74,"lineWidth",a74,"font"];L0I.Drawing.callout.prototype.copyConfig=function(c17){L0I.Drawing.copyConfig(this,c17);this.borderColor=this.color;};L0I.Drawing.callout.prototype.move=function(h17,F17,g17){var m70,Y70,A70;if(!this.penDown){return;}this.copyConfig();this.p0=[F17,g17];v67m.N1kc(15);m70=-v67m.j1kc("331408876",327197764);Y70=1593693703;A70=2;for(var P70=1;v67m.h50(P70.toString(),P70.toString().length,99403) !== m70;P70++){this.render(h17);A70+=2;}if(v67m.h50(A70.toString(),A70.toString().length,82787) !== Y70){this.render(h17);}this.render(h17);};L0I.Drawing.callout.prototype.onChange=function(Z17){var o17,a17,z17;o17=this.stx.panels[this.panelName];if(!o17){return;}a17=Z17.target;this.w=a17.clientWidth;this.h=a17.clientHeight;z17=this.context || this.stx.chart.tempCanvas.context;v67m.z17m();L0I.clearCanvas(z17.canvas,this.stx);this.render(z17);this.edit(z17);};L0I.Drawing.callout.prototype.render=function(T17){var m74,K17,M17,N17,i17,q17,O17,W17,f17,C17,e17,l17,x17,G17,H17,t17,e74,y17,u80,z80,H80,x74,J74,k74,Y80,A80,O80,L17;m74="alpha";m74+="beti";m74+="c";this.context=T17;K17=this.stx.panels[this.panelName];if(!K17){return;}M17=this.stx.pixelFromTick(this.p0[0],K17.chart);N17=this.stx.pixelFromValueAdjusted(K17,this.p0[0],this.p0[1]);if(isNaN(N17)){return;}T17.font=this.fontString;T17.textBaseline="top";i17=M17;q17=N17;O17=this.w / +"2";W17=this.h / 2;if(this.penDown){O17=this.defaultWidth;W17=this.defaultHeight;if(!W17){W17=this.fontSize;}}f17=this.lineWidth;if(!f17){f17=1.1;}C17=this.color;if(C17 == "auto" || L0I.isTransparent(C17)){C17=this.stx.defaultColor;}e17=this.borderColor;if(e17 == "auto" || L0I.isTransparent(e17)){e17=this.stx.defaultColor;}if(this.highlighted){e17=this.stx.getCanvasColor("stx_highlight_vector");}t17=Math.min(Math.min(O17,W17) / 2,8);if(this.stem){e74="c";e74+="m";if(this.stem.t){l17=this.stx.pixelFromTick(this.stem.t);G17=this.stx.pixelFromValueAdjusted(K17,this.stem.t,this.stem.v);}else if(this.stem.x){l17=i17;G17=q17;i17+=this.stem.x;q17+=this.stem.y;}y17="";if(l17 >= i17 + O17){v67m.r1kc(2);x17=v67m.j1kc(O17,i17);y17="r";}else if(l17 > i17 - O17 && l17 < i17 + O17){x17=i17;y17="c";}else if(l17 <= i17 - O17){v67m.r1kc(4);x17=v67m.j1kc(O17,i17);y17="l";}if(G17 >= q17 + W17){v67m.r1kc(2);H17=v67m.n1kc(W17,q17);u80=911706614;z80=1924469187;H80=2;for(var I80=1;v67m.M00(I80.toString(),I80.toString().length,+"458") !== u80;I80++){y17/="";H80+=2;}if(v67m.h50(H80.toString(),H80.toString().length,14134) !== z80){y17+="b";}}else if(G17 > q17 - W17 && G17 < q17 + W17){H17=q17;y17+=1440 > 4230?"d":"m";}else if(G17 <= q17 - W17){v67m.r1kc(4);H17=v67m.j1kc(W17,q17);y17+=(807.24,4127) === (718,5500)?![]:(7250,"200" - 0) == ("358.47" - 0,+"6840")?"9.42e+3" << 1584546592:9890 >= (540.09,3893)?"t":"k";}this.stemEntry=y17;if(y17 != e74){l17=Math.round(l17);x17=Math.round(x17);G17=Math.round(G17);H17=Math.round(H17);}}if(this.highlighted){this.stx.canvasColor("stx_annotation_highlight_bg",T17);}else {if(this.fillColor){T17.fillStyle=this.fillColor;v67m.r1kc(16);T17.globalAlpha=v67m.n1kc(1,"0.4");}else if(this.stem){T17.fillStyle=this.stx.containerColor;}}T17.strokeStyle=e17;if(T17.setLineDash){T17.setLineDash(L0I.borderPatternToArray(f17,this.pattern));T17.lineDashOffset=0;;}if(e17){x74="c";x74+="t";J74="r";J74+="b";k74="r";k74+="t";T17.beginPath();T17.lineWidth=f17;v67m.N1kc(7);T17.moveTo(v67m.j1kc(t17,i17,O17),v67m.n1kc(W17,q17,v67m.N1kc(4)));if(this.stemEntry != k74){v67m.N1kc(2);T17.quadraticCurveTo(v67m.j1kc(O17,i17),v67m.n1kc(W17,q17,v67m.N1kc(4)),v67m.n1kc(O17,i17,v67m.r1kc(2)),v67m.n1kc(W17,t17,q17,v67m.r1kc(3)));;}else {T17.lineTo(l17,G17);v67m.N1kc(2);T17.lineTo(v67m.n1kc(O17,i17),v67m.n1kc(W17,t17,q17,v67m.r1kc(3)));}v67m.N1kc(2);T17.lineTo(v67m.n1kc(O17,i17),v67m.n1kc(q17,t17,2,v67m.r1kc(26)));Y80=830927753;A80=1249751388;v67m.r1kc(27);O80=v67m.j1kc(1007905088,"2");for(var w80=+"1";v67m.h50(w80.toString(),w80.toString().length,36597) !== Y80;w80++){if(this.stemEntry == "rm"){T17.lineTo(l17,G17);}v67m.N1kc(2);T17.lineTo(v67m.n1kc(O17,i17),v67m.n1kc(q17,2,t17,v67m.r1kc(28)));v67m.r1kc(2);T17.lineTo(v67m.n1kc(O17,i17),v67m.n1kc(t17,q17,W17,v67m.r1kc(7)));O80+=2;}if(v67m.M00(O80.toString(),O80.toString().length,24261) !== A80){if(this.stemEntry === ""){T17.lineTo(l17,G17);}v67m.r1kc(4);T17.lineTo(v67m.j1kc(O17,i17),v67m.n1kc(t17,"3",q17,v67m.N1kc(29)));v67m.r1kc(30);T17.lineTo(v67m.n1kc(i17,O17),v67m.n1kc(W17,t17,q17,v67m.N1kc(3)));}if(this.stemEntry != J74){v67m.N1kc(2);T17.quadraticCurveTo(v67m.n1kc(O17,i17),v67m.j1kc(W17,q17,v67m.r1kc(2)),v67m.j1kc(t17,i17,O17,v67m.r1kc(7)),v67m.n1kc(W17,q17,v67m.N1kc(2)));;}else {T17.lineTo(l17,G17);v67m.N1kc(7);T17.lineTo(v67m.n1kc(t17,i17,O17),v67m.j1kc(W17,q17,v67m.r1kc(2)));}v67m.r1kc(28);T17.lineTo(v67m.j1kc(i17,2,t17),v67m.j1kc(W17,q17,v67m.r1kc(2)));if(this.stemEntry == "cb"){T17.lineTo(l17,G17);}v67m.r1kc(26);T17.lineTo(v67m.n1kc(i17,t17,2),v67m.n1kc(W17,q17,v67m.r1kc(2)));v67m.r1kc(3);T17.lineTo(v67m.j1kc(O17,t17,i17),v67m.j1kc(W17,q17,v67m.N1kc(2)));if(this.stemEntry != "lb"){v67m.N1kc(4);T17.quadraticCurveTo(v67m.n1kc(O17,i17),v67m.j1kc(W17,q17,v67m.N1kc(2)),v67m.n1kc(O17,i17,v67m.r1kc(4)),v67m.n1kc(t17,q17,W17,v67m.r1kc(7)));;}else {T17.lineTo(l17,G17);v67m.r1kc(4);T17.lineTo(v67m.n1kc(O17,i17),v67m.j1kc(t17,q17,W17,v67m.r1kc(7)));}v67m.r1kc(4);T17.lineTo(v67m.n1kc(O17,i17),v67m.j1kc(q17,2,t17,v67m.N1kc(28)));if(this.stemEntry == "lm"){T17.lineTo(l17,G17);}v67m.r1kc(4);T17.lineTo(v67m.j1kc(O17,i17),v67m.j1kc(t17,"2",q17,v67m.r1kc(31)));v67m.N1kc(4);T17.lineTo(v67m.j1kc(O17,i17),v67m.n1kc(W17,t17,q17,v67m.r1kc(3)));if(this.stemEntry != "lt"){v67m.r1kc(4);T17.quadraticCurveTo(v67m.n1kc(O17,i17),v67m.j1kc(W17,q17,v67m.r1kc(4)),v67m.n1kc(O17,t17,i17,v67m.r1kc(3)),v67m.j1kc(W17,q17,v67m.N1kc(4)));;}else {T17.lineTo(l17,G17);v67m.N1kc(3);T17.lineTo(v67m.n1kc(O17,t17,i17),v67m.n1kc(W17,q17,v67m.N1kc(4)));}v67m.r1kc(26);T17.lineTo(v67m.j1kc(i17,t17,2),v67m.j1kc(W17,q17,v67m.N1kc(4)));if(this.stemEntry == x74){T17.lineTo(l17,G17);}v67m.r1kc(28);T17.lineTo(v67m.n1kc(i17,2,t17),v67m.n1kc(W17,q17,v67m.r1kc(4)));v67m.N1kc(7);T17.lineTo(v67m.n1kc(t17,i17,O17),v67m.j1kc(W17,q17,v67m.r1kc(4)));T17.fill();T17.globalAlpha=1;if(this.pattern != "none"){T17.stroke();}}if(this.highlighted){this.stx.canvasColor("stx_annotation_highlight",T17);}else {T17.fillStyle=C17;}q17+=this.padding;if(!this.ta){for(var w17=0;w17 < this.arr.length;w17++){T17.fillText(this.arr[w17],i17 - O17 + this.padding,q17 - W17);q17+=this.fontSize;}}T17.textBaseline=m74;if(this.highlighted && !this.noHandles){L17=this.highlighted == "p0"?! !1:! !"";this.littleCircle(T17,l17,G17,L17);};};L0I.Drawing.callout.prototype.click=function(B17,R17,d17){var S17;v67m.z17m();if(this.stx.overXAxis || this.stx.overYAxis){return;}S17=this.stx.panels[this.panelName];this.copyConfig();this.setPoint(0,R17,d17,S17.chart);if(!this.penDown){this.stem={d:this.d0,v:this.v0};this.penDown=!0;this.adjust();return !"1";}this.adjust();this.edit(B17);this.penDown=! !0;return !1;};L0I.Drawing.callout.prototype.reposition=function(k17,b17,J17,j17){var A17,Y17,I17,Y74;if(!b17){return;}A17=this.stx.panels[this.panelName];Y17=b17.tick - J17;I17=b17.value - j17;if(b17.stem){Y74="dr";Y74+="a";Y74+="g";if(b17.action == Y74){this.stem={d:this.stx.dateFromTick(J17,A17.chart,!""),v:j17};}else if(b17.action == "move"){this.setPoint(0,b17.p0[0] - Y17,b17.p0[1] - I17,A17.chart);this.stem={d:this.stx.dateFromTick(this.stx.tickFromDate(b17.stem.d,A17.chart) - Y17),v:b17.stem.v - I17};}this.adjust();}else {this.setPoint(0,b17.p0[0] - Y17,b17.p0[1] - I17,A17.chart);}this.render(k17);};L0I.Drawing.callout.prototype.lineIntersection=function(c47,h47,r47,X47){var n17,Q17,v17,U17,p17,u17,D17,s17,V17,P17,m47,E17;n17=this.stx.panels[this.panelName];Q17=this.stem;v67m.q17m();v17=this.p0;U17=this.stx;if(!v17 || !Q17 || !n17){return !1;}p17=Q17.t || this.stx.tickFromDate(Q17.d,n17.chart);u17={x0:v17[0],x1:p17,y0:v17[1],y1:Q17.v};D17=L0I.convertBoxToPixels(U17,this.panelName,u17);s17=D17.x0;V17=D17.y0;P17=D17.x1;m47=D17.y1;if(typeof this.stemEntry == "string"){if(this.stemEntry.indexOf(331 <= 7238?"l":"0x206a" & 2147483647) > -1){s17-=this.w / 2;}else if(this.stemEntry.indexOf("r") > - +"1"){s17+=this.w / 2;}if(this.stemEntry.indexOf("t") > - +"1"){V17-=this.h / 2;}else if(this.stemEntry.indexOf((4690,473.51) !== (203.06,579.25)?(876.83,3537) <= (+"843",214.44)?("0x9ee" * 1,0x26b):"b":(975.13,708.62)) > -1){V17+=this.h / 2;}}E17=L0I.convertBoxToPixels(U17,this.panelName,r47);return L0I.boxIntersects(E17.x0,E17.y0,E17.x1,E17.y1,s17,V17,P17,m47,X47);};L0I.Drawing.callout.prototype.intersected=function(g47,a47,F47){var z47,A74,o47,Z47,T47,q47,i47,W47,O47;z47=this.stx.panels[this.panelName];if(!this.p0){return null;}if(this.pointIntersection(this.stem.t,this.stem.v,F47)){A74="p";A74+="0";this.highlighted=A74;return {action:"drag",stem:! !"1"};}o47=this.stx.pixelFromTick(this.p0[0],z47.chart) - this.w / ("2" & 2147483647);Z47=this.stx.pixelFromValueAdjusted(z47,this.p0[0],this.p0["1" | 0]) - this.h / 2;T47=o47 + this.w;q47=Z47 + this.h;if(this.stem && this.stem.x){o47+=this.stem.x;T47+=this.stem.x;Z47+=this.stem.y;q47+=this.stem.y;}i47=this.stx.pixelFromTick(g47,z47.chart);W47=this.stx.pixelFromValueAdjusted(z47,g47,a47);if(i47 + F47.r >= o47 && i47 - F47.r <= T47 && W47 + F47.r >= Z47 && W47 - F47.r <= q47){this.highlighted=!0;return {p0:L0I.clone(this.p0),tick:g47,value:a47};}O47=this.lineIntersection(g47,a47,F47,"segment");if(O47){this.highlighted=! ![];return {action:"move",stem:L0I.clone(this.stem),p0:L0I.clone(this.p0),tick:g47,value:a47};}return null;};L0I.Drawing.fibonacci=function(){this.name="fibonacci";v67m.q17m();this.configurator="fibonacci";};L0I.inheritsFrom(L0I.Drawing.fibonacci,L0I.Drawing.BaseTwoPoint);L0I.Drawing.fibonacci.mapping={trend:"t",color:(+"92.12",889) === 7289?("D",+"3.70e+1"):+"4880" < 763.08?736.28:"c",parameters:"p",pattern:O74,opacity:2270 === (4110,45.67)?("u",+"0xc67"):"o",lineWidth:"lw",level:(+"7954",4237) > 6990?3713 !== 8958?(1910,7600) == 9564?273.79:+"419.09":!"":"l",extendLeft:"e",printLevels:P74,printValues:"pv",timezone:"tz",display:(472,"2.77" * 1) < +"8362"?"d":6270 > 41.24?("4772" & 2147483647,+"6860") > (831.22,8238)?("7.59e+3" & 2147483647,6.97e+3):(2.06e+3,+"1.25e+3"):("0x2270" << 1193104704,439.14)};v67m.N1kc(16);L0I.Drawing.fibonacci.prototype.recommendedLevels=[-v67m.j1kc(1,"0.618"),-0.382,0,+"0.382",0.5,0.618,+"1",1.382,1.618];L0I.Drawing.fibonacci.prototype.configs=["color",w74,"lineWidth","pattern","parameters"];L0I.Drawing.fibonacci.prototype.initializeSettings=function(e47){var G47,l47;G47=this.recommendedLevels;if(G47 && !e47.currentVectorParameters.fibonacci.fibsAlreadySet){l47=e47.currentVectorParameters.fibonacci.fibs;for(var t47=0;t47 < l47.length;t47++){delete l47[t47].display;for(var y47=0;y47 < G47.length;y47++){if(l47[t47].level == G47[y47]){l47[t47].display=! ![];}}}}};L0I.Drawing.fibonacci.prototype.setOuter=function(){var K47,f47,M47,L47,S47,B47,R47,b47,A47,x47,H47,C47,N47,d47;K47=this.stx;f47=K47.panels[this.panelName];if(!f47){return;}M47=Math.max(this.p0["1" * 1],this.p1[1]);L47=Math.min(this.p0[1],this.p1[1]);v67m.N1kc(4);S47=v67m.j1kc(L47,M47);this.outer={p0:L0I.clone(this.p0),p1:L0I.clone(this.p1)};B47=K47.pixelFromValueAdjusted(f47,this.p0[0],this.p0[1]);R47=K47.pixelFromValueAdjusted(f47,this.p1[0],this.p1[1]);b47=K47.pixelFromTick(this.p0[0],f47.chart);A47=K47.pixelFromTick(this.p1[0],f47.chart);x47=0;H47=1;for(var w47=0;w47 < this.parameters.fibs.length;w47++){C47=this.parameters.fibs[w47];if(C47.level >= x47 && C47.level <= H47 || !C47.display)continue;N47=K47.pixelFromValueAdjusted(f47,this.p0[0],R47 < B47?M47 - S47 * C47.level:L47 + S47 * C47.level);d47=L0I.xIntersection({x0:b47,x1:A47,y0:B47,y1:R47},N47);if(C47.level < x47){x47=C47.level;this.outer.p1[1]=K47.valueFromPixel(N47,f47);this.outer.p1[0]=K47.tickFromPixel(d47,f47.chart);}else if(C47.level > H47){H47=C47.level;this.outer.p0[1]=K47.valueFromPixel(N47,f47);this.outer.p0[0]=K47.tickFromPixel(d47,f47.chart);}}};L0I.Drawing.fibonacci.prototype.click=function(j47,I47,J47){var Y47;Y47=this.stx.panels[this.panelName];if(!Y47){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,I47,J47,Y47.chart);this.penDown=! !1;return ! !0;}if(this.accidentalClick(I47,J47)){return this.dragToDraw;}v67m.N1kc(0);this.setPoint(v67m.j1kc("1",2147483647),I47,J47,Y47.chart);this.setOuter();this.parameters=L0I.clone(this.parameters);v67m.q17m();this.penDown=! !"";return ! !{};;};L0I.Drawing.fibonacci.prototype.render=function(k47){var T74,Q47,z77,a77,o77,i77,r77,P47,s47,E47,W77,O77,t77,e77,K77,l77,f77,Z77,X77,T77,c77,m77,F74,U47,D47,F77,p47,v47,W74,C77,b74,h77,u47,V47,G77,n47,y77,f74,x77,H77;T74="stx_y";T74+="a";T74+="xis";Q47=this.stx.panels[this.panelName];if(!Q47){return;}z77=Q47.yAxis;if(!this.p1){return;}a77=Math.max(this.p0[1],this.p1["1" << 210779776]);o77=Math.min(this.p0[1],this.p1[1]);i77=z77.flipped?o77 - a77:a77 - o77;r77=this.stx.pixelFromTick(this.p0[0],Q47.chart);P47=this.stx.pixelFromTick(this.p1[0],Q47.chart);s47=this.stx.pixelFromValueAdjusted(Q47,this.p0[0],this.p0[1]);E47=this.stx.pixelFromValueAdjusted(Q47,this.p1[0],this.p1[1]);W77=Math.min(E47,s47);O77=Math.max(E47,s47);v67m.r1kc(4);t77=v67m.n1kc(W77,O77);v67m.N1kc(32);e77=v67m.n1kc(0,P47,r77,s47,E47);K77={color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:"1" >> 550974528}};if(!this.parameters.trend){this.parameters.trend=K77;}l77=this.getLineColor(this.parameters.trend.color);k47.textBaseline="middle";this.stx.canvasFont(T74,k47);f77=k47.measureText("161.8%").width + 10;Z77=Number.MAX_VALUE;X77=Number.MAX_VALUE;T77=Number.MAX_VALUE * -1;c77=Number.MAX_VALUE * -1;m77=this.color;if(m77 == "auto" || L0I.isTransparent(m77)){m77=this.stx.defaultColor;}v67m.q17m();this.rays=[];for(var q77=0;q77 < this.parameters.fibs.length;q77++){F74="a";F74+="u";F74+="t";F74+="o";k47.textAlign="left";k47.fillStyle=m77;U47=this.parameters.fibs[q77];if(!U47.display)continue;D47=this.stx.pixelFromValueAdjusted(Q47,this.p0[0],E47 < s47?a77 - i77 * U47.level:o77 + i77 * U47.level);F77=L0I.xIntersection({x0:r77,x1:P47,y0:s47,y1:E47},D47);p47=this.parameters.extendLeft?"0" - 0:F77;v47=Q47.left + Q47.width;if(this.parameters.printLevels){W74="righ";W74+="t";C77=Math.round(U47.level * 1000) / 10 + "%";v47-=f77;if(this.parameters.printValues){b74="st";b74+="x_yax";b74+="is";k47.fillStyle=m77;this.stx.canvasFont(b74,k47);;}if(v47 < p47){k47.textAlign=W74;}k47.fillText(C77,v47,D47);if(v47 < p47){v47+=5;}else {v47-=5;}}if(this.parameters.printValues){if(F77 < Q47.width){h77=this.stx.transformedPriceFromPixel(D47,Q47);if(z77.priceFormatter){h77=z77.priceFormatter(this.stx,Q47,h77);}else {h77=this.stx.formatYAxisPrice(h77,Q47);}if(k47 == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(Q47,h77,D47,m77,null,k47);if(k47 == this.stx.chart.context){this.stx.startClip(Q47.name);}}}u47=U47.color;if(u47 == "auto" || L0I.isTransparent(u47)){u47=this.color;}if(u47 == "auto" || L0I.isTransparent(u47)){u47=this.stx.defaultColor;}V47=U47.color;if(V47 == "auto" || L0I.isTransparent(V47)){V47=this.fillColor;}if(V47 == F74 || L0I.isTransparent(V47)){V47=this.stx.defaultColor;}k47.fillStyle=V47;G77=L0I.clone(U47.parameters);if(this.highlighted){G77.opacity=+"1";}this.stx.plotLine(p47,v47,D47,D47,this.highlighted?l77:u47,"segment",k47,Q47,G77);this.rays.push([[p47,D47],[v47,D47]]);k47.globalAlpha=0.05;k47.beginPath();k47.moveTo(v47,D47);k47.lineTo(p47,D47);if(p47){k47.lineTo(P47,E47);}else {k47.lineTo(p47,E47);}k47.lineTo(v47,E47);if(typeof V47 != "undefined"){k47.fill();}k47.globalAlpha=1;if(D47 < X77){Z77=F77;X77=D47;}if(D47 > c77){T77=F77;c77=D47;}}for(var g77=0;g77 <= 1;g77++){n47=e77?O77 - t77 * g77:W77 + t77 * g77;n47=Math.round(n47);if(n47 < X77){Z77=L0I.xIntersection({x0:r77,x1:P47,y0:s47,y1:E47},n47);X77=n47;}if(n47 > c77){T77=L0I.xIntersection({x0:r77,x1:P47,y0:s47,y1:E47},n47);c77=n47;}}y77=L0I.clone(this.parameters.trend.parameters);if(this.highlighted){y77.opacity=1;}this.stx.plotLine(Z77,T77,X77,c77,l77,"segment",k47,Q47,y77);if(this.highlighted){f74="p";f74+="0";x77=this.highlighted == f74?! !1:!{};H77=this.highlighted == "p1"?!"":! !"";this.littleCircle(k47,r77,s47,x77);this.littleCircle(k47,P47,E47,H77);}};L0I.Drawing.fibonacci.prototype.reposition=function(N77,w77,M77,L77){v67m.z17m();if(!w77){return;}L0I.Drawing.BaseTwoPoint.prototype.reposition.apply(this,arguments);this.adjust();};L0I.Drawing.fibonacci.prototype.intersected=function(J77,j77,k77){var R77,d77,K70,l70,h70,b77,A77,Y77,I77;R77=this.p0;d77=this.p1;if(!R77 || !d77){return null;}K70=915835058;l70=-1513481475;h70=2;for(var j10=1;v67m.h50(j10.toString(),j10.toString().length,90877) !== K70;j10++){b77={0:R77,1:d77};h70+=2;}if(v67m.h50(h70.toString(),h70.toString().length,59769) !== l70){b77={0:R77,1:d77};}b77={0:R77,1:d77};for(var S77 in b77){if(this.pointIntersection(b77[S77][0],b77[S77][1],k77)){v67m.r1kc(2);this.highlighted=v67m.j1kc(S77,(6743,+"417.63") !== (3965,719)?"p":("0x108e" | 4100,7.91e+3));return {action:"drag",point:"p" + S77};}}A77=this.outer;Y77=this.rays;I77=A77 && this.lineIntersection(J77,j77,k77,"segment",A77.p0,A77.p1);if(!I77){for(var B77=0;B77 < Y77.length;B77++){if(this.lineIntersection(J77,j77,k77,"ray",Y77[B77][0],Y77[B77][1],!"")){I77=! ![];break;}}}if(I77){this.highlighted=!"";return {action:"move",p0:L0I.clone(R77),p1:L0I.clone(d77),tick:J77,value:j77};}return null;};L0I.Drawing.fibonacci.prototype.reconstruct=function(D77,Q77){Q77=L0I.replaceFields(Q77,L0I.reverseObject(L0I.Drawing.fibonacci.mapping));this.stx=D77;this.parameters=Q77.parameters;if(!this.parameters){this.parameters=L0I.clone(this.stx.currentVectorParameters.fibonacci);}this.color=Q77.col;this.fillColor=Q77.fc;this.panelName=Q77.pnl;this.d0=Q77.d0;this.d1=Q77.d1;this.d2=Q77.d2;this.tzo0=Q77.tzo0;this.tzo1=Q77.tzo1;this.tzo2=Q77.tzo2;this.v0=Q77.v0;this.v1=Q77.v1;this.v2=Q77.v2;this.adjust();};L0I.Drawing.fibonacci.prototype.adjust=function(){var E77;E77=this.stx.panels[this.panelName];if(!E77){return;}this.setPoint(0,this.d0,this.v0,E77.chart);this.setPoint(1,this.d1,this.v1,E77.chart);this.setOuter();};L0I.Drawing.fibonacci.prototype.serialize=function(){var v77;v77={name:this.name,parameters:this.parameters,pnl:this.panelName,col:this.color,fc:this.fillColor,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};return L0I.replaceFields(v77,L0I.Drawing.fibonacci.mapping);};L0I.Drawing.retracement=function(){v67m.q17m();this.name="retracement";};L0I.inheritsFrom(L0I.Drawing.retracement,L0I.Drawing.fibonacci);L0I.Drawing.fibprojection=function(){this.name="fibprojection";this.dragToDraw=!{};v67m.z17m();this.p2=null;};L0I.inheritsFrom(L0I.Drawing.fibprojection,L0I.Drawing.fibonacci);L0I.Drawing.fibprojection.prototype.recommendedLevels=[+"0",0.618,1,+"1.272",1.618,2.618,4.236];L0I.Drawing.fibprojection.prototype.click=function(U77,V77,n77){var s77;s77=this.stx.panels[this.panelName];if(!s77){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,V77,n77,s77.chart);this.penDown=! ![];return !"1";}if(this.accidentalClick(V77,n77)){this.stx.undo();return !0;}if(this.p2 !== null){this.setPoint(2,this.p2[0],this.p2[1],s77.chart);this.parameters=L0I.clone(this.parameters);return ! !1;}v67m.N1kc(4);this.setPoint(v67m.j1kc(0,"1"),V77,n77,s77.chart);this.p2=[this.p1[0],this.p1[1]];return !{};;};L0I.Drawing.fibprojection.prototype.render=function(p77){var n74,o74,R74,u77,t87,G87,z87,o87,T87,Z87,q87,h87,y87,i87,e87,F87,g87,P77,K87,X87,m87,f87,a87,c87,r87,l87,O87,B74,C87,x87,H87;n74="au";v67m.z17m();n74+="to";o74="midd";o74+="l";o74+="e";R74="s";R74+="ol";R74+="i";R74+="d";u77=this.stx.panels[this.panelName];if(!u77){return;}t87=u77.yAxis;if(!this.p1){return;}G87=this.p1[1] - this.p0[1];z87=this.stx.pixelFromTick(this.p0[0],u77.chart);o87=this.stx.pixelFromTick(this.p1["0" | 0],u77.chart);T87=this.stx.pixelFromValueAdjusted(u77,this.p0[0],this.p0[1]);Z87=this.stx.pixelFromValueAdjusted(u77,this.p1[0],this.p1[1]);q87=null;h87=null;if(this.p2){q87=this.stx.pixelFromTick(this.p2[0],u77.chart);h87=this.stx.pixelFromValueAdjusted(u77,this.p2[0],this.p2[1]);}y87={color:"auto",parameters:{pattern:R74,opacity:0.25,lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=y87;}i87=this.getLineColor(this.parameters.trend.color);p77.textBaseline=o74;this.stx.canvasFont("stx_yaxis",p77);e87=p77.measureText("161.8%").width + 10;F87=this.color;if(F87 == n74 || L0I.isTransparent(F87)){F87=this.stx.defaultColor;}if(this.p2){this.rays=[];for(var W87=0;W87 < this.parameters.fibs.length;W87++){p77.textAlign="left";p77.fillStyle=F87;g87=this.parameters.fibs[W87];if(!g87.display)continue;P77=this.stx.pixelFromValueAdjusted(u77,this.p2[0],this.p2[1] + G87 * g87.level);K87=L0I.xIntersection({x0:z87,x1:o87,y0:T87,y1:Z87},P77);X87=this.parameters.extendLeft?0:z87;m87=u77.left + u77.width;if(this.parameters.printLevels){f87=Math.round(g87.level * 1000) / +"10" + ((214.96,"358.89" * 1) == 6910?(+"0x11cf",! !{}):+"9020" < (5192,"825.44" * 1)?5.24e+3:"%");m87-=e87;if(this.parameters.printValues){p77.fillStyle=F87;this.stx.canvasFont("stx_yaxis",p77);;}if(m87 < X87){p77.textAlign="right";}p77.fillText(f87,m87,P77);if(m87 < X87){v67m.N1kc(1);m87+=v67m.j1kc("5",0);}else {m87-=5;}}if(this.parameters.printValues){if(K87 < u77.width){a87=this.stx.transformedPriceFromPixel(P77,u77);if(t87.priceFormatter){a87=t87.priceFormatter(this.stx,u77,a87);}else {a87=this.stx.formatYAxisPrice(a87,u77);}if(p77 == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(u77,a87,P77,F87,null,p77);if(p77 == this.stx.chart.context){this.stx.startClip(u77.name);}}}c87=g87.color;if(c87 == "auto" || L0I.isTransparent(c87)){c87=this.color;}if(c87 == "auto" || L0I.isTransparent(c87)){c87=this.stx.defaultColor;}r87=g87.color;if(r87 == "auto" || L0I.isTransparent(r87)){r87=this.fillColor;}if(r87 == "auto" || L0I.isTransparent(r87)){r87=this.stx.defaultColor;}p77.fillStyle=r87;l87=L0I.clone(g87.parameters);if(this.highlighted){l87.opacity=1;}this.stx.plotLine(X87,m87,P77,P77,this.highlighted?i87:c87,"segment",p77,u77,l87);this.rays.push([[X87,P77],[m87,P77]]);p77.globalAlpha=+"0.05";p77.beginPath();p77.moveTo(m87,P77);p77.lineTo(X87,P77);if(X87){p77.lineTo(z87,h87);}else {p77.lineTo(X87,h87);}p77.lineTo(m87,h87);if(typeof r87 != "undefined"){p77.fill();}p77.globalAlpha=1;}}O87=L0I.clone(this.parameters.trend.parameters);if(this.highlighted){O87.opacity=1;}this.stx.plotLine(z87,o87,T87,Z87,i87,"segment",p77,u77,O87);if(this.p2){this.stx.plotLine(o87,q87,Z87,h87,i87,"segment",p77,u77,O87);}if(this.highlighted){B74="p";B74+="0";C87=this.highlighted == B74?! !"1":![];x87=this.highlighted == "p1"?! !{}:!1;H87=this.highlighted == "p2"?! !{}:! !"";this.littleCircle(p77,z87,T87,C87);this.littleCircle(p77,o87,Z87,x87);this.littleCircle(p77,q87,h87,H87);}};L0I.Drawing.fibprojection.prototype.move=function(M87,w87,N87){if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[w87,N87];}else {this.p2=[w87,N87];}this.render(M87);};L0I.Drawing.fibprojection.prototype.reposition=function(d87,L87,b87,A87){var d74,S87,B87,R87;d74="d";d74+="ra";d74+="g";if(!L87){return;}S87=this.stx.panels[this.panelName];B87=L87.tick - b87;R87=L87.value - A87;if(L87.action == "move"){this.setPoint(0,L87.p0[0] - B87,L87.p0[1] - R87,S87.chart);this.setPoint(1,L87.p1[0] - B87,L87.p1["1" << 1023280480] - R87,S87.chart);this.setPoint(2,L87.p2[0] - B87,L87.p2[1] - R87,S87.chart);this.render(d87);}else if(L87.action == d74){this[L87.point]=[b87,A87];this.setPoint(0,this.p0[0],this.p0[1],S87.chart);v67m.r1kc(15);this.setPoint(v67m.j1kc("1",0),this.p1[+"0"],this.p1[1],S87.chart);this.setPoint(2,this.p2[0],this.p2["1" >> 534755648],S87.chart);this.render(d87);}};L0I.Drawing.fibprojection.prototype.intersected=function(Q87,D87,E87){var L74,I87,Y87,J87,v87,s87,V87;L74="seg";L74+="men";L74+="t";I87=this.p0;Y87=this.p1;J87=this.p2;if(!I87 || !Y87 || !J87){return null;}v87={0:I87,1:Y87,2:J87};for(var j87 in v87){if(this.pointIntersection(v87[j87][0],v87[j87][1],E87)){v67m.r1kc(2);this.highlighted=v67m.n1kc(j87,"p");return {action:"drag",point:"p" + j87};}}s87=this.rays;V87=this.lineIntersection(Q87,D87,E87,"segment",I87,Y87) || this.lineIntersection(Q87,D87,E87,L74,Y87,J87);if(!V87){for(var k87=0;k87 < s87.length;k87++){if(this.lineIntersection(Q87,D87,E87,"ray",s87[k87][+"0"],s87[k87][1],! ![])){V87=! !1;break;}}}if(V87){this.highlighted=! !1;return {action:"move",p0:L0I.clone(I87),p1:L0I.clone(Y87),p2:L0I.clone(J87),tick:Q87,value:D87};}return null;};L0I.Drawing.fibprojection.prototype.adjust=function(){var n87;n87=this.stx.panels[this.panelName];if(!n87){return;}this.setPoint(0,this.d0,this.v0,n87.chart);this.setPoint(+"1",this.d1,this.v1,n87.chart);this.setPoint(2,this.d2,this.v2,n87.chart);};L0I.Drawing.fibarc=function(){this.name="fibarc";;};L0I.inheritsFrom(L0I.Drawing.fibarc,L0I.Drawing.fibonacci);v67m.N1kc(4);L0I.Drawing.fibarc.prototype.recommendedLevels=[0.382,0.5,0.618,v67m.n1kc(0,"1")];L0I.Drawing.fibarc.prototype.setOuter=function(){var U87,p87,u87,m57,r57,P87,X57;U87=this.stx.panels[this.panelName];if(!U87){return;}this.outer={p0:L0I.clone(this.p0),p1:L0I.clone(this.p1)};p87=this.stx.pixelFromValueAdjusted(U87,this.p0[0],this.p0[1]);u87=this.stx.pixelFromValueAdjusted(U87,this.p1[0],this.p1[1]);m57=this.stx.pixelFromTick(this.p0[0],U87.chart);r57=this.stx.pixelFromTick(this.p1[+"0"],U87.chart);v67m.N1kc(33);P87=v67m.n1kc(p87,2,u87);X57=L0I.xIntersection({x0:m57,x1:r57,y0:p87,y1:u87},P87);v67m.z17m();this.outer.p0[+"1"]=this.stx.valueFromPixel(P87,U87);this.outer.p0[0]=this.stx.tickFromPixel(X57,U87.chart);};L0I.Drawing.fibarc.prototype.intersected=function(z57,T57,h57){var Q74,q57,F57,g57,W57,i57,V74,t57,c57,o57,O57,Z57;Q74="mov";Q74+="e";q57=this.stx.panels[this.panelName];if(!q57){return;}F57=this.p0;g57=this.p1;W57=this.outer;if(!F57 || !g57){return null;}i57={0:F57,1:g57};for(var a57 in i57){if(this.pointIntersection(i57[a57][0],i57[a57][+"1"],h57)){V74="d";V74+="r";V74+="ag";v67m.r1kc(2);this.highlighted=v67m.j1kc(a57,300 <= (5495,629.18)?(2205,2510) < 997.95?(5.46e+3,0xc5d):"p":+"7.93e+3");return {action:V74,point:((717.4,6500) === (5136,91.62)?(! ![],4.03e+3):(9680,6280) <= (2020,6484)?"p":(! !"1",!"1")) + a57};}}if(this.lineIntersection(z57,T57,h57,"segment",W57.p0,W57.p1)){this.highlighted=!"";return {action:"move",p0:L0I.clone(F57),p1:L0I.clone(g57),tick:z57,value:T57};}t57={x0:F57[0],x1:g57[0],y0:F57["1" - 0],y1:g57[+"1"]};c57=L0I.convertBoxToPixels(this.stx,this.panelName,t57);o57={x:Math.abs(Math.sqrt(2) * (c57.x1 - c57.x0)),y:Math.abs(Math.sqrt(2) * (c57.y1 - c57.y0))};O57=this.stx.pixelFromTick(z57,q57.chart);Z57=this.stx.pixelFromValueAdjusted(q57,z57,T57);if(O57 + h57.r < c57.x1 - o57.x || O57 - h57.r > c57.x1 + o57.x){return null;}if(Z57 + h57.r < c57.y1 - o57.y || Z57 - h57.r > c57.y1 + o57.y){return null;}if(c57.y0 < c57.y1 && Z57 - h57.r > c57.y1){return null;}if(c57.y0 > c57.y1 && Z57 + h57.r < c57.y1){return null;}this.highlighted=!"";return {action:Q74,p0:L0I.clone(this.p0),p1:L0I.clone(this.p1),tick:z57,value:T57};};L0I.Drawing.fibarc.prototype.render=function(l57){var c74,G57,L57,N57,K57,H57,e57,B57,R57,d57,x57,r74,j74,y57,Y57,b57,M57,I57,E74,J57,X74,w57,f57,C57,A57,N74,j57,k57;c74="l";c74+="e";c74+="ft";G57=this.stx.panels[this.panelName];if(!G57){return;}L57=G57.yAxis;if(!this.p1){return;}N57=this.stx.pixelFromTick(this.p0[0],G57.chart);K57=this.stx.pixelFromTick(this.p1[0],G57.chart);H57=this.stx.pixelFromValueAdjusted(G57,this.p0["0" >> 1408573792],this.p0[1]);e57=this.stx.pixelFromValueAdjusted(G57,this.p1[0],this.p1[1]);v67m.r1kc(34);B57=v67m.n1kc(e57,H57);v67m.r1kc(35);R57=Math.abs(v67m.j1kc(K57,N57,e57,H57));d57=this.getLineColor(this.parameters.trend.color);l57.textBaseline="middle";this.stx.canvasFont("stx_yaxis",l57);x57=this.color;if(x57 == "auto" || L0I.isTransparent(x57)){x57=this.stx.defaultColor;}for(var S57=0;S57 < this.parameters.fibs.length;S57++){r74="au";r74+="t";r74+="o";j74="le";j74+="f";j74+="t";l57.fillStyle=x57;y57=this.parameters.fibs[S57];if(y57.level < 0 || !y57.display)continue;Y57=Math.abs(this.p1[1] - this.p0[1]) * Math.sqrt(+"2") * y57.level;b57=this.p1[1] + Y57 * (B57?-1:1) * (L57.flipped?-1:1);M57=this.stx.pixelFromValueAdjusted(G57,this.p0[0],b57);I57=L0I.xIntersection({x0:N57,x1:K57,y0:H57,y1:e57},M57);if(this.parameters.printLevels){E74="ce";E74+="n";E74+="te";E74+="r";l57.textAlign=E74;J57=Math.round(y57.level * 1000) / 10 + ((482,"968.41" - 0) == (7867,5238)?"F":(9602,5150) !== 1820?2010 !== (3504,584)?"%":"s":(699.40,910.10));if(this.parameters.printValues){X74="stx_ya";X74+="x";X74+="is";l57.fillStyle=x57;this.stx.canvasFont(X74,l57);;}l57.fillText(J57,K57,Math.round(M57 - 5));}l57.textAlign=j74;if(this.parameters.printValues){if(I57 < G57.width){w57=b57;if(L57.priceFormatter){w57=L57.priceFormatter(this.stx,G57,w57);}else {w57=this.stx.formatYAxisPrice(w57,G57);}if(l57 == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(G57,w57,M57,x57,null,l57);if(l57 == this.stx.chart.context){this.stx.startClip(G57.name);}}}f57=y57.color;if(f57 == "auto" || L0I.isTransparent(f57)){f57=this.color;}if(f57 == r74 || L0I.isTransparent(f57)){f57=this.stx.defaultColor;}l57.strokeStyle=this.highlight?d57:f57;C57=y57.color;if(C57 == "auto" || L0I.isTransparent(C57)){C57=this.fillColor;}if(C57 == "auto" || L0I.isTransparent(C57)){C57=this.stx.defaultColor;}l57.fillStyle=C57;l57.globalAlpha=this.highlighted?+"1":y57.parameters.opacity;l57.lineWidth=y57.parameters.lineWidth;if(l57.setLineDash){l57.setLineDash(L0I.borderPatternToArray(l57.lineWidth,y57.parameters.pattern));l57.lineDashOffset=0;;}l57.save();l57.beginPath();v67m.N1kc(10);l57.scale(v67m.n1kc(R57,1),1);v67m.N1kc(16);l57.arc(v67m.j1kc(R57,K57),e57,Math.abs(M57 - e57),0,Math.PI,!B57);if(this.pattern != "none"){l57.stroke();}l57.globalAlpha=0.05;l57.fill();l57.restore();if(l57.setLineDash){l57.setLineDash([]);}l57.globalAlpha=+"1";}l57.textAlign=c74;A57=L0I.clone(this.parameters.trend.parameters);if(this.highlighted){A57.opacity=1;}v67m.N1kc(33);this.stx.plotLine(K57,v67m.j1kc(N57,2,K57),e57,v67m.j1kc(H57,2,e57),d57,"segment",l57,G57,A57);if(this.highlighted){N74="p";N74+="0";j57=this.highlighted == N74?! !"1":! !0;k57=this.highlighted == "p1"?! ![]:![];this.littleCircle(l57,N57,H57,j57);this.littleCircle(l57,K57,e57,k57);}};L0I.Drawing.fibfan=function(){v67m.q17m();var i74;i74="fib";i74+="fa";i74+="n";this.name=i74;;};L0I.inheritsFrom(L0I.Drawing.fibfan,L0I.Drawing.fibonacci);L0I.Drawing.fibfan.prototype.recommendedLevels=[0,0.382,0.5,0.618,1];L0I.Drawing.fibfan.prototype.setOuter=function(){};L0I.Drawing.fibfan.prototype.render=function(Q57){var z74,u74,E57,Z07,D57,n57,v57,X07,T07,q07,i07,O07,t07,h07,F07,g07,u57,D74,P57,V57,z07,s57,m07,l07,H74,c07,U57,p57,W07,r07,I74,G07,y07;z74="16";z74+="1";z74+=".";z74+="8%";u74="m";u74+="iddle";E57=this.stx.panels[this.panelName];if(!E57){return;}Z07=E57.yAxis;if(!this.p1){return;}D57=this.stx.pixelFromTick(this.p0[0],E57.chart);n57=this.stx.pixelFromTick(this.p1[0],E57.chart);v57=this.stx.pixelFromValueAdjusted(E57,this.p0[+"0"],this.p0[1]);X07=this.stx.pixelFromValueAdjusted(E57,this.p1[0],this.p1[1]);T07=Math.min(X07,v57);q07=Math.max(X07,v57);v67m.N1kc(4);i07=v67m.n1kc(T07,q07);v67m.r1kc(32);O07=v67m.j1kc(0,n57,D57,v57,X07);t07=this.getLineColor(this.parameters.trend.color);Q57.textBaseline=u74;this.stx.canvasFont("stx_yaxis",Q57);h07=Q57.measureText(z74).width + 10;F07=Number.MAX_VALUE;g07=Number.MAX_VALUE * -("1" & 2147483647);u57=this.color;if(u57 == "auto" || L0I.isTransparent(u57)){u57=this.stx.defaultColor;}this.rays=[];for(var o07=0;o07 < this.parameters.fibs.length;o07++){D74="s";D74+="egment";Q57.fillStyle=u57;P57=this.parameters.fibs[o07];if(!P57.display)continue;V57=this.stx.pixelFromValueAdjusted(E57,this.p0[0],(this.p0[1] - this.p1[1]) * P57.level + this.p1[1]);z07=L0I.xIntersection({x0:n57,x1:n57,y0:v57,y1:X07},V57);s57=E57.left;if(n57 > D57){s57+=E57.width;}v67m.r1kc(36);m07=v67m.n1kc(z07,s57,D57,v57,v57,V57,D57);if(D57 > s57 - (this.parameters.printLevels?h07 + ("5" & 2147483647):0) && n57 > D57)continue;else if(D57 < s57 + (this.parameters.printLevels?h07 + 5:0) && n57 < D57)continue;if(this.parameters.printLevels){l07=Math.round(P57.level * 1000) / 10 + (("671.68" * 1,6630) !== (3260,5156)?(58.96,4617) <= 64.3?(903.09,289.12):609.24 > (5600,919.84)?(946.90,! !0):"%":!1);if(n57 > D57){s57-=h07;Q57.textAlign="left";}else {H74="r";H74+="i";H74+="gh";H74+="t";s57+=h07;Q57.textAlign=H74;}if(this.parameters.printValues){Q57.fillStyle=u57;this.stx.canvasFont("stx_yaxis",Q57);;}v67m.N1kc(36);m07=v67m.j1kc(z07,s57,D57,v57,v57,V57,D57);Q57.fillText(l07,s57,m07);if(n57 > D57){s57-=5;}else {s57+=5;}}Q57.textAlign="left";if(this.parameters.printValues){if(z07 < E57.width){c07=this.stx.transformedPriceFromPixel(V57,E57);if(Z07.priceFormatter){c07=Z07.priceFormatter(this.stx,E57,c07);}else {c07=this.stx.formatYAxisPrice(c07,E57);}if(Q57 == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(E57,c07,V57,u57,null,Q57);if(Q57 == this.stx.chart.context){this.stx.startClip(E57.name);}}}U57=P57.color;if(U57 == "auto" || L0I.isTransparent(U57)){U57=this.color;}if(U57 == "auto" || L0I.isTransparent(U57)){U57=this.stx.defaultColor;}p57=P57.color;if(p57 == "auto" || L0I.isTransparent(p57)){p57=this.fillColor;}if(p57 == "auto" || L0I.isTransparent(p57)){p57=this.stx.defaultColor;}Q57.fillStyle=p57;if(this.parameters.printLevels){v67m.N1kc(36);m07=v67m.n1kc(z07,s57,D57,v57,v57,V57,D57);}W07=L0I.clone(P57.parameters);if(this.highlighted){W07.opacity=1;}this.stx.plotLine(D57,s57,v57,m07,this.highlighted?t07:U57,D74,Q57,E57,W07);this.rays.push([[D57,v57],[s57,m07]]);Q57.globalAlpha=0.05;Q57.beginPath();Q57.moveTo(s57,m07);Q57.lineTo(D57,v57);Q57.lineTo(s57,v57);Q57.fill();Q57.globalAlpha=1;if(V57 < F07){F07=V57;}if(V57 > g07){g07=V57;}}for(var a07=+"0";a07 <= 1;a07++){r07=O07?q07 - i07 * a07:T07 + i07 * a07;r07=Math.round(r07);if(r07 < F07){F07=r07;}if(r07 > g07){g07=r07;}}if(this.highlighted){I74="p";I74+="1";G07=this.highlighted == "p0"?! ![]:![];y07=this.highlighted == I74?! ![]:! !0;this.littleCircle(Q57,D57,v57,G07);this.littleCircle(Q57,n57,X07,y07);}};L0I.Drawing.fibtimezone=function(){var k04,J04,x04,Z74;k04=1650608781;J04=+"1470132373";x04=2;for(var Y04=1;v67m.h50(Y04.toString(),Y04.toString().length,43920) !== k04;Y04++){Z74="fibtimez";Z74+="one";this.name=Z74;;x04+=2;}if(v67m.h50(x04.toString(),x04.toString().length,93718) !== J04){this.name="";;}};L0I.inheritsFrom(L0I.Drawing.fibtimezone,L0I.Drawing.fibonacci);L0I.Drawing.fibtimezone.prototype.render=function(e07){var y74,t74,K07,f07,w07,R07,d07,S07,b07,J07,A07,L07,C07,Y07,N07,M07,x07,H07,B07,q74,j07,k07,I07;y74="a";y74+="uto";t74="a";t74+="uto";K07=this.stx.panels[this.panelName];if(!K07){return;}if(!this.p1){return;}f07=this.stx.pixelFromTick(this.p0[+"0"],K07.chart);w07=this.stx.pixelFromTick(this.p1[0],K07.chart);R07=this.stx.pixelFromValueAdjusted(K07,this.p0[0],this.p0[1]);d07=this.stx.pixelFromValueAdjusted(K07,this.p1[0],this.p1[1]);S07=[+"1",0];b07=this.getLineColor(this.parameters.trend.color);e07.textBaseline="middle";this.stx.canvasFont("stx_yaxis",e07);J07=20;A07=this.p1[0] - this.p0[+"0"];L07=this.color;if(L07 == t74 || L0I.isTransparent(L07)){L07=this.stx.defaultColor;}e07.textAlign="center";C07=f07;v67m.q17m();Y07=K07.yAxis.top;N07=K07.yAxis.bottom;M07=+"0";x07=this.parameters.timezone.color;if(x07 == "auto" || L0I.isTransparent(x07)){x07=this.color;}if(x07 == "auto" || L0I.isTransparent(x07)){x07=this.stx.defaultColor;}H07=this.parameters.timezone.color;if(H07 == "auto" || L0I.isTransparent(H07)){H07=this.fillColor;}if(H07 == y74 || L0I.isTransparent(H07)){H07=this.stx.defaultColor;}if(this.parameters.printLevels){v67m.N1kc(4);N07-=v67m.n1kc(7,J07);}B07=L0I.clone(this.parameters.timezone.parameters);if(this.highlighted){B07.opacity=1;}do {q74="segme";q74+="nt";C07=this.stx.pixelFromTick(this.p0["0" << 955767776] + M07 * A07,K07.chart);if(f07 < w07 && C07 > K07.left + K07.width)break;else if(f07 > w07 && C07 < K07.left)break;if(this.parameters.printLevels){e07.fillStyle=L07;e07.fillText(w07 > f07?M07:M07 * -1,C07,N07 + 7);}e07.fillStyle=H07;v67m.r1kc(16);this.stx.plotLine(C07,C07,v67m.j1kc(1,"0"),N07,this.highlighted?b07:x07,q74,e07,K07,B07);e07.globalAlpha=0.05;e07.beginPath();e07.moveTo(f07,Y07);e07.lineTo(C07,Y07);e07.lineTo(C07,N07);e07.lineTo(f07,N07);e07.fill();e07.globalAlpha=1;M07=S07[0] + S07[1];S07.unshift(M07);}while(A07);e07.textAlign="left";this.stx.plotLine(f07,w07,R07,d07,b07,"segment",e07,K07,B07);if(this.highlighted){j07=this.highlighted == "p0"?! !{}:![];k07=this.highlighted == "p1"?!"":!{};this.littleCircle(e07,f07,R07,j07);this.littleCircle(e07,w07,d07,k07);}else {I07=this.stx.valueFromPixel(K07.height / 2,K07);this.setPoint(0,this.p0[0],I07,K07.chart);this.setPoint(1,this.p1[0],I07,K07.chart);}};L0I.Drawing.fibtimezone.prototype.intersected=function(V07,n07,E07){var Q07,v07,U07,s07,p07;Q07=this.p0;v07=this.p1;U07=this.stx.panels[this.panelName];if(!Q07 || !v07 || !U07){return null;}s07={0:Q07,1:v07};for(var D07 in s07){if(this.pointIntersection(s07[D07][0],s07[D07][1],E07)){v67m.r1kc(2);this.highlighted=v67m.n1kc(D07,"p");return {action:"drag",point:((6743,5621) != (2038,9240)?"p":(386.6,891.39) > (6220,1612)?(7.59e+3,0xb79):"k") + D07};}}p07=this.lineIntersection(V07,n07,E07,"segment");if(p07 || E07.x0 <= this.p0[0] && E07.x1 >= Q07[0]){this.highlighted=! ![];return {action:"move",p0:L0I.clone(Q07),p1:L0I.clone(v07),tick:V07,value:n07};}return null;};L0I.Drawing.arrow_v0=function(){var K74;K74="a";K74+="rrow";this.name=K74;this.dimension=[11,11];v67m.N1kc(15);this.points=[[6710 != 2860?"M":(3685,360.74) >= (5760,949.05)?! ![]:(0xd2c,"Z"),3,0,"L",7,0,"L",7,5,(5497,3557) !== 8670?"L":("j",0x2e1),10,5,295.42 !== 6300?"L":!1,v67m.j1kc("5",0),10,"L",0,5,("275.79" * 1,+"796.98") <= (651.95,766.17)?"k":"L",3,5,1520 <= 6590?"L":493.79 >= 9100?7.71e+3:("142.15" - 0,"6370" | 66) >= 9580?! !"":(42.58,"t"),3,0]];};L0I.inheritsFrom(L0I.Drawing.arrow_v0,L0I.Drawing.shape);L0I.Drawing.xcross=function(){var l74;l74="x";l74+="cross";this.name=l74;this.dimension=[7,7];v67m.r1kc(4);this.points=[["M",1,0,(3832,10000) > +"138.44"?"L":(! !0,0xdde),v67m.j1kc(0,"3"),+"2",63 > 5824?(90.46,832.45):"L",5,+"0",6761 != (9723,+"494.6")?"L":!0,6,1,"L",4,3,"L",v67m.j1kc("6",0,v67m.N1kc(15)),5,(508,"8557" >> 1714899264) != 4280?286.9 <= 58.35?(! ![],+"282.51"):9041 < 543.27?2.95e+2:"L":"z",5,6,(122,53) === (+"484.38",877)?(1.87e+3,"s"):"L",3,4,"L",1,6,(261.68,723) === 460.23?7.29e+2:"L",0,5,(943.65,668.4) < (+"2587",1680)?("9366" ^ 0,253.11) === 8420?(2.35e+3,! ![]):"L":!{},2,+"3","L",v67m.j1kc("0",0,v67m.r1kc(15)),1,"L",1,0]];;};L0I.inheritsFrom(L0I.Drawing.xcross,L0I.Drawing.shape);L0I.Drawing.check=function(){var h74;h74="c";h74+="h";h74+="e";h74+="ck";this.name=h74;this.dimension=[+"8",9];v67m.N1kc(21);this.points=[["M",1,+"5",(730.26,+"5410") < 13.04?210.31:"L",0,6,(502.47,+"156.86") <= 4130?"L":(9661,772.72) >= 704.64?(739.2,391.98) > ("2100" - 0,1320)?(! !{},7.50e+1):(5.06e+3,0x1ae6):![],2,8,2740 == (6170,155.08)?(1.92e+3,691.50):(+"7300",2690) == ("1942" << 2102884064,803.26)?("743" * 1,+"3601") >= 372?0x1f0:(9.99e+2,"J"):"L",+"7",1,+"3270" > 454.93?5729 != "5830" * 1?"L":(885,4367) === 372.47?6.71e+3:0x226a:("t",+"180.80"),6,v67m.n1kc("0",205126560),"L",2,6,"L",1,+"5"]];;};L0I.inheritsFrom(L0I.Drawing.check,L0I.Drawing.shape);L0I.Drawing.star=function(){this.name="star";this.dimension=[12,12];v67m.N1kc(27);this.points=[[(2162,5380) > (+"72",859.28)?"M":(1798,273.9) == (+"5865",7690)?(!"1",867.60):("U","0x1ede" & 2147483647),0,4,(+"6817",686.49) < (551,"427.54" - 0)?"A":"L",4,4,"L",5.5,0,("121" ^ 0) == (+"172.09",2867)?(7670,488.11) < 116.81?![]:(3.62e+3,"O"):"L",7,v67m.j1kc(2061367872,"4"),(6427,788) != (+"273",3735)?"L":417.3 !== 432.57?"O":(! !{},9.02e+3),11,4,"L",8,7,1260 > (3050,9960)?("D",3.06e+3):121.65 == 940.32?("k",343.40):2260 >= (523,+"7600")?1.62e+3:"L",9,11,"L",v67m.n1kc(1,"5.5",v67m.r1kc(16)),9,775 === 197?(218,! !{}):7634 != (+"936.22",4737)?"L":8258 < (2390,"7546" ^ 0)?0x3cb:! !"",2,11,2914 > (907.92,"535" << 1661846880)?405 === 324.76?(!"1",0x1d43):"L":(8.00e+3,"g"),+"3",7,(4920,3260) > (1480,+"644.72")?"L":0xe49,v67m.j1kc("0",1546479008,v67m.r1kc(21)),4]];;};L0I.inheritsFrom(L0I.Drawing.star,L0I.Drawing.shape);L0I.Drawing.heart=function(){this.name="heart";this.dimension=[23,+"20"];v67m.N1kc(21);v67m.z17m();this.points=[[(3530,438.73) <= (+"589.79",4697)?"M":("680.14" - 0,"2.78e+3" & 2147483647),11,3,6290 < "236.24" * 1?(! !"1",1.26e+3):6431 == 9711?103.18 !== (656.96,"147.09" * 1)?(0x1edd,790.43):"Z":"B",11,2.4,10,0,v67m.n1kc("6",1528850464),0,"B",0,0,0,7.5,0,7.5,(73.28,989.52) >= 4319?(! !"1",0x2587):305.57 < (6520,434)?9550 < (19,719.78)?(0x435,0xb0e):"B":(! !1,118.39),+"0",11,v67m.j1kc("4",0,v67m.N1kc(15)),15.4,v67m.j1kc("11",9,v67m.N1kc(15)),19,(549.16,489.89) !== (8693,5470)?"B":(332.27,49.47) == (5374,"5960" >> 661977440)?! !"":("169.98" * 1,"616.10" * 1),18,15.4,22,11,22,7.5,"B",22,7.5,22,0,16,0,4750 == 9989?+"812.26" < (1324,+"7978")?("U",![]):"6.81e+3" - 0:"B",13,0,+"11",2.4,v67m.j1kc("11",0,v67m.r1kc(1)),v67m.j1kc("3",2147483647,v67m.N1kc(0))]];;};L0I.inheritsFrom(L0I.Drawing.heart,L0I.Drawing.shape);L0I.Drawing.focusarrow=function(){this.name="focusarrow";this.dimension=[7,5];v67m.r1kc(21);this.points=[["8140" - 0 === (+"966","4000" << 127210784)?(! !0,"6.68e+3" << 604245856):(375.82,733.69) > (3071,"262.79" - 0)?"M":"v",0,+"0","L",2,2,7380 != 335?"L":"0x1a2a" | 4136,0,4,(+"213.58",95.67) >= 3500?"k":"L",0,0],["M",6,0,8930 != ("6610" ^ 0,829.15)?"L":! !"",4,2,+"7210" != +"5990"?920.82 > (5649,+"498.91")?"L":(1400,8960) !== (668,9755)?343.54:(!"1",850.52):6.45e+2,6,4,("5130" - 0,227) === (1610,2180)?"O":"L",6,v67m.n1kc("0",1666816224)]];;};L0I.inheritsFrom(L0I.Drawing.focusarrow,L0I.Drawing.shape);L0I.Drawing.crossline=function(){v67m.q17m();this.name="crossline";};L0I.inheritsFrom(L0I.Drawing.crossline,L0I.Drawing.horizontal);L0I.extend(L0I.Drawing.crossline.prototype,{measure:function(){},accidentalClick:function(u07,P07){v67m.q17m();return !1;},adjust:function(){var m67;m67=this.stx.panels[this.panelName];if(!m67){return;}this.setPoint(0,this.d0,this.v0,m67.chart);v67m.q17m();this.p1=L0I.clone(this.p0);},intersected:function(X67,c67,h67){var V14,S14,r67,A04,O04,P04,T14,b00,W00,F00;V14="m";V14+="o";V14+="v";V14+="e";S14="lin";S14+="e";if(!this.p0 || !this.p1){return null;}this.p1[0]+=+"1";v67m.q17m();r67=this.lineIntersection(X67,c67,h67,S14);A04=-688862451;v67m.r1kc(0);O04=-v67m.j1kc("1951940449",2147483647);P04=2;for(var T04=1;v67m.M00(T04.toString(),T04.toString().length,22338) !== A04;T04++){this.p1=L0I.clone(this.p0);P04+=2;}if(v67m.h50(P04.toString(),P04.toString().length,12566) !== O04){this.p1=L0I.clone(this.p0);}this.p1=L0I.clone(this.p0);if(!r67){T14="l";T14+="i";T14+="n";T14+="e";this.p1[1]+=+"1";r67=this.lineIntersection(X67,c67,h67,T14);this.p1=L0I.clone(this.p0);if(!r67){return null;}}this.highlighted=!0;if(this.pointIntersection(this.p0[+"0"],this.p0[1],h67)){b00=1992360759;v67m.N1kc(27);W00=v67m.n1kc(1396641856,"1455695594");F00=2;for(var R00=1;v67m.M00(R00.toString(),R00.toString().length,24864) !== b00;R00++){this.highlighted="p0";F00+=2;}if(v67m.h50(F00.toString(),F00.toString().length,83437) !== W00){this.highlighted="";}}return {action:V14,p0:L0I.clone(this.p0),p1:L0I.clone(this.p1),tick:X67,value:c67};},render:function(W67){var E14,F67,a67,o67,T67,O67,z67,g67,Z67,x54,m54,Y54,t67,q67,i67,X14,l67;v67m.q17m();E14="vert";E14+="i";E14+="c";E14+="al";F67=this.stx.panels[this.panelName];if(!F67){return;}a67=this.stx.pixelFromTick(this.p0[0],F67.chart);o67=this.stx.pixelFromValueAdjusted(F67,this.p0[0],this.p0[1]);T67=this.getLineColor();O67={pattern:this.pattern,lineWidth:this.lineWidth};v67m.r1kc(2);this.stx.plotLine(a67,v67m.n1kc(100,a67),o67,o67,T67,"horizontal",W67,F67,O67);v67m.r1kc(2);this.stx.plotLine(a67,a67,o67,v67m.n1kc(100,o67),T67,E14,W67,F67,O67);if(this.axisLabel && !this.repositioner){this.stx.endClip();v67m.N1kc(4);z67=this.p0[v67m.n1kc(0,"1")];if(F67.chart.transformFunc){z67=F67.chart.transformFunc(this.stx,F67.chart,z67);}if(F67.yAxis.priceFormatter){z67=F67.yAxis.priceFormatter(this.stx,F67,z67);}else {z67=this.stx.formatYAxisPrice(z67,F67);}this.stx.createYAxisLabel(F67,z67,o67,T67);this.stx.startClip(F67.name);if(this.p0[0] >= 0 && !this.stx.chart.xAxis.noDraw){g67=this.stx.dateFromTick(this.p0[0],F67.chart,! ![]);if(!L0I.ChartEngine.isDailyInterval(this.stx.layout.interval)){x54=2005006716;m54=-1255945599;Y54=2;for(var O54=1;v67m.h50(O54.toString(),O54.toString().length,49250) !== x54;O54++){t67=(g67.getSeconds() - 2444) / g67.getMilliseconds();v67m.r1kc(4);Y54+=v67m.j1kc(0,"2");}if(v67m.M00(Y54.toString(),Y54.toString().length,84005) !== m54){t67=g67.getSeconds() * +"1000" + g67.getMilliseconds();}if(S0I.Date && this.stx.displayZone){Z67=new S0I.Date(g67.getTime(),this.stx.displayZone);g67=new Date(Z67.getFullYear(),Z67.getMonth(),Z67.getDate(),Z67.getHours(),Z67.getMinutes());g67=new Date(g67.getTime() + t67);}}else {g67.setHours(+"0",0,0,0);}q67=L0I.mmddhhmm(L0I.yyyymmddhhmm(g67));if(F67.chart.xAxis.formatter){q67=F67.chart.xAxis.formatter(g67,this.name,null,null,q67);}else if(this.stx.internationalizer){if(g67.getHours() !== 0 || g67.getMinutes() !== 0){i67=this.stx.internationalizer.monthDay.format(g67);i67+=(+"1656" < 6340?" ":398.70) + this.stx.internationalizer.hourMinute.format(g67);}else {i67=this.stx.internationalizer.yearMonthDay.format(g67);}q67=i67;}this.stx.endClip();this.stx.createXAxisLabel({panel:F67,txt:q67,x:a67,backgroundColor:T67,color:null,pointed:! !{},padding:+"2"});this.stx.startClip(F67.name);}}if(this.highlighted){X14="p";X14+="0";l67=this.highlighted == X14?!"":![];this.littleCircle(W67,a67,o67,l67);}}},!"");L0I.Drawing.speedarc=function(){this.name="speedarc";this.printLevels=! !{};};L0I.inheritsFrom(L0I.Drawing.speedarc,L0I.Drawing.segment);L0I.extend(L0I.Drawing.speedarc.prototype,{defaultOpacity:0.25,configs:["color",u14,"lineWidth",t14],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;v67m.q17m();this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;},intersected:function(G67,y67,w67){var K67,N67,f67,C67,x67,H67;if(!this.p0 || !this.p1){return null;}K67={0:this.p0,1:this.p1};for(var e67 in K67){if(this.pointIntersection(K67[e67][0],K67[e67][1],w67)){v67m.N1kc(2);this.highlighted=v67m.n1kc(e67,"p");return {action:"drag",point:"p" + e67};}}N67=this.lineIntersection(G67,y67,w67,this.name);if(N67){this.highlighted=!"";return {action:"move",p0:L0I.clone(this.p0),p1:L0I.clone(this.p1),tick:G67,value:y67};}f67=this.p1[0] - (this.p0[0] - this.p1[0]);v67m.r1kc(0);C67=this.p0[v67m.j1kc("0",2147483647)];x67=this.p1[1];H67=this.p0[1];if(G67 > Math.max(f67,C67) || G67 < Math.min(f67,C67)){return null;}if(y67 > Math.max(H67,x67) || y67 < Math.min(H67,x67)){return null;}this.highlighted=! !{};return {action:"move",p0:L0I.clone(this.p0),p1:L0I.clone(this.p1),tick:G67,value:y67};},render:function(M67){var v44,p44,L67,A67,B67,d67,S67,I67,J67,Y67,R67,M44,k67,Q67,j67,D67,E67,v67,s67;v44="s";v44+="eg";v44+="me";v44+="nt";p44="le";p44+="f";p44+="t";L67=this.stx.panels[this.panelName];if(!L67){return;}if(!this.p1){return;}A67=this.stx.pixelFromTick(this.p0[0],L67.chart);B67=this.stx.pixelFromTick(this.p1[0],L67.chart);d67=this.stx.pixelFromValueAdjusted(L67,this.p0[0],this.p0[1]);S67=this.stx.pixelFromValueAdjusted(L67,this.p1[0],this.p1[1]);v67m.r1kc(34);I67=v67m.n1kc(S67,d67);v67m.N1kc(35);J67=Math.abs(v67m.j1kc(B67,A67,S67,d67));Y67=this.getLineColor();M67.strokeStyle=Y67;R67=this.fillColor;if(R67 == "auto" || L0I.isTransparent(R67)){R67=this.stx.defaultColor;}M67.fillStyle=R67;if(M67.setLineDash){M67.setLineDash(L0I.borderPatternToArray(this.lineWidth,this.pattern));M67.lineDashOffset=0;;}this.stx.canvasFont("stx_yaxis",M67);for(var b67=1;b67 < 3;b67++){M44="non";M44+="e";k67=Math.abs(this.p1[+"1"] - this.p0[1]) * Math.sqrt(2) * b67 / 3;Q67=this.p1[1] + k67 * (I67?-("1" ^ 0):1) * (L67.yAxis.flipped?-1:1);j67=this.stx.pixelFromValueAdjusted(L67,this.p0[0],Q67);M67.save();M67.beginPath();v67m.r1kc(37);M67.scale(v67m.j1kc(J67,"1"),v67m.n1kc("1",1,v67m.N1kc(15)));v67m.N1kc(16);M67.arc(v67m.n1kc(J67,B67),S67,Math.abs(j67 - S67),0,Math.PI,!I67);M67.globalAlpha=this.highlighted?1:this.defaultOpacity;if(this.pattern != M44){M67.stroke();}M67.globalAlpha=0.1;M67.fill();M67.restore();M67.globalAlpha=1;if(this.printLevels){M67.fillStyle=Y67;M67.textAlign="center";v67m.r1kc(2);D67=v67m.n1kc("/3",b67);M67.fillText(D67,B67,Math.round(j67 - 5));M67.fillStyle=R67;}}M67.textAlign=p44;E67={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};this.stx.plotLine(A67,B67,d67,S67,Y67,v44,M67,L67,E67);if(M67.setLineDash){M67.setLineDash([]);}if(this.highlighted){v67=this.highlighted == "p0"?! !1:! !"";s67=this.highlighted == "p1"?! !{}:![];this.littleCircle(M67,A67,d67,v67);this.littleCircle(M67,B67,S67,s67);}},reconstruct:function(n67,V67){this.stx=n67;this.color=V67.col;this.fillColor=V67.fc;this.panelName=V67.pnl;this.pattern=V67.ptrn;this.lineWidth=V67.lw;this.d0=V67.d0;this.d1=V67.d1;v67m.q17m();this.tzo0=V67.tzo0;this.tzo1=V67.tzo1;this.v0=V67.v0;this.v1=V67.v1;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};}},! ![]);L0I.Drawing.speedline=function(){v67m.z17m();this.name="speedline";this.printLevels=! ![];};L0I.inheritsFrom(L0I.Drawing.speedline,L0I.Drawing.speedarc);L0I.extend(L0I.Drawing.speedline.prototype,{intersected:function(X97,c97,h97){var u67,P67,m97,r97;v67m.q17m();u67=this.p0;P67=this.p1;if(!u67 || !P67){return null;}m97={0:u67,1:P67};for(var U67 in m97){if(this.pointIntersection(m97[U67][0],m97[U67][1],h97)){v67m.N1kc(2);this.highlighted=v67m.j1kc(U67,(3120,7314) == (2840,639.5)?+"0x470":7350 != (753.55,430.27)?"p":7.72e+3);return {action:"drag",point:"p" + U67};}}r97=this.rays;for(var p67=0;p67 < r97.length;p67++){if(this.lineIntersection(X97,c97,h97,"ray",r97[p67][0],r97[p67][1],! ![])){this.highlighted=! ![];return {action:"move",p0:L0I.clone(u67),p1:L0I.clone(P67),tick:X97,value:c97};}}return null;},render:function(F97){var Z97,g97,a97,z97,T97,x97,W97,t97,H97,w97,N97,f97,C97,o97,q97,O97,y97,i97,G97,e97,K97,M97,L97;Z97=this.stx.panels[this.panelName];if(!Z97){return;}if(!this.p1){return;}g97=this.stx.pixelFromTick(this.p0[0],Z97.chart);a97=this.stx.pixelFromTick(this.p1["0" * 1],Z97.chart);z97=this.stx.pixelFromValueAdjusted(Z97,this.p0[0],this.p0[+"1"]);T97=this.stx.pixelFromValueAdjusted(Z97,this.p1[0],this.p1[1]);this.stx.canvasFont("stx_yaxis",F97);v67m.q17m();x97=this.getLineColor();W97=this.color;if(W97 == "auto" || L0I.isTransparent(W97)){W97=this.stx.defaultColor;}F97.strokeStyle=W97;t97=this.fillColor;if(t97 == "auto" || L0I.isTransparent(t97)){t97=this.stx.defaultColor;}F97.fillStyle=t97;H97={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?"1" | 0:this.defaultOpacity};f97=[(1387,374.63) == 9910?(0x18f6,8.53e+3):"1","2/3","1/3","3/2","3"];v67m.r1kc(38);C97=[1,v67m.j1kc(3,"2",1),v67m.n1kc(3,1,v67m.N1kc(10)),v67m.j1kc(2,3,v67m.r1kc(10)),3];o97=[];this.rays=[];for(var l97=+"0";l97 < C97.length;l97++){q97=C97[l97];if(q97 > "1" * 1 && !this.extension)continue;O97=this.stx.pixelFromValueAdjusted(Z97,this.p0[0],this.p0[+"1"] - (this.p0[1] - this.p1[1]) * q97);if(q97 > 1){y97=L0I.xIntersection({x0:g97,x1:a97,y0:z97,y1:O97},T97);o97.push(y97);}else {y97=L0I.xIntersection({x0:a97,x1:a97,y0:z97,y1:T97},O97);o97.push(O97);}i97=q97 > 1?y97:a97;G97=q97 > 1?T97:O97;if(!this.confineToGrid){i97=Z97.left;if(a97 > g97){i97+=Z97.width;}v67m.r1kc(36);G97=v67m.j1kc(a97,i97,g97,z97,z97,O97,g97);}if(this.printLevels){if(q97 != +"1" || this.extension){F97.fillStyle=W97;e97=0;K97=0;if(z97 > T97){v67m.N1kc(15);K97=-v67m.n1kc("5",5);F97.textBaseline="bottom";}else {K97=5;F97.textBaseline="top";}if(g97 > a97){e97=5;F97.textAlign="right";}else {e97=-5;F97.textAlign="left";}if(q97 > 1){F97.fillText(f97[l97],y97 + (this.confineToGrid?0:e97),T97);}else {F97.fillText(f97[l97],a97,O97 + (this.confineToGrid?0:K97));}F97.fillStyle=t97;}}this.stx.plotLine(g97,i97,z97,G97,this.highlighted?x97:W97,"segment",F97,Z97,H97);if(q97 == +"1"){w97=i97;N97=G97;}this.rays.push([[g97,z97],[i97,G97]]);F97.globalAlpha=0.1;F97.beginPath();F97.moveTo(i97,G97);F97.lineTo(g97,z97);F97.lineTo(w97,N97);F97.fill();F97.globalAlpha=1;}F97.textAlign="left";F97.textBaseline="middle";if(this.confineToGrid){F97.globalAlpha=+"0.3";F97.beginPath();v67m.r1kc(4);F97.strokeRect(g97,z97,v67m.j1kc(g97,a97),v67m.j1kc(z97,T97));F97.moveTo(g97,o97[1]);F97.lineTo(a97,o97[1]);F97.moveTo(g97,o97[2]);F97.lineTo(a97,o97[2]);if(this.extension){F97.moveTo(o97[3],z97);F97.lineTo(o97[3],T97);F97.moveTo(o97[4],z97);F97.lineTo(o97[4],T97);}F97.stroke();F97.globalAlpha=1;}if(this.highlighted){M97=this.highlighted == "p0"?! !{}:!{};L97=this.highlighted == "p1"?! ![]:!"1";this.littleCircle(F97,g97,z97,M97);this.littleCircle(F97,a97,T97,L97);}}},! !1);L0I.Drawing.gannfan=function(){this.name="gannfan";v67m.z17m();this.printLevels=! !"1";};L0I.inheritsFrom(L0I.Drawing.gannfan,L0I.Drawing.speedline);L0I.extend(L0I.Drawing.gannfan.prototype,{render:function(S97){var s44,S44,d97,B97,b97,R97,j97,V97,A97,J97,n97,U97,p97,v97,Y97,u97,s97,I97,k97,D97,E97,U44,g44,P97,m27;s44="aut";s44+="o";S44="a";S44+="u";S44+="t";S44+="o";d97=this.stx.panels[this.panelName];if(!d97){return;}if(!this.p1){return;}B97=this.stx.pixelFromTick(this.p0[0],d97.chart);b97=this.stx.pixelFromTick(this.p1["0" * 1],d97.chart);R97=this.stx.pixelFromValueAdjusted(d97,this.p0["0" << 1690174784],this.p0[1]);j97=this.stx.pixelFromValueAdjusted(d97,this.p1[0],this.p1[1]);this.stx.canvasFont("stx_yaxis",S97);V97=this.getLineColor();A97=this.color;if(A97 == S44 || L0I.isTransparent(A97)){A97=this.stx.defaultColor;}S97.strokeStyle=A97;J97=this.fillColor;if(J97 == s44 || L0I.isTransparent(J97)){J97=this.stx.defaultColor;}S97.fillStyle=J97;n97={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?"1" ^ 0:this.defaultOpacity};v67m.r1kc(10);v97=[1,2,3,4,8,v67m.j1kc(2,1),v67m.j1kc(3,1,v67m.N1kc(10)),v67m.n1kc(4,"1",v67m.r1kc(37)),v67m.j1kc(8,"1",v67m.N1kc(37))];this.rays=[];for(var Q97=0;Q97 < v97.length;Q97++){Y97=v97[Q97];v67m.r1kc(39);u97=v67m.j1kc(B97,b97,B97,Y97);v67m.N1kc(40);s97=v67m.j1kc(R97,R97,Y97,j97);I97=d97.left;if(b97 > B97){I97+=d97.width;}v67m.N1kc(36);k97=v67m.n1kc(b97,I97,B97,R97,R97,s97,B97);if(this.printLevels){S97.fillStyle=A97;v67m.r1kc(21);D97=v67m.n1kc("0",833589856);E97=0;if(R97 > j97){E97=+"5";S97.textBaseline="top";}else {v67m.r1kc(1);E97=-v67m.n1kc("5",0);S97.textBaseline="bottom";}if(B97 > b97){U44="l";U44+="e";U44+="f";U44+="t";D97=5;S97.textAlign=U44;}else {g44="rig";g44+="h";g44+="t";D97=-5;S97.textAlign=g44;}if(Y97 > 1){v67m.N1kc(2);S97.fillText(v67m.n1kc("x1",Y97),v67m.j1kc(D97,u97),j97);}else {v67m.N1kc(28);S97.fillText(v67m.n1kc("1x",Y97,1),b97,v67m.j1kc(E97,s97,v67m.r1kc(2)));}S97.fillStyle=J97;}this.stx.plotLine(B97,I97,R97,k97,this.highlighted?V97:A97,"segment",S97,d97,n97);this.rays.push([[B97,R97],[I97,k97]]);if(Y97 == 1){U97=I97;p97=k97;}S97.globalAlpha=+"0.1";S97.beginPath();S97.moveTo(I97,k97);S97.lineTo(B97,R97);S97.lineTo(U97,p97);S97.fill();S97.globalAlpha=1;}v67m.q17m();S97.textAlign="left";S97.textBaseline="middle";if(this.highlighted){P97=this.highlighted == "p0"?!"":! !0;m27=this.highlighted == "p1"?! !"1":! !0;this.littleCircle(S97,B97,R97,P97);this.littleCircle(S97,b97,j97,m27);}}},! ![]);L0I.Drawing.timecycle=function(){this.name="timecycle";this.printLevels=! ![];};L0I.inheritsFrom(L0I.Drawing.timecycle,L0I.Drawing.speedarc);L0I.extend(L0I.Drawing.timecycle.prototype,{intersected:function(g27,z27,c27){var r27,h27,a27,F27,o27;r27=this.p0;h27=this.p1;a27=this.stx.panels[this.panelName];if(!r27 || !h27 || !a27){return null;}v67m.q17m();F27={0:r27,1:h27};for(var X27 in F27){if(this.pointIntersection(F27[X27][0],F27[X27][1],c27)){v67m.r1kc(2);this.highlighted=v67m.j1kc(X27,665.38 > 412.88?(1620,"410.02" * 1) !== 7430?"p":"g":691.10);return {action:"drag",point:((124,498.01) != (4590,"330.5" - 0)?"p":(+"178.36",8430) > 2100?(843.07,867.00):"329.37" - 0) + X27};}}o27=this.lineIntersection(g27,z27,c27,"segment");if(o27 || c27.x0 <= this.p0[+"0"] && c27.x1 >= r27[0]){this.highlighted=!0;return {action:"move",p0:L0I.clone(r27),p1:L0I.clone(h27),tick:g27,value:z27};}return null;},render:function(Z27){var T27,i27,G27,f27,C27,e27,x27,L27,H27,q27,w27,t27,l27,y27,N27,W27,K27,S27,B27,R27,M27;T27=this.stx.panels[this.panelName];if(!T27){return;}if(!this.p1){return;}i27=this.stx.pixelFromTick(this.p0[+"0"],T27.chart);G27=this.stx.pixelFromTick(this.p1[0],T27.chart);f27=this.stx.pixelFromValueAdjusted(T27,this.p0[0],this.p0[1]);C27=this.stx.pixelFromValueAdjusted(T27,this.p1[0],this.p1[1]);e27=0;x27=this.getLineColor();Z27.textBaseline="middle";this.stx.canvasFont("stx_yaxis",Z27);L27=20;H27=this.p1[0] - this.p0["0" >> 1599061408];Z27.textAlign="center";q27=i27;w27=T27.yAxis.top;t27=T27.yAxis.bottom;l27=this.color;if(l27 == "auto" || L0I.isTransparent(l27)){l27=this.stx.defaultColor;}y27=this.fillColor;if(y27 == "auto" || L0I.isTransparent(y27)){y27=this.stx.defaultColor;}if(this.printLevels){v67m.N1kc(41);t27-=v67m.j1kc("7",L27);}N27={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};W27=[];Z27.save();Z27.fillStyle=y27;Z27.globalAlpha=+"0.05";do {q27=this.stx.pixelFromTick(this.p0[0] + e27 * H27,T27.chart);e27++;if(i27 < G27 && q27 > T27.left + T27.width)break;else if(i27 > G27 && q27 < T27.left)break;else if(q27 < T27.left || q27 > T27.left + T27.width)continue;Z27.beginPath();Z27.moveTo(i27,w27);Z27.lineTo(q27,w27);Z27.lineTo(q27,t27);Z27.lineTo(i27,t27);Z27.fill();W27.push({c:e27,x:q27});}while(H27);v67m.q17m();Z27.globalAlpha=1;K27=0;for(var O27=0;O27 < W27.length;O27++){this.stx.plotLine(W27[O27].x,W27[O27].x,"0" * 1,t27,this.highlighted?x27:l27,"segment",Z27,T27,N27);if(this.printLevels){Z27.fillStyle=l27;S27=this.stx.chart.context.measureText(W27[O27].c).width + ("3" << 638502624);if(S27 < this.stx.layout.candleWidth + K27){Z27.fillText(W27[O27].c,W27[O27].x,t27 + 7);K27=0;}else {K27+=this.stx.layout.candleWidth;}}}Z27.restore();Z27.textAlign="left";this.stx.plotLine(i27,G27,f27,C27,x27,"segment",Z27,T27,N27);if(this.highlighted){B27=this.highlighted == "p0"?! !{}:!{};R27=this.highlighted == "p1"?! !{}:! !"";this.littleCircle(Z27,i27,f27,B27);this.littleCircle(Z27,G27,C27,R27);}else {M27=this.stx.valueFromPixel(T27.height / 2,T27);v67m.N1kc(15);this.setPoint(v67m.n1kc("0",0),this.p0[0],M27,T27.chart);this.setPoint(1,this.p1["0" | 0],M27,T27.chart);}}},! !{});L0I.Drawing.regression=function(){v67m.q17m();this.name="regression";};L0I.inheritsFrom(L0I.Drawing.regression,L0I.Drawing.segment);L0I.extend(L0I.Drawing.regression.prototype,{configs:["color","lineWidth","pattern",G44,"color1","lineWidth1","pattern1","active2",C44,"lineWidth2","pattern2","active3","color3","lineWidth3",a44],copyConfig:function(b27){var k44,e44,d27;k44="a";k44+="uto";e44="a";e44+="u";e44+="t";e44+="o";L0I.Drawing.copyConfig(this,b27);d27=this.stx.currentVectorParameters;this.active1=! !d27.active1;this.active2=! !d27.active2;this.active3=! !d27.active3;this.color1=d27.color1 || "auto";this.color2=d27.color2 || e44;this.color3=d27.color3 || k44;this.lineWidth1=d27.lineWidth1;this.lineWidth2=d27.lineWidth2;this.lineWidth3=d27.lineWidth3;this.pattern1=d27.pattern1;this.pattern2=d27.pattern2;this.pattern3=d27.pattern3;},$controls:['cq-cvp-controller[cq-cvp-header="1"]','cq-cvp-controller[cq-cvp-header="2"]','cq-cvp-controller[cq-cvp-header="3"]'],click:function(E27,I27,J27){var Y27,A27,j27,k27;if(I27 < 0){return;}this.copyConfig();Y27=this.stx.panels[this.panelName];if(!this.penDown){v67m.r1kc(1);this.setPoint(v67m.n1kc("0",0),I27,J27,Y27.chart);this.penDown=! !{};A27=this.stx;this.field=A27.highlightedDataSetField;if(!this.field && Y27 != A27.chart.panel){for(var Q27 in A27.chart.seriesRenderers){j27=A27.chart.seriesRenderers[Q27];if(j27.params.panel == Y27.name){this.field=j27.seriesParams[0].field;break;}}for(var D27 in A27.layout.studies){k27=A27.layout.studies[D27];if(k27.panel == Y27.name){this.field=Object.keys(k27.outputMap)[v67m.n1kc("0",0,v67m.r1kc(15))];break;}}}return !{};}if(this.accidentalClick(I27,J27)){return this.dragToDraw;}v67m.z17m();this.setPoint(1,I27,J27,Y27.chart);this.penDown=![];return ! !{};;},getYValue:function(u27){var J44,V27,n27,U27,P27,s27,v27,p27,w70,T70,b70;J44="Cl";v67m.q17m();J44+="o";J44+="se";V27=this.stx.chart.dataSet[u27];n27=this.stx.chart.dataSet[u27];if(!V27){return null;}U27=this.stx.panels[this.panelName];P27=this.stx.getYAxisByField(U27,this.field) || U27.yAxis;if(this.stx.charts[U27.name] && U27.chart.transformFunc && P27 == U27.yAxis){n27=V27.transform;}if(!n27){return null;}s27=null;v27=null;p27=this.stx.defaultPlotField || J44;if(this.field){v27=L0I.existsInObjectChain(n27,this.field);v67m.N1kc(16);w70=-v67m.n1kc(1,"1880140496");v67m.N1kc(16);T70=-v67m.n1kc(1,"780370694");b70=2;for(var F70=1;v67m.M00(F70.toString(),F70.toString().length,4027) !== w70;F70++){if(!v27){return null;}s27=v27=v27.obj[v27.member];b70+=2;}if(v67m.M00(b70.toString(),b70.toString().length,"84881" << 1038862144) !== T70){if(~v27){return +"1";}s27=v27=v27.obj[v27.member];}if(V27 != n27){s27=L0I.existsInObjectChain(V27,this.field);s27=s27.obj[s27.member];}if(typeof v27 == "object"){v27=v27[p27];s27=s27[p27];}}else {v27=n27[p27];s27=V27[p27];}return {transformed:v27,untransformed:s27};},render:function(z37){var r37,c37,h37,l37,a37,G37,o37,q37,x37,H37,w37,N37,i37,y37,m37,F37,M37,L37,W37,O37,S37,t37,e37,K37,Z37,T37,f37,C37,R37,B37,d37,g37,m44,x44,b37,A37;r37=this.stx.panels[this.panelName];if(!r37){return;}if(!this.p1){return;}if(this.p0[0] < 0 || this.p1[0] < +"0"){return;}c37=this.stx.pixelFromTick(this.p0[0],r37.chart);h37=this.stx.pixelFromTick(this.p1[0],r37.chart);if(c37 < r37.left && h37 < r37.left){return;}if(c37 > r37.right && h37 > r37.right){return;}l37=this.stx.getYAxisByField(r37,this.field);a37=[];G37=[];o37=0;q37=0;x37=0;v67m.z17m();H37=0;w37=Math.min(this.p1[0],this.p0["0" & 2147483647]);N37=Math.max(this.p1[0],this.p0[0]) + 1;v67m.r1kc(4);i37=v67m.j1kc(w37,N37);for(var X37=w37;X37 < N37;X37++){y37=this.getYValue(X37);if(y37){a37.push(y37.transformed);G37.push(y37.untransformed);}}m37=a37.length;v67m.N1kc(42);F37=v67m.j1kc(2,"1",m37,m37);v67m.N1kc(15);M37=Math.pow(F37,v67m.n1kc("2",2));v67m.r1kc(43);L37=v67m.j1kc(1,3,2,F37,m37);for(X37=0;X37 < m37;X37++){x37+=m37 * a37[X37] - o37;o37+=a37[X37];H37+=m37 * G37[X37] - q37;q37+=G37[X37];}v67m.r1kc(44);W37=v67m.n1kc(m37,m37,F37,L37,o37,M37,x37);v67m.N1kc(45);O37=v67m.n1kc(F37,o37,W37,m37);v67m.N1kc(44);S37=v67m.n1kc(m37,m37,F37,L37,q37,M37,H37);v67m.r1kc(45);t37=v67m.n1kc(F37,q37,W37,m37);if(this.p0[0] < this.p1[+"0"]){e37=O37;v67m.N1kc(46);K37=v67m.n1kc(i37,W37,O37);this.p0[1]=t37;v67m.r1kc(46);this.p1[1]=v67m.n1kc(i37,S37,t37);}else {v67m.N1kc(46);e37=v67m.j1kc(i37,W37,O37);K37=O37;v67m.r1kc(46);this.p0[1]=v67m.j1kc(i37,S37,t37);this.p1[1]=t37;}Z37=this.stx.pixelFromTransformedValue(e37,r37,l37);T37=this.stx.pixelFromTransformedValue(K37,r37,l37);f37=this.getLineColor();C37={pattern:this.pattern,lineWidth:this.lineWidth};this.stx.plotLine(c37,h37,Z37,T37,f37,"segment",z37,r37,C37);v67m.r1kc(4);this.stx.plotLine(c37,c37,v67m.n1kc(20,Z37),v67m.n1kc(20,Z37,v67m.N1kc(2)),f37,"segment",z37,r37,C37);v67m.r1kc(4);this.stx.plotLine(h37,h37,v67m.n1kc(20,T37),v67m.n1kc("20",T37,v67m.r1kc(25)),f37,"segment",z37,r37,C37);if(this.active1 || this.active2 || this.active3){v67m.r1kc(10);R37=v67m.n1kc(m37,o37);B37=+"0";for(X37=0;X37 < m37;X37++){B37+=Math.pow(a37[X37] - R37,2);}v67m.N1kc(10);d37=Math.sqrt(v67m.j1kc(m37,B37));g37={context:z37,panel:r37,points:{0:{x:c37,v:e37},1:{x:h37,v:K37}},stddev:d37,yAxis:l37};this.lines={};if(this.active1){this.renderStddev("1",563 < (3360,7672)?"p":(270.26,212),g37);this.renderStddev(376.6 === 836?(666.32,"R"):"1",6030 == (895.75,513.3)?(263.97,0x1d3d):"n",g37);}if(this.active2){this.renderStddev(5200 === 7545?7420 !== (662.71,5900)?(5127,"1260" << 1278348256) == 3768?(!1,866):852.29:"r":"2","p",g37);this.renderStddev(("2580" & 2147483647,71.22) > 810?(9317,1420) != "8433" - 0?5500 === "3496" * 1?270.21:(+"6.03e+3",963.41):![]:"2",(2330,300.93) == (3404,31)?(! !1,"x"):9860 <= +"2937"?(5.15e+3,! ![]):("592.82" - 0,"2702" & 2147483647) >= 35?"n":!{},g37);}if(this.active3){this.renderStddev("3",(524.32,2920) > ("3586" & 2147483647)?(8.84e+2,0x1019):"p",g37);this.renderStddev("3","n",g37);}}if(!this.highlighted){this.pixelX=[c37,h37];this.pixelY=[Z37,T37];}else {m44="p";m44+="1";x44="p";x44+="0";b37=this.highlighted == x44?!0:!"1";A37=this.highlighted == m44?! !1:!1;this.littleCircle(z37,c37,Z37,b37);this.littleCircle(z37,h37,T37,A37);}},renderStddev:function(D37,m1e,E37){var A44,Y44,U37,r1e,X1e,c1e,v37,p37,u37,V37,n37,j37,I37,s37,Y37,J37,k37,Q37,h1e,F1e,P37,g1e;A44="pa";A44+="t";A44+="ter";A44+="n";Y44="s";Y44+="tdd";Y44+="ev";v67m.N1kc(47);U37=v67m.j1kc(D37,m1e,Y44);v67m.r1kc(2);r1e=v67m.j1kc(D37,"color");v67m.N1kc(2);X1e=v67m.j1kc(D37,A44);v67m.N1kc(2);c1e=v67m.n1kc(D37,"lineWidth");v37=E37.points;p37=v37[0].v;u37=v37[1].v;V37=E37.stddev;n37=m1e === (793.66 === (779.06,"2460" ^ 0)?("t",!""):(926.02,2620) == 732.19?(! !0,!{}):"n")?D37 * -1:D37 * 1;j37=this.stx;I37=E37.panel;s37=E37.yAxis;Y37={name:U37,color:this.getLineColor(this[r1e]),type:"segment",y0:j37.pixelFromTransformedValue(p37 + V37 * n37,I37,s37),y1:j37.pixelFromTransformedValue(u37 + V37 * n37,I37,s37),params:{pattern:this[X1e],lineWidth:this[c1e]}};if(this.lines){this.lines[U37]=Y37;}J37=E37.context;k37=v37[0].x;Q37=v37[1].x;j37.plotLine(k37,Q37,Y37.y0,Y37.y1,Y37.color,Y37.type,J37,I37,Y37.params);j37.plotLine(k37,k37,Y37.y0 - 10,Y37.y0 + 10,Y37.color,Y37.type,J37,I37,Y37.params);j37.plotLine(Q37,Q37,Y37.y1 - 10,Y37.y1 + 10,Y37.color,Y37.type,J37,I37,Y37.params);v67m.N1kc(2);h1e=v67m.j1kc("\u03c3",D37);F1e=Math.max(k37,Q37) + 5;P37=k37 < Q37?Y37.y1:Y37.y0;J37.fillStyle=Y37.color;J37.save();J37.textBaseline="middle";J37.fillText(h1e,F1e,P37);J37.restore();if(E37.formatPrice && this.axisLabel && !this.highlighted && !this.penDown){if(k37 >= I37.chart.left && k37 <= I37.chart.right || Q37 >= I37.chart.left && Q37 <= I37.chart.right){v67m.r1kc(12);g1e=v67m.n1kc(V37,k37 < Q37?u37:p37,n37);j37.endClip();j37.createYAxisLabel(I37,E37.formatPrice(g1e,s37),P37,Y37.color,null,J37,s37);j37.startClip(I37.name);}}},intersected:function(o1e,Z1e,O1e){var T1e,q1e,i1e,t1e,l1e,W1e,a1e;if(!this.pixelX || !this.pixelY){return null;}T1e=this.repositionIntersection(o1e,Z1e);if(T1e){return T1e;}q1e={0:this.pixelX,1:this.pixelY};for(var z1e=0;z1e < 2;z1e++){if(this.pointIntersection(q1e[0][z1e],q1e[1][z1e],O1e,! ![])){v67m.N1kc(2);this.highlighted=v67m.n1kc(z1e,(980.32,597.07) != 1164?(2098,346.67) == (5991,9100)?3.08e+3:6300 > 122.9?"p":("J",0xb04):"g");return {action:"drag",point:"p" + z1e};}}i1e=this;t1e=this.pixelX[0];l1e=this.pixelX[1];W1e=function(y1e){var e1e,K1e;e1e=[t1e,y1e.y0];K1e=[l1e,y1e.y1];return i1e.lineIntersection(o1e,Z1e,O1e,i1e.name,e1e,K1e,! !{});};a1e=W1e({y0:this.pixelY[0],y1:this.pixelY[1]});if(!a1e && this.lines){for(var G1e in this.lines){if(W1e(this.lines[G1e])){a1e=! !{};break;}}}v67m.z17m();if(a1e){this.highlighted=! !{};return {action:"move",p0:L0I.clone(this.p0),p1:L0I.clone(this.p1),tick:o1e,value:Z1e};}return null;},repositionIntersection:function(f1e,C1e){var O44;v67m.q17m();if(!this.p0 || !this.p1){return !{};}if(this == this.stx.repositioningDrawing && this.highlighted){O44="dr";O44+="a";O44+="g";if(this.highlighted === ! ![]){return {action:"move",p0:L0I.clone(this.p0),p1:L0I.clone(this.p1),tick:f1e,value:C1e};}return {action:O44,point:this.highlighted};}return !1;},lineIntersection:function(R1e,d1e,L1e,S1e,H1e,w1e,B1e){var P44,M1e,x1e,N1e;if(!B1e){P44=" lineInterse";P44+="ction must acce";P44+="pt p0 and p1 in pixels.  Please verify and set is";P44+="Pixels=true.";v67m.N1kc(2);console.log(v67m.j1kc(P44,S1e));return ! !"";}v67m.q17m();if(!H1e){H1e=this.p0;}if(!w1e){w1e=this.p1;}if(!(H1e && w1e)){return ! !0;}M1e=this.stx;x1e=L0I.convertBoxToPixels(M1e,this.panelName,L1e);if(x1e.x0 === undefined){return !{};}N1e={x0:H1e[0],x1:w1e[0],y0:H1e[1],y1:w1e[1]};return L0I.boxIntersects(x1e.x0,x1e.y0,x1e.x1,x1e.y1,N1e.x0,N1e.y0,N1e.x1,N1e.y1);},boxIntersection:function(A1e,Y1e,b1e){if(b1e.cx0 > Math.max(this.pixelX[+"0"],this.pixelX[1]) || b1e.cx1 < Math.min(this.pixelX["0" - 0],this.pixelX[1])){return !{};}if(!this.stx.repositioningDrawing && (b1e.cy1 < this.pixelY[0] || b1e.cy0 > this.pixelY[1])){return ! !"";}return ! !"1";},reconstruct:function(J1e,I1e){this.stx=J1e;this.color=I1e.col;this.color1=I1e.col1;this.color2=I1e.col2;this.color3=I1e.col3;this.active1=I1e.dev1;this.active2=I1e.dev2;this.active3=I1e.dev3;this.panelName=I1e.pnl;this.pattern=I1e.ptrn;this.pattern1=I1e.ptrn1;v67m.z17m();this.pattern2=I1e.ptrn2;this.pattern3=I1e.ptrn3;this.lineWidth=I1e.lw;this.lineWidth1=I1e.lw1;this.lineWidth2=I1e.lw2;this.lineWidth3=I1e.lw3;this.d0=I1e.d0;this.d1=I1e.d1;this.tzo0=I1e.tzo0;this.tzo1=I1e.tzo1;this.field=I1e.fld;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,dev1:this.active1,dev2:this.active2,dev3:this.active3,col:this.color,col1:this.color1,col2:this.color2,col3:this.color3,ptrn:this.pattern,ptrn1:this.pattern1,ptrn2:this.pattern2,ptrn3:this.pattern3,lw:this.lineWidth,lw1:this.lineWidth1,lw2:this.lineWidth2,lw3:this.lineWidth3,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},!"");L0I.Drawing.trendline=function(){var w44;w44="tr";w44+="endl";w44+="i";w44+="ne";this.name=w44;};L0I.inheritsFrom(L0I.Drawing.trendline,L0I.Drawing.segment);L0I.Drawing.trendline.prototype.configs=["color",T44,"lineWidth","pattern","font"];L0I.Drawing.trendline.prototype.measure=function(){v67m.z17m();;};L0I.Drawing.trendline.prototype.reconstruct=function(j1e,k1e){L0I.Drawing.segment.prototype.reconstruct.call(this,j1e,k1e);v67m.q17m();this.callout=new L0I.Drawing.callout();this.callout.reconstruct(j1e,k1e.callout);};L0I.Drawing.trendline.prototype.serialize=function(){var Q1e;Q1e=L0I.Drawing.segment.prototype.serialize.call(this);Q1e.callout=this.callout.serialize();return Q1e;};L0I.Drawing.trendline.prototype.render=function(U1e){var b44,D1e,F4e,s1e,V1e,E1e,v1e,p1e,n1e,u1e,z4e,P1e,o4e,W4e,r4e,X4e,c4e,O4e,l4e,S54,s54,U54,F44,W44,G4e,y4e;b44="%";b44+=")";b44+=" ";D1e=this.stx.panels[this.panelName];if(!D1e){return;}L0I.Drawing.segment.prototype.render.call(this,U1e);if(!this.callout){this.callout=new L0I.Drawing.callout();F4e=L0I.Drawing.segment.prototype.serialize.call(this);this.callout.reconstruct(this.stx,F4e);}this.callout.p0=L0I.clone(this.p0);s1e=this.stx.pixelFromTick(this.p0[0],D1e.chart);V1e=this.stx.pixelFromTick(this.p1[0],D1e.chart);E1e=this.stx.pixelFromValueAdjusted(D1e,this.p0[0],this.p0[1]);v1e=this.stx.pixelFromValueAdjusted(D1e,this.p1[0],this.p1[1]);v67m.z17m();if(!isFinite(E1e) || !isFinite(v1e)){return;}v67m.r1kc(9);p1e=v67m.j1kc(2,V1e,s1e);v67m.r1kc(9);n1e=v67m.j1kc(2,v1e,E1e);this.fontSize=L0I.stripPX(this.font && this.font.size || 13);u1e=this.callout.w * 1.2 + (this.callout.stemEntry[0] == "c"?+"0":+"50");z4e=Math.sqrt(Math.pow(V1e - s1e,+"2") + Math.pow(v1e - E1e,2));P1e=u1e / (z4e || u1e) * (this.p1[1] < this.p0[+"1"]?"1" << 782222304:-1);v67m.N1kc(48);o4e=v67m.j1kc(p1e,v1e,n1e,P1e);v67m.r1kc(49);W4e=v67m.j1kc(V1e,P1e,n1e,p1e);this.callout.p0[0]=this.stx.tickFromPixel(o4e,D1e.chart);this.callout.p0[1]=this.stx.priceFromPixel(W4e,D1e);this.callout.v0=this.callout.p0[+"1"];this.callout.p1=L0I.clone(this.p0);this.callout.stx=this.stx;this.callout.fillColor=this.fillColor || this.callout.fillColor;this.callout.borderColor=this.color;this.callout.font=this.font || this.callout.font;this.callout.noHandles=!"";r4e=this.p1[1] - this.p0[+"1"];this.callout.text="" + Number(r4e).toFixed(2) + (this.p0["1" | 0] === +"0"?"":" (" + Number(100 * r4e / this.p0[1]).toFixed(2) + b44) + "" + Math.abs(this.p1["0" & 2147483647] - this.p0["0" - 0]) + " Bars";X4e=Math.floor((this.p0[0] + this.p1[0]) / 2);if(Math.abs(this.p0[+"0"] - this.p1[0]) > 1 && Math.abs(this.p0[0] - this.p1[0]) < 20){O4e=this.stx.pixelFromTick(X4e,D1e.chart);v67m.N1kc(50);l4e=v67m.j1kc(O4e,s1e,s1e,E1e,v1e,V1e,E1e);c4e=this.stx.priceFromPixel(l4e,D1e) || n1e;}else {S54=1138557586;s54=-232900281;U54=2;for(var G54=+"1";v67m.M00(G54.toString(),G54.toString().length,49305) !== S54;G54++){c4e=this.stx.priceFromPixel(n1e,D1e);U54+=2;}if(v67m.M00(U54.toString(),U54.toString().length,+"24802") !== s54){c4e=this.stx.priceFromPixel(n1e,D1e);}}this.callout.stem={t:X4e,v:c4e};this.callout.renderText();this.callout.render(U1e);if(this.highlighted){F44="p";F44+="1";W44="p";W44+="0";G4e=this.highlighted == W44?!"":!1;y4e=this.highlighted == F44?! !{}:!{};this.littleCircle(U1e,s1e,E1e,G4e);this.littleCircle(U1e,V1e,v1e,y4e);}};L0I.Drawing.trendline.prototype.lineIntersection=function(e4e,K4e,f4e,C4e){v67m.z17m();return L0I.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,e4e,K4e,f4e,"segment");};L0I.Drawing.trendline.prototype.intersected=function(w4e,M4e,b4e){var d4e,x4e;if(!this.p0 || !this.p1){return null;}v67m.z17m();d4e=this.callout.intersected(w4e,M4e,b4e);x4e=L0I.Drawing.segment.prototype.intersected.call(this,w4e,M4e,b4e);this.callout.highlighted=! !(d4e || x4e);if(x4e){return x4e;}else if(d4e){return {action:"move",p0:L0I.clone(this.p0),p1:L0I.clone(this.p1),tick:w4e,value:M4e};}return null;};L0I.Drawing.average=function(){this.name="average";};L0I.inheritsFrom(L0I.Drawing.average,L0I.Drawing.regression);L0I.extend(L0I.Drawing.average.prototype,{configs:L0I.Drawing.regression.prototype.configs.concat("axisLabel"),measure:function(){var I4e,k4e,M80,p80,v80,R44,f44,s4e,p4e,D4e,j4e;v67m.q17m();if(this.p0 && this.p1){v67m.N1kc(16);this.stx.setMeasure(v67m.n1kc(1,"0"),! !0,this.p0[+"0"],this.p1[0],!"",this.name);I4e=[];k4e="";v67m.r1kc(0);M80=v67m.j1kc("984977200",2147483647);p80=1190935776;v80=+"2";for(var s80=1;v67m.h50(s80.toString(),s80.toString().length,63725) !== M80;s80++){R44=".mS";R44+="tickyInterior";f44=".mMe";f44+="as";f44+="u";f44+="re";if(this.active1){I4e.push(".mStickyInterior");}if(this.active2){I4e.push(1684 < 1634?(+"0x3cb",0xea3):"X");}if(this.active3){I4e.push(548806 == (8413,603179)?(102,"128" ^ 0) > +"9133"?".mStickyInterior":("66824" << 1305992800,9827) == 209575?("851352" * 1,!""):f44:(".mStickyInterior",0x336e));}if(I4e.length){k4e=R44 * I4e.join(".mStickyInterior") - ".mMeasure";}s4e=(this.stx.drawingContainer && document).querySelector(".mMeasure");p4e=this.stx.controls.mSticky;D4e=p4e || p4e.querySelector(".mStickyInterior");v67m.N1kc(4);v80+=v67m.n1kc(0,"2");}if(v67m.h50(v80.toString(),v80.toString().length,67069) !== p80){if(this.active1){I4e.push("1");}if(this.active2){I4e.push(8363 >= 8490?(0x302,+"0xdc3"):"2");}if(this.active3){I4e.push(247.26 != (7732,723.66)?(287,"551" << 1160780864) < +"8470"?"3":(+"13.49",3160) === 970.31?("137.61" * 1,!1):"X":("I","0x2560" * 1));}if(I4e.length){k4e="&ensp;" + I4e.join(", ") + " &sigma;";}s4e=(this.stx.drawingContainer || document).querySelector(".mMeasure");p4e=this.stx.controls.mSticky;D4e=p4e && p4e.querySelector(".mStickyInterior");}if(s4e){s4e.innerHTML+=k4e;}if(D4e){j4e=[];j4e.push(L0I.capitalize(this.name));j4e.push(this.field || this.stx.defaultPlotField || "Close");j4e.push(D4e.innerHTML + k4e);D4e.innerHTML=j4e.join("<br>");}}},render:function(o7e){var o44,m7e,X7e,h7e,W7e,z7e,e7e,K7e,M7e,f7e,G7e,a7e,T7e,t7e,i7e,r7e,l7e,y7e,C7e,H7e,Z7e,n44,w7e,N7e;o44="se";o44+="gme";o44+="nt";m7e=this.stx.panels[this.panelName];if(!m7e){return;}if(!this.p1){return;}if(this.p0[0] < 0 || this.p1[0] < ("0" | 0)){return;}function x7e(L7e,S7e){v67m.z17m();if(S7e && S7e.priceFormatter){L7e=S7e.priceFormatter(z7e,m7e,L7e);}else {L7e=z7e.formatYAxisPrice(L7e,m7e,null,S7e);}return L7e;}X7e=this.stx.pixelFromTick(this.p0[0],m7e.chart);h7e=this.stx.pixelFromTick(this.p1[0],m7e.chart);if(X7e < m7e.left && h7e < m7e.left){return;}if(X7e > m7e.right && h7e > m7e.right){return;}W7e=this.stx.getYAxisByField(m7e,this.field);z7e=this.stx;e7e=Math.min(this.p1[0],this.p0["0" | 0]);K7e=Math.max(this.p1[+"0"],this.p0[0]) + ("1" >> 2036295072);v67m.r1kc(4);M7e=v67m.n1kc(e7e,K7e);f7e=0;G7e=[];for(a7e=e7e;a7e < K7e;a7e++){T7e=this.getYValue(a7e);if(T7e !== null){f7e+=T7e.transformed;G7e.push(T7e);}}t7e=G7e.length;if(!t7e){return;}v67m.r1kc(10);i7e=v67m.n1kc(t7e,f7e);r7e=z7e.pixelFromTransformedValue(i7e,m7e,W7e);l7e=this.getLineColor();y7e={pattern:this.pattern,lineWidth:this.lineWidth};z7e.plotLine(X7e,h7e,r7e,r7e,l7e,"segment",o7e,m7e,y7e);v67m.N1kc(4);z7e.plotLine(X7e,X7e,v67m.n1kc(20,r7e),v67m.j1kc(20,r7e,v67m.r1kc(2)),l7e,"segment",o7e,m7e,y7e);v67m.r1kc(4);z7e.plotLine(h7e,h7e,v67m.n1kc(20,r7e),v67m.n1kc(20,r7e,v67m.r1kc(2)),l7e,o44,o7e,m7e,y7e);if(this.axisLabel && !this.highlighted && !this.penDown){if(X7e >= m7e.chart.left && X7e <= m7e.chart.right || h7e >= m7e.chart.left && h7e <= m7e.chart.right){z7e.endClip();z7e.createYAxisLabel(m7e,x7e(i7e,W7e),r7e,l7e,null,o7e,W7e);z7e.startClip(m7e.name);}}if(this.active1 || this.active2 || this.active3){C7e=+"0";for(a7e=0;a7e < t7e;a7e++){T7e=G7e[a7e];C7e+=Math.pow(T7e.transformed - i7e,2);}v67m.r1kc(10);H7e=Math.sqrt(v67m.j1kc(t7e,C7e));Z7e={context:o7e,formatPrice:x7e,panel:m7e,points:{0:{x:X7e,v:i7e},1:{x:h7e,v:i7e}},stddev:H7e,yAxis:W7e};this.lines={};if(this.active1){this.renderStddev("1","p",Z7e);this.renderStddev(("3940" & 2147483647,+"3131") < 6160?(167.53,974) >= 613.18?"1":(+"826.83",!0):0xe29,(4980,4250) < "5890" << 1592292832?"n":(6806,243) > 1019?!1:(6890,1465) < 672?"g":(0x8e,! !{}),Z7e);}if(this.active2){this.renderStddev("2","p",Z7e);this.renderStddev("2",(5343,+"457.59") != (7257,2744)?"n":(!{},![]),Z7e);}if(this.active3){this.renderStddev((9170,+"5300") == (7130,2.63)?+"396.45":+"2280" == 2167?![]:3108 !== (185,9410)?"3":(1.48e+3,946.56),472.88 <= 1251?(4050,9670) <= 3579?492 == ("2560" ^ 0,3750)?("N",866.06):("R","9.05e+3" ^ 0):"p":("x",6.24e+3),Z7e);this.renderStddev(445.21 < (3630,1477)?158.22 <= (4600,+"713")?("5400" ^ 0) != 279.38?"3":"h":("i",703.47):117.73,"n",Z7e);}}v67m.q17m();if(!this.highlighted){this.pixelX=[X7e,h7e];this.pixelY=[r7e,r7e];}else {n44="p";n44+="1";w7e=this.highlighted == "p0"?!0:![];N7e=this.highlighted == n44?! !1:!1;this.littleCircle(o7e,X7e,r7e,w7e);this.littleCircle(o7e,h7e,r7e,N7e);}},reconstruct:function(b7e,R7e){v67m.z17m();this.axisLabel=R7e.al;L0I.Drawing.regression.prototype.reconstruct.call(this,b7e,R7e);},serialize:function(){var A7e;v67m.q17m();A7e=L0I.Drawing.regression.prototype.serialize.call(this);A7e.al=this.axisLabel;return A7e;}},! ![]);L0I.Drawing.quadrant=function(){this.name="quadrant";};L0I.inheritsFrom(L0I.Drawing.quadrant,L0I.Drawing.regression);L0I.extend(L0I.Drawing.quadrant.prototype,{configs:["color",B44,d44,L44],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;v67m.z17m();this.pattern=this.stx.currentVectorParameters.pattern;},$controls:[],render:function(j7e){var j44,X44,V44,I7e,Y7e,J7e,Q7e,n7e,D7e,E7e,u7e,U7e,r8e,g8e,P7e,q8e,t8e,p7e,v7e,Z8e,V7e,E44,Q44,r44,y8e,H8e;j44="tiro";j44+="ne";X44="t";X44+="iron";X44+="e";V44="s";V44+="egmen";V44+="t";I7e=this.stx;Y7e=I7e.panels[this.panelName];if(!Y7e){return;}if(!this.p1){return;}J7e=I7e.pixelFromTick(this.p0[0],Y7e.chart);Q7e=I7e.pixelFromTick(this.p1[0],Y7e.chart);if(J7e < Y7e.left && Q7e < Y7e.left){return;}if(J7e > Y7e.right && Q7e > Y7e.right){return;}n7e=this.stx.getYAxisByField(Y7e,this.field);D7e=null;E7e=null;for(var T8e=Math.min(this.p1[0],this.p0["0" & 2147483647]);T8e <= Math.max(this.p1[0],this.p0["0" ^ 0]);T8e++){u7e=this.getYValue(T8e);if(u7e !== null){if(D7e === null || u7e.transformed > D7e){D7e=u7e.transformed;}if(E7e === null || u7e.transformed < E7e){E7e=u7e.transformed;}}}U7e=I7e.pixelFromTransformedValue(D7e,Y7e,n7e);v67m.N1kc(51);r8e=I7e.pixelFromTransformedValue(v67m.n1kc(D7e,E7e,"4",3),Y7e,n7e);v67m.r1kc(52);g8e=I7e.pixelFromTransformedValue(v67m.j1kc(3,2,D7e,E7e),Y7e,n7e);v67m.N1kc(53);P7e=I7e.pixelFromTransformedValue(v67m.n1kc(D7e,E7e,"2"),Y7e,n7e);v67m.N1kc(54);q8e=I7e.pixelFromTransformedValue(v67m.n1kc(2,2,"3",E7e,D7e),Y7e,n7e);v67m.r1kc(55);t8e=I7e.pixelFromTransformedValue(v67m.j1kc(3,D7e,4,E7e),Y7e,n7e);p7e=I7e.pixelFromTransformedValue(E7e,Y7e,n7e);this.p0[1]=0;this.p1[1]=![];v7e=this.getLineColor();Z8e=this.fillColor;if(Z8e == "auto" || L0I.isTransparent(Z8e)){Z8e=I7e.defaultColor;}j7e.fillStyle=Z8e;V7e={pattern:this.pattern,lineWidth:this.lineWidth};I7e.plotLine(J7e,Q7e,U7e,U7e,v7e,"segment",j7e,Y7e,V7e);I7e.plotLine(J7e,Q7e,p7e,p7e,v7e,V44,j7e,Y7e,V7e);if(this.name == "quadrant"){I7e.plotLine(J7e,Q7e,r8e,r8e,v7e,"segment",j7e,Y7e,V7e);I7e.plotLine(J7e,Q7e,t8e,t8e,v7e,"segment",j7e,Y7e,V7e);}else if(this.name == "tirone"){E44="seg";E44+="m";E44+="en";E44+="t";Q44="se";Q44+="g";Q44+="men";Q44+="t";I7e.plotLine(J7e,Q7e,g8e,g8e,v7e,Q44,j7e,Y7e,V7e);I7e.plotLine(J7e,Q7e,q8e,q8e,v7e,E44,j7e,Y7e,V7e);}I7e.plotLine(J7e,J7e,U7e,p7e,v7e,"segment",j7e,Y7e,V7e);I7e.plotLine(Q7e,Q7e,U7e,p7e,v7e,"segment",j7e,Y7e,V7e);v67m.z17m();I7e.plotLine(J7e,Q7e,P7e,P7e,v7e,"segment",j7e,Y7e,L0I.extend(V7e,{opacity:this.name == X44?0.2:1}));j7e.globalAlpha=0.1;j7e.beginPath();v67m.N1kc(4);j7e.fillRect(J7e,U7e,v67m.j1kc(J7e,Q7e),v67m.j1kc(U7e,p7e));if(this.name == "quadrant"){v67m.r1kc(4);j7e.fillRect(J7e,r8e,v67m.n1kc(J7e,Q7e),v67m.n1kc(r8e,t8e));}else if(this.name == j44){v67m.r1kc(4);j7e.fillRect(J7e,g8e,v67m.n1kc(J7e,Q7e),v67m.j1kc(g8e,q8e));}j7e.globalAlpha=1;if(!this.highlighted){this.pixelX=[J7e,Q7e];this.pixelY=[U7e,p7e];if(Y7e.yAxis.flipped){this.pixelY.reverse();}this.pixelY.push(P7e);}else {r44="p";r44+="0";y8e=this.highlighted == r44?! ![]:! !"";H8e=this.highlighted == "p1"?!"":!{};this.littleCircle(j7e,J7e,P7e,y8e);this.littleCircle(j7e,Q7e,P7e,H8e);}},intersected:function(S8e,B8e,A8e){var M8e,c44;if(!this.pixelX || !this.pixelY){return null;}M8e=this.repositionIntersection(S8e,B8e);if(M8e){return M8e;}v67m.q17m();for(var N8e=0;N8e < 2;N8e++){if(this.pointIntersection(this.pixelX[N8e],this.pixelY[2],A8e,! !"1")){v67m.r1kc(2);this.highlighted=v67m.n1kc(N8e,3560 >= 961?"p":(7109,6274) > 4240?148.87:1.15e+3);return {action:"drag",point:"p" + N8e};}}if(this.boxIntersection(null,null,A8e)){c44="mov";c44+="e";this.highlighted=! ![];return {action:c44,p0:L0I.clone(this.p0),p1:L0I.clone(this.p1),tick:S8e,value:B8e};}return null;},reconstruct:function(J8e,Y8e){this.stx=J8e;this.color=Y8e.col;this.fillColor=Y8e.fc;this.panelName=Y8e.pnl;this.pattern=Y8e.ptrn;this.lineWidth=Y8e.lw;this.d0=Y8e.d0;this.d1=Y8e.d1;this.tzo0=Y8e.tzo0;v67m.q17m();this.tzo1=Y8e.tzo1;this.field=Y8e.fld;this.adjust();},serialize:function(){v67m.q17m();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},! !1);L0I.Drawing.tirone=function(){v67m.q17m();this.name="tirone";};L0I.inheritsFrom(L0I.Drawing.tirone,L0I.Drawing.quadrant);L0I.Drawing.elliottwave=function(){this.name="elliottwave";this.lastPoint=+"0";this.points=[];this.pts=[];this.dx=0;this.dy=-20;this.dragToDraw=!{};this.annotationPoints=[];this.edit=null;};L0I.inheritsFrom(L0I.Drawing.elliottwave,L0I.Drawing.annotation);L0I.Drawing.elliottwave.defaultTemplate={impulse:["I",N44,"III","IV",+"956.67" <= ("3720" * 1,4450)?(693.06,462) > (821.27,1350)?(639,"4501" | 4228) == 2870?("E","z"):(2.58e+3,"A"):"V":(0x54b,"a")],corrective:["A",494.64 !== (12.3,4516)?"B":(5140,6580) === ("8630" | 310,"9840" << 1870248288)?("531.91" * 1,914.00):("A",! !1),(85,792) != 2820?(4182,"966.18" - 0) == 3200?(224.06,"x"):"C":7.16e+3],decoration:"enclosed",showLines:! ![]};L0I.Drawing.elliottwave.prototype.initializeSettings=function(U8e){var j80,r80,c80;j80=776462233;v67m.z17m();r80=+"763307580";c80=2;for(var i80=1;v67m.M00(i80.toString(),i80.toString().length,48571) !== j80;i80++){U8e.currentVectorParameters.waveParameters=L0I.clone(L0I.Drawing.elliottwave.defaultTemplate);c80+=2;}if(v67m.h50(c80.toString(),c80.toString().length,33956) !== r80){U8e.currentVectorParameters.waveParameters=L0I.clone(L0I.Drawing.elliottwave.defaultTemplate);}};L0I.Drawing.elliottwave.prototype.configs=["color","lineWidth",i44,u44,"font","waveParameters"];L0I.Drawing.elliottwave.prototype.$controls=[z44,"cq-wave-parameters"];L0I.Drawing.elliottwave.prototype.construct=function(p8e,P8e){var u8e;this.stx=p8e;this.panelName=P8e.name;u8e=p8e.currentVectorParameters;Object.assign(this,u8e.waveParameters);};L0I.Drawing.elliottwave.prototype.serialize=function(){var D44,r6e,H44;D44="w";D44+="t";r6e={};for(var m6e=0;m6e < this.points.length;m6e++){H44="t";H44+="z";H44+="o";v67m.N1kc(2);r6e[v67m.n1kc(m6e,4482 <= 7764?"d":(0x1a5,![]))]=this[v67m.j1kc(m6e,(4460,"3551" - 0) < 5260?(2170,"66.56" - 0) != (740.63,853.92)?"d":(0x76a,"0x1794" | 5776):(477.97,0x14ec))];v67m.r1kc(2);r6e[v67m.j1kc(m6e,H44)]=this[v67m.j1kc(m6e,"tzo")];v67m.N1kc(2);r6e[v67m.j1kc(m6e,4154 <= 220.16?703.1 >= 6260?0x1546:(2.66e+3,1.54e+3):"v")]=this[v67m.n1kc(m6e,(1790,"258.65" - 0) !== 4160?"v":3310 >= 4240?2.31e+3:(4.59e+3,"b"))];}r6e.annotations=this.annotationPoints.join(1066 != 584.24?",":2180 >= (718.23,"8.62" * 1)?1672 >= 9455?(!1,0x13a):(! ![],506.78):"d");return Object.assign({name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,mxSeg:this.maxSegments,show:this.showLines,decor:this.decoration,dx:this.dx,dy:this.dy,trend:this.trend,fnt:L0I.removeNullValues(L0I.replaceFields(this.font,{style:"st",size:"sz",weight:D44,family:"fl"}))},r6e);};L0I.Drawing.elliottwave.prototype.reconstruct=function(c6e,X6e){this.stx=c6e;this.color=X6e.col;this.panelName=X6e.pnl;this.pattern=X6e.ptrn;this.lineWidth=X6e.lw;this.font=L0I.replaceFields(X6e.fnt,{st:"style",sz:"size",wt:"weight",fl:"family"});this.decoration=X6e.decor;this.showLines=X6e.show;v67m.q17m();this.dx=X6e.dx;this.dy=X6e.dy;this.trend=X6e.trend;this.annotationPoints=X6e.annotations.split(7377 > (48.53,"1066" - 0)?5000 < +"9884"?",":! !{}:![]);if(X6e.decor === "enclosed"){this.calculateRadius(c6e.chart.tempCanvas.context);}this.maxSegments=X6e.mxSeg;this.reconstructPoints(X6e);this.adjust();};L0I.Drawing.elliottwave.prototype.reconstructPoints=function(F6e){var g6e,z6e,a6e;g6e=this.stx.panels[this.panelName];if(!g6e){return;}for(var h6e=0;h6e < this.annotationPoints.length;h6e++){v67m.r1kc(2);this[v67m.n1kc(h6e,(5650,942) <= (6560,"9130" << 1027897216)?(454.38,7660) == (+"830.12",8240)?8.64e+3:"d":(![],+"3.20e+3"))]=F6e[v67m.n1kc(h6e,845.39 > 899.27?+"8.91e+3":"d")];v67m.N1kc(2);this[v67m.j1kc(h6e,88.87 == (8570,4029)?"0x1a26" >> 1645462432:1029 >= (7267,+"812.72")?"v":(9830,4550) != 8620?(0x1d19,!{}):(![],884.22))]=F6e[v67m.j1kc(h6e,("1020" - 0,5740) == 840.48?451.59 <= ("743" | 0,543)?("7872" >> 1417736640,422.7) != 426.31?(! !"",!"1"):(844.78,! ![]):"O":"v")];v67m.N1kc(2);this[v67m.j1kc(h6e,"tzo")]=F6e[v67m.j1kc(h6e,"tzo")];z6e=L0I.strToDateTime(F6e[(545.75 == (7484,4520)?(0xd33,! !{}):"d") + h6e]);a6e=this.stx.tickFromDate(z6e,g6e.chart);this.points.push([a6e,F6e["v" + h6e]]);}};L0I.Drawing.elliottwave.prototype.calculateRadius=function(q6e){var o6e,T6e;this.getFontString();q6e.font=this.fontString;v67m.N1kc(4);o6e=v67m.j1kc(0,"0");for(var Z6e=0;Z6e < this.annotationPoints.length;Z6e++){T6e=q6e.measureText(this.annotationPoints[Z6e]).width;if(o6e < T6e){o6e=T6e;}}v67m.q17m();this.enclosedRadius=o6e;};L0I.Drawing.elliottwave.prototype.check=function(t6e,G6e,i6e){var W6e,O6e;if(i6e === 1 && this.points.length === 2){return ! ![];}v67m.N1kc(56);W6e=this.points[v67m.j1kc(1799652128,"1",i6e)];if(W6e && t6e <= W6e[0]){return ! !"";}v67m.N1kc(2);O6e=this.points[v67m.j1kc(1,i6e)];function l6e(e6e){var a70,e70,k70;for(var y6e=2;y6e < e6e.length;y6e++){if(Math.sign(e6e[y6e][+"1"] - e6e[y6e - 1][1]) == Math.sign(e6e[y6e - +"1"][1] - e6e[y6e - 2]["1" | 0])){return ! !0;}}a70=1258456815;e70=-1742646753;k70=2;for(var x70=1;v67m.h50(x70.toString(),x70.toString().length,28929) !== a70;x70++){return !1;}v67m.z17m();if(v67m.M00(k70.toString(),k70.toString().length,84655) !== e70){return ! !0;}return ! !"1";}v67m.z17m();if(O6e && t6e >= O6e[0]){return ! !"";}if(!l6e(this.points)){return ![];}return ! ![];};L0I.Drawing.elliottwave.prototype.move=function(K6e,f6e,C6e){var D54,I54,Z54;this.copyConfig();this.points[this.lastPoint + 1]=[f6e,C6e];D54=1615248350;I54=442492796;v67m.z17m();Z54=2;for(var y54=1;v67m.M00(y54.toString(),y54.toString().length,54063) !== D54;y54++){this.render(K6e);Z54+=2;}if(v67m.h50(Z54.toString(),Z54.toString().length,68780) !== I54){this.render(K6e);}};L0I.Drawing.elliottwave.prototype.adjust=function(){var H6e,w6e;H6e=this.stx.panels[this.panelName];if(!H6e){return;}for(var x6e=0;this.maxSegments + 1 > x6e;x6e++){v67m.r1kc(2);w6e=this[v67m.j1kc(x6e,(4120,9310) <= (5830,6430)?(590.91,"o"):"d")];this.setPoint(x6e,w6e,this[(865.23 >= +"2760"?("T","588.33" - 0):2400 > (7260,67.36)?"v":"m") + x6e],H6e.chart);this.points[x6e][0]=this.stx.tickFromDate(L0I.strToDateTime(w6e),H6e.chart);v67m.r1kc(2);this.points[x6e][1]=this[v67m.n1kc(x6e,(4968,"2250" - 0) === 7861?"G":"v")];}};L0I.Drawing.elliottwave.prototype.click=function(S6e,N6e,M6e){var L6e,I44;L6e=this.stx.panels[this.panelName];if(!L6e){return;}this.copyConfig();if(!this.penDown){I44="encl";I44+="osed";this.setPoint(0,N6e,M6e,L6e.chart);this.points.push(this.p0);this.penDown=! ![];this.segment=0;this.lastPoint=0;if(this.impulse){this.annotationPoints=this.annotationPoints.concat(this.impulse);}if(this.corrective){this.annotationPoints=this.annotationPoints.concat(this.corrective);}this.annotationPoints.unshift(("6530" | 4096) >= (5100,"6224" - 0)?"0":(607.89,1.50e+3));if(this.decoration === I44){this.calculateRadius(S6e);}this.maxSegments=this.annotationPoints.length - 1;this.trend=1;return ![];}v67m.z17m();if(this.accidentalClick(N6e,M6e)){this.penDown=! ![];return !1;}if(this.check(N6e,M6e,this.lastPoint + 1)){this.lastPoint++;this.setPoint(this.lastPoint,N6e,M6e,L6e.chart);if(this.lastPoint === 1){this.trend=Math.sign(this.v1 - this.v0);}this.segment++;if(this.segment >= this.maxSegments){this.penDown=!"1";return ! !{};}}return !"1";};L0I.Drawing.elliottwave.prototype.render=function(B6e){var t44,Z44,d6e,n6e,r9e,X9e,c9e,U6e,p6e,A6e,Y6e,u6e,I6e,b6e,y44,I70,Z70,t70,j6e,Q6e,J6e,D6e,E6e,h9e,F9e,q44,v6e,s6e,k6e,P6e,m9e,g9e,V6e;t44="m";t44+="id";t44+="d";t44+="le";Z44="ce";Z44+="n";Z44+="ter";d6e=this.stx.panels[this.panelName];if(!d6e){return;}n6e=this.stx;r9e=this.annotationPoints;X9e=this.pattern?L0I.borderPatternToArray(this.lineWidth,this.pattern):[];this.getFontString();B6e.font=this.fontString;B6e.textAlign=Z44;B6e.textBaseline=t44;B6e.lineWidth=this.lineWidth;if(this.fontString !== this.lastFontString){this.calculateRadius(B6e);}this.lastFontString=this.fontString;c9e=this.getLineColor();B6e.fillStyle=B6e.strokeStyle=c9e;B6e.save();B6e.setLineDash(X9e);U6e=this.dx;v67m.q17m();p6e=this.dy;A6e=this.points;Y6e=this.pts;u6e=!this.showLines && this.highlighted;I6e=A6e.length;if(this.penDown && this.segment){b6e=this.trend * (I6e % 2 - 0.5) < 0;if(d6e.yAxis.flipped){b6e=!b6e;}this.drawDropZone(B6e,A6e[I6e - 2][+"1"],this.stx.priceFromPixel(d6e.yAxis[b6e?"top":"bottom"]),A6e[I6e - 2][0]);}else if(typeof this.highlighted === "string" && this.stx.repositioningDrawing){y44="to";y44+="p";I70=-302733907;Z70=1662263345;v67m.N1kc(15);t70=v67m.j1kc("2",0);for(var q70=1;v67m.M00(q70.toString(),q70.toString().length,68930) !== I70;q70++){j6e=parseInt(this.highlighted.substring(1,this.highlighted.length),10);t70+=2;}if(v67m.h50(t70.toString(),t70.toString().length,+"17325") !== Z70){j6e=parseInt(this.highlighted.substring(2,this.highlighted.length),"89" & 2147483647);}b6e=this.trend * (j6e % 2 - 0.5) > +"0";v67m.N1kc(4);Q6e=A6e[v67m.j1kc(1,j6e)];v67m.r1kc(2);J6e=A6e[v67m.n1kc(1,j6e)];D6e=j6e > 0?Q6e[1]:J6e[1];if(J6e){D6e=Math[b6e?"max":"min"](D6e,J6e[+"1"]);}if(d6e.yAxis.flipped){b6e=!b6e;}this.drawDropZone(B6e,D6e,this.stx.priceFromPixel(d6e.yAxis[b6e?y44:"bottom"]),Q6e?Q6e[0]:null,J6e?J6e[0]:null);}for(var R6e=0;R6e < I6e;R6e++){E6e=A6e[R6e];h9e=n6e.pixelFromTick(E6e[0],d6e.chart);F9e=n6e.pixelFromValueAdjusted(d6e,E6e[0],E6e[1]);Y6e[R6e]=[h9e,F9e];}R6e=0;if(this.showLines || u6e){B6e.beginPath();if(u6e){B6e.globalAlpha=0.3;}for(;R6e < Y6e.length;R6e++){B6e.lineTo(Y6e[R6e][0],Y6e[R6e][1]);}B6e.stroke();R6e=0;}B6e.restore();for(;R6e < I6e;R6e++){q44="pare";q44+="nth";q44+="es";q44+="es";v6e=R6e % ("2" ^ 0)?U6e:-U6e;s6e=R6e % 2?p6e:-p6e;v6e*=this.trend;s6e*=this.trend;if(d6e.yAxis.flipped){v67m.r1kc(16);v6e*=-v67m.j1kc(1,"1");s6e*=-1;}k6e=Y6e[R6e];P6e=k6e[+"2"]=k6e[0] + v6e;m9e=k6e[3]=k6e[1] + s6e;g9e=this.enclosedRadius || 8;V6e=r9e[R6e];if(this.decoration === q44){v67m.r1kc(47);V6e=v67m.j1kc(V6e,429.9 == 8939?"R":"7860" << 610510464 > (688.98,1200)?")":489.75 != (61.49,8935)?7.73e+3:(2.20e+3,"N"),8003 === (8183,5450)?(0x1c83,3.36e+3):680.7 === (2070,5740)?(! !0,2.71e+3):"(");}B6e.fillText(V6e,P6e,m9e);if(this.decoration === "enclosed"){B6e.beginPath();B6e.arc(P6e,m9e,g9e,+"0",2 * Math.PI,! !0);B6e.stroke();}if(this.highlighted){B6e.save();this.littleCircle(B6e,this.pts[R6e][0],this.pts[R6e][+"1"],this.highlighted === "p" + R6e);B6e.restore();}}};L0I.Drawing.elliottwave.prototype.reposition=function(l9e,z9e,Z9e,T9e){var K44,i9e,W9e,O9e,o9e,q9e,t9e;K44="m";K44+="ove";v67m.q17m();if(!z9e){return;}i9e=this.stx.panels[this.panelName];W9e=z9e.tick - Z9e;O9e=z9e.value - T9e;if(z9e.action === K44){for(var a9e="0" * 1;z9e.points.length > a9e;a9e++){o9e=z9e.points[a9e];this.setPoint(a9e,o9e[0] - W9e,o9e[1] - O9e,i9e.chart);this.points[a9e]=[o9e[0] - W9e,o9e[1] - O9e];}}if(z9e.action === "drag"){q9e=z9e.point;t9e=this.points;t9e[q9e]=[Z9e,T9e];if(this.check(Z9e,T9e,q9e)){this.setPoint(q9e,Z9e,T9e,i9e.chart);;};}this.render(l9e);};L0I.Drawing.elliottwave.prototype.intersected=function(e9e,K9e,f9e){var C9e,y9e,l44,h44;if(!this.p0 || !this.p1){return null;}for(var G9e=0;this.points.length > G9e;G9e++){y9e=this.points[G9e];if(this.pointIntersection(y9e[0],y9e[1],f9e)){l44="d";l44+="r";l44+="ag";v67m.r1kc(2);this.highlighted=v67m.n1kc(G9e,"p");return {action:l44,point:G9e,tick:e9e,value:K9e};}if(this.points[G9e + ("1" << 1699283936)] && this.lineIntersection(e9e,K9e,f9e,"segment",y9e,this.points[G9e + 1])){h44="mo";h44+="ve";this.highlighted=! !{};C9e={action:h44,points:L0I.clone(this.points),tick:e9e,value:K9e};}}return C9e;};L0I.Drawing.elliottwave.prototype.measure=function(){var x9e,N9e,w9e,H9e;v67m.z17m();if(this.points.length >= 2){x9e=this.points;this.stx.setMeasure(x9e[0][1],x9e[x9e.length - 1][1],x9e[0][0],x9e[x9e.length - 1][0],!"");N9e=this.stx.controls.mSticky;w9e=N9e && N9e.querySelector(".mStickyInterior");if(w9e){H9e=[];H9e.push(L0I.capitalize("Elliott Wave"));if(this.getYValue){H9e.push(this.field || this.stx.defaultPlotField || "Close");}H9e.push(w9e.innerHTML);w9e.innerHTML=H9e.join("<br>");}}};L0I.Drawing.printProjection=function(A9e,U9e,M9e){var S9e,B9e,E9e,Y9e,v9e,I9e,s9e,J9e,b9e,Q9e,d9e,V9e,D9e,k9e,L9e,n9e;S9e=U9e.arr;if(S9e.length > 1){B9e=S9e[0][0];E9e=Math.round(A9e.chart.maxTicks * 0.75);for(var R9e=1;R9e < S9e.length;R9e++){v67m.N1kc(13);Y9e=S9e[v67m.j1kc("1",1,R9e)][0];v9e=S9e[R9e][0];I9e=L0I.strToDateTime(Y9e);s9e=L0I.strToDateTime(v9e).getTime();J9e=A9e.standardMarketIterator(I9e);b9e=0;while(I9e.getTime() < s9e){I9e=J9e.next();b9e+=1;}Q9e=L0I.strToDateTime(Y9e).getTime();if(Q9e > L0I.strToDateTime(M9e[M9e.length - +"1"].Date).getTime()){d9e=M9e.length - 1;b9e+=1;}else {for(d9e=M9e.length - 1;d9e >= 0;d9e--){if(Q9e <= L0I.strToDateTime(M9e[d9e].Date).getTime())break;}}V9e={x0:0,x1:b9e,y0:M9e[d9e].Close,y1:S9e[R9e][1]};B9e=L0I.strToDateTime(Y9e);J9e=A9e.standardMarketIterator(B9e);D9e=! !"";for(var j9e=0;j9e <= b9e;j9e++){if(!D9e){D9e=! !{};}else {B9e=J9e.next();}if(B9e.getTime() <= M9e[M9e.length - +"1"].DT.getTime())continue;k9e=L0I.yIntersection(V9e,j9e);if(!k9e){k9e=0;}L9e=Math.round(k9e * 10000) / 10000;if(L9e === 0){L9e=S9e[R9e][1];}n9e={Date:L0I.yyyymmddhhmmssmmm(B9e),DT:B9e,Open:L9e,Close:L9e,High:L9e,Low:L9e,Volume:0,Adj_Close:L9e,Split_Close:L9e,projection:!""};if(A9e.layout.interval == "minute")if(E9e-- < 0)break;M9e[M9e.length]=n9e;}}}};}};U2n=u9e=>{var p9e,M64;p9e=typeof _CIQ !== "undefined"?_CIQ:u9e.CIQ;if(!p9e.computeEquationChart){M64="equationsAdvanced feature requires first activating ";M64+="equation";M64+="s feature.";console.error(M64);}else {p9e.formatEquation=function(F2e){var Y27m=R9EE;var r2e,c2e,P9e,X2e,m2e;r2e="";Y27m.z17m();c2e=[];P9e="";X2e=![];for(var h2e=1;h2e < F2e.length;h2e++){m2e=F2e[h2e].toUpperCase();if(m2e == "[" && !X2e){X2e=! !{};}else if(m2e == ((611,131.86) < +"775.36"?"]":(! !{},164.76)) && X2e){X2e=![];if(P9e !== ""){c2e.push(P9e);Y27m.r1kc(47);r2e+=Y27m.j1kc(P9e,"]",(5702,9171) > (10.43,9841)?(3.04e+3,! ![]):"[");}P9e="";}else if(X2e){P9e+=m2e;}else if(m2e == ((458.44,926.23) < (7340,2151)?+"3664" < 4546?"+":(! ![],!0):"r") || m2e == "-" || m2e == "*" || m2e == (("8780" ^ 0) <= +"234.07"?0x18a4:"/") || m2e == ":" || m2e == ((5480,383.54) !== (248.06,67.33)?(2055,9236) == (933.53,2559)?! !{}:(103.11,978) != 587.6?"%":(45.00,!{}):(249.50,65.29)) || m2e == (3820 > (366.09,6152)?"L":4650 >= 3707?"(":("B","0x7f2" ^ 0)) || m2e == ")"){if(P9e !== "" && isNaN(P9e)){c2e.push(P9e);Y27m.r1kc(47);r2e+=Y27m.j1kc(P9e,(2640,879.7) === "891.62" - 0?("5190" | 5190,598.36) === +"5910"?("9.83e+3" & 2147483647,0x1413):("2000" & 2147483647,4538) <= +"2290"?"E":(!{},! !""):"]","[");}else {r2e+=P9e;}if(m2e == ":"){m2e=("181.71" * 1,266.17) !== (8260,6805)?("5193" << 68754144,24.37) == 5920?688.41 === (95.07,3280)?! !0:! ![]:"/":! !"";}r2e+=m2e;P9e="";}else if(m2e != " "){P9e+=m2e;}}if(P9e !== "" && isNaN(P9e)){c2e.push(P9e);Y27m.N1kc(47);r2e+=Y27m.n1kc(P9e,(235,"4370" & 2147483647) >= ("424.81" - 0,5340)?727.75:"]","[");}else {r2e+=P9e;}return {equation:r2e,symbols:c2e};};p9e.fetchEquationChart=function(g2e,i2e){R9EE.q17m();var o2e,Z2e,T2e,q2e,a2e;o2e=p9e.formatEquation(g2e.symbol);Z2e=o2e.symbols;T2e=[];q2e=g2e.stx;g2e.stx=null;for(var z2e=0;z2e < Z2e.length;z2e++){a2e=p9e.shallowClone(g2e);a2e.stx=q2e;a2e.symbol=Z2e[z2e];a2e.symbolObject={symbol:Z2e[z2e]};T2e.push(a2e);}g2e.stx=q2e;q2e.quoteDriver.multiFetch(T2e,function(e2e){var G2e,W2e,O2e,t2e,K2e;G2e={};g2e.loadMoreReplace=! ![];R9EE.q17m();W2e={charge:0};for(var l2e=0;l2e < e2e.length;l2e++){O2e=e2e[l2e];if(O2e.dataCallback.error){i2e({error:O2e.dataCallback.error});return;}G2e[O2e.params.symbol]=O2e.dataCallback.quotes;g2e.loadMoreReplace=g2e.loadMoreReplace && O2e.params.loadMoreReplace;g2e.moreToLoad=g2e.moreToLoad || O2e.dataCallback.moreAvailable;t2e=O2e.dataCallback.attribution;if(t2e){if(t2e.charge){W2e.charge+=t2e.charge;}W2e.source=t2e.source;if(W2e.exchange === undefined){W2e.exchange=t2e.exchange;}else if(W2e.exchange != t2e.exchange){W2e.exchange="";};}}if(T2e.length || !(g2e.loadMore || g2e.update)){try{K2e=p9e.computeEquationChart(o2e.equation,G2e);i2e({quotes:K2e,moreAvailable:g2e.moreToLoad,attribution:W2e});}catch(f2e){var y2e;y2e={error:"Invalid equation: " + o2e.equation};if(f2e.name && f2e.name == "NoException"){y2e.suppressAlert=! !1;}i2e(y2e);}}});};}};p2n=x2e=>{var C2e,p64,R80,o80,n80;C2e=typeof _CIQ !== "undefined"?_CIQ:x2e.CIQ;if(!C2e.Marker){p64="highPerformanceMarker";p64+="s feature requires first activating markers feature.";console.error(p64);}else {C2e.ChartEngine.prototype.removeDOMMarker=function(H2e){console.warn("CIQ.ChartEngine#removeDOMMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance#remove instead.");C2e.Marker.Performance.prototype.removeDOMMarker.call(H2e.params.node,H2e);};C2e.ChartEngine.prototype.drawMarkers=function(){console.warn("CIQ.ChartEngine#drawMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");C2e.Marker.Performance.drawMarkers(this);};C2e.ChartEngine.prototype.calculateMarkerStyles=function(w2e,N2e){console.warn("CIQ.ChartEngine#calculateMarkerStyles is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.calculateStyles instead.");R9EE.q17m();C2e.Marker.Performance.calculateMarkerStyles(this,w2e,N2e);};C2e.ChartEngine.prototype.drawCircleMarker=function(M2e,L2e,S2e){var v64;v64="CIQ.Cha";R9EE.z17m();v64+="rtEngine#drawCircleMark";v64+="er is scheduled for de";v64+="precation in a future release\n Please use CIQ.Marker.Performance.drawCircleMarker instead.";console.warn(v64);C2e.Marker.Performance.drawCircleMarker(M2e,L2e,S2e);};C2e.ChartEngine.prototype.drawSquareMarker=function(B2e,R2e,d2e){console.warn("CIQ.ChartEngine#drawSquareMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawSquareMarker instead.");R9EE.q17m();C2e.Marker.Performance.drawSquareMarker(B2e,R2e,d2e);};C2e.ChartEngine.prototype.drawCalloutMarker=function(b2e,A2e,Y2e){console.warn("CIQ.ChartEngine#drawCalloutMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCalloutMarker instead.");R9EE.z17m();C2e.Marker.Performance.drawCalloutMarker(b2e,A2e,Y2e);};C2e.ChartEngine.prototype.drawMarkerStem=function(I2e,J2e,j2e){R9EE.z17m();console.warn("CIQ.ChartEngine#drawMarkerStem is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkerStem instead.");C2e.Marker.Performance.drawMarkerStem(I2e,J2e,j2e);};C2e.ChartEngine.prototype.positionDOMMarkers=function(){var S64;R9EE.z17m();S64="CIQ.ChartEngine#positionDOMMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawM";S64+="arkers instead.";console.warn(S64);C2e.Marker.Performance.drawMarkers(this);};C2e.Marker.Performance=function(D2e){var U64,s64,Q2e,k2e,v2e,V2e,E2e,s2e,n2e,U2e;U64="<";U64+="/";U64+="di";U64+="v>";s64="<div clas";s64+="s=\"stx-marker";R9EE.z17m();s64+=" stx-performance-marker stx-marker-expand\"><h4></h4><p></p></div>";this.params={displayCategory:! ![],displayStem:! ![],invert:![],story:"",headline:""};C2e.extend(this.params,D2e);Q2e=this.template=document.createElement("TEMPLATE");R9EE.N1kc(57);Q2e.innerHTML=R9EE.j1kc('<div class="stx-stem"></div>',U64,s64,'<div class="stx-marker-content">','<div class="stx-marker highlight">',"</div>",'<div class="stx-visual">',"</div>");k2e=this.template.content.cloneNode(!"");v2e=k2e.querySelector(".stx-marker",Q2e);v2e.classList.add(D2e.type);v2e.classList.add(D2e.category);V2e=k2e.querySelector(".stx-visual",Q2e);E2e=k2e.querySelector(".stx-marker-expand");s2e=k2e.querySelector("h4",Q2e);n2e=k2e.querySelector((4820,1409) === (747.64,4980)?! ![]:182.94 === 8380?(![],750.04):("8940" << 1332489760,+"8580") >= 335?"p":(!1,0xf0e),Q2e);s2e.innerText=this.params.headline;n2e.innerText=this.params.story;this.hasText=! !D2e.headline || ! !D2e.story;this.deferAttach=!"";this.node=k2e.firstChild;this.node.params=this.params;this.visual=V2e;this.expand=E2e;if(D2e.type === "callout"){U2e=E2e.removeChild(s2e);k2e.querySelector(".stx-marker-content",Q2e).insertBefore(U2e,E2e);}};R80=+"930656852";o80=-385965302;n80=2;for(var d80=1;R9EE.h50(d80.toString(),d80.toString().length,51190) !== R80;d80++){C2e.inheritsFrom(C2e.Marker.Performance,C2e.Marker.NodeCreator,![]);n80+=2;}if(R9EE.h50(n80.toString(),n80.toString().length,25297) !== o80){C2e.inheritsFrom(C2e.Marker.Performance,C2e.Marker.NodeCreator,! !1);}C2e.Marker.Performance.consolidateExpanded=function(z1X){var p2e,t00,y00,q00,u2e,h1X,G64,g64,m1X,F1X;p2e=z1X.markerHelper.highlighted;t00=1945875035;y00=158405889;q00=2;for(var l00=1;R9EE.h50(l00.toString(),l00.toString().length,12621) !== t00;l00++){if(~p2e.length){return;}q00+=2;}function a1X(l1X){var T1X,Z1X,O1X;T1X=l1X.params.node;Z1X=T1X.expand;if(!Z1X){return "";}R9EE.q17m();O1X=Z1X.style.display !== "none"?Z1X.innerHTML:"";return O1X;}if(R9EE.M00(q00.toString(),q00.toString().length,+"92074") !== y00){if(!p2e.length){return;}}u2e=p2e[p2e.length - 1];h1X=u2e.params.node;if(!u2e.consolidated){u2e.consolidated=[];}for(var P2e=p2e.length - 2;P2e >= 0;P2e--){G64="</consoli";G64+="d";G64+="ated";G64+=">";g64="<cons";g64+="o";g64+="lidat";g64+="ed>";m1X=a1X(p2e[P2e]);R9EE.N1kc(47);F1X=R9EE.n1kc(m1X,G64,g64);if(m1X.length){h1X.expand.innerHTML+=F1X;}}u2e.stxNodeCreator.quickCache(u2e);};C2e.Marker.Performance.reconstituteExpanded=function(M1X){var K1X,C64,L1X,b1X,w1X;K1X=M1X.markerHelper.highlighted;if(!K1X.length || !M1X.activeMarker){return;}K1X=[M1X.activeMarker];for(var f1X=K1X.length - +"1";f1X >= ("0" | 0);f1X--){C64="CONSOLID";C64+="AT";C64+="ED";L1X=K1X[f1X];b1X=L1X.params.node;w1X=b1X.expand;while(w1X.lastElementChild.nodeName === C64){w1X.removeChild(w1X.lastElementChild);}}};C2e.Marker.Performance.drawMarkers=function(s1X){var E1X,I1X,k1X,Q1X,p1X,u1X;R9EE.q17m();E1X=s1X.getMarkerArray("all");I1X=s1X.chart;for(var j1X=0;j1X < E1X.length;j1X++){k1X=E1X[j1X];Q1X=k1X.stxNodeCreator;p1X=I1X.dataSegment["0" & 2147483647].tick;u1X=I1X.dataSegment[I1X.dataSegment.length - 1].tick;if(p1X <= k1X.tick <= u1X){if(Q1X && Q1X.drawMarker){Q1X.drawMarker(k1X);}}}};C2e.Marker.Performance.calculateMarkerStyles=function(r4X,X4X,F4X){var m4X,k64,e64,a64,c4X,h4X;m4X=document.querySelector(".stx-marker-templates");if(!m4X){k64="-100";k64+="0px";e64="hid";e64+="de";e64+="n";a64="D";a64+="I";a64+="V";m4X=document.createElement(a64);m4X.style.visibility=e64;m4X.style.left=k64;document.body.append(m4X);}m4X.appendChild(X4X.node);c4X=getComputedStyle(X4X.stxNodeCreator.visual);if(!r4X.styles.stx_marker_stem){h4X=getComputedStyle(document.querySelector(".stx-stem",X4X.node));r4X.styles.stx_marker_stem=r4X.cloneStyle(h4X);}r4X.styles[F4X]=r4X.cloneStyle(c4X);m4X.removeChild(X4X.node);};C2e.Marker.Performance.drawCircleMarker=function(Z4X,t4X,z4X){var W4X,O4X,g4X,a4X,o4X,T4X,q4X,i4X;W4X=Z4X.params.stx;O4X=W4X.chart;g4X=O4X.context;a4X=z4X.x;o4X=z4X.y;T4X=z4X.radius;q4X=z4X.label;i4X=z4X.color?z4X.color:t4X.backgroundColor;g4X.beginPath();g4X.setLineDash([]);g4X.lineWidth=1;g4X.fillStyle=i4X;g4X.strokeStyle=i4X;g4X.font="normal bold 12px Roboto, Helvetica, sans-serif";g4X.arc(a4X,o4X,T4X,0,2 * Math.PI,!"1");g4X.fill();g4X.stroke();g4X.closePath();if(q4X){g4X.fillStyle=C2e.colorsEqual("white",g4X.fillStyle)?"black":"white";g4X.fillText(q4X.charAt(0).toUpperCase(),a4X - 4,o4X + 1);}if(Z4X.highlight || Z4X.active){g4X.beginPath();R9EE.N1kc(2);g4X.arc(a4X,o4X,R9EE.j1kc(4,T4X),0,2 * Math.PI,!{});g4X.stroke();g4X.closePath();}};C2e.Marker.Performance.drawSquareMarker=function(C4X,M4X,G4X){var C27m=R9EE;var J64,w4X,N4X,l4X,K4X,f4X,y4X,x4X,H4X,e4X,m64,x64;J64="normal bold 12";J64+="px R";J64+="oboto, Helvetica, sans";J64+="-serif";w4X=C4X.params.stx;N4X=w4X.chart;l4X=N4X.context;K4X=G4X.x;f4X=G4X.y;y4X=G4X.half;x4X=G4X.label;H4X=G4X.color?G4X.color:M4X.backgroundColor;C27m.r1kc(58);e4X=C27m.j1kc(y4X,"2",1788305856);l4X.beginPath();l4X.setLineDash([]);l4X.lineWidth=1;l4X.fillStyle=H4X;l4X.strokeStyle=H4X;l4X.font=J64;C27m.N1kc(4);l4X.rect(C27m.j1kc(y4X,K4X),C27m.n1kc(y4X,f4X),e4X,e4X);l4X.fill();if(C4X.highlight || C4X.active){C27m.r1kc(59);l4X.rect(C27m.j1kc(y4X,K4X,4,"4"),C27m.j1kc(4,f4X,y4X,C27m.r1kc(60)),C27m.j1kc(8,e4X,C27m.N1kc(2)),C27m.j1kc(8,e4X,C27m.N1kc(2)));}l4X.stroke();l4X.closePath();if(x4X){m64="w";m64+="hit";m64+="e";x64="bl";x64+="a";x64+="ck";l4X.fillStyle=C2e.colorsEqual("white",l4X.fillStyle)?x64:m64;l4X.fillText(x4X.charAt(0).toUpperCase(),K4X - +"4",f4X + 1);}};C2e.Marker.Performance.drawCalloutMarker=function(R4X,v4X,S4X){var A64,Y64,Q4X,D4X,L4X,B4X,s4X,b4X,A4X,Y4X,I4X,J4X,E4X,d4X,j4X,k4X;A64="rg";A64+="ba(255,255,255,0.65)";Y64="normal bold 12px Roboto, Helvetica, sans";Y64+="-serif";R9EE.q17m();Q4X=R4X.params.stx;D4X=Q4X.chart;L4X=D4X.context;B4X=R4X.params;s4X=S4X.x;b4X=S4X.y;A4X=S4X.half;Y4X=S4X.midWidth;I4X=S4X.headline;J4X=S4X.color?S4X.color:v4X.backgroundColor;E4X=A4X * 2 || 25;d4X=Math.round(L4X.measureText(I4X).width);j4X=Y4X?Y4X * +"2":d4X + +"8";L4X.beginPath();L4X.setLineDash([]);L4X.lineWidth=+"1";L4X.fillStyle=J4X;L4X.strokeStyle=J4X;L4X.font=Y64;L4X.rect(B4X.box.x0,B4X.box.y0,j4X,E4X);L4X.fill();L4X.stroke();L4X.closePath();L4X.beginPath();L4X.fillStyle=R4X.highlight || R4X.active?"rgba(255,255,255,0.8)":A64;R9EE.r1kc(61);k4X=R9EE.j1kc(20,2,d4X,j4X);L4X.rect(B4X.box.x0 + k4X,b4X - A4X,d4X + 40,22);L4X.fill();L4X.stroke();L4X.closePath();L4X.fillStyle="black";L4X.fillText(I4X,B4X.box.x0 + k4X + ("10" - 0),b4X);};C2e.Marker.Performance.drawMarkerStem=function(n4X,P4X,U4X){var m7X,r7X,V4X,p4X,h7X,u4X,X7X,c7X;m7X=n4X.params.stx;r7X=m7X.chart;V4X=r7X.context;p4X=U4X.x;h7X=U4X.y;V4X.beginPath();V4X.strokeStyle=P4X.borderLeftColor;V4X.setLineDash([1,1]);u4X=C2e.stripPX(P4X.height);X7X=U4X.invert?n4X.params.box.y0:n4X.params.box.y1;c7X=U4X.invert?n4X.params.box.y0 - u4X:n4X.params.box.y1 + u4X;V4X.moveTo(p4X,X7X);V4X.lineTo(p4X,c7X);V4X.stroke();V4X.closePath();};C2e.Marker.Performance.prototype.drawMarker=function(F7X){var l27m=R9EE;var t7X,z7X,C7X,x7X,e7X,a7X,q7X,i7X,H7X,K7X,l7X,f7X,G7X,o7X,y7X,g7X,W7X,O7X,w7X,N7X,Z7X,T7X,O64;t7X=F7X.params;z7X=F7X.params.stx;if(!z7X){return;}C7X=z7X.chart;x7X=C7X.dataSegment;if(!x7X.length){return;}e7X=z7X.panels[F7X.params.panelName];l27m.z17m();a7X=F7X.stxNodeCreator.params;q7X=a7X.type;i7X=a7X.category;H7X=a7X.headline;K7X=a7X.displayCategory;l7X=a7X.color;f7X=a7X.invert;l27m.r1kc(62);G7X=l27m.n1kc(q7X,i7X,"stx_marker_",1940 >= 727.97?"_":! !0);if(!z7X.styles[G7X]){C2e.Marker.Performance.calculateMarkerStyles(z7X,F7X,G7X);}o7X=F7X.style=z7X.styles[G7X];y7X=z7X.styles.stx_marker_stem;g7X=parseInt(o7X.height,10) / 2;W7X=parseInt(o7X.width,10) / 2;O7X=a7X.displayStem?parseInt(y7X.height,10) + parseInt(y7X.marginBottom,+"10"):0;w7X=O7X + parseInt(o7X.height,"10" * 1);N7X=O7X?O7X + g7X:0;Z7X=z7X.pixelFromDate(t7X.x);T7X=t7X.node.calculateYPosition({marker:F7X,panel:e7X,height:w7X,half:g7X,offset:N7X,inverted:f7X});if(!F7X.tick && F7X.tick !== 0){return;}t7X.box={x0:Z7X - (W7X || g7X),y0:T7X - g7X,x1:Z7X + (W7X || g7X),y1:T7X + g7X,midY:g7X,midX:W7X || g7X,stemHeight:O7X};if(!K7X){i7X=K7X;}z7X.startClip(e7X.name);if(q7X === "circle"){C2e.Marker.Performance.drawCircleMarker(F7X,o7X,{x:Z7X,y:T7X,radius:g7X,label:i7X,color:l7X});}else if(q7X === "square"){C2e.Marker.Performance.drawSquareMarker(F7X,o7X,{x:Z7X,y:T7X,half:g7X,label:i7X,color:l7X});}else if(q7X === "callout"){C2e.Marker.Performance.drawCalloutMarker(F7X,o7X,{x:Z7X,y:T7X,half:g7X,midWidth:W7X,headline:H7X,color:l7X});}else {O64=" is";O64+=" unsupported with can";O64+="vas ";O64+="markers!\nSupported Styles are Square, Circle, and Callout.";l27m.N1kc(47);console.warn(l27m.j1kc(q7X,O64,"Marker type: "));}if(a7X.displayStem){C2e.Marker.Performance.drawMarkerStem(F7X,y7X,{x:Z7X,y:T7X,invert:f7X});}z7X.endClip();if(F7X.attached){this.positionPopUpNode(F7X);}};C2e.Marker.Performance.prototype.positionPopUpNode=function(L7X){var P64,A7X,B7X,M7X,Y7X,d7X,S7X,I7X,D7X,E7X,v7X,s7X,J7X,R7X,Q7X,j7X,b7X,k7X,V7X;P64="px) ";P64+="t";P64+="ranslat";P64+="eZ(0)";if(!L7X.attached || !L7X.params.box){return;}A7X=L7X.params;B7X=A7X.stx;M7X=A7X.box;Y7X=L7X.params.node.expand;d7X=B7X.chart.dataSet;S7X=B7X.chart.dataSegment;if(L7X.tick){D7X=[d7X[S7X[0] && S7X[0].tick - +"1"],d7X[S7X[0] && S7X[0].tick - +"2"]];E7X=B7X.getFirstLastDataRecord(D7X.concat(S7X),"Date");v7X=[d7X[S7X[S7X.length - 1].tick + 1],d7X[S7X[S7X.length - 1].tick + 2]];s7X=B7X.getFirstLastDataRecord(S7X.concat(v7X),"Date",! ![]);I7X=E7X.DT <= d7X[L7X.tick].DT && d7X[L7X.tick].DT <= s7X.DT;}else {I7X=!1;}if(!L7X.highlight && !L7X.active){I7X=!1;}R9EE.z17m();Y7X.style.visibility=I7X?"":"hidden";if(!I7X){return;}J7X=B7X.panels[A7X.panelName];R7X=Y7X.rects;Q7X=R7X.height / 2;b7X=L7X.node.params.infoOffset || 0;if(L7X.node.params.infoOnLeft){j7X=M7X.x0 - R7X.width - b7X < J7X.left?M7X.x1 + b7X:M7X.x0 - R7X.width - b7X;}else {j7X=M7X.x0 + R7X.width > J7X.right?M7X.x0 - R7X.width - b7X:M7X.x1 + b7X;}j7X-=B7X.chart.left;k7X=M7X.y0 - Q7X >= J7X.top?M7X.y0 + M7X.midY - Q7X:M7X.y0;if(!A7X.avoidFlush && M7X.y1 + M7X.stemHeight === J7X.yAxis.bottom && R7X.height > M7X.y1 - M7X.y0 + M7X.stemHeight){k7X=M7X.y1 - R7X.height + M7X.stemHeight;}k7X-=B7X.chart.panel.top;V7X="translateX(" + Math.floor(j7X) + "px) translateY(" + Math.floor(k7X) + P64;Y7X.style.transform=V7X;Y7X.transform={translateX:j7X,translateY:k7X};};C2e.Marker.Performance.prototype.quickCache=function(p7X){R9EE.q17m();var u7X,n7X,U7X,P7X;u7X=p7X.params.node;n7X=u7X.expand;U7X=p7X.style;P7X=C2e.stripPX(U7X.marginLeft) + C2e.stripPX(U7X.marginRight) + C2e.stripPX(U7X.borderRight) + C2e.stripPX(U7X.borderLeft);n7X.rects=n7X.getBoundingClientRect();n7X.scrollBarWidth=n7X.rects.width - n7X.clientWidth - P7X;};C2e.Marker.Performance.prototype.calculateYPosition=function(g8X){var w64,F8X,r8X,o8X,z8X,h8X,Z8X,X8X,T8X,q8X,c8X,a8X,i8X,m8X,W8X,O8X;w64="b";w64+="elo";w64+="w_c";w64+="andle";F8X=g8X.marker;r8X=g8X.panel;o8X=g8X.height;z8X=g8X.half;h8X=g8X.offset;Z8X=g8X.inverted;X8X=F8X.params.stx;T8X=X8X.chart;q8X=X8X.chart.highLowBars;c8X=T8X.dataSet[F8X.tick];if(!c8X){return;}a8X=q8X?c8X.High:c8X.Close;i8X=F8X.params.yPositioner;R9EE.z17m();switch(i8X){case "value":if(F8X.params.y || F8X.params.y === 0){m8X=X8X.pixelFromPrice(F8X.params.y,r8X) - o8X * 0.5 + z8X;}else {m8X=X8X.pixelFromPrice(a8X,r8X) - h8X;}break;case "above_candle":m8X=X8X.pixelFromPrice(a8X,r8X) - h8X;break;case w64:m8X=X8X.pixelFromPrice(c8X.Low || a8X,r8X);if(Z8X && h8X){m8X+=h8X;}else {m8X+=z8X;}break;case "on_candle":(W8X=c8X.High || c8X.Close,O8X=c8X.Low || c8X.Low === 0 || c8X.Close);m8X=X8X.pixelFromPrice((W8X + O8X) / 2,r8X) - o8X * 0.5 + z8X;break;case "top":m8X=X8X.pixelFromPrice(r8X.yAxis.high,r8X);if(Z8X && h8X){m8X+=h8X;}else {m8X+=z8X;}break;case "bottom":m8X=X8X.pixelFromPrice(r8X.yAxis.low,r8X) - (h8X || z8X);break;default:break;}return m8X;};C2e.Marker.Performance.prototype.prepareForHolder=function(l8X){var t8X,G8X;t8X=this.expand;G8X=l8X.params.stx;t8X.classList.add(this.params.type);G8X.markerHelper.domMarkers.push(l8X);R9EE.q17m();return t8X;};C2e.Marker.Performance.prototype.addToHolder=function(K8X){var T64,e8X,y8X;T64="to";T64+="uchs";T64+="tart";e8X=this.expand;y8X=K8X.params.stx;C2e.Marker.Performance.reconstituteExpanded(y8X);C2e.Marker.Performance.consolidateExpanded(y8X);this.quickCache(K8X);if(e8X.clickClosure){return;}e8X.addEventListener("mousedown",f8X);function f8X(C8X){y8X.activeMarker=K8X;R9EE.q17m();y8X.activeMarker.click({cx:C8X.clientX,cy:C8X.clientY,panel:y8X.currentPanel});C8X.stopPropagation();}e8X.addEventListener(T64,f8X);R9EE.z17m();e8X.clickClosure=f8X;};C2e.Marker.Performance.prototype.remove=function(H8X){var x8X,N8X,b64,M8X,w8X;x8X=H8X.params.stx;if(!x8X){return;}if(!x8X.markerHelper.domMarkers){return;}N8X=x8X.markerHelper.domMarkers.indexOf(H8X);if(N8X != -1){x8X.markerHelper.domMarkers.splice(N8X,1);}if(H8X.attached){b64="c";b64+="li";b64+="c";b64+="k";M8X=x8X.panels[H8X.params.panelName];w8X=H8X.params.node.expand;if(w8X.parentNode === M8X.subholder){M8X.subholder.removeChild(w8X);}w8X.removeEventListener(b64,w8X.clickClosure);}};C2e.Marker.Performance.prototype.click=function(d8X){var B8X,b8X,S8X;if(!this.hasText){return;}if(typeof arguments[+"0"] === "number"){d8X={cx:arguments[0],cy:arguments[1],marker:arguments[2],panel:arguments[3]};}var {cx:R8X, cy:A8X, marker:L8X, panel:Y8X}=d8X;B8X=L8X.params.stx;if(L8X.attached){S8X=this.expand;if(S8X.rects.width - S8X.scrollBarWidth + S8X.transform.translateX < B8X.backOutX(R8X) && B8X.backOutX(R8X) < S8X.rects.width + S8X.transform.translateX){return;}this.remove(L8X);}else {B8X.addToHolder(L8X);b8X=! ![];}L8X.attached=!L8X.attached;L8X.active=!L8X.active;if(b8X){L8X.stxNodeCreator.positionPopUpNode(L8X);}};}};u2n=J8X=>{var I8X;I8X=typeof _CIQ !== "undefined"?_CIQ:J8X.CIQ;I8X.Renderer.OHLC.requestNew=function(U8X,j8X){var k8X,D8X,E8X,v8X,s8X,V8X,F64,W64,n8X;k8X=null;D8X=j8X.hlc;E8X=j8X.colored;v8X=j8X.hollow;R9EE.q17m();s8X=j8X.volume;V8X=j8X.histogram;for(var Q8X=+"0";Q8X < U8X.length;Q8X++){F64="h";F64+="l";F64+="c";W64="c";W64+="olo";W64+="r";W64+="ed";n8X=U8X[Q8X];switch(n8X){case "bar":case "candle":k8X=n8X;break;case "volume":s8X=! ![];break;case "hollow":v8X=! ![];break;case W64:E8X=! !{};break;case "histogram":V8X=! !1;k8X="candle";break;case F64:D8X=! !"1";k8X="bar";break;default:return null;}}if(k8X === null){return null;}return new I8X.Renderer.OHLC({params:I8X.extend(j8X,{type:k8X,hlc:D8X,colored:E8X,hollow:v8X,volume:s8X,histogram:V8X})});};I8X.Renderer.OHLC.getChartParts=function(h5X,c5X){var h64,l64,K64,q64,y64,t64,Z64,I64,D64,H64,z64,u64,i64,N64,c64,r64,j64,X64,E64,Q64,V64,L64,d64,B64,n64,o64,R64,f64,P8X,m5X,r5X,p8X,u8X,X5X;h64="s";h64+="tx_h";h64+="oll";h64+="ow_candle_down";l64="h";l64+="ol";l64+="lo";l64+="w";K64="border_";K64+="colo";K64+="r_ev";R9EE.q17m();K64+="en";q64="border_color";q64+="_u";q64+="p";y64="b";y64+="order_color_even";t64="s";t64+="tx_hollow";t64+="_cand";t64+="le_down";Z64="border_color";Z64+="_up";I64="ho";I64+="llo";I64+="w";D64="f";D64+="ill_color_d";D64+="ow";D64+="n";H64="stx_candle_";H64+="down";z64="cand";z64+="l";z64+="e";u64="fi";u64+="ll";u64+="_colo";u64+="r_up";i64="border";i64+="_";i64+="color_e";i64+="ven";N64="st";N64+="x_ca";N64+="ndle_shadow_even";c64="sh";c64+="adow";r64="c";r64+="andle";j64="s";j64+="h";j64+="ado";j64+="w";X64="c";X64+="an";X64+="dl";X64+="e";E64="sh";E64+="a";E64+="d";E64+="ow";Q64="bord";Q64+="er_col";Q64+="or_even";V64="bor";V64+="der";V64+="_color_";V64+="down";L64="b";L64+="a";L64+="r";d64="b";d64+="a";d64+="r";B64="b";B64+="ar";n64="b";n64+="a";n64+="r";o64="fill_co";o64+="lor_even";R64="his";R64+="togr";R64+="a";R64+="m";f64="histogra";f64+="m";R9EE.N1kc(21);P8X=R9EE.j1kc("1",2011859072);m5X=2;r5X=4;p8X=8;u8X=+"16";X5X=32;return [{type:"histogram",drawType:"histogram",style:"stx_histogram_up",condition:p8X,fill:"fill_color_up",border:"border_color_up",useColorInMap:! !{},useBorderStyleProp:! ![]},{type:"histogram",drawType:f64,style:"stx_histogram_down",condition:u8X,fill:"fill_color_down",border:"border_color_down",useColorInMap:!"",useBorderStyleProp:! !{}},{type:"histogram",drawType:R64,style:"stx_histogram_even",condition:X5X,fill:o64,border:"border_color_even",skipIfPass:! ![],useColorInMap:! !1,useBorderStyleProp:! ![]},{type:n64,drawType:B64,style:h5X || "stx_bar_chart",border:"border_color",useColorInMap:! ![]},{type:d64,drawType:"bar",style:"stx_bar_up",condition:c5X?p8X:P8X,border:"border_color_up",useColorInMap:! !{}},{type:L64,drawType:"bar",style:"stx_bar_down",condition:c5X?u8X:m5X,border:V64,useColorInMap:! !{}},{type:"bar",drawType:"bar",style:"stx_bar_even",condition:c5X?X5X:r5X,border:Q64,skipIfPass:! !"1",useColorInMap:! !"1"},{type:"candle",drawType:E64,style:"stx_candle_shadow",border:"border_color_up"},{type:X64,drawType:j64,style:"stx_candle_shadow_up",condition:p8X,border:"border_color_up"},{type:r64,drawType:c64,style:"stx_candle_shadow_down",condition:u8X,border:"border_color_down"},{type:"candle",drawType:"shadow",style:N64,condition:X5X,border:i64,skipIfPass:! ![]},{type:"candle",drawType:"candle",style:"stx_candle_up",condition:p8X,fill:u64,border:"border_color_up",useColorInMap:!0,useBorderStyleProp:! !"1"},{type:z64,drawType:"candle",style:H64,condition:u8X,fill:D64,border:"border_color_down",useColorInMap:!0,useBorderStyleProp:! ![]},{type:I64,drawType:"shadow",style:"stx_hollow_candle_up",condition:P8X,border:Z64},{type:"hollow",drawType:"shadow",style:t64,condition:m5X,border:"border_color_down"},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_even",condition:r5X,border:y64,skipIfPass:! !"1"},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_up",condition:P8X | u8X,fill:"fill_color_up",border:q64,useColorInMap:! !1},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_down",condition:m5X | u8X,fill:"fill_color_down",border:"border_color_down",useColorInMap:!""},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_even",condition:r5X | u8X,fill:"fill_color_even",border:K64,skipIfPass:! ![],useColorInMap:! !{}},{type:l64,drawType:"candle",style:"stx_hollow_candle_up",condition:P8X | p8X,fill:"fill_color_up",border:"border_color_up"},{type:"hollow",drawType:"candle",style:h64,condition:m5X | p8X,fill:"fill_color_down",border:"border_color_down"},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_even",condition:r5X | p8X,fill:"fill_color_even",border:"border_color_even"}];;};I8X.Renderer.Bars=function(g5X){var F5X;this.construct(g5X);R9EE.z17m();F5X=this.params;F5X.type="bar";this.highLowBars=this.barsHaveWidth=this.standaloneBars=! ![];F5X.hlc=F5X.volume=F5X.hollow=F5X.histogram=![];};R9EE.z17m();I8X.inheritsFrom(I8X.Renderer.Bars,I8X.Renderer.OHLC,!{});I8X.Renderer.HLC=function(a5X){var M84,z5X;M84="b";M84+="a";M84+="r";this.construct(a5X);z5X=this.params;z5X.type=M84;z5X.hlc=! !"1";this.highLowBars=this.barsHaveWidth=this.standaloneBars=! !1;z5X.volume=z5X.hollow=z5X.histogram=!{};};I8X.inheritsFrom(I8X.Renderer.HLC,I8X.Renderer.Bars,!1);I8X.Renderer.Shading=function(o5X){this.construct(o5X);this.beenSetup=! !"";this.errTimeout=null;this.params.useChartLegend=![];this.shading=[];if(this.params.type == "rangechannel"){this.highLowBars=! ![];}};I8X.inheritsFrom(I8X.Renderer.Shading,I8X.Renderer.Lines,!{});I8X.Renderer.Shading.requestNew=function(q5X,W5X){var Z5X,p84,i5X;Z5X=null;for(var T5X=0;T5X < q5X.length;T5X++){p84="r";p84+="angec";p84+="hannel";i5X=q5X[T5X];if(i5X == p84){Z5X="rangechannel";}}if(Z5X === null){return null;}return new I8X.Renderer.Shading({params:I8X.extend(W5X,{type:Z5X})});};I8X.Renderer.Shading.prototype.setShading=function(O5X){var X70,j70,r70;if(O5X.constructor != Array){O5X=[O5X];}X70=-1225934288;j70=-1120508191;r70=2;for(var N70=1;R9EE.h50(N70.toString(),N70.toString().length,19413) !== X70;N70++){this.shading=O5X;R9EE.r1kc(27);r70+=R9EE.j1kc(1089372960,"2");}if(R9EE.M00(r70.toString(),r70.toString().length,62627) !== j70){this.shading=O5X;}};I8X.Renderer.Shading.prototype.draw=function(){var G5X,y5X,U84,s84,S84,v84,L5X,K5X,S5X,x5X,B5X,e5X,l5X,H5X,w5X,R5X,g84,t5X,C5X,N5X,M5X,f5X;function d5X(Y5X){var b5X,I5X,A5X;b5X=e5X[Y5X];R9EE.z17m();if(b5X){I5X=b5X.parameters.field;A5X=b5X.parameters.subField;R9EE.r1kc(2);return R9EE.n1kc(A5X?((1368,+"2380") > 5109?! ![]:(824.65,"332.09" - 0) <= 7160?".":(9510,+"133.21") == 5020?("762.67" * 1,! !""):(!0,0x1496)) + A5X:"",I5X);}return Y5X;}G5X=this.stx;y5X=G5X.panels[this.params.panel].chart;if(this.params.type == "rangechannel"){if(this.beenSetup){if(this.seriesParams.length > 2){this.removeSeries(this.seriesParams[2].id);}}else {U84="stx_li";U84+="ne_down";s84="L";s84+="ow";S84="stx_line";S84+="_up";v84="Sha";v84+="din";v84+="g";this.beenSetup=!"";this.params.display=this.seriesParams[0].display;this.params.yAxis=this.seriesParams[0].yAxis;L5X=this.seriesParams[0].color || "auto";K5X=this.seriesParams[0].symbol;S5X="";if(K5X){R9EE.r1kc(2);S5X=R9EE.j1kc(".",K5X);}this.removeAllSeries(! ![]);x5X=this.params.name;G5X.addSeries(null,{symbol:K5X,loadData:! !K5X,field:"High",renderer:v84,name:x5X,style:S84,display:this.params.display,shareYAxis:!""});G5X.addSeries(null,{symbol:K5X,loadData:! !K5X,field:s84,renderer:"Shading",name:x5X,style:U84,display:this.params.display,shareYAxis:!0});this.setShading({primary:this.seriesParams[0].id,secondary:this.seriesParams[1].id,color:L5X});}}if(!this.shading){if(!this.errTimeout){console.log("Warning: no shading scheme set.  Use myRenderer.setShading(scheme) to set.");B5X=this;this.errTimeout=setTimeout(function(){B5X.errTimeout=null;},10000);}}e5X={};for(l5X=0;l5X < this.seriesParams.length;l5X++){H5X={};if(y5X.series[this.seriesParams[l5X].id]){H5X=I8X.clone(y5X.series[this.seriesParams[l5X].id].parameters);}e5X[this.seriesParams[l5X].id]={parameters:I8X.extend(I8X.extend(H5X,this.params),this.seriesParams[l5X]),yValueCache:this.caches[this.seriesParams[l5X].id]};}G5X.drawSeries(y5X,e5X,this.params.yAxis,this);if(y5X.legend && this.params.type == "rangechannel"){if(!y5X.legend.colorMap){y5X.legend.colorMap={};}w5X=this.params.display;R5X=[G5X.getCanvasColor("stx_line_up"),G5X.getCanvasColor("stx_line_down")];y5X.legend.colorMap[w5X]={color:R5X,display:w5X,isBase:this == G5X.mainSeriesRenderer};;}for(l5X in e5X){this.caches[l5X]=e5X[l5X].yValueCache;}for(l5X=0;l5X < this.shading.length;l5X++){g84="Cl";g84+="os";g84+="e";t5X=this.shading[l5X];C5X=t5X.color;if(t5X.color == "auto"){C5X=G5X.defaultColor;}if(!t5X.primary){t5X.primary="Close";}if(!t5X.secondary && this.seriesParams[0]){t5X.secondary=this.seriesParams["0" ^ 0].field;}if(!t5X.secondary)continue;else if(!e5X[t5X.primary] && t5X.primary != "Close")continue;else if(!e5X[t5X.secondary])continue;else if(t5X.primary == g84 && this.params.yAxis && this.params.yAxis != y5X.yAxis)continue;N5X=d5X(t5X.primary).split((+"2970",5090) >= 2920?".":0x218a);M5X=d5X(t5X.secondary).split(".");f5X={topBand:N5X[0],topSubBand:N5X[1],topColor:t5X.greater || C5X || G5X.containerColor,topAxis:this.params.yAxis,bottomBand:M5X[+"0"],bottomSubBand:M5X[1],bottomColor:t5X.lesser || C5X || G5X.containerColor,bottomAxis:t5X.primary == "Close"?null:this.params.yAxis,tension:this.params.tension || y5X.tension,opacity:"0.1" - 0};if(!f5X.topColor && !f5X.bottomColor)continue;if(!this.params.highlight && G5X.highlightedDraggable){f5X.opacity*=0.3;}I8X.fillIntersecting(G5X,this.params.panel,f5X);}};I8X.Renderer.Histogram=function(J5X){this.construct(J5X);this.params.type="histogram";this.barsHaveWidth=this.standaloneBars=! !{};R9EE.q17m();if(this.params.yAxis){this.params.bindToYAxis=!"";if(typeof this.params.yAxis.baseline == "number"){this.params.yAxis.baseline={value:this.params.yAxis.baseline};}}};I8X.inheritsFrom(I8X.Renderer.Histogram,I8X.Renderer,!{});I8X.Renderer.Histogram.prototype.adjustYAxis=function(){var j5X,q54,K54,l54;j5X=this.params.yAxis;q54=360434023;K54=-1175854589;l54=2;for(var M04=1;R9EE.M00(M04.toString(),M04.toString().length,44098) !== q54;M04++){if(+j5X && j5X.baseline){return;}j5X.min=+"1";l54+=2;}if(R9EE.h50(l54.toString(),l54.toString().length,7755) !== K54){if(!j5X || j5X.baseline){return;}j5X.min=0;}j5X.highValue/=this.params.heightPercentage || +"1";};I8X.Renderer.Histogram.prototype.draw=function(){R9EE.z17m();var G84,k5X,Q5X,D5X,E5X;G84="s";G84+="tack";G84+="ed";k5X=I8X.clone(this.params);k5X.type=k5X.subtype;this.useSum=k5X.subtype == G84;if(!k5X.yAxis || k5X.yAxis == this.stx.chart.yAxis){k5X.bindToYAxis=! !1;}this.stx.drawHistogram(k5X,this.seriesParams);Q5X=k5X.yAxis && k5X.yAxis.baseline;if(Q5X && Q5X.color){D5X=this.stx.panels[this.params.panel];E5X=this.stx.pixelFromPrice(Q5X.value,D5X,this.params.yAxis) - ("0.5" - 0);this.stx.plotLine({x0:D5X.left,x1:D5X.right,y0:E5X,y1:E5X,color:Q5X.color,type:"line",context:D5X.chart.context,confineToPanel:D5X,pattern:Q5X.pattern || "solid",lineWidth:Q5X.lineWidth || "1" | 1,opacity:Q5X.opacity || 0.8,globalCompositeOperation:"destination-over"});}};I8X.Renderer.Histogram.prototype.getBasis=function(U5X,p5X,u5X){var V5X,C84,n5X,v5X;V5X=0;R9EE.q17m();if(U5X && this.useSum){for(var s5X=0;s5X < this.seriesParams.length;s5X++){C84="objec";C84+="t";n5X=this.seriesParams[s5X].field;if(n5X === p5X)break;v5X=U5X[n5X];if(v5X && typeof v5X === C84){v5X=v5X[u5X || this.seriesParams[s5X].subField || this.stx.chart.defaultPlotField || "Close"];}if(v5X){V5X+=v5X;}}}return V5X;};I8X.Renderer.Heatmap=function(P5X){this.construct(P5X);this.params.type="heatmap";R9EE.z17m();this.params.highlightable=!{};this.barsHaveWidth=this.standaloneBars=! !{};};I8X.inheritsFrom(I8X.Renderer.Heatmap,I8X.Renderer,![]);I8X.Renderer.Heatmap.requestNew=function(X0X,h0X){R9EE.q17m();var m0X,a84,c0X;m0X=null;for(var r0X=0;r0X < X0X.length;r0X++){a84="h";a84+="eatma";a84+="p";c0X=X0X[r0X];if(c0X == a84){m0X="heatmap";}}if(m0X === null){return null;}return new I8X.Renderer.Heatmap({params:I8X.extend(h0X,{type:m0X})});};I8X.Renderer.Heatmap.prototype.draw=function(){R9EE.z17m();this.stx.drawHeatmap(I8X.clone(this.params),this.seriesParams);};I8X.Renderer.Scatter=function(F0X){this.construct(F0X);this.standaloneBars=this.barsHaveWidth=! ![];this.bounded=! !{};};I8X.inheritsFrom(I8X.Renderer.Scatter,I8X.Renderer.Lines,!{});I8X.Renderer.Scatter.requestNew=function(a0X,Z0X){var g0X,e84,o0X;g0X=null;for(var z0X="0" | 0;z0X < a0X.length;z0X++){e84="s";e84+="cat";e84+="t";e84+="er";o0X=a0X[z0X];if(o0X == "scatterplot"){g0X=e84;}}R9EE.q17m();if(g0X === null){return null;}return new I8X.Renderer.Scatter({params:I8X.extend(Z0X,{type:g0X})});};I8X.Renderer.Scatter.prototype.drawIndividualSeries=function(W0X,q0X){var i0X,T0X;i0X=this.stx.panels[q0X.panel] || W0X.panel;T0X={colors:[]};if(this.stx.scatter){T0X=this.stx.scatter(i0X,q0X);}else {console.warn("Error, Scatter renderer requires customChart.js");}return T0X;};};P2n=t0X=>{var O0X;R9EE.q17m();O0X=typeof _CIQ !== "undefined"?_CIQ:t0X.CIQ;if(!O0X.Studies){console.error("accumulationDistribution feature requires first activating studies feature.");}else {O0X.Studies.calculateAccumulationDistribution=function(x0X,e0X){var C0X,l0X,y0X,K0X,f0X;C0X=e0X.chart.scrubbed;for(var G0X=e0X.startFrom;G0X < C0X.length;G0X++){if(!G0X)continue;l0X=C0X[G0X];if(l0X.futureTick)break;R9EE.r1kc(4);y0X=C0X[R9EE.n1kc(1,G0X)];K0X=0;if(l0X.Close > y0X.Close){K0X=l0X.Close - Math.min(l0X.Low,y0X.Close);}else if(l0X.Close < y0X.Close){K0X=l0X.Close - Math.max(l0X.High,y0X.Close);}if(e0X.inputs["Use Volume"]){K0X*=l0X.Volume;}f0X=y0X["Result " + e0X.name];if(!f0X){f0X=0;}f0X+=K0X;if(!isNaN(l0X.Close)){l0X["Result " + e0X.name]=f0X;}}};O0X.Studies.studyLibrary=O0X.extend(O0X.Studies.studyLibrary,{"W Acc Dist":{name:"Accumulation/Distribution",calculateFN:O0X.Studies.calculateAccumulationDistribution,inputs:{"Use Volume":!{}}}});}};m3n=w0X=>{var H0X,f84,F84;R9EE.q17m();H0X=typeof _CIQ !== "undefined"?_CIQ:w0X.CIQ;if(!H0X.Studies){console.error("adx feature requires first activating studies feature.");}else {f84="a";f84+="u";f84+="t";f84+="o";F84="#";F84+="F";F84+="F0";F84+="000";H0X.Studies.calculateADX=function(v0X,N0X){var h27m=R9EE;var k84,S0X,B0X,R0X,Y0X,I0X,J0X,j0X,M0X,A84,Y84,m84,d0X,b0X,x84,J84,k0X,Q0X,D0X,O84,w84,P84,E0X,T84;k84="Smoothing";k84+=" Perio";k84+="d";H0X.Studies.calculateStudyATR(v0X,N0X);S0X=N0X.chart.scrubbed;B0X=N0X.days;R0X=parseInt(N0X.inputs[k84],10);if(!R0X && R0X !== 0){R0X=B0X;}if(S0X.length < N0X.days + 1){N0X.error=! ![];return;}Y0X=0;I0X=0;J0X=0;j0X=+"0";for(var L0X=Math.max("1" ^ 0,N0X.startFrom);L0X < S0X.length;L0X++){A84="-";A84+="D";A84+="I";A84+=" ";Y84="_";Y84+="s";Y84+="m-";Y84+="DM ";m84="_s";m84+="m";m84+="+DM";m84+=" ";M0X=S0X[L0X];d0X=Math.max(+"0",M0X.High - S0X[L0X - 1].High);b0X=Math.max(0,S0X[L0X - +"1"].Low - M0X.Low);if(d0X > b0X){b0X=0;}else if(b0X > d0X){d0X=0;}else {d0X=b0X=+"0";}if(L0X <= B0X){I0X+=d0X;J0X+=b0X;Y0X+=M0X["True Range " + N0X.name];}else {x84="T";x84+="rue R";x84+="ange ";J84="_";J84+="sm+DM";J84+=" ";I0X=S0X[L0X - 1][J84 + N0X.name] * (B0X - +"1") / B0X + d0X;J0X=S0X[L0X - 1]["_sm-DM " + N0X.name] * (B0X - 1) / B0X + b0X;Y0X=S0X[L0X - 1]["_smTR " + N0X.name] * (B0X - 1) / B0X + M0X[x84 + N0X.name];}M0X[m84 + N0X.name]=I0X;M0X[Y84 + N0X.name]=J0X;M0X["_smTR " + N0X.name]=Y0X;if(L0X < B0X)continue;h27m.r1kc(38);k0X=h27m.j1kc(Y0X,100,I0X);h27m.r1kc(38);Q0X=h27m.n1kc(Y0X,100,J0X);D0X=100 * Math.abs(k0X - Q0X) / (k0X + Q0X);M0X["+DI " + N0X.name]=k0X;M0X[A84 + N0X.name]=Q0X;if(N0X.inputs.Series !== !{} && R0X){if(L0X < B0X + R0X - 1){if(L0X == N0X.startFrom){for(var A0X=B0X;A0X < N0X.startFrom;A0X++){O84="-";O84+="D";O84+="I ";j0X+=100 * Math.abs(S0X[A0X]["+DI " + N0X.name] - S0X[A0X]["-DI " + N0X.name]) / (S0X[A0X]["+DI " + N0X.name] + S0X[A0X][O84 + N0X.name]);}}j0X+=D0X;}else if(L0X == B0X + R0X - 1){h27m.r1kc(10);M0X["ADX " + N0X.name]=h27m.n1kc(R0X,j0X);}else {M0X["ADX " + N0X.name]=(S0X[L0X - ("1" | 0)]["ADX " + N0X.name] * (R0X - 1) + D0X) / R0X;}}if(N0X.inputs.Histogram){w84="-D";w84+="I";w84+=" ";P84="_";P84+="h";P84+="ist";E0X=N0X.name + P84;if(!M0X["+DI " + N0X.name] && M0X["+DI " + N0X.name] !== 0)continue;if(!M0X[w84 + N0X.name] && M0X["-DI " + N0X.name] !== 0)continue;M0X[E0X]=M0X["+DI " + N0X.name] - M0X["-DI " + N0X.name];if(N0X.inputs.Series === !{}){T84="-DI";T84+=" ";M0X["+DI " + N0X.name]=null;M0X[T84 + N0X.name]=null;}N0X.outputMap[E0X]="";}}};H0X.Studies.displayADX=function(V0X,s0X,P0X){var m6X,W84,b84,n0X,U0X,r6X,X6X,p0X,u0X;m6X=s0X.underlay?0.3:s0X.inputs.Series?0.4:1;if(s0X.inputs.Series && s0X.inputs.Shading){W84="-";W84+="D";W84+="I";W84+=" ";b84="+";b84+="DI ";n0X=b84 + s0X.name;U0X=W84 + s0X.name;r6X=H0X.Studies.determineColor(s0X.outputs[s0X.outputMap[n0X]]);X6X=H0X.Studies.determineColor(s0X.outputs[s0X.outputMap[U0X]]);p0X=s0X.getYAxis(V0X);u0X={topBand:n0X,bottomBand:U0X,topColor:r6X,bottomColor:X6X,skipTransform:V0X.panels[s0X.panel].name != s0X.chart.name,topAxis:p0X,bottomAxis:p0X,opacity:0.3};if(!s0X.highlight && V0X.highlightedDraggable){u0X.opacity*=0.3;}H0X.fillIntersecting(V0X,s0X.panel,u0X);}if(s0X.inputs.Histogram){H0X.Studies.createHistogram(V0X,s0X,P0X,!{},m6X);}R9EE.z17m();if(s0X.inputs.Series !== ! !0){H0X.Studies.displaySeriesAsLine(V0X,s0X,P0X);}else if(!s0X.inputs.Series && !s0X.inputs.Histogram){V0X.displayErrorAsWatermark(s0X.panel,V0X.translateIf(s0X.name) + ": " + V0X.translateIf("Nothing to display"));}};H0X.Studies.studyLibrary=H0X.extend(H0X.Studies.studyLibrary,{ADX:{name:"ADX/DMS",calculateFN:H0X.Studies.calculateADX,seriesFN:H0X.Studies.displayADX,inputs:{Period:14,"Smoothing Period":14,Series:! !{},Shading:!{},Histogram:! !0},outputs:{"+DI":"#00FF00","-DI":F84,ADX:f84,"Positive Bar":"#00DD00","Negative Bar":"#FF0000"}}});}};r3n=h6X=>{var N67m=R9EE;var c6X,f70,R70,o70,u84,H84,z84;N67m.q17m();c6X=typeof _CIQ !== "undefined"?_CIQ:h6X.CIQ;if(!c6X.Studies){console.error("alligator feature requires first activating studies feature.");}else {c6X.Studies.calculateAlligator=function(q6X,z6X){var o84,R84,a6X,F6X,d84,B84,n84,L84,V84,Z6X,T6X,o6X,Q84;o84="Show ";o84+="Lines";R84="J";R84+="aw Peri";R84+="od";a6X={J:Number(z6X.inputs[R84]),T:Number(z6X.inputs["Teeth Period"]),L:Number(z6X.inputs["Lips Period"])};F6X=z6X.chart.scrubbed;if(F6X.length < Math.max(a6X.J,a6X.T,a6X.L) + 1){z6X.error=!"";return;}if(z6X.type === "Gator" || z6X.inputs[o84]){d84="Teet";d84+="h Offs";d84+="et";B84="Ja";B84+="w Offset";n84="wel";n84+="le";n84+="s wilder";c6X.Studies.MA(n84,a6X.J,"hl/2",z6X.inputs[B84],"Jaw",q6X,z6X);c6X.Studies.MA("welles wilder",a6X.T,"hl/2",z6X.inputs[d84],"Teeth",q6X,z6X);c6X.Studies.MA("welles wilder",a6X.L,"hl/2",z6X.inputs["Lips Offset"],"Lips",q6X,z6X);}for(var g6X=z6X.startFrom;g6X < F6X.length;g6X++){L84="G";L84+="at";L84+="o";L84+="r";if(!F6X[g6X])continue;if(z6X.type == L84){V84="_";V84+="hi";V84+="s";V84+="t2";Z6X=F6X[g6X]["Jaw " + z6X.name];T6X=F6X[g6X]["Lips " + z6X.name];o6X=F6X[g6X]["Teeth " + z6X.name];if(o6X || o6X === ("0" & 2147483647)){if(Z6X || Z6X === 0){N67m.r1kc(4);F6X[g6X][z6X.name + "_hist1"]=Math.abs(N67m.n1kc(o6X,Z6X));}if(T6X || T6X === 0){N67m.N1kc(4);F6X[g6X][z6X.name + "_hist2"]=-Math.abs(N67m.j1kc(T6X,o6X));}}z6X.outputMap={};z6X.outputMap[z6X.name + "_hist1"]="";z6X.outputMap[z6X.name + V84]="";}if(z6X.inputs["Show Fractals"]){if(!F6X[g6X - 2] || !F6X[g6X - 1] || !F6X[g6X] || !F6X[g6X + 1] || !F6X[g6X + 2])continue;if(F6X[g6X - 2].High && F6X[g6X - 1].High && F6X[g6X].High && F6X[g6X + 1].High && F6X[g6X + 2].High){if(F6X[g6X].High > F6X[g6X - 1].High && F6X[g6X].High > F6X[g6X - 2].High && F6X[g6X].High > F6X[g6X + 1].High && F6X[g6X].High > F6X[g6X + 2].High){F6X[g6X]["Fractal High " + z6X.name]=1;}}if(F6X[g6X - 2].Low && F6X[g6X - 1].Low && F6X[g6X].Low && F6X[g6X + 1].Low && F6X[g6X + ("2" >> 2114905920)].Low){if(F6X[g6X].Low < F6X[g6X - 1].Low && F6X[g6X].Low < F6X[g6X - 2].Low && F6X[g6X].Low < F6X[g6X + 1].Low && F6X[g6X].Low < F6X[g6X + 2].Low){Q84="F";Q84+="rac";Q84+="tal Low ";F6X[g6X][Q84 + z6X.name]=1;}}}}};c6X.Studies.displayAlligator=function(i6X,t6X,l6X){var W6X,r84;W6X=t6X.getContext(i6X);if(t6X.inputs["Show Lines"]){c6X.Studies.displaySeriesAsLine(i6X,t6X,l6X);}if(t6X.inputs["Show Fractals"]){i6X.startClip();W6X.globalAlpha=t6X.underlay?0.3:1;if(!t6X.highlight && i6X.highlightedDraggable){W6X.globalAlpha*=0.3;}for(var O6X=2;O6X < l6X.length - 2;O6X++){if(l6X[O6X]){r84="l";r84+="o";r84+="w";if(l6X[O6X]["Fractal High " + t6X.name]){G6X("high",O6X);}if(l6X[O6X]["Fractal Low " + t6X.name]){G6X(r84,O6X);}}}i6X.endClip();}function G6X(K6X,f6X){var E84,e6X,y6X,X84,j84;N67m.q17m();E84="h";E84+="i";E84+="gh";y6X=i6X.chart.panel.yAxis.flipped;if(K6X == E84){X84="t";X84+="o";X84+="p";W6X.fillStyle=i6X.defaultColor;W6X.textBaseline=y6X?X84:"bottom";e6X=i6X.pixelFromPrice(l6X[f6X].High);W6X.fillText(y6X?("4432" >> 1982013984,9320) >= +"6460"?"\u25BC":0xb80:"\u25B2",i6X.pixelFromBar(O6X,i6X.chart) - W6X.measureText((97.78,1020) < (926.19,958.52)?"c":("3847" * 1,"4710" - 0) > (7195,711)?(8343,9270) > 7870?"\u25B2":("89" & 2147483647,5.35e+3):(0xc28,! ![])).width / 2 + 1,y6X?e6X + 5:e6X - +"5");;}else if(K6X == "low"){j84="b";j84+="ot";j84+="to";j84+="m";W6X.fillStyle=i6X.defaultColor;W6X.textBaseline=y6X?j84:"top";e6X=i6X.pixelFromPrice(l6X[f6X].Low);W6X.fillText(y6X?334.97 <= (6653,997.63)?"\u25B2":(5980,"5729" & 2147483647) >= 4040?(!"1",224.90):(9.29e+3,171.10):"\u25BC",i6X.pixelFromBar(O6X,i6X.chart) - W6X.measureText("\u25BC").width / +"2" + 1,y6X?e6X - 5:e6X + 5);;}}};c6X.Studies.displayGator=function(x6X,C6X,R6X){var N84,c84,B6X,w6X,d6X,b6X,L6X,A6X,Y6X,M6X,S6X,i84;N84="#CC";N84+="C";N84+="CCC";c84="stx";c84+="_hist";c84+="ogr";c84+="am";B6X=x6X.panels[C6X.panel];w6X=C6X.getContext(x6X);N67m.q17m();d6X=C6X.getYAxis(x6X);b6X=x6X.pixelFromPrice(0,B6X,d6X);L6X=x6X.layout.candleWidth - 2;if(L6X < 2){L6X=1;}A6X=c6X.Studies.determineColor(C6X.outputs["Increasing Bar"]);Y6X=c6X.Studies.determineColor(C6X.outputs["Decreasing Bar"]);x6X.canvasColor(c84);if(!C6X.underlay){w6X.globalAlpha=1;}w6X.fillStyle=N84;x6X.startClip(C6X.panel);if(!C6X.highlight && x6X.highlightedDraggable){w6X.globalAlpha*=0.3;}for(var N6X=0;N6X < R6X.length;N6X++){M6X=R6X[N6X];N67m.r1kc(4);S6X=R6X[N67m.n1kc(1,N6X)];if(!M6X)continue;for(var H6X=1;H6X <= 2;H6X++){i84="_";i84+="his";i84+="t";if(!S6X){S6X=x6X.getPreviousBar(x6X.chart,C6X.name + "_hist" + H6X,N6X);}if(!S6X){w6X.fillStyle="#CCCCCC";}else if(Math.abs(S6X[C6X.name + "_hist" + H6X]) < Math.abs(M6X[C6X.name + "_hist" + H6X])){w6X.fillStyle=A6X;}else if(Math.abs(S6X[C6X.name + i84 + H6X]) > Math.abs(M6X[C6X.name + "_hist" + H6X])){w6X.fillStyle=Y6X;}if(M6X.candleWidth){L6X=Math.floor(Math.max(1,M6X.candleWidth - 2));}w6X.fillRect(Math.floor(x6X.pixelFromBar(N6X,B6X.chart) - L6X / 2),Math.floor(b6X),Math.floor(L6X),Math.floor(x6X.pixelFromPrice(M6X[C6X.name + "_hist" + H6X],B6X,d6X) - b6X));}}x6X.endClip();};f70=1917220434;N67m.r1kc(21);R70=N67m.n1kc("169203966",991488384);o70=2;for(var B70=+"1";N67m.h50(B70.toString(),B70.toString().length,70129) !== f70;B70++){u84="#";u84+="FF";u84+="000";u84+="0";c6X.Studies.studyLibrary=c6X.extend(c6X.Studies.studyLibrary,{Alligator:{name:"#FF0000",overlay:!1,seriesFN:c6X.Studies.displayAlligator,calculateFN:c6X.Studies.calculateAlligator,inputs:{"Show Lines":! !0,"Jaw Period":90,"Jaw Offset":1,"Teeth Period":5,"Teeth Offset":3,"Lips Period":4,"Lips Offset":7,"Show Fractals":! !{}},outputs:{Jaw:"#0000FF",Teeth:"Teeth Offset",Lips:"#00DD00"}},Gator:{name:u84,seriesFN:c6X.Studies.displayGator,calculateFN:c6X.Studies.calculateAlligator,inputs:{"Jaw Period":23,"Jaw Offset":6,"Teeth Period":9,"Teeth Offset":7,"Lips Period":+"3","Lips Offset":5},outputs:{"Increasing Bar":"#0000FF","Decreasing Bar":"Jaw Offset"},centerline:"1" >> 299496896}});o70+=2;}if(N67m.h50(o70.toString(),o70.toString().length,44570) !== R70){H84="#";H84+="FF0000";z84="#";z84+="00DD0";z84+="0";c6X.Studies.studyLibrary=c6X.extend(c6X.Studies.studyLibrary,{Alligator:{name:"Alligator",overlay:! !"1",seriesFN:c6X.Studies.displayAlligator,calculateFN:c6X.Studies.calculateAlligator,inputs:{"Show Lines":!"","Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":3,"Show Fractals":! !""},outputs:{Jaw:"#0000FF",Teeth:"#FF0000",Lips:"#00DD00"}},Gator:{name:"Gator Oscillator",seriesFN:c6X.Studies.displayGator,calculateFN:c6X.Studies.calculateAlligator,inputs:{"Jaw Period":13,"Jaw Offset":"8" >> 280337536,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":3},outputs:{"Increasing Bar":z84,"Decreasing Bar":H84},centerline:0}});}}};X3n=J6X=>{var D84,I6X,K84,q84,y84,t84,Z84;D84="u";D84+="n";D84+="defi";D84+="ned";I6X=typeof _CIQ !== D84?_CIQ:J6X.CIQ;R9EE.q17m();if(!I6X.Studies){console.error("aroon feature requires first activating studies feature.");}else {K84="au";K84+="t";K84+="o";q84="Aroon Oscill";q84+="at";q84+="or";y84="#FF0";y84+="000";t84="0 ";t84+="to";t84+=" 100";Z84="A";Z84+="ro";Z84+="o";Z84+="n";I6X.Studies.calculateAroon=function(r9X,j6X){var V27m=R9EE;var v6X,s6X,V6X,Q6X,D6X,V04,Q04,E04,U6X,E6X,I84,k6X,p6X,u6X,P6X,m9X;v6X=j6X.chart.scrubbed;if(v6X.length < j6X.days + 1){j6X.error=! ![];return;}s6X=0;V27m.N1kc(27);V6X=V27m.j1kc(209201920,"0");Q6X=null;V27m.z17m();D6X=null;if(j6X.startFrom > 0){V04=439453387;Q04=1059804465;E04=2;for(var j04=+"1";V27m.h50(j04.toString(),j04.toString().length,17206) !== V04;j04++){U6X=v6X[j6X.startFrom - 1]["_state " + j6X.name];E04+=2;}if(V27m.M00(E04.toString(),E04.toString().length,9033) !== Q04){U6X=v6X[j6X.startFrom * 3]["" * j6X.name];}if(U6X){s6X=U6X[0];V6X=U6X[1];Q6X=U6X[+"2"];D6X=U6X[3];}}for(var n6X=j6X.startFrom;n6X < v6X.length;n6X++){I84="Ar";I84+="oon Up ";k6X=v6X[n6X];if(k6X.futureTick)break;if(Q6X === null){Q6X=k6X.High;}if(D6X === null){D6X=k6X.Low;}Q6X=Math.max(Q6X,k6X.High);if(Q6X == k6X.High){s6X=0;}else {s6X++;if(s6X > j6X.days){Q6X=k6X.High;s6X=0;for(E6X=1;E6X <= j6X.days;E6X++){Q6X=Math.max(Q6X,v6X[n6X - E6X].High);if(Q6X == v6X[n6X - E6X].High){s6X=E6X;}}}}D6X=Math.min(D6X,k6X.Low);if(D6X == k6X.Low){V6X=0;}else {V6X++;if(V6X > j6X.days){D6X=k6X.Low;V6X=0;for(E6X=+"1";E6X <= j6X.days;E6X++){D6X=Math.min(D6X,v6X[n6X - E6X].Low);if(D6X == v6X[n6X - E6X].Low){V6X=E6X;}}}}p6X=!isNaN(k6X.High);u6X=!isNaN(k6X.Low);P6X=100 * (+"1" - s6X / j6X.days);if(p6X){k6X["Aroon Up " + j6X.name]=P6X;}m9X=100 * (1 - V6X / j6X.days);if(u6X){k6X["Aroon Down " + j6X.name]=m9X;}if(p6X && u6X){k6X["Aroon Oscillator " + j6X.name]=k6X[I84 + j6X.name] - k6X["Aroon Down " + j6X.name];}k6X["_state " + j6X.name]=[s6X,V6X,Q6X,D6X];}};I6X.Studies.studyLibrary=I6X.extend(I6X.Studies.studyLibrary,{Aroon:{name:Z84,range:t84,calculateFN:I6X.Studies.calculateAroon,outputs:{"Aroon Up":"#00DD00","Aroon Down":y84}},"Aroon Osc":{name:q84,calculateFN:I6X.Studies.calculateAroon,outputs:{"Aroon Oscillator":K84}}});}};c3n=c9X=>{var l84,X9X,C94,G94,g94,U94;l84="un";l84+="def";l84+="ined";X9X=typeof _CIQ !== l84?_CIQ:c9X.CIQ;if(!X9X.Studies){console.error("atr feature requires first activating studies feature.");}else {C94="#F";C94+="F0000";G94="sq";G94+="u";G94+="arewa";G94+="ve";g94="po";g94+="int";g94+="s";U94="a";U94+="u";U94+="t";U94+="o";X9X.Studies.calculateATRBands=function(g9X,h9X){var F9X;X9X.Studies.calculateStudyATR(g9X,h9X);F9X=h9X.inputs.Field;if(!F9X || F9X == "field"){F9X="Close";}X9X.Studies.calculateGenericEnvelope(g9X,h9X,h9X.inputs.Shift,F9X,"ATR " + h9X.name);};X9X.Studies.calculateSTARCBands=function(a9X,z9X){var M94,h84;M94="_M";R9EE.q17m();M94+="A ";h84="_";h84+="MA";X9X.Studies.calculateStudyATR(a9X,z9X);X9X.Studies.MA("simple",z9X.inputs["MA Period"],"Close",0,h84,a9X,z9X);X9X.Studies.calculateGenericEnvelope(a9X,z9X,z9X.inputs.Multiplier,M94 + z9X.name,"ATR " + z9X.name);};X9X.Studies.calculateATRStops=function(y9X,o9X){var R27m=R9EE;var s94,S94,i9X,t9X,v94,p94,Z9X,G9X,T9X,q9X,O9X,l9X;s94="A";s94+="ll Stops ";S94="All Stop";S94+="s";i9X=o9X.chart.scrubbed;if(!i9X){return;}X9X.Studies.calculateStudyATR(y9X,o9X);t9X=o9X.inputs.HighLow;for(var W9X=Math.max(o9X.startFrom - 1,"1" * 1);W9X < i9X.length - 1;W9X++){v94="Sel";v94+="l ";v94+="St";v94+="ops ";p94="B";p94+="uy Stops ";Z9X=i9X[W9X];R27m.N1kc(4);G9X=i9X[R27m.n1kc(1,W9X)];T9X=Z9X[p94 + o9X.name];if(!T9X){T9X=Z9X[v94 + o9X.name];}if(!T9X){R27m.N1kc(4);T9X=R27m.n1kc(0,"0");}if(!Z9X || !G9X)continue;q9X=Z9X.Close;O9X=q9X;l9X=Z9X["ATR " + o9X.name] * o9X.inputs.Multiplier;if(Z9X.Close > T9X && G9X.Close > T9X){if(t9X){q9X=Z9X.High;}R27m.N1kc(4);O9X=Math.max(T9X,R27m.j1kc(l9X,q9X));}else if(Z9X.Close <= T9X && G9X.Close <= T9X){if(t9X){q9X=Z9X.Low;}R27m.r1kc(2);O9X=Math.min(T9X,R27m.n1kc(l9X,q9X));}else if(Z9X.Close > T9X){if(t9X){q9X=Z9X.High;}R27m.r1kc(4);O9X=R27m.j1kc(l9X,q9X);}else if(Z9X.Close <= T9X){if(t9X){q9X=Z9X.Low;}R27m.r1kc(2);O9X=R27m.n1kc(l9X,q9X);}if(q9X <= O9X){R27m.N1kc(2);i9X[R27m.n1kc(1,W9X)]["Buy Stops " + o9X.name]=O9X;R27m.r1kc(25);delete i9X[R27m.n1kc("1",W9X)]["Sell Stops " + o9X.name];}else if(q9X > O9X){R27m.N1kc(2);i9X[R27m.n1kc(1,W9X)]["Sell Stops " + o9X.name]=O9X;R27m.r1kc(2);delete i9X[R27m.n1kc(1,W9X)]["Buy Stops " + o9X.name];}R27m.r1kc(2);i9X[R27m.n1kc(1,W9X)]["All Stops " + o9X.name]=O9X;}o9X.referenceOutput=S94;R27m.z17m();o9X.outputMap={};o9X.outputMap[s94 + o9X.name]="";};X9X.Studies.studyLibrary=X9X.extend(X9X.Studies.studyLibrary,{ATR:{name:"Average True Range",calculateFN:X9X.Studies.calculateStudyATR,outputs:{ATR:"auto"}},"ATR Bands":{name:"ATR Bands",overlay:!0,seriesFN:X9X.Studies.displayChannel,calculateFN:X9X.Studies.calculateATRBands,inputs:{Period:5,Field:"field",Shift:3,"Channel Fill":! !"1"},outputs:{"ATR Bands Top":"auto","ATR Bands Bottom":"auto","ATR Bands Channel":U94},attributes:{Shift:{min:0.1,step:"0.1" * 1}}},"STARC Bands":{name:"STARC Bands",overlay:!"",seriesFN:X9X.Studies.displayChannel,calculateFN:X9X.Studies.calculateSTARCBands,inputs:{Period:15,"MA Period":5,Multiplier:1.3,"Channel Fill":!0},outputs:{"STARC Bands Top":"auto","STARC Bands Median":"auto","STARC Bands Bottom":"auto"},attributes:{Multiplier:{min:+"0.1",step:+"0.1"}}},"ATR Trailing Stop":{name:"ATR Trailing Stops",overlay:! !{},seriesFN:X9X.Studies.displayPSAR2,calculateFN:X9X.Studies.calculateATRStops,inputs:{Period:21,Multiplier:3,"Plot Type":[g94,G94],HighLow:! !0},outputs:{"Buy Stops":C94,"Sell Stops":"#00FF00"},attributes:{Multiplier:{min:0.1,step:0.1}}}});}};h3n=K9X=>{var a94,e9X;a94="und";a94+="efined";e9X=typeof _CIQ !== a94?_CIQ:K9X.CIQ;if(!e9X.Studies){console.error("awesomeOscillator feature requires first activating studies feature.");}else {e9X.Studies.calculateAwesomeOscillator=function(H9X,f9X){var k94,e94,C9X,J94;k94="si";k94+="mp";k94+="le";e94="h";e94+="l";e94+="/2";C9X=f9X.chart.scrubbed;if(C9X.length < "33" * 1){f9X.error=! ![];return;}e9X.Studies.MA("simple",5,e94,0,"_MA5",H9X,f9X);e9X.Studies.MA(k94,34,"hl/2",+"0","_MA34",H9X,f9X);for(var x9X=Math.max(f9X.startFrom,33);x9X < C9X.length;x9X++){J94="_";J94+="h";J94+="i";J94+="st";if(!C9X[x9X])continue;C9X[x9X][f9X.name + J94]=C9X[x9X]["_MA5 " + f9X.name] - C9X[x9X]["_MA34 " + f9X.name];}f9X.outputMap={};f9X.outputMap[f9X.name + "_hist"]="";};e9X.Studies.displayAwesomeOscillator=function(N9X,w9X,b9X){var U27m=R9EE;var d9X,M9X,A9X,Y9X,B9X,I9X,J9X,S9X,R9X;d9X=N9X.panels[w9X.panel];M9X=w9X.getContext(N9X);A9X=w9X.getYAxis(N9X);Y9X=N9X.pixelFromPrice(+"0",d9X,A9X);B9X=N9X.layout.candleWidth - 2;if(B9X < 2){B9X=1;}I9X=e9X.Studies.determineColor(w9X.outputs["Increasing Bar"]);J9X=e9X.Studies.determineColor(w9X.outputs["Decreasing Bar"]);U27m.q17m();N9X.canvasColor("stx_histogram");if(!w9X.underlay){U27m.N1kc(0);M9X.globalAlpha=U27m.j1kc("1",2147483647);}M9X.fillStyle="#CCCCCC";N9X.startClip(w9X.panel);if(!w9X.highlight && N9X.highlightedDraggable){M9X.globalAlpha*=0.3;}for(var L9X=0;L9X < b9X.length;L9X++){S9X=b9X[L9X];U27m.r1kc(4);R9X=b9X[U27m.j1kc(1,L9X)];if(!R9X){R9X=N9X.getPreviousBar(N9X.chart,w9X.name + "_hist",L9X);}if(!S9X)continue;if(!R9X);else if(R9X[w9X.name + "_hist"] < S9X[w9X.name + "_hist"]){M9X.fillStyle=I9X;}else if(R9X[w9X.name + "_hist"] > S9X[w9X.name + "_hist"]){M9X.fillStyle=J9X;}if(S9X.candleWidth){B9X=Math.floor(Math.max(1,S9X.candleWidth - 2));}M9X.fillRect(Math.floor(N9X.pixelFromBar(L9X,d9X.chart) - B9X / 2),Math.floor(Y9X),Math.floor(B9X),Math.floor(N9X.pixelFromPrice(S9X[w9X.name + "_hist"],d9X,A9X) - Y9X));}N9X.endClip();};e9X.Studies.studyLibrary=e9X.extend(e9X.Studies.studyLibrary,{Awesome:{name:"Awesome Oscillator",seriesFN:e9X.Studies.displayAwesomeOscillator,calculateFN:e9X.Studies.calculateAwesomeOscillator,inputs:{},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};F3n=k9X=>{var x94,j9X,Y94;x94="u";x94+="ndefined";j9X=typeof _CIQ !== x94?_CIQ:k9X.CIQ;R9EE.z17m();if(!j9X.Studies){console.error("balanceOfPower feature requires first activating studies feature.");}else {Y94="m";Y94+="a";j9X.Studies.calculateBalanceOfPower=function(s9X,Q9X){var E9X,m94,D9X;E9X=Q9X.chart.scrubbed;if(E9X.length < Q9X.days + 1){Q9X.error=! !{};return;}for(var v9X=Q9X.startFrom;v9X < E9X.length;v9X++){m94="_Rati";m94+="o";m94+=" ";D9X=E9X[v9X];D9X["_Ratio " + Q9X.name]=D9X.Close - D9X.Open;if(D9X.High - D9X.Low !== 0){D9X[m94 + Q9X.name]/=D9X.High - D9X.Low;}}j9X.Studies.MA(Q9X.inputs["Moving Average Type"],Q9X.days,"_Ratio " + Q9X.name,0,"Result",s9X,Q9X);};j9X.Studies.studyLibrary=j9X.extend(j9X.Studies.studyLibrary,{"Bal Pwr":{name:"Balance of Power",range:"-1 to 1",centerline:0,calculateFN:j9X.Studies.calculateBalanceOfPower,inputs:{Period:"14" | 4,"Moving Average Type":Y94}}});}};g3n=n9X=>{var V9X,F94,W94,b94,T94;V9X=typeof _CIQ !== "undefined"?_CIQ:n9X.CIQ;if(!V9X.Studies){console.error("bollinger feature requires first activating studies feature.");}else {F94="Bollin";F94+="ger Bandw";F94+="idt";F94+="h";W94="m";W94+="a";b94="fi";b94+="el";b94+="d";T94="Bollinge";T94+="r Bands";V9X.Studies.calculateBollinger=function(u9X,U9X){var w94,P94,O94,A94,p9X;w94="%";w94+="b";P94="Bo";P94+="ll %b";O94="Standard ";O94+="Deviat";O94+="ion";O94+="s";A94="fi";A94+="el";A94+="d";p9X=U9X.inputs.Field;if(!p9X || p9X == A94){p9X="Close";}V9X.Studies.MA(U9X.inputs["Moving Average Type"],U9X.days,p9X,0,"_MA",u9X,U9X);U9X.std=new V9X.Studies.StudyDescriptor(U9X.name,"STD Dev",U9X.panel);U9X.std.chart=U9X.chart;U9X.std.startFrom=U9X.startFrom;U9X.std.days=U9X.days;U9X.std.inputs={Field:p9X,"Standard Deviations":+"1",Type:U9X.inputs["Moving Average Type"]};U9X.std.outputs={"_STD Dev":null};V9X.Studies.calculateStandardDeviation(u9X,U9X.std);V9X.Studies.calculateGenericEnvelope(u9X,U9X,U9X.inputs[O94],"_MA " + U9X.name,"_STD Dev " + U9X.name);if(U9X.type == P94){U9X.zoneOutput=w94;}};V9X.Studies.studyLibrary=V9X.extend(V9X.Studies.studyLibrary,{"Bollinger Bands":{name:T94,overlay:! !1,calculateFN:V9X.Studies.calculateBollinger,seriesFN:V9X.Studies.displayChannel,inputs:{Period:20,Field:b94,"Standard Deviations":2,"Moving Average Type":"ma","Channel Fill":! !{}},outputs:{"Bollinger Bands Top":"auto","Bollinger Bands Median":"auto","Bollinger Bands Bottom":"auto"},attributes:{"Standard Deviations":{min:0.1,step:"0.1" - 0}}},"Boll %b":{name:"Bollinger %b",calculateFN:V9X.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":"2" - 0,"Moving Average Type":W94},outputs:{"%b":"auto"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:"0" << 1427865856,studyOverSoldColor:"auto"}},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Boll BW":{name:F94,calculateFN:V9X.Studies.calculateBollinger,inputs:{Period:"20" | 4,Field:"field","Standard Deviations":+"2","Moving Average Type":"ma"},outputs:{Bandwidth:"auto"},attributes:{"Standard Deviations":{min:0.1,step:+"0.1"}}}});}};z3n=m2X=>{var f94,P9X,R94;f94="undef";f94+="ined";P9X=typeof _CIQ !== f94?_CIQ:m2X.CIQ;if(!P9X.Studies){R94="cci feature requires fi";R94+="rst activating studi";R94+="es feature.";console.error(R94);}else {P9X.Studies.calculateCCI=function(z2X,r2X){var Q27m=R9EE;var B94,n94,o94,c2X,r00,c00,N00,Q94,V94,L94,X2X,F2X,d94;Q27m.q17m();B94="M";B94+="A";n94="hlc";n94+="/3";o94="s";o94+="i";o94+="mp";o94+="le";c2X=r2X.chart.scrubbed;if(c2X.length < r2X.days + 1){r2X.error=! !1;r00=-2077048709;c00=-1184672192;N00=2;for(var u00=1;Q27m.h50(u00.toString(),u00.toString().length,+"96086") !== r00;u00++){return;}if(Q27m.h50(N00.toString(),N00.toString().length,54623) !== c00){return;}}P9X.Studies.MA(o94,r2X.days,n94,0,B94,z2X,r2X);for(var h2X=Math.max(r2X.startFrom,r2X.days - 1);h2X < c2X.length;h2X++){Q94="M";Q94+="A";Q94+=" ";V94="hlc/";V94+="3";L94="R";L94+="e";L94+="sult";L94+=" ";X2X=c2X[h2X];if(!X2X)continue;F2X=+"0";for(var g2X=+"0";g2X < r2X.days;g2X++){d94="M";d94+="A";d94+=" ";F2X+=Math.abs(c2X[h2X - g2X]["hlc/3"] - X2X[d94 + r2X.name]);}F2X/=r2X.days;if(Math.abs(F2X) < 0.00000001){Q27m.r1kc(16);X2X["Result " + r2X.name]=Q27m.j1kc(1,"0");}else {X2X[L94 + r2X.name]=(X2X[V94] - X2X[Q94 + r2X.name]) / (+"0.015" * F2X);}}};P9X.Studies.studyLibrary=P9X.extend(P9X.Studies.studyLibrary,{CCI:{name:"Commodity Channel Index",calculateFN:P9X.Studies.calculateCCI,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:-100,studyOverSoldColor:"auto"}},attributes:{Period:{min:2}}}});}};a3n=o2X=>{var a2X,j94;R9EE.q17m();a2X=typeof _CIQ !== "undefined"?_CIQ:o2X.CIQ;if(!a2X.Studies){console.error("centerOfGravity feature requires first activating studies feature.");}else {j94="Center Of Gr";j94+="avi";j94+="ty";a2X.Studies.calculateCenterOfGravity=function(G2X,Z2X){var w27m=R9EE;var E94,T2X,q2X,X94,t2X,O2X,l2X;E94="C";E94+="l";E94+="o";E94+="se";T2X=Z2X.chart.scrubbed;if(T2X.length < Z2X.days){Z2X.error=! ![];return;}q2X=Z2X.inputs.Field;if(!q2X || q2X == "field"){q2X=E94;}w27m.z17m();for(var i2X=Math.max(Z2X.startFrom,Z2X.days - 1);i2X < T2X.length;i2X++){X94="R";X94+="esult ";t2X=0;O2X=0;for(var W2X=0;W2X < Z2X.days;W2X++){w27m.r1kc(4);l2X=T2X[w27m.j1kc(W2X,i2X)][q2X];w27m.r1kc(63);t2X-=w27m.n1kc(W2X,l2X,"1");O2X+=l2X;}if(O2X){w27m.r1kc(10);T2X[i2X][X94 + Z2X.name]=w27m.n1kc(O2X,t2X);}}};a2X.Studies.studyLibrary=a2X.extend(a2X.Studies.studyLibrary,{COG:{name:j94,calculateFN:a2X.Studies.calculateCenterOfGravity,inputs:{Period:10,Field:"field"}}});}};o3n=e2X=>{var A00,O00,P00,y2X,H94;A00=-168655113;O00=-1845440732;P00=2;for(var T00=1;R9EE.M00(T00.toString(),T00.toString().length,68240) !== A00;T00++){y2X=+_CIQ === ""?_CIQ:e2X.CIQ;P00+=2;}if(R9EE.h50(P00.toString(),P00.toString().length,4274) !== O00){y2X=+_CIQ === ""?_CIQ:e2X.CIQ;}R9EE.q17m();y2X=typeof _CIQ !== "undefined"?_CIQ:e2X.CIQ;if(!y2X.Studies){console.error("chaikin feature requires first activating studies feature.");}else {H94="m";H94+="a";y2X.Studies.calculateChaikinMoneyFlow=function(N2X,C2X){var K2X,H2X,x2X,w2X,r94,N94,c94;K2X=C2X.chart.scrubbed;if(K2X.length < C2X.days){C2X.error=! !{};return;}H2X=0;x2X=0;w2X=K2X[C2X.startFrom - +"1"];if(w2X){r94="_";r94+="s";r94+="um";r94+="MF ";if(w2X["_sumMF " + C2X.name]){H2X=w2X[r94 + C2X.name];}if(w2X["_sumV " + C2X.name]){x2X=w2X["_sumV " + C2X.name];}}R9EE.q17m();for(var f2X=C2X.startFrom;f2X < K2X.length;f2X++){N94="_";N94+="su";N94+="m";N94+="V ";if(K2X[f2X].High == K2X[f2X].Low){K2X[f2X]["_MFV " + C2X.name]=0;}else {K2X[f2X]["_MFV " + C2X.name]=K2X[f2X].Volume * (2 * K2X[f2X].Close - K2X[f2X].High - K2X[f2X].Low) / (K2X[f2X].High - K2X[f2X].Low);}H2X+=K2X[f2X]["_MFV " + C2X.name];x2X+=K2X[f2X].Volume;if(f2X > C2X.days - +"1"){c94="_M";c94+="FV ";H2X-=K2X[f2X - C2X.days][c94 + C2X.name];x2X-=K2X[f2X - C2X.days].Volume;if(x2X){R9EE.r1kc(10);K2X[f2X]["Result " + C2X.name]=R9EE.n1kc(x2X,H2X);}}K2X[f2X]["_sumMF " + C2X.name]=H2X;K2X[f2X][N94 + C2X.name]=x2X;}};y2X.Studies.calculateChaikinVolatility=function(R2X,M2X){var i94,S2X,L2X,B2X,z94,u94;i94="Movin";i94+="g Av";i94+="erage T";i94+="ype";S2X=M2X.chart.scrubbed;if(S2X.length < M2X.days){M2X.error=! !{};return;}for(L2X=M2X.startFrom;L2X < S2X.length;L2X++){if(S2X[L2X].futureTick)break;S2X[L2X]["_High-Low " + M2X.name]=S2X[L2X].High - S2X[L2X].Low;}y2X.Studies.MA(M2X.inputs[i94],M2X.days,"_High-Low " + M2X.name,0,"_MA",R2X,M2X);R9EE.z17m();B2X=M2X.inputs["Rate Of Change"];if(!B2X){B2X=M2X.days;}for(L2X=Math.max(M2X.startFrom,B2X);L2X < S2X.length;L2X++){z94="_";z94+="M";z94+="A";z94+=" ";u94="_";u94+="M";u94+="A";u94+=" ";if(!S2X[L2X - B2X][u94 + M2X.name])continue;if(S2X[L2X].futureTick)break;S2X[L2X]["Result " + M2X.name]=100 * (S2X[L2X]["_MA " + M2X.name] / S2X[L2X - B2X][z94 + M2X.name] - 1);}};y2X.Studies.studyLibrary=y2X.extend(y2X.Studies.studyLibrary,{"Chaikin MF":{name:"Chaikin Money Flow",calculateFN:y2X.Studies.calculateChaikinMoneyFlow,inputs:{Period:20}},"Chaikin Vol":{name:"Chaikin Volatility",calculateFN:y2X.Studies.calculateChaikinVolatility,inputs:{Period:+"14","Rate Of Change":+"2","Moving Average Type":H94}}});}};Z3n=b2X=>{var D94,d2X,K94,I94;D94="u";D94+="n";D94+="defined";d2X=typeof _CIQ !== D94?_CIQ:b2X.CIQ;if(!d2X.Studies){console.error("chande feature requires first activating studies feature.");}else {K94="a";K94+="u";K94+="to";I94="va";I94+="riable";d2X.Studies.prettify.variable="vma";d2X.Studies.movingAverage.conversions.vma=I94;d2X.Studies.movingAverage.translations.variable="Variable";d2X.Studies.movingAverage.typeMap.vma="Variable";d2X.Studies.movingAverage.typeMap.variable="Variable";d2X.Studies.calculateChandeForecast=function(k2X,A2X){var o04,n04,B04,Y2X,I2X,t94,Z94,j2X;R9EE.q17m();o04=2031539513;n04=-1406828236;B04=+"2";for(var L04=1;R9EE.M00(L04.toString(),L04.toString().length,4625) !== o04;L04++){Y2X=A2X.chart.scrubbed;B04+=2;}if(R9EE.h50(B04.toString(),B04.toString().length,82384) !== n04){Y2X=A2X.chart.scrubbed;}if(Y2X.length < A2X.days + 1){A2X.error=!"";return;}I2X=A2X.inputs.Field;if(!I2X || I2X == "field"){I2X="Close";}d2X.Studies.MA("time series",A2X.days,I2X,0,"MA",k2X,A2X);for(var J2X=Math.max(1,A2X.startFrom);J2X < Y2X.length;J2X++){t94="Resul";t94+="t ";Z94="ob";Z94+="j";Z94+="ec";Z94+="t";j2X=Y2X[J2X][I2X];if(j2X && typeof j2X == Z94){j2X=j2X[A2X.subField];}Y2X[J2X][t94 + A2X.name]=+"100" * (1 - Y2X[J2X]["MA " + A2X.name] / j2X);}};d2X.Studies.calculateChandeMomentum=function(X3X,Q2X){var L27m=R9EE;var y94,n2X,v2X,s2X,U2X,p2X,u2X,V2X,E2X,P2X,m3X;y94="f";y94+="i";y94+="e";y94+="ld";n2X=Q2X.name;for(var r3X in Q2X.outputs){L27m.N1kc(47);n2X=L27m.j1kc(" ",n2X,r3X);}v2X=Q2X.chart.scrubbed;if(v2X.length < Q2X.days + 1){Q2X.error=! !"1";return;}s2X=Q2X.inputs.Field;L27m.q17m();if(!s2X || s2X == y94){s2X="Close";}U2X=0;p2X=0;u2X=[];for(var D2X=Q2X.startFrom - Q2X.days + 1;D2X < v2X.length;D2X++){if(D2X < +"1")continue;V2X=v2X[D2X][s2X];L27m.N1kc(64);E2X=v2X[L27m.j1kc("1",0,D2X)][s2X];if(V2X && typeof V2X == "object"){V2X=V2X.Close;}if(E2X && typeof E2X == "object"){E2X=E2X.Close;}if(E2X === undefined)continue;L27m.r1kc(4);P2X=L27m.j1kc(E2X,V2X);u2X.push(P2X);U2X+=P2X;p2X+=Math.abs(P2X);if(u2X.length == Q2X.days){L27m.N1kc(38);v2X[D2X][n2X]=L27m.j1kc(p2X,100,U2X);m3X=u2X.shift();U2X-=m3X;p2X-=Math.abs(m3X);}}};d2X.Studies.calculateMovingAverageVariable=function(e3X,c3X){var A27m=R9EE;var q94,C3X,z3X,l3X,o3X,a3X,Z3X,g3X,h3X,F3X,T3X,O3X,G3X,h00,M70,p70,t3X,q3X,f3X,i3X,y3X,W3X;q94="fi";q94+="eld";C3X=c3X.inputs.Type;z3X=c3X.chart.scrubbed;l3X=("2" | 0) / (c3X.days + ("1" >> 714076384));o3X=null;a3X=c3X.name;for(var K3X in c3X.outputs){A27m.r1kc(47);a3X=A27m.n1kc((6380,"340" >> 1748885856) !== (8800,8218)?886 == 10000?"x":146.86 <= (2941,"4510" - 0)?" ":("u",8.86e+3):(907.54,934.44),a3X,K3X);}Z3X=c3X.inputs.Field;if(!Z3X || Z3X == q94){Z3X="Close";}c3X.cmo=new d2X.Studies.StudyDescriptor(c3X.name,"cmo",c3X.panel);c3X.cmo.chart=c3X.chart;c3X.cmo.days=9;c3X.cmo.inputs={Field:Z3X};A27m.z17m();c3X.cmo.startFrom=c3X.startFrom;c3X.cmo.outputs={_CMO:null};d2X.Studies.calculateChandeMomentum(e3X,c3X.cmo);g3X=parseInt(c3X.inputs.Offset,10);if(isNaN(g3X)){g3X=0;}O3X=c3X.startFrom;G3X=g3X;for(h3X=c3X.startFrom - 1;h3X >= 0;h3X--){F3X=z3X[h3X][a3X];if(!F3X && F3X !== +"0")continue;if(o3X === null){o3X=F3X;}if(G3X <= 0)break;G3X--;O3X=h3X;}if(o3X === null){h00=2138798903;M70=326820248;p70=2;for(var S70="1" * 1;A27m.M00(S70.toString(),S70.toString().length,87348) !== h00;S70++){o3X=O3X=2;A27m.N1kc(16);p70+=A27m.j1kc(1,"2");}if(A27m.M00(p70.toString(),p70.toString().length,99453) !== M70){o3X=O3X=0;}}t3X=[];for(h3X=O3X;h3X < z3X.length;h3X++){q3X=z3X[h3X];F3X=q3X[Z3X];if(F3X && typeof F3X == "object"){F3X=F3X[c3X.subField];}f3X=h3X + g3X >= 0 && h3X + g3X < z3X.length;i3X=f3X?z3X[h3X + g3X]:null;if(!F3X && F3X !== 0){if(i3X){i3X[a3X]=null;}else if(h3X + g3X >= z3X.length){T3X={};T3X[a3X]=null;t3X.push(T3X);}continue;}if(!q3X["_CMO " + c3X.name] && q3X["_CMO " + c3X.name] !== 0)continue;y3X=Math.abs(q3X["_CMO " + c3X.name]) / 100;A27m.r1kc(65);W3X=A27m.n1kc(l3X,y3X,l3X,o3X,1,y3X,F3X);o3X=W3X;if(h3X < c3X.days){W3X=null;}if(i3X){i3X[a3X]=W3X;}else if(h3X + g3X >= z3X.length){T3X={};T3X[a3X]=W3X;t3X.push(T3X);}}c3X.appendFutureTicks(e3X,t3X);};d2X.Studies.studyLibrary=d2X.extend(d2X.Studies.studyLibrary,{"Chande Fcst":{name:"Chande Forecast Oscillator",calculateFN:d2X.Studies.calculateChandeForecast,inputs:{Period:14,Field:"field"}},"Chande Mtm":{name:"Chande Momentum Oscillator",calculateFN:d2X.Studies.calculateChandeMomentum,inputs:{Period:9},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:50,studyOverBoughtColor:"auto",studyOverSoldValue:-50,studyOverSoldColor:K94}}}});}};T3n=H3X=>{var x3X,H8pp,z8pp,h94;x3X=typeof _CIQ !== "undefined"?_CIQ:H3X.CIQ;R9EE.z17m();if(!x3X.Studies){console.error("choppiness feature requires first activating studies feature.");}else {H8pp="0";H8pp+=".1";z8pp="au";z8pp+="t";z8pp+="o";h94="au";h94+="to";x3X.Studies.calculateChoppiness=function(B3X,w3X){var M3X,N3X,S3X,l94;x3X.Studies.calculateStudyATR(B3X,w3X);M3X=w3X.chart.scrubbed;if(M3X.length < w3X.days + 1){w3X.error=! !{};return;}R9EE.z17m();for(var L3X=Math.max(w3X.startFrom,w3X.days);L3X < M3X.length;L3X++){N3X=M3X[L3X];if(!N3X)continue;if(N3X.futureTick)break;S3X=R3X(w3X.days,L3X);if(N3X["Sum True Range " + w3X.name]){N3X["Result " + w3X.name]=100 * Math.log(N3X["Sum True Range " + w3X.name] / Math.max(0.000001,S3X[1] - S3X[0])) / Math.log(w3X.days);}else if(!isNaN(N3X)){l94="Resul";l94+="t ";N3X[l94 + w3X.name]=0;}}function R3X(I3X,Y3X){var b3X,A3X;b3X=Number.MAX_VALUE * -1;A3X=Number.MAX_VALUE;for(var d3X=Y3X - I3X + 1;d3X <= Y3X;d3X++){if(d3X < 0)continue;b3X=Math.max(b3X,M3X[d3X].High);A3X=Math.min(A3X,M3X[d3X].Low);}return [A3X,b3X];}};x3X.Studies.studyLibrary=x3X.extend(x3X.Studies.studyLibrary,{Choppiness:{name:"Choppiness Index",calculateFN:x3X.Studies.calculateChoppiness,centerline:"50" | 2,parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:61.8,studyOverBoughtColor:h94,studyOverSoldValue:38.2,studyOverSoldColor:z8pp}},attributes:{studyOverBoughtValue:{min:50,step:"0.1"},studyOverSoldValue:{max:50,step:H8pp}}}});}};q3n=j3X=>{var J3X,D8pp,C9pp,G9pp;J3X=typeof _CIQ !== "undefined"?_CIQ:j3X.CIQ;R9EE.q17m();if(!J3X.Studies){D8pp="comparisonStudies fea";D8pp+="ture requires first activating studies feature.";console.error(D8pp);}else if(!J3X.Studies.initPriceRelative){console.error("comparisonStudies feature requires first activating priceRelative feature.");}else {C9pp="#F";C9pp+="F00";C9pp+="00";G9pp="-1 t";G9pp+="o ";G9pp+="1";J3X.Studies.calculateCorrelationCoefficient=function(X4S,k3X){var I8pp,D3X,v3X,s3X,Z8pp,V3X,n3X,p3X,u3X,P3X,m4S,r4S,q8pp,t8pp,E3X,y8pp,l8pp,K8pp,h4S,F4S,a4S,Z4S;I8pp="Com";I8pp+="par";I8pp+="e ";I8pp+="To";D3X=k3X.chart.scrubbed;v3X=k3X.days;if(D3X.length < v3X + 1){k3X.error=! !1;return;}k3X.compare=k3X.inputs[I8pp];R9EE.z17m();if(!k3X.compare){k3X.compare=[];k3X.outputs={};k3X.outputMap={};for(var c4S in X4S.chart.series){s3X=X4S.chart.series[c4S];if(s3X.parameters.color){Z8pp="Res";Z8pp+="ult";Z8pp+=" ";k3X.compare.push(s3X.display);k3X.outputs["Result " + s3X.display]=s3X.parameters.color;k3X.outputMap["Result " + s3X.display + ((547,9270) < 752?(9.34e+3,! !""):" ") + k3X.name]=Z8pp + s3X.display;}}}else {k3X.compare=[k3X.compare];}if(!k3X.compare.length){k3X.error="Correlation Coefficient requires at least one comparison symbol";return;}for(var U3X="0" | 0;U3X < k3X.compare.length;U3X++){V3X=+"0";n3X=0;p3X=0;u3X=0;P3X=0;m4S=k3X.compare[U3X];r4S=0;for(var Q3X=k3X.startFrom - v3X;Q3X < D3X.length;Q3X++){q8pp="_tem";q8pp+="ps";q8pp+=" ";t8pp="ob";t8pp+="j";t8pp+="e";t8pp+="ct";if(!D3X[Q3X])continue;E3X=D3X[Q3X][m4S];if(E3X && typeof E3X == t8pp){E3X=E3X.Close;}if(!E3X && E3X !== 0){y8pp="_te";y8pp+="mps ";if(Q3X > 0 && D3X[Q3X - 1] && D3X[Q3X - 1][y8pp + k3X.name] && D3X[Q3X - 1]["_temps " + k3X.name].c){E3X=D3X[Q3X - 1]["_temps " + k3X.name].c;}else {E3X=0;}}if(E3X && typeof E3X == "object"){E3X=E3X.Close;}D3X[Q3X]["_temps " + k3X.name]={};V3X+=D3X[Q3X][q8pp + k3X.name].b=D3X[Q3X].Close;n3X+=D3X[Q3X]["_temps " + k3X.name].c=E3X;p3X+=D3X[Q3X]["_temps " + k3X.name].b2=Math.pow(D3X[Q3X].Close,2);u3X+=D3X[Q3X]["_temps " + k3X.name].c2=Math.pow(E3X,+"2");P3X+=D3X[Q3X]["_temps " + k3X.name].bc=D3X[Q3X].Close * E3X;if(r4S >= v3X){l8pp="_tem";l8pp+="ps ";K8pp="_te";K8pp+="mps ";V3X-=D3X[Q3X - v3X]["_temps " + k3X.name].b;n3X-=D3X[Q3X - v3X][K8pp + k3X.name].c;p3X-=D3X[Q3X - v3X][l8pp + k3X.name].b2;u3X-=D3X[Q3X - v3X]["_temps " + k3X.name].c2;P3X-=D3X[Q3X - v3X]["_temps " + k3X.name].bc;h4S=p3X / v3X - Math.pow(V3X / v3X,2);F4S=u3X / v3X - Math.pow(n3X / v3X,"2" << 1305185536);a4S=P3X / v3X - V3X * n3X / Math.pow(v3X,2);Z4S=a4S / Math.sqrt(h4S * F4S);D3X[Q3X]["Result " + m4S + ((+"882.47",914.52) == (238.51,793.78)?6097 >= (927.09,4061)?"V":(![],0x198e):" ") + k3X.name]=Z4S;}r4S++;}}};J3X.Studies.calculatePerformance=function(l4S,T4S){var M9pp,h8pp,q4S,t4S,O4S;M9pp="C";M9pp+="lo";M9pp+="s";M9pp+="e";R9EE.q17m();h8pp="Comp";h8pp+="arison Symbol";q4S=T4S.chart.scrubbed;t4S=T4S.inputs["Comparison Symbol"].toUpperCase();if(!t4S){t4S=T4S.study.inputs[h8pp];}if(!T4S.days){T4S.days=T4S.study.inputs.Period;}if(q4S.length < T4S.days + 1){T4S.error=! !"1";return;}J3X.Studies.MA("ma",T4S.days,M9pp,0,"_MA Base",l4S,T4S);J3X.Studies.MA("ma",T4S.days,t4S,+"0","_MA Comp",l4S,T4S);for(var i4S=T4S.startFrom;i4S < q4S.length;i4S++){O4S=q4S[i4S][t4S];if(O4S && (O4S.Close || O4S.Close === 0)){O4S=O4S.Close;}q4S[i4S]["Result " + T4S.name]=q4S[i4S].Close / O4S * (q4S[i4S]["_MA Comp " + T4S.name] / q4S[i4S]["_MA Base " + T4S.name]);}};J3X.Studies.calculateBeta=function(M4S,G4S){var x27m=R9EE;var g9pp,v9pp,C4S,w4S,x4S,H4S,U9pp,s9pp,S9pp;g9pp="m";g9pp+="a";v9pp="Comparison";v9pp+=" Symbol";C4S=G4S.chart.scrubbed;w4S=G4S.inputs[v9pp].toUpperCase();if(!w4S){w4S=G4S.study.inputs["Comparison Symbol"];}if(!G4S.days){G4S.days=G4S.study.inputs.Period;}if(C4S.length < G4S.days + 1){G4S.error=!"";return;}for(var f4S=Math.max(G4S.startFrom,1);f4S < C4S.length;f4S++){C4S[f4S]["_BaseChange " + G4S.name]=C4S[f4S].Close / C4S[f4S - 1].Close - 1;x4S=C4S[f4S][w4S];if(x4S && (x4S.Close || x4S.Close === 0)){x4S=x4S.Close;}x27m.N1kc(4);H4S=C4S[x27m.j1kc(1,f4S)][w4S];if(H4S && (H4S.Close || H4S.Close === 0)){H4S=H4S.Close;}x27m.r1kc(66);C4S[f4S]["_CompChange " + G4S.name]=x27m.j1kc(H4S,1,x4S);}x27m.q17m();J3X.Studies.MA("ma",G4S.days,"_BaseChange " + G4S.name,0,"_MA Base",M4S,G4S);J3X.Studies.MA("ma",G4S.days,"_CompChange " + G4S.name,0,"_MA Comp",M4S,G4S);for(f4S=Math.max(G4S.startFrom,G4S.days);f4S < C4S.length;f4S++){U9pp="_MA Com";U9pp+="p ";s9pp="_CompC";s9pp+="hange ";S9pp="_";S9pp+="CO";S9pp+="VARn ";C4S[f4S][S9pp + G4S.name]=(C4S[f4S]["_BaseChange " + G4S.name] - C4S[f4S]["_MA Base " + G4S.name]) * (C4S[f4S]["_CompChange " + G4S.name] - C4S[f4S]["_MA Comp " + G4S.name]);C4S[f4S]["_VARn " + G4S.name]=Math.pow(C4S[f4S][s9pp + G4S.name] - C4S[f4S][U9pp + G4S.name],2);}J3X.Studies.MA("ma",G4S.days,"_COVARn " + G4S.name,0,"_COVAR",M4S,G4S);J3X.Studies.MA(g9pp,G4S.days,"_VARn " + G4S.name,0,"_VAR",M4S,G4S);for(f4S=Math.max(G4S.startFrom,G4S.days * 2 - 1);f4S < C4S.length;f4S++){C4S[f4S]["Result " + G4S.name]=C4S[f4S]["_COVAR " + G4S.name] / C4S[f4S]["_VAR " + G4S.name];}};J3X.Studies.studyLibrary=J3X.extend(J3X.Studies.studyLibrary,{correl:{name:"Correlation Coefficient",range:G9pp,calculateFN:J3X.Studies.calculateCorrelationCoefficient,outputs:{}},"Perf Idx":{name:"Performance Index",centerline:1,initializeFN:J3X.Studies.initPriceRelative,seriesFN:J3X.Studies.displayVsComparisonSymbol,calculateFN:J3X.Studies.calculatePerformance,inputs:{Period:120,"Comparison Symbol":"SPY"},outputs:{Result:"auto",Gain:"#00DD00",Loss:C9pp},deferUpdate:! ![]},Beta:{name:"Beta",centerline:1,initializeFN:J3X.Studies.initPriceRelative,seriesFN:J3X.Studies.displayVsComparisonSymbol,calculateFN:J3X.Studies.calculateBeta,inputs:{Period:20,"Comparison Symbol":"SPY"},deferUpdate:! ![]}});}};i3n=S4S=>{var a9pp,L4S,J9pp;a9pp="un";R9EE.q17m();a9pp+="def";a9pp+="in";a9pp+="ed";L4S=typeof _CIQ !== a9pp?_CIQ:S4S.CIQ;if(!L4S.Studies){console.error("coppock feature requires first activating studies feature.");}else {J9pp="f";J9pp+="ie";J9pp+="ld";L4S.Studies.calculateCoppock=function(U4S,d4S){var k9pp,e9pp,b4S,I4S,D4S,v4S,s4S,V4S,n4S;k9pp="R";k9pp+="e";k9pp+="sul";k9pp+="t";e9pp="Cl";e9pp+="os";e9pp+="e";b4S=d4S.chart.scrubbed;I4S=d4S.inputs.Field;if(!I4S || I4S == "field"){I4S=e9pp;}D4S=parseInt(d4S.inputs["Long RoC"],10);if(!D4S){D4S=14;}v4S=parseInt(d4S.inputs["Short RoC"],10);if(!v4S){v4S=+"11";}s4S=d4S.days;if(!s4S){s4S=10;}if(D4S < v4S){return;}if(b4S.length < Math.max(v4S,D4S,s4S) + 1){d4S.error=!"";return;}for(var Q4S=Math.max(d4S.startFrom,D4S);Q4S < b4S.length;Q4S++){R9EE.N1kc(4);V4S=b4S[R9EE.n1kc(v4S,Q4S)][I4S];R9EE.N1kc(4);n4S=b4S[R9EE.j1kc(D4S,Q4S)][I4S];if(V4S && n4S){b4S[Q4S]["_Sum " + d4S.name]=100 * (b4S[Q4S][I4S] / V4S + b4S[Q4S][I4S] / n4S - 2);}}L4S.Studies.MA("weighted",s4S,"_Sum " + d4S.name,+"0",k9pp,U4S,d4S);};L4S.Studies.studyLibrary=L4S.extend(L4S.Studies.studyLibrary,{Coppock:{name:"Coppock Curve",calculateFN:L4S.Studies.calculateCoppock,inputs:{Period:10,Field:J9pp,"Short RoC":+"11","Long RoC":14}}});}};W3n=u4S=>{var T80,b80,W80,p4S;T80=1292663025;b80=-1613830583;W80=2;for(var f80=1;R9EE.h50(f80.toString(),f80.toString().length,40579) !== T80;f80++){p4S=+_CIQ === ""?_CIQ:u4S.CIQ;W80+=2;}if(R9EE.M00(W80.toString(),W80.toString().length,80981) !== b80){p4S=typeof _CIQ !== "undefined"?_CIQ:u4S.CIQ;}if(!p4S.Studies){console.error("darvasBox feature requires first activating studies feature.");}else {p4S.Studies.calculateDarvas=function(y6S,z6S){var P9pp,O9pp,A9pp,Y9pp,m9pp,m6S,g6S,O6S,x9pp,l6S,a6S,c6S,F6S,T6S,o6S,q6S,Z6S,X6S,h6S,i6S,E9pp,w9pp,r6S,b9pp,T9pp,W9pp,F9pp,B9pp,n9pp,o9pp,R9pp,f9pp,d9pp,V9pp,L9pp,Q9pp,X9pp;P9pp="A";P9pp+="D";P9pp+="V";O9pp="L";O9pp+="oss";A9pp="P";A9pp+="ro";A9pp+="f";A9pp+="it";Y9pp="Gh";Y9pp+="os";Y9pp+="t";m9pp="Da";m9pp+="rva";m9pp+="s";m6S=z6S.chart.scrubbed;g6S=0;O6S=parseInt(z6S.inputs["ATH Lookback Period"],+"10");if(z6S.inputs["Volume Spike"]){x9pp="AD";x9pp+="V";p4S.Studies.MA("simple",O6S,"Volume",0,x9pp,y6S,z6S);}l6S=parseFloat(z6S.inputs["Volume % of Avg"]) / 100;a6S="none";c6S={};F6S=null;T6S=null;o6S=null;q6S=parseFloat(z6S.inputs["Level Offset"]);R9EE.q17m();Z6S=!"1";if(Z6S){console.log("*****************");}h6S={};[m9pp,Y9pp,A9pp,O9pp,"ATH",P9pp,"Spike"].forEach(function(e6S){h6S[e6S]=e6S + (3850 === (613.57,566.67)?(+"674.37",+"0x198f"):" ") + z6S.name;});for(X6S=z6S.startFrom - 1;X6S > 0;X6S--){i6S=m6S[X6S];if(i6S[h6S.Darvas] || i6S[h6S.Ghost]){for(var G6S in h6S){i6S[G6S]=null;}}else {g6S=i6S[h6S.ATH] || 0;T6S=i6S[h6S.Profit];o6S=i6S[h6S.Loss];break;}}for(X6S;X6S < m6S.length;X6S++){E9pp="Volum";E9pp+="e";E9pp+=" Spike";w9pp="Price ";w9pp+="Minimum";r6S=m6S[X6S];if(!r6S)continue;if(parseFloat(z6S.inputs[w9pp]) <= m6S[g6S].Close){b9pp="Exit ";b9pp+="F";b9pp+="ie";b9pp+="ld";if(F6S && (!F6S.End || X6S == F6S.End + ("1" - 0))){if(m6S[X6S - +"1"].Close > c6S.High){c6S={State:"1" << 1511617184,High:2 * c6S.High - c6S.Low,Low:c6S.High,Start:X6S,End:2 * c6S.End - c6S.Start + ("1" - 0)};}else {F6S=null;;}if(F6S){r6S[h6S.Ghost]=p4S.clone(c6S);if(Z6S){console.log("Ghost begin:" + r6S.DT);}c6S.State=0;if(m6S[c6S.End]){T9pp="Ghos";T9pp+="t e";T9pp+="nd:";m6S[c6S.End][h6S.Ghost]=p4S.clone(c6S);if(Z6S){console.log(T9pp + m6S[c6S.End].DT);}}F6S={Start:c6S.Start,End:c6S.End};T6S=c6S.High + q6S;if(!o6S || o6S < c6S.Low - q6S){o6S=c6S.Low - q6S;}}}r6S[h6S.Profit]=T6S;r6S[h6S.Loss]=o6S;if(r6S.Close >= T6S){T6S=null;}else if(z6S.inputs[b9pp] == "high/low" && r6S.High >= T6S){T6S=null;}if(a6S == "none"){if(X6S == g6S + 3){if(!m6S[g6S + 2][h6S.Darvas] && !m6S[g6S + +"1"][h6S.Darvas] && !m6S[g6S][h6S.Darvas] && m6S[g6S].High > r6S.High){W9pp="h";W9pp+="igh";a6S=W9pp;;}}}if(a6S == "high"){if(r6S.High > m6S[g6S].High){a6S="none";}else if(m6S[X6S - +"3"].Low < m6S[X6S - 2].Low && m6S[X6S - 3].Low < m6S[X6S - +"1"].Low && m6S[X6S - 3].Low < r6S.Low){F9pp="Darvas esta";F9pp+="blished:";c6S={State:1,High:m6S[g6S].High,Low:m6S[X6S - +"3"].Low,Start:g6S};m6S[g6S][h6S.Darvas]=p4S.clone(c6S);a6S="darvas";if(Z6S){console.log("Darvas begin:" + m6S[g6S].DT);}if(Z6S){console.log(F9pp + r6S.DT);}if(F6S){if(F6S.End > X6S && m6S[F6S.Start]){r6S[h6S.Ghost]=p4S.clone(m6S[F6S.Start][h6S.Ghost]);r6S[h6S.Ghost].End=X6S;if(m6S[F6S.End]){delete m6S[F6S.End][h6S.Ghost];if(Z6S){console.log("Ghost End removed:" + m6S[F6S.End].DT);}}}r6S[h6S.Ghost].State=0;m6S[F6S.Start][h6S.Ghost].End=X6S;if(Z6S){console.log("Ghost end:" + r6S.DT);}F6S=null;}T6S=c6S.High + q6S;if(!o6S || o6S < c6S.Low - q6S){o6S=c6S.Low - q6S;}}}if(a6S == "darvas"){B9pp="no";B9pp+="n";B9pp+="e";n9pp="no";n9pp+="ne";o9pp="no";o9pp+="n";o9pp+="e";R9pp="hig";R9pp+="h/low";f9pp="h";f9pp+="igh";f9pp+="/";f9pp+="low";if(r6S.Close > c6S.High){F6S={};}else if(z6S.inputs["Exit Field"] == f9pp && r6S.High > c6S.High){F6S={};}else if(r6S.Close < c6S.Low){a6S="none";}else if(z6S.inputs["Exit Field"] == R9pp && r6S.Low < c6S.Low){a6S=o9pp;}if(F6S){a6S=n9pp;}else if(a6S == B9pp){T6S=null;o6S=null;}if(!z6S.inputs["Ghost Boxes"]){F6S=null;}if(a6S == "none"){d9pp="Darvas";d9pp+=" end:";for(var t6S=c6S.Start + 1;t6S < X6S;t6S++){m6S[t6S][h6S.Darvas]=p4S.clone(c6S);}c6S.State=+"0";c6S.End=X6S;r6S[h6S.Darvas]=p4S.clone(c6S);if(Z6S){console.log(d9pp + r6S.DT);}r6S[h6S.ATH]=g6S;continue;}}if(o6S){V9pp="hig";V9pp+="h";V9pp+="/l";V9pp+="ow";L9pp="Exit";L9pp+=" Field";if(r6S.Close < c6S.Low || z6S.inputs[L9pp] == V9pp && r6S.Low < c6S.Low){if(a6S == "darvas"){a6S="none";}if(r6S.Close < o6S || z6S.inputs["Exit Field"] == "high/low" && r6S.Low < o6S){T6S=null;o6S=null;}if(F6S){if(F6S.End > X6S && m6S[F6S.Start]){r6S[h6S.Ghost]=p4S.clone(m6S[F6S.Start][h6S.Ghost]);r6S[h6S.Ghost].End=X6S;if(m6S[F6S.End]){Q9pp="Gh";Q9pp+="ost End remo";Q9pp+="ved:";delete m6S[F6S.End][h6S.Ghost];if(Z6S){console.log(Q9pp + m6S[F6S.End].DT);}}}r6S[h6S.Ghost].State=0;m6S[F6S.Start][h6S.Ghost].End=X6S;if(Z6S){console.log("Ghost end:" + r6S.DT);}F6S=null;}}}}if(r6S.High >= m6S[g6S].High){g6S=X6S;if(Z6S){console.log("All Time High:" + r6S.DT);}}if(X6S < 3 || r6S.High >= m6S[X6S - 1].High && r6S.High >= m6S[X6S - 2].High && r6S.High >= m6S[X6S - 3].High){if(X6S - g6S >= O6S){g6S=X6S;for(var W6S=0;W6S < O6S;W6S++){if(X6S - W6S < +"0")break;if(m6S[X6S - W6S].High > m6S[g6S].High){R9EE.N1kc(4);g6S=R9EE.n1kc(W6S,X6S);}}if(Z6S){console.log("All Time High:" + r6S.DT);}}}if(z6S.inputs[E9pp] && X6S > O6S && X6S == g6S){if(r6S[h6S.ADV] * l6S < r6S.Volume){X9pp="V";X9pp+="olu";X9pp+="me Spi";X9pp+="ke:";r6S[h6S.Spike]=+"1";if(Z6S){console.log(X9pp + r6S.DT);}}}r6S[h6S.ATH]=g6S;}};p4S.Studies.displayDarvas=function(f6S,H6S,N6S){var Z27m=R9EE;var j6S,B6S,A6S,w6S,K6S,C6S,x6S,s6S,R6S,M6S,l80,h80,M54,c9pp,r9pp,j9pp,E6S,V6S,p6S,n6S,L6S,S6S,d6S,k6S,b6S,J6S,Y6S,D6S,I6S,Q6S,u6S,v6S,z9pp,u9pp,N9pp,P6S,i9pp,U6S;j6S=p4S.Studies.determineColor(H6S.outputs.Levels);if(!j6S || j6S == "auto" || p4S.isTransparent(j6S)){j6S=f6S.defaultColor;}B6S=p4S.Studies.determineColor(H6S.outputs.Darvas);if(!B6S || B6S == "auto" || p4S.isTransparent(B6S)){B6S=f6S.defaultColor;}A6S=p4S.Studies.determineColor(H6S.outputs.Ghost);if(!A6S || A6S == "auto" || p4S.isTransparent(A6S)){A6S=f6S.defaultColor;}w6S=f6S.panels[H6S.panel];K6S=H6S.getContext(f6S);M6S=f6S.layout.candleWidth - 2;if(M6S < 2){M6S=1;}f6S.startClip(H6S.panel);if(H6S.inputs["Stop Levels"]){if(K6S.setLineDash){l80=-1669020157;Z27m.r1kc(15);h80=-Z27m.j1kc("1756851724",1756652548);M54=2;for(var v54=1;Z27m.h50(v54.toString(),v54.toString().length,33376) !== l80;v54++){K6S.setLineDash([2,2]);M54+=+"2";}if(Z27m.M00(M54.toString(),M54.toString().length,+"50827") !== h80){K6S.setLineDash([0,6]);}}Z27m.N1kc(16);K6S.lineWidth=Z27m.n1kc(1,"2");K6S.strokeStyle=j6S;K6S.beginPath();for(C6S=0;C6S < N6S.length;C6S++){c9pp="Los";c9pp+="s";c9pp+=" ";r9pp="Lo";r9pp+="ss ";j9pp="L";j9pp+="o";j9pp+="ss ";x6S=N6S[C6S];Z27m.r1kc(41);E6S=N6S[Z27m.n1kc("1",C6S)];if(!x6S)continue;R6S=x6S[j9pp + H6S.name]?Math.floor(f6S.pixelFromPrice(x6S["Loss " + H6S.name],w6S)):null;V6S=E6S && E6S[r9pp + H6S.name]?Math.floor(f6S.pixelFromPrice(E6S[c9pp + H6S.name],w6S)):null;if(R6S){if(x6S.candleWidth){M6S=Math.floor(Math.max(1,x6S.candleWidth));}p6S=Math.floor(f6S.pixelFromBar(C6S,w6S.chart) + M6S / +"2");n6S=Math.floor(f6S.pixelFromBar(C6S,w6S.chart) - M6S / 2);if(V6S && V6S >= R6S){K6S.lineTo(n6S,R6S);}else if(C6S === 0){K6S.moveTo(f6S.chart.left,R6S);}else {K6S.moveTo(n6S,R6S);}K6S.lineTo(p6S,R6S);}}K6S.stroke();if(K6S.setLineDash){K6S.setLineDash([]);}K6S.lineWidth=1;}L6S=-10;d6S=0;b6S=-10;Y6S=+"0";I6S=! !0;Q6S=![];u6S=K6S.measureText("\u25B2").width / 2;v6S=0;for(C6S=0;C6S < N6S.length;C6S++){z9pp="Gh";z9pp+="os";z9pp+="t Boxes";u9pp="Ghost";u9pp+=" ";N9pp="Sp";N9pp+="ik";N9pp+="e ";if(!N6S[C6S])continue;if(N6S[C6S].Close || N6S[C6S].Close === 0){v6S=C6S;}if(N6S[C6S][N9pp + H6S.name]){K6S.fillStyle=B6S;K6S.textBaseline="bottom";P6S=f6S.pixelFromPrice(N6S[C6S].High,f6S.chart.panel);K6S.fillText("\u25BC",f6S.pixelFromBar(C6S) - u6S,P6S - 5);;}if(N6S[C6S].candleWidth){M6S=Math.floor(Math.max(1,N6S[C6S].candleWidth));}if(N6S[C6S]["Darvas " + H6S.name]){i9pp="D";i9pp+="arva";i9pp+="s";i9pp+=" ";x6S=N6S[C6S][i9pp + H6S.name];if(x6S.State == 1 && !I6S){L6S=Math.floor(f6S.pixelFromBar(C6S,w6S.chart) - M6S / 2);S6S=Math.floor(f6S.pixelFromPrice(x6S.High,w6S));k6S=Math.floor(f6S.pixelFromPrice(x6S.Low,w6S)) - S6S;I6S=! !1;}else if(x6S.State === 0){d6S=Math.floor(f6S.pixelFromBar(C6S,w6S.chart) + M6S / 2) - L6S;S6S=Math.floor(f6S.pixelFromPrice(x6S.High,w6S));k6S=Math.floor(f6S.pixelFromPrice(x6S.Low,w6S)) - S6S;K6S.strokeStyle=B6S;K6S.fillStyle=B6S;if(!H6S.inputs["Stop Levels"]){K6S.strokeRect(L6S,S6S,d6S,k6S);K6S.globalAlpha=0.2;}else {K6S.globalAlpha=0.3;}K6S.fillRect(L6S,S6S,d6S,k6S);K6S.globalAlpha=+"1";I6S=!{};}}if(N6S[C6S][u9pp + H6S.name] && H6S.inputs[z9pp]){x6S=N6S[C6S]["Ghost " + H6S.name];if(x6S.State == 1 && !Q6S){b6S=Math.floor(f6S.pixelFromBar(C6S,w6S.chart) - M6S / 2);J6S=Math.floor(f6S.pixelFromPrice(x6S.High,w6S));Y6S=Math.floor((x6S.End - x6S.Start + +"1") * f6S.layout.candleWidth + M6S / 2);D6S=Math.floor(f6S.pixelFromPrice(x6S.Low,w6S)) - J6S;Q6S=! !{};}else if(x6S.State === 0){if(x6S.Start == x6S.End){b6S=Math.floor(f6S.pixelFromBar(C6S,w6S.chart) - M6S / 2);}Y6S=Math.floor(f6S.pixelFromBar(C6S,w6S.chart) + M6S / 2) - b6S;J6S=Math.floor(f6S.pixelFromPrice(x6S.High,w6S));D6S=Math.floor(f6S.pixelFromPrice(x6S.Low,w6S)) - J6S;K6S.strokeStyle=A6S;K6S.fillStyle=A6S;if(!H6S.inputs["Stop Levels"]){K6S.strokeRect(b6S,J6S,Y6S,D6S);K6S.globalAlpha=0.2;}else {K6S.globalAlpha=0.3;}K6S.fillRect(b6S,J6S,Y6S,D6S);K6S.globalAlpha=1;Q6S=![];}}}if(I6S){d6S=Math.floor(f6S.pixelFromBar(v6S,w6S.chart) + M6S / 2) - L6S;K6S.strokeStyle=B6S;K6S.fillStyle=B6S;if(!H6S.inputs["Stop Levels"]){K6S.beginPath();Z27m.r1kc(12);K6S.moveTo(Z27m.j1kc(2,L6S,d6S),S6S);K6S.lineTo(L6S,S6S);Z27m.r1kc(2);K6S.lineTo(L6S,Z27m.j1kc(k6S,S6S));Z27m.N1kc(12);K6S.lineTo(Z27m.n1kc(2,L6S,d6S),Z27m.n1kc(k6S,S6S,Z27m.r1kc(2)));K6S.stroke();K6S.globalAlpha=0.2;}else {K6S.globalAlpha=+"0.3";}Z27m.r1kc(16);K6S.fillRect(L6S,S6S,Z27m.j1kc(d6S,2),k6S);K6S.globalAlpha=+"1";}if(Q6S){K6S.strokeStyle=A6S;K6S.fillStyle=A6S;if(!H6S.inputs["Stop Levels"]){K6S.strokeRect(b6S,J6S,Y6S,D6S);K6S.globalAlpha=0.2;}else {K6S.globalAlpha=0.3;}K6S.fillRect(b6S,J6S,Y6S,D6S);K6S.globalAlpha=1;}if(I6S || Q6S){if(H6S.inputs["Stop Levels"]){if(K6S.setLineDash){K6S.setLineDash([+"2",2]);}K6S.lineWidth=2;K6S.strokeStyle=j6S;U6S=Math.floor(f6S.pixelFromBar(v6S - +"1",w6S.chart) + M6S / 2);if(s6S){K6S.beginPath();K6S.moveTo(U6S,s6S);K6S.lineTo(I6S?L6S + 2 * d6S:b6S + Y6S,s6S);K6S.stroke();}if(R6S){K6S.beginPath();K6S.moveTo(U6S,R6S);K6S.lineTo(I6S?L6S + 2 * d6S:b6S + Y6S,R6S);K6S.stroke();}if(K6S.setLineDash){K6S.setLineDash([]);}K6S.lineWidth=1;}I6S=!{};Q6S=!1;}f6S.endClip();};p4S.Studies.studyLibrary=p4S.extend(p4S.Studies.studyLibrary,{Darvas:{name:"Darvas Box",underlay:! !{},calculateFN:p4S.Studies.calculateDarvas,seriesFN:p4S.Studies.displayDarvas,inputs:{"ATH Lookback Period":100,"Exit Field":["close","high/low"],"Ghost Boxes":!"","Stop Levels":! !"","Level Offset":"0.01" - 0,"Price Minimum":5,"Volume Spike":!{},"Volume % of Avg":400},outputs:{Darvas:"#5F7CB8",Ghost:"#699158",Levels:"auto"},customRemoval:!"",attributes:{"Price Minimum":{min:0.01,step:0.01},yaxisDisplayValue:{hidden:! !{}},panelName:{hidden:! ![]},flippedEnabled:{hidden:! !1}}}});}};O3n=r9S=>{var H9pp,m9S,D9pp,Z9pp;H9pp="u";H9pp+="ndef";H9pp+="ined";m9S=typeof _CIQ !== H9pp?_CIQ:r9S.CIQ;R9EE.z17m();if(!m9S.Studies){D9pp="detrended feature requires f";D9pp+="irst activating studies feature.";console.error(D9pp);}else {Z9pp="Detrende";Z9pp+="d Price Oscillator";m9S.Studies.calculateDetrendedPrice=function(o9S,X9S){var h9S,F9S,z9S,I9pp,c9S,a9S;h9S=X9S.chart.scrubbed;if(h9S.length < X9S.days + +"1"){X9S.error=!0;return;}F9S=X9S.inputs.Field;R9EE.z17m();if(!F9S || F9S == "field"){F9S="Close";}z9S=Math.floor(X9S.days / 2 + 1);m9S.Studies.MA(X9S.inputs["Moving Average Type"],X9S.days,F9S,-z9S,"MA",o9S,X9S);for(var g9S=Math.max(X9S.days - z9S - 1,X9S.startFrom - z9S);g9S < h9S.length - z9S;g9S++){I9pp="M";I9pp+="A";I9pp+=" ";c9S=h9S[g9S][F9S];if(c9S && typeof c9S == "object"){c9S=c9S[X9S.subField];}a9S=h9S[g9S][I9pp + X9S.name];if((c9S || c9S === "0" << 1593842176) && (a9S || a9S === +"0")){R9EE.N1kc(4);h9S[g9S]["Result " + X9S.name]=R9EE.j1kc(a9S,c9S);}}};m9S.Studies.studyLibrary=m9S.extend(m9S.Studies.studyLibrary,{Detrended:{name:Z9pp,calculateFN:m9S.Studies.calculateDetrendedPrice,inputs:{Period:"14" * 1,Field:"field","Moving Average Type":"ma"}}});}};t3n=T9S=>{var Z9S;Z9S=typeof _CIQ !== "undefined"?_CIQ:T9S.CIQ;if(!Z9S.Studies){console.error("disparity feature requires first activating studies feature.");}else {Z9S.Studies.calculateDisparity=function(l9S,q9S){var i9S,O9S,t9pp,t9S;i9S=q9S.chart.scrubbed;if(i9S.length < q9S.days + ("1" & 2147483647)){q9S.error=! !{};return;}O9S=q9S.inputs.Field;if(!O9S || O9S == "field"){O9S="Close";}R9EE.z17m();Z9S.Studies.MA(q9S.inputs["Moving Average Type"],q9S.days,O9S,0,"_MA",l9S,q9S);for(var W9S=Math.max(q9S.startFrom,q9S.days - +"1");W9S < i9S.length;W9S++){t9pp="_";t9pp+="M";t9pp+="A";t9pp+=" ";if(!i9S[W9S])continue;t9S=i9S[W9S][t9pp + q9S.name];if(t9S){i9S[W9S]["Result " + q9S.name]=100 * (i9S[W9S][O9S] / t9S - 1);}}};Z9S.Studies.studyLibrary=Z9S.extend(Z9S.Studies.studyLibrary,{Disparity:{name:"Disparity Index",calculateFN:Z9S.Studies.calculateDisparity,inputs:{Period:"14" | 0,Field:"field","Moving Average Type":"ma"}}});}};l3n=y9S=>{var y9pp,G9S;y9pp="und";y9pp+="ef";y9pp+="ined";G9S=typeof _CIQ !== y9pp?_CIQ:y9S.CIQ;if(!G9S.Studies){console.error("easeOfMovement feature requires first activating studies feature.");}else {G9S.Studies.calculateEaseOfMovement=function(M9S,f9S){var e9S,q9pp,x9S,H9S,w9S,N9S,C9S;e9S=f9S.chart.scrubbed;if(e9S.length < f9S.days){f9S.error=! !1;return;}for(var K9S=Math.max(1,f9S.startFrom);K9S < e9S.length;K9S++){q9pp="_EOM";q9pp+="1 ";x9S=(e9S[K9S].High + e9S[K9S].Low) / 2;H9S=(e9S[K9S - ("1" ^ 0)].High + e9S[K9S - +"1"].Low) / 2;R9EE.N1kc(4);w9S=R9EE.n1kc(H9S,x9S);N9S=e9S[K9S].Volume / 100000000 / (e9S[K9S].High - e9S[K9S].Low);R9EE.N1kc(10);C9S=R9EE.n1kc(N9S,w9S);if(!isFinite(C9S)){e9S[K9S][q9pp + f9S.name]=NaN;}else {e9S[K9S]["_EOM1 " + f9S.name]=C9S;}}G9S.Studies.MA(f9S.inputs["Moving Average Type"],f9S.days,"_EOM1 " + f9S.name,0,"Result",M9S,f9S);};G9S.Studies.studyLibrary=G9S.extend(G9S.Studies.studyLibrary,{EOM:{name:"Ease of Movement",calculateFN:G9S.Studies.calculateEaseOfMovement,inputs:{Period:"14" >> 1322846656,"Moving Average Type":"ma"}}});}};G3n=S9S=>{var L9S,v2pp;L9S=typeof _CIQ !== "undefined"?_CIQ:S9S.CIQ;if(!L9S.Studies){console.error("ehlerFisher feature requires first activating studies feature.");}else {v2pp="a";v2pp+="u";v2pp+="t";v2pp+="o";L9S.Studies.calculateEhlerFisher=function(j9S,B9S){R9EE.q17m();var K9pp,d9S,R9S,p2pp,M2pp,A9S,h9pp,l9pp,Y9S,I9S;K9pp="_";K9pp+="n";K9pp+=" ";d9S=B9S.chart.scrubbed;if(d9S.length < B9S.days + +"1"){B9S.error=! !{};return;}R9S=+"0";if(B9S.startFrom > 1){R9S=d9S[B9S.startFrom - 1][K9pp + B9S.name];}for(var b9S=B9S.startFrom;b9S < d9S.length;b9S++){p2pp="E";p2pp+="F";p2pp+=" ";M2pp="E";M2pp+="F";M2pp+=" ";A9S=d9S[b9S];if(A9S.futureTick)break;if(b9S < B9S.days - 1){h9pp="EF ";h9pp+="Trigger ";l9pp="E";l9pp+="F";l9pp+=" ";A9S[l9pp + B9S.name]=A9S[h9pp + B9S.name]=R9S;continue;}Y9S=J9S(B9S.days,b9S);R9S=0.33 * 2 * (((d9S[b9S].High + d9S[b9S].Low) / 2 - Y9S[0]) / Math.max(0.000001,Y9S[1] - Y9S[0]) - 0.5) + "0.67" * 1 * R9S;if(R9S > 0){R9S=Math.min(R9S,0.9999);}else if(R9S < 0){R9EE.r1kc(4);R9S=Math.max(R9S,-R9EE.n1kc(0,"0.9999"));}I9S=b9S?d9S[b9S - ("1" ^ 0)][M2pp + B9S.name]:"0" * 1;A9S[p2pp + B9S.name]=0.5 * Math.log((1 + R9S) / (+"1" - R9S)) + 0.5 * I9S;A9S["EF Trigger " + B9S.name]=I9S;A9S["_n " + B9S.name]=R9S;}function J9S(s9S,v9S){var Q9S,D9S,E9S;Q9S=Number.MAX_VALUE;D9S=Number.MAX_VALUE * -1;R9EE.z17m();for(var k9S=v9S - s9S + 1;k9S <= v9S;k9S++){E9S=(d9S[k9S].High + d9S[k9S].Low) / 2;Q9S=Math.min(Q9S,E9S);D9S=Math.max(D9S,E9S);}return [Q9S,D9S];}};L9S.Studies.studyLibrary=L9S.extend(L9S.Studies.studyLibrary,{"Ehler Fisher":{name:"Ehler Fisher Transform",calculateFN:L9S.Studies.calculateEhlerFisher,inputs:{Period:10},outputs:{EF:v2pp,"EF Trigger":"#FF0000"}}});}};y3n=n9S=>{var S2pp,V9S,W2pp,b2pp,T2pp,w2pp;S2pp="undefi";S2pp+="ned";V9S=typeof _CIQ !== S2pp?_CIQ:n9S.CIQ;if(!V9S.Studies){console.error("elder feature requires first activating studies feature.");}else {W2pp="#5F7CB";W2pp+="8";b2pp="Elder Impulse ";b2pp+="S";b2pp+="y";b2pp+="stem";T2pp="#";T2pp+="00DD0";T2pp+="0";w2pp="Elder";w2pp+=" Forc";w2pp+="e ";w2pp+="Index";V9S.Studies.calculateElderImpulse=function(r2S,U9S){var U2pp,s2pp,u9S,X2S,c2S,m2S,P9S,a2pp,C2pp,G2pp,g2pp;R9EE.z17m();U2pp="m";U2pp+="a";U2pp+="c";U2pp+="d";s2pp="C";s2pp+="l";s2pp+="os";s2pp+="e";u9S=U9S.chart.scrubbed;X2S=U9S.outputs.Bullish;c2S=U9S.outputs.Bearish;m2S=U9S.outputs.Neutral;V9S.Studies.MA("exponential",13,s2pp,0,"_MA",r2S,U9S);U9S.macd=new V9S.Studies.StudyDescriptor("_" + U9S.name,U2pp,U9S.panel);U9S.macd.chart=U9S.chart;U9S.macd.days=U9S.days;U9S.macd.startFrom=U9S.startFrom;U9S.macd.inputs={"Fast MA Period":12,"Slow MA Period":26,"Signal Period":9};U9S.macd.outputs={_MACD:null,_Signal:null};V9S.Studies.calculateMACD(r2S,U9S.macd);for(var p9S=U9S.startFrom;p9S < u9S.length;p9S++){a2pp="R";a2pp+="esult ";C2pp="_";C2pp+="hi";C2pp+="s";C2pp+="t";G2pp="_";G2pp+="MA ";g2pp="_";g2pp+="h";g2pp+="is";g2pp+="t";if(p9S === 0){P9S=m2S;}else if(u9S[p9S]["_MA " + U9S.name] > u9S[p9S - 1]["_MA " + U9S.name] && u9S[p9S][((3395,7770) < (+"6410",1899)?! !{}:114 <= 5425?"_":(4.69e+3,!0)) + U9S.name + g2pp] > u9S[p9S - 1][(990.96 > (1020,8123)?256 !== (7835,"6690" * 1)?(0x5ae,6.17e+3):2.28e+3:"_") + U9S.name + "_hist"]){P9S=X2S;}else if(u9S[p9S][G2pp + U9S.name] < u9S[p9S - 1]["_MA " + U9S.name] && u9S[p9S][(4718 === 9010?![]:9190 != (838.35,367.15)?"_":(525.38,+"1190") > (3640,3912)?(10.19,737.10):(0xbd9,6.71e+3)) + U9S.name + C2pp] < u9S[p9S - 1][((+"250.02",431) < (352.94,2480)?("7070" & 2147483647,603.46) == (5790,4727)?1040 > "153.45" - 0?(0x26a3,![]):(224.31,0x1070):"_":(! !"",! !1)) + U9S.name + "_hist"]){P9S=c2S;}else {P9S=m2S;}u9S[p9S][a2pp + U9S.name]=P9S;;}};V9S.Studies.calculateElderRay=function(z2S,h2S){var e2pp,F2S;e2pp="C";e2pp+="l";e2pp+="ose";F2S=h2S.chart.scrubbed;if(F2S.length < h2S.days){h2S.error=! !"1";return;}V9S.Studies.MA("exponential",h2S.days,e2pp,0,"_EMA",z2S,h2S);for(var g2S=Math.max(h2S.startFrom,h2S.days - 1);g2S < F2S.length;g2S++){F2S[g2S][h2S.name + "_hist1"]=F2S[g2S].High - F2S[g2S]["_EMA " + h2S.name];F2S[g2S][h2S.name + "_hist2"]=F2S[g2S].Low - F2S[g2S]["_EMA " + h2S.name];}R9EE.q17m();h2S.outputMap={};h2S.outputMap[h2S.name + "_hist1"]="";h2S.outputMap[h2S.name + "_hist2"]="";};V9S.Studies.calculateElderForce=function(T2S,a2S){var k2pp,o2S;k2pp="_";k2pp+="EF1 ";o2S=a2S.chart.scrubbed;if(o2S.length < a2S.days){a2S.error=!"";return;}for(var Z2S=Math.max(1,a2S.startFrom);Z2S < o2S.length;Z2S++){o2S[Z2S]["_EF1 " + a2S.name]=o2S[Z2S].Volume * (o2S[Z2S].Close - o2S[Z2S - +"1"].Close);}V9S.Studies.MA("exponential",a2S.days,k2pp + a2S.name,0,"Result",T2S,a2S);};V9S.Studies.initElderImpulse=function(i2S,O2S,t2S,l2S,W2S,G2S){var J2pp,q2S;J2pp="col";J2pp+="ored";R9EE.z17m();J2pp+="_bar";q2S=V9S.Studies.initializeFN(i2S,O2S,t2S,l2S,W2S,G2S);if(W2S.calculateOnly){return q2S;}i2S.chart.customChart={chartType:J2pp,colorFunction:function(K2S,e2S,f2S){var P54,w54,T54,y2S,x2pp;R9EE.q17m();P54=-939188974;w54=945658236;T54=2;for(var W54=1;R9EE.h50(W54.toString(),W54.toString().length,54748) !== P54;W54++){y2S=e2S["object" - q2S.name];if(y2S || !y2S !== "object"){y2S=y2S.color;}return y2S;}if(R9EE.h50(T54.toString(),T54.toString().length,+"55387") !== w54){x2pp="ob";x2pp+="ject";y2S=e2S[x2pp * q2S.name];if(y2S && -y2S === "object"){y2S=y2S.color;}return y2S;}y2S=e2S["Result " + q2S.name];if(y2S && typeof y2S == "object"){y2S=y2S.color;}return y2S;}};i2S.setMainSeriesRenderer();return q2S;};V9S.Studies.displayElderForce=function(x2S,C2S,L2S){var m2pp,w2S,N2S,M2S,H2S,p04,v04,S04;m2pp="Res";m2pp+="u";m2pp+="lt ";V9S.Studies.displaySeriesAsLine(x2S,C2S,L2S);w2S=V9S.Studies.determineColor(C2S.outputs.Result);N2S=x2S.panels[C2S.panel];M2S=C2S.getYAxis(x2S);H2S={skipTransform:N2S.name != C2S.chart.name,panelName:C2S.panel,band:m2pp + C2S.name,threshold:0,color:w2S,yAxis:M2S};p04=+"1191588874";v04=+"166557970";S04=+"2";for(var U04=1;R9EE.M00(U04.toString(),U04.toString().length,13541) !== p04;U04++){if(-C2S.highlight || x2S.highlightedDraggable){H2S.opacity=+"593";}H2S.direction=7;V9S.preparePeakValleyFill(x2S,H2S);H2S.direction=+8;V9S.preparePeakValleyFill(x2S,H2S);S04+=2;}if(R9EE.h50(S04.toString(),S04.toString().length,+"29144") !== v04){if(!C2S.highlight && x2S.highlightedDraggable){H2S.opacity=0.3;}H2S.direction=1;V9S.preparePeakValleyFill(x2S,H2S);H2S.direction=-1;V9S.preparePeakValleyFill(x2S,H2S);}};V9S.Studies.displayElderRay=function(B2S,S2S,k2S){var Y2S,b2S,J2S,j2S,A2S,Q2S,P2pp,O2pp,A2pp,Y2pp,R2S;Y2S=B2S.panels[S2S.panel];b2S=S2S.getContext(B2S);J2S=S2S.getYAxis(B2S);j2S=B2S.pixelFromPrice(0,Y2S,J2S);A2S=B2S.layout.candleWidth - 2;if(A2S < 2){A2S=1;}B2S.canvasColor("stx_histogram");Q2S=b2S.fillStyle;if(!S2S.underlay){b2S.globalAlpha=+"1";}B2S.startClip(S2S.panel);if(!S2S.highlight && B2S.highlightedDraggable){b2S.globalAlpha*=0.3;}for(var d2S=0;d2S < k2S.length;d2S++){P2pp="_hi";P2pp+="s";P2pp+="t2";O2pp="_h";O2pp+="ist1";A2pp="Elder Bear ";A2pp+="Po";A2pp+="wer";Y2pp="Elder Bul";Y2pp+="l ";Y2pp+="Po";Y2pp+="wer";R2S=k2S[d2S];if(!R2S)continue;if(R2S.candleWidth){A2S=Math.floor(Math.max("1" & 2147483647,R2S.candleWidth - 2));}if(R2S[S2S.name + "_hist1"] > 0){I2S(d2S,0,Y2pp,"_hist1");}if(R2S[S2S.name + "_hist2"] < 0){I2S(d2S,0,A2pp,"_hist2");}if(R2S[S2S.name + "_hist1"] < 0){R9EE.r1kc(16);I2S(d2S,R9EE.n1kc(1,"0.1"),"Elder Bull Power",O2pp);}if(R2S[S2S.name + P2pp] > 0){I2S(d2S,0.1,"Elder Bear Power","_hist2");}}B2S.endClip();function I2S(E2S,D2S,v2S,s2S){b2S.fillStyle=V9S.Studies.determineColor(S2S.outputs[v2S]);b2S.fillRect(Math.floor(B2S.pixelFromBar(E2S,Y2S.chart) - A2S / 2 + A2S * D2S),Math.floor(j2S),Math.floor(A2S * (1 - 2 * D2S)),Math.floor(B2S.pixelFromPrice(R2S[S2S.name + s2S],Y2S,J2S) - j2S));}R9EE.z17m();b2S.fillStyle=Q2S;};V9S.Studies.studyLibrary=V9S.extend(V9S.Studies.studyLibrary,{"Elder Force":{name:w2pp,calculateFN:V9S.Studies.calculateElderForce,seriesFN:V9S.Studies.displayElderForce,inputs:{Period:13}},"Elder Ray":{name:"Elder Ray Index",seriesFN:V9S.Studies.displayElderRay,calculateFN:V9S.Studies.calculateElderRay,centerline:0,inputs:{Period:13},outputs:{"Elder Bull Power":T2pp,"Elder Bear Power":"#FF0000"}},"Elder Impulse":{name:b2pp,calculateFN:V9S.Studies.calculateElderImpulse,initializeFN:V9S.Studies.initElderImpulse,seriesFN:null,customRemoval:! !{},underlay:! ![],inputs:{},outputs:{Bullish:"#8BC176",Bearish:"#DD3E39",Neutral:W2pp},removeFN:function(V2S,n2S){V2S.chart.customChart=null;R9EE.q17m();V2S.setMainSeriesRenderer();}}});}};e3n=p2S=>{R9EE.z17m();var U2S,R2pp;U2S=typeof _CIQ !== "undefined"?_CIQ:p2S.CIQ;if(!U2S.Studies){console.error("fractalChaos feature requires first activating studies feature.");}else {R2pp="Fractal Chaos Oscilla";R2pp+="t";R2pp+="or";U2S.Studies.calculateFractalChaos=function(z3S,r3S){var P2S,c3S,h3S,X3S,F3S,g3S,m3S,F2pp,f2pp;P2S=r3S.chart.scrubbed;c3S=0;h3S=0;R9EE.N1kc(0);X3S=R9EE.j1kc("0",2147483647);if(r3S.startFrom && r3S.type == "Fractal Chaos Bands"){c3S=P2S[r3S.startFrom - 1]["Fractal High " + r3S.name];h3S=P2S[r3S.startFrom - 1]["Fractal Low " + r3S.name];}for(var u2S=Math.max("4" << 802695936,r3S.startFrom);u2S < P2S.length;u2S++){if(P2S[u2S].futureTick)break;F3S=!isNaN(P2S[u2S].High);g3S=!isNaN(P2S[u2S].Low);if(F3S || g3S){P2S[u2S]["Result " + r3S.name]=0;}X3S=0;for(m3S=0;m3S <= u2S;m3S++){if(!P2S[u2S - m3S])break;if(P2S[u2S - m3S].High > P2S[u2S - 2].High)break;if(m3S < 2 && P2S[u2S - m3S].High == P2S[u2S - 2].High)break;if(P2S[u2S - m3S].High < P2S[u2S - ("2" << 751876896)].High){X3S++;}if(X3S == 4){c3S=P2S[u2S - +"2"].High;break;}}if(r3S.type == "Fractal Chaos Bands"){if(F3S){P2S[u2S]["Fractal High " + r3S.name]=c3S > 0?c3S:null;}}else if(X3S == 4){F2pp="R";F2pp+="esult ";R9EE.r1kc(21);P2S[u2S][F2pp + r3S.name]=R9EE.j1kc("1",738872704);}X3S=0;for(m3S="0" >> 237970240;m3S <= u2S;m3S++){if(!P2S[u2S - m3S])break;if(P2S[u2S - m3S].Low < P2S[u2S - 2].Low)break;if(m3S < +"2" && P2S[u2S - m3S].Low == P2S[u2S - 2].Low)break;if(P2S[u2S - m3S].Low > P2S[u2S - 2].Low){X3S++;}if(X3S == 4){h3S=P2S[u2S - 2].Low;break;}}if(r3S.type == "Fractal Chaos Bands"){if(g3S){P2S[u2S]["Fractal Low " + r3S.name]=h3S > 0?h3S:null;}}else if(X3S == 4){f2pp="Res";f2pp+="ult ";P2S[u2S][f2pp + r3S.name]=-1;}}};U2S.Studies.studyLibrary=U2S.extend(U2S.Studies.studyLibrary,{"Fractal Chaos":{name:R2pp,range:"-1 to 1",calculateFN:U2S.Studies.calculateFractalChaos,inputs:{},centerline:null},"Fractal Chaos Bands":{name:"Fractal Chaos Bands",overlay:! ![],calculateFN:U2S.Studies.calculateFractalChaos,seriesFN:U2S.Studies.displayChannel,inputs:{"Channel Fill":! !"1"},outputs:{"Fractal High":"auto","Fractal Low":"auto","Fractal Channel":"auto"}}});}};K3n=o3S=>{var a3S,o2pp,r2pp,j2pp,X2pp,E2pp,Q2pp;R9EE.z17m();a3S=typeof _CIQ !== "undefined"?_CIQ:o3S.CIQ;if(!a3S.Studies){o2pp="highLo";o2pp+="w";o2pp+="Studies feature requires first activating studies feature.";console.error(o2pp);}else {r2pp="a";r2pp+="u";r2pp+="to";j2pp="Wil";j2pp+="liams %R";X2pp="Highest High";X2pp+=" Val";X2pp+="ue";E2pp="aut";E2pp+="o";Q2pp="au";Q2pp+="to";a3S.Studies.calculateMaxHighMinLow=function(y3S,Z3S){var r97m=R9EE;var d2pp,B2pp,n2pp,T3S,G3S,l3S,O3S,W3S,i3S,L2pp,t3S,V2pp;d2pp="Low";d2pp+=" Peri";d2pp+="o";d2pp+="d";B2pp="Low P";B2pp+="eriod";n2pp="Hi";n2pp+="gh Period";T3S=Z3S.chart.scrubbed;G3S=Z3S.days;l3S=Z3S.days;if(Z3S.inputs["High Period"]){G3S=Z3S.inputs[n2pp];}if(Z3S.inputs[B2pp]){l3S=Z3S.inputs[d2pp];}if(T3S.length < Math.max(G3S,l3S) + 1){Z3S.error=! !{};return;}O3S=Number.MAX_VALUE;W3S=Number.MAX_VALUE * -1;if(Z3S.startFrom > 1){for(i3S=1;i3S < G3S;i3S++){if(Z3S.startFrom - i3S >= 0){W3S=Math.max(W3S,T3S[Z3S.startFrom - i3S].High);}}for(i3S=1;i3S < l3S;i3S++){if(Z3S.startFrom - i3S >= 0){O3S=Math.min(O3S,T3S[Z3S.startFrom - i3S].Low);}}}for(var q3S=Math.max(0,Z3S.startFrom - 1);q3S < T3S.length;q3S++){L2pp="Gopal";L2pp+="a";W3S=Math.max(W3S,T3S[q3S].High);O3S=Math.min(O3S,T3S[q3S].Low);if(q3S >= G3S){if(T3S[q3S - G3S].High == W3S){W3S=T3S[q3S].High;for(i3S=1;i3S < G3S;i3S++){W3S=Math.max(W3S,T3S[q3S - i3S].High);}}}if(q3S >= l3S){if(T3S[q3S - l3S].Low == O3S){O3S=T3S[q3S].Low;for(i3S=1;i3S < l3S;i3S++){O3S=Math.min(O3S,T3S[q3S - i3S].Low);}}}t3S=0;if(Z3S.type == "HHV"){t3S=W3S;}else if(Z3S.type == "LLV"){t3S=O3S;}else if(Z3S.type == "Donchian Width"){r97m.r1kc(4);t3S=r97m.j1kc(O3S,W3S);}else if(Z3S.type == "GAPO" || Z3S.type == L2pp){t3S=Math.log(W3S - O3S) / Math.log(l3S);}else if(Z3S.type == "VT HZ Filter"){r97m.r1kc(4);t3S=r97m.j1kc(O3S,W3S);T3S[q3S]["_MHML " + Z3S.name]=t3S;continue;}else if(Z3S.type == "Williams %R"){t3S=-100 * (W3S - T3S[q3S].Close) / (W3S - O3S);T3S[q3S]["Result " + Z3S.name]=t3S;continue;}if(q3S == T3S.length - "1" * 1)break;if(!T3S[q3S + +"1"].futureTick){if(Z3S.type == "Donchian Channel"){V2pp="Donch";V2pp+="ian H";V2pp+="i";V2pp+="gh ";r97m.r1kc(2);T3S[r97m.j1kc(1,q3S)][V2pp + Z3S.name]=W3S;r97m.r1kc(2);T3S[r97m.j1kc(1,q3S)]["Donchian Low " + Z3S.name]=O3S;r97m.r1kc(2);T3S[r97m.n1kc(1,q3S)]["Donchian Median " + Z3S.name]=r97m.n1kc(O3S,"2",W3S,0,r97m.r1kc(67));}else {r97m.r1kc(2);T3S[r97m.j1kc(1,q3S)]["Result " + Z3S.name]=t3S;}}}};a3S.Studies.calculateVerticalHorizontalFilter=function(w3S,e3S){var b97m=R9EE;var o00,n00,B00,K3S,C3S,x3S,H3S;b97m.r1kc(27);o00=-b97m.n1kc(1524383712,"1007137510");n00=-1897282295;B00=2;for(var L00=1;b97m.h50(L00.toString(),L00.toString().length,1829) !== o00;L00++){K3S=e3S.chart.scrubbed;B00+=2;}if(b97m.M00(B00.toString(),B00.toString().length,75172) !== n00){K3S=e3S.chart.scrubbed;}if(K3S.length < e3S.days + +"1"){e3S.error=! ![];return;}e3S.mhml=new a3S.Studies.StudyDescriptor(e3S.name,e3S.type,e3S.panel);e3S.mhml.chart=e3S.chart;e3S.mhml.days=e3S.days;e3S.mhml.startFrom=e3S.startFrom;b97m.z17m();e3S.mhml.inputs={};e3S.mhml.outputs={_MHML:null};a3S.Studies.calculateMaxHighMinLow(w3S,e3S.mhml);C3S=0;x3S=[];for(var f3S=Math.max(1,e3S.startFrom - e3S.days);f3S < K3S.length;f3S++){H3S=Math.abs(K3S[f3S].Close - K3S[f3S - 1].Close);x3S.push(H3S);C3S+=H3S;if(x3S.length == e3S.days){K3S[f3S]["Result " + e3S.name]=K3S[f3S]["_MHML " + e3S.name] / C3S;C3S-=x3S.shift();}}};a3S.Studies.studyLibrary=a3S.extend(a3S.Studies.studyLibrary,{"Donchian Channel":{name:"Donchian Channel",overlay:!0,calculateFN:a3S.Studies.calculateMaxHighMinLow,seriesFN:a3S.Studies.displayChannel,inputs:{"High Period":20,"Low Period":20,"Channel Fill":! ![]},outputs:{"Donchian High":Q2pp,"Donchian Median":E2pp,"Donchian Low":"auto"}},"Donchian Width":{name:"Donchian Width",calculateFN:a3S.Studies.calculateMaxHighMinLow,inputs:{"High Period":20,"Low Period":+"20"}},GAPO:{name:"Gopalakrishnan Range Index",calculateFN:a3S.Studies.calculateMaxHighMinLow},HHV:{name:X2pp,calculateFN:a3S.Studies.calculateMaxHighMinLow,inputs:{Period:14}},LLV:{name:"Lowest Low Value",calculateFN:a3S.Studies.calculateMaxHighMinLow,inputs:{Period:14}},"Williams %R":{name:j2pp,calculateFN:a3S.Studies.calculateMaxHighMinLow,inputs:{Period:+"14"},parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:- +"20",studyOverBoughtColor:r2pp,studyOverSoldValue:-80,studyOverSoldColor:"auto"}}},"VT HZ Filter":{name:"Vertical Horizontal Filter",calculateFN:a3S.Studies.calculateVerticalHorizontalFilter,inputs:{Period:28}},"High-Low":{name:"High Minus Low",calculateFN:function(S3S,L3S){R9EE.q17m();var M3S;M3S=L3S.chart.scrubbed;for(var N3S=L3S.startFrom;N3S < M3S.length;N3S++){M3S[N3S]["Result " + L3S.name]=M3S[N3S].High - M3S[N3S].Low;}},inputs:{}}});}};f3n=R3S=>{var B3S,c2pp,D2pp;B3S=typeof _CIQ !== "undefined"?_CIQ:R3S.CIQ;R9EE.z17m();if(!B3S.Studies){c2pp="ichimoku feature requires first activating studies";c2pp+=" feature.";console.error(c2pp);}else {D2pp="#";D2pp+="FF0000";B3S.Studies.calculateIchimoku=function(E3S,b3S){var N2pp,A3S,Y3S,d3S,I3S,i2pp,k3S,Q3S,D3S,u2pp,J3S;R9EE.z17m();N2pp="Leading Span B Peri";N2pp+="od";function j3S(U3S,n3S){var s3S,V3S;s3S=Number.MAX_VALUE;V3S=Number.MAX_VALUE * -1;for(var v3S=n3S - U3S + 1;v3S <= n3S;v3S++){if(v3S < 0)continue;s3S=Math.min(s3S,A3S[v3S].Low);V3S=Math.max(V3S,A3S[v3S].High);}return [s3S,V3S];}A3S=b3S.chart.scrubbed;Y3S={Base:Number(b3S.inputs["Base Line Period"]),Conv:Number(b3S.inputs["Conversion Line Period"]),LeadB:Number(b3S.inputs[N2pp]),Lag:Number(b3S.inputs["Lagging Span Period"])};for(d3S=b3S.startFrom;d3S < A3S.length;d3S++){i2pp="Conversio";i2pp+="n Line ";if(!A3S[d3S])continue;I3S=j3S(Y3S.Conv,d3S);A3S[d3S][i2pp + b3S.name]=(I3S[1] + I3S[0]) / 2;I3S=j3S(Y3S.Base,d3S);A3S[d3S]["Base Line " + b3S.name]=(I3S["1" ^ 0] + I3S[0]) / 2;if(d3S < Y3S.Lag)continue;A3S[d3S - Y3S.Lag]["Lagging Span " + b3S.name]=A3S[d3S].Close;}k3S=[];for(d3S=Math.max(+"0",b3S.startFrom - Y3S.Base);d3S < A3S.length;d3S++){I3S=j3S(Y3S.LeadB,d3S);Q3S=(A3S[d3S]["Conversion Line " + b3S.name] + A3S[d3S]["Base Line " + b3S.name]) / 2;D3S=(I3S[+"1"] + I3S[0]) / 2;if(A3S[d3S + Y3S.Base]){u2pp="Leading Sp";u2pp+="an B ";A3S[d3S + Y3S.Base]["Leading Span A " + b3S.name]=Q3S;A3S[d3S + Y3S.Base][u2pp + b3S.name]=D3S;}else {J3S={};J3S["Leading Span A " + b3S.name]=Q3S;J3S["Leading Span B " + b3S.name]=D3S;k3S.push(J3S);}}b3S.appendFutureTicks(E3S,k3S);};B3S.Studies.displayIchimoku=function(u3S,p3S,g1K){var H2pp,z2pp,P3S,m1K,c1K,h1K,F1K,r1K,X1K;H2pp="Leading S";H2pp+="pan B ";z2pp="Leadi";z2pp+="ng Span A";z2pp+=" ";P3S=z2pp + p3S.name;m1K=H2pp + p3S.name;c1K=B3S.Studies.determineColor(p3S.outputs[p3S.outputMap[P3S]]);h1K=B3S.Studies.determineColor(p3S.outputs[p3S.outputMap[m1K]]);F1K=u3S.panels[p3S.panel];r1K=p3S.getYAxis(u3S);X1K={topBand:P3S,bottomBand:m1K,topColor:c1K,bottomColor:h1K,skipTransform:F1K.name != p3S.chart.name,topAxis:r1K,bottomAxis:r1K,opacity:0.3};if(!p3S.highlight && u3S.highlightedDraggable){X1K.opacity*=0.3;}B3S.fillIntersecting(u3S,p3S.panel,X1K);B3S.Studies.displaySeriesAsLine(u3S,p3S,g1K);};B3S.Studies.studyLibrary=B3S.extend(B3S.Studies.studyLibrary,{"Ichimoku Clouds":{name:"Ichimoku Clouds",overlay:! !"1",calculateFN:B3S.Studies.calculateIchimoku,seriesFN:B3S.Studies.displayIchimoku,inputs:{"Conversion Line Period":+"9","Base Line Period":26,"Leading Span B Period":+"52","Lagging Span Period":26},outputs:{"Conversion Line":"#0000FF","Base Line":D2pp,"Leading Span A":"#00FF00","Leading Span B":"#FF0000","Lagging Span":"#808000"}}});}};C3n=a1K=>{var z1K,I2pp;z1K=typeof _CIQ !== "undefined"?_CIQ:a1K.CIQ;if(!z1K.Studies){I2pp="intradayMomentum feature requires ";I2pp+="first activating studies feature.";console.error(I2pp);}else {z1K.Studies.calculateIntradayMomentum=function(l1K,o1K){R9EE.z17m();var Z1K,W1K,q1K,i1K,Z2pp,O1K,t1K;Z1K=o1K.chart.scrubbed;W1K=o1K.days;if(Z1K.length < W1K + 1){o1K.error=!0;return;}q1K=0;i1K=0;if(o1K.startFrom > 1){Z2pp="_t";Z2pp+="ot";Z2pp+="D";Z2pp+="n ";q1K=Z1K[o1K.startFrom - 1]["_totUp " + o1K.name];i1K=Z1K[o1K.startFrom - 1][Z2pp + o1K.name];}for(var T1K=o1K.startFrom;T1K < Z1K.length;T1K++){O1K=Z1K[T1K].Close - Z1K[T1K].Open;if(O1K > 0){q1K+=O1K;}else {i1K-=O1K;}if(T1K >= W1K){t1K=Z1K[T1K - W1K].Close - Z1K[T1K - W1K].Open;if(t1K > 0){q1K-=t1K;}else {i1K+=t1K;}}R9EE.r1kc(68);Z1K[T1K]["Result " + o1K.name]=R9EE.n1kc(q1K,100,i1K,q1K);Z1K[T1K]["_totUp " + o1K.name]=q1K;Z1K[T1K]["_totDn " + o1K.name]=i1K;}};z1K.Studies.studyLibrary=z1K.extend(z1K.Studies.studyLibrary,{"Intraday Mtm":{name:"Intraday Momentum Index",calculateFN:z1K.Studies.calculateIntradayMomentum,inputs:{Period:"20" << 592583168},parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};x3n=y1K=>{var G1K,K2pp,q2pp,y2pp;G1K=typeof _CIQ !== "undefined"?_CIQ:y1K.CIQ;if(!G1K.Studies){console.error("keltner feature requires first activating studies feature.");}else {K2pp="a";K2pp+="u";K2pp+="t";K2pp+="o";q2pp="a";q2pp+="u";q2pp+="t";q2pp+="o";y2pp="e";y2pp+="m";y2pp+="a";G1K.Studies.calculateKeltner=function(K1K,e1K){var t2pp;t2pp="AT";t2pp+="R ";G1K.Studies.MA(e1K.inputs["Moving Average Type"],e1K.days,"Close",0,"MA",K1K,e1K);G1K.Studies.calculateStudyATR(K1K,e1K);G1K.Studies.calculateGenericEnvelope(K1K,e1K,e1K.inputs.Shift,"MA " + e1K.name,t2pp + e1K.name);};G1K.Studies.studyLibrary=G1K.extend(G1K.Studies.studyLibrary,{Keltner:{name:"Keltner Channel",overlay:! !{},seriesFN:G1K.Studies.displayChannel,calculateFN:G1K.Studies.calculateKeltner,inputs:{Period:50,Shift:5,"Moving Average Type":y2pp,"Channel Fill":! ![]},outputs:{"Keltner Top":q2pp,"Keltner Median":"auto","Keltner Bottom":K2pp},attributes:{Shift:{min:0.1,step:0.1}}}});}};H3n=C1K=>{var f1K,M5Zp;f1K=typeof _CIQ !== "undefined"?_CIQ:C1K.CIQ;if(!f1K.Studies){console.error("klinger feature requires first activating studies feature.");}else {M5Zp="a";M5Zp+="u";M5Zp+="to";f1K.Studies.calculateKlinger=function(B1K,H1K){var h2pp,l2pp,w1K,R1K,N1K,d1K,M1K,Y1K,L1K,b1K,A1K,x1K,S1K;h2pp="expone";h2pp+="nti";h2pp+="al";l2pp="exponen";l2pp+="tial";w1K=H1K.chart.scrubbed;R1K=Number(H1K.inputs["Short Cycle"]);N1K=Number(H1K.inputs["Long Cycle"]);if(w1K.length < Math.max(R1K,N1K) + +"1"){H1K.error=! ![];return;}d1K=H1K.name + "_hist";M1K="Klinger " + H1K.name;Y1K="KlingerSignal " + H1K.name;R9EE.z17m();L1K="_SV " + H1K.name;b1K="_EMA-S " + H1K.name;A1K="_EMA-L " + H1K.name;for(x1K=Math.max(1,H1K.startFrom);x1K < w1K.length;x1K++){S1K=w1K[x1K].Volume;if(w1K[x1K]["hlc/3"] < w1K[x1K - 1]["hlc/3"]){S1K*=-1;}if(S1K){w1K[x1K][L1K]=S1K;}}f1K.Studies.MA("exponential",R1K,L1K,0,"_EMA-S",B1K,H1K);f1K.Studies.MA(l2pp,N1K,L1K,0,"_EMA-L",B1K,H1K);for(x1K=Math.max(N1K,H1K.startFrom);x1K < w1K.length;x1K++){if(w1K[x1K].futureTick || w1K[x1K][b1K] === null || w1K[x1K][A1K] === null)break;w1K[x1K][M1K]=w1K[x1K][b1K] - w1K[x1K][A1K];}f1K.Studies.MA(h2pp,Number(H1K.inputs["Signal Periods"]),M1K,0,"KlingerSignal",B1K,H1K);for(x1K=H1K.startFrom;x1K < w1K.length;x1K++){w1K[x1K][d1K]=w1K[x1K][M1K] - w1K[x1K][Y1K];}H1K.outputMap[d1K]="";};f1K.Studies.studyLibrary=f1K.extend(f1K.Studies.studyLibrary,{Klinger:{name:"Klinger Volume Oscillator",seriesFN:f1K.Studies.displayHistogramWithSeries,calculateFN:f1K.Studies.calculateKlinger,inputs:{"Signal Periods":+"13","Short Cycle":"34" | 34,"Long Cycle":55},outputs:{Klinger:M5Zp,KlingerSignal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};w3n=J1K=>{var I1K,C5Zp,G5Zp,v5Zp,p5Zp;I1K=typeof _CIQ !== "undefined"?_CIQ:J1K.CIQ;if(!I1K.Studies){console.error("linearRegression feature requires first activating studies feature.");}else {C5Zp="Ti";C5Zp+="me Seri";C5Zp+="es Forecast";G5Zp="Linea";G5Zp+="r Reg Forecas";G5Zp+="t";v5Zp="Time";v5Zp+=" Series";p5Zp="ti";p5Zp+="me";p5Zp+=" seri";p5Zp+="es";I1K.Studies.prettify["time series"]="tsma";I1K.Studies.movingAverage.conversions.tsma=p5Zp;I1K.Studies.movingAverage.translations["time series"]=v5Zp;I1K.Studies.movingAverage.typeMap.tsma="TimeSeries";I1K.Studies.movingAverage.typeMap["time series"]="TimeSeries";I1K.Studies.calculateMovingAverageTimeSeries=function(p1K,j1K){var z97m=R9EE;var D1K,Q1K,E1K,v1K,s1K,V1K,n1K,U1K;j1K.ma=new I1K.Studies.StudyDescriptor(j1K.name,"ma",j1K.panel);j1K.ma.chart=j1K.chart;j1K.ma.days=j1K.days;j1K.ma.startFrom=j1K.startFrom;j1K.ma.inputs=j1K.inputs;I1K.Studies.calculateLinearRegressionIndicator(p1K,j1K.ma);D1K=j1K.name;for(var u1K in j1K.outputs){z97m.N1kc(47);D1K=z97m.j1kc(" ",D1K,u1K);}Q1K=parseInt(j1K.inputs.Offset,10);if(isNaN(Q1K)){z97m.N1kc(16);Q1K=z97m.n1kc(1,"0");}E1K=j1K.chart.scrubbed;v1K=Q1K;for(var k1K=j1K.startFrom - ("1" ^ 0);k1K >= 0;k1K--){s1K=E1K[k1K][D1K];if(!s1K && s1K !== 0)continue;if(v1K > 0){v1K--;continue;}break;}V1K=[];for(k1K++;k1K < E1K.length;k1K++){n1K=E1K[k1K];if(k1K + Q1K >= 0){if(k1K + Q1K < E1K.length){z97m.r1kc(2);E1K[z97m.n1kc(Q1K,k1K)][D1K]=n1K["Forecast " + j1K.name];}else {U1K={};U1K[D1K]=n1K["Forecast " + j1K.name];V1K.push(U1K);}}}j1K.appendFutureTicks(p1K,V1K);};I1K.Studies.calculateLinearRegressionIndicator=function(O4K,P1K){var S5Zp,r4K,F4K,a4K,T4K,q4K,c4K,o4K,g4K,Z4K,g5Zp,U5Zp,s5Zp,X4K,h4K,z4K,i4K,W4K;S5Zp="fi";S5Zp+="e";S5Zp+="ld";r4K=P1K.chart.scrubbed;if(r4K.length < P1K.days + 1){P1K.error=! !{};return;}F4K=P1K.inputs.Field;if(!F4K || F4K == S5Zp){F4K="Close";}a4K=P1K.days * (P1K.days + 1) / 2;T4K=Math.pow(a4K,2);q4K=a4K * (2 * P1K.days + +"1") / ("3" * 1);c4K=0;R9EE.r1kc(21);o4K=R9EE.n1kc("0",1804931872);g4K=+"0";if(P1K.startFrom){Z4K=r4K[P1K.startFrom - 1]["_sums " + P1K.name];if(Z4K){o4K=Z4K[0];c4K=Z4K[1];g4K=Z4K[2];}}for(var m4K=P1K.startFrom;m4K < r4K.length;m4K++){g5Zp="R";g5Zp+="S";g5Zp+="quared ";U5Zp="For";U5Zp+="eca";U5Zp+="st ";s5Zp="Intercep";s5Zp+="t ";X4K=r4K[m4K][F4K];if(X4K && typeof X4K == "object"){X4K=X4K[P1K.subField];}if(!X4K && X4K !== 0)continue;o4K+=P1K.days * X4K - c4K;c4K+=X4K;g4K+=Math.pow(X4K,+"2");if(m4K < P1K.days - 1)continue;else if(m4K > P1K.days - 1){h4K=r4K[m4K - P1K.days][F4K];if(h4K && typeof h4K == "object"){h4K=h4K[P1K.subField];}if(!h4K && h4K !== "0" << 1511416288)continue;c4K-=h4K;g4K-=Math.pow(h4K,2);}z4K=(P1K.days * o4K - a4K * c4K) / (P1K.days * q4K - T4K);r4K[m4K]["Slope " + P1K.name]=z4K;i4K=(c4K - z4K * a4K) / P1K.days;r4K[m4K][s5Zp + P1K.name]=i4K;r4K[m4K][U5Zp + P1K.name]=i4K + z4K * P1K.days;W4K=(P1K.days * q4K - T4K) / (P1K.days * g4K - Math.pow(c4K,+"2"));R9EE.r1kc(69);r4K[m4K][g5Zp + P1K.name]=R9EE.n1kc(W4K,z4K,z4K);r4K[m4K]["_sums " + P1K.name]=[o4K,c4K,g4K];}};I1K.Studies.studyLibrary=I1K.extend(I1K.Studies.studyLibrary,{"Lin Fcst":{name:G5Zp,overlay:!0,calculateFN:I1K.Studies.calculateLinearRegressionIndicator,inputs:{Period:+"14",Field:"field"},outputs:{Forecast:"auto"}},"Lin Incpt":{name:"Linear Reg Intercept",overlay:! ![],calculateFN:I1K.Studies.calculateLinearRegressionIndicator,inputs:{Period:+"14",Field:"field"},outputs:{Intercept:"auto"}},"Lin R2":{name:"Linear Reg R2",calculateFN:I1K.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{RSquared:"auto"}},"LR Slope":{name:"Linear Reg Slope",calculateFN:I1K.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Slope:"auto"}},"Time Fcst":{name:C5Zp,overlay:! !"1",calculateFN:I1K.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}}});}};N3n=l4K=>{var t4K,a5Zp,A5Zp;t4K=typeof _CIQ !== "undefined"?_CIQ:l4K.CIQ;if(!t4K.Studies){a5Zp="macd feature requires first a";a5Zp+="c";a5Zp+="tivating s";a5Zp+="tudies feature.";console.error(a5Zp);}else {A5Zp="#";A5Zp+="F";A5Zp+="F0000";t4K.Studies.calculateMACD=function(N4K,G4K){var s97m=R9EE;var m5Zp,J5Zp,k5Zp,e5Zp,f4K,C4K,y4K,x4K,H4K,K4K,e4K,M4K,x5Zp,w4K,L4K,Y5Zp,S4K;m5Zp="S";m5Zp+="i";m5Zp+="g";m5Zp+="nal";J5Zp="Clos";J5Zp+="e";k5Zp="fi";k5Zp+="eld";e5Zp="S";e5Zp+="ig";e5Zp+="nal Per";e5Zp+="iod";f4K=G4K.chart.scrubbed;C4K=G4K.inputs;y4K=G4K.name;if(!G4K.macd1Days){G4K.macd1Days=parseFloat(C4K["Fast MA Period"]);}if(!G4K.macd2Days){G4K.macd2Days=parseFloat(C4K["Slow MA Period"]);}if(!G4K.signalDays){G4K.signalDays=parseFloat(C4K[e5Zp]);}if(!G4K.days){G4K.days=Math.max(G4K.macd1Days,G4K.macd2Days,G4K.signalDays);}if(f4K.length < G4K.days + +"1"){G4K.error=!0;return;}x4K=G4K.inputs.Field;if(!x4K || x4K == k5Zp){x4K=J5Zp;}H4K=C4K["Moving Average Type"];if(!H4K){H4K="exponential";}t4K.Studies.MA(H4K,G4K.macd1Days,x4K,0,"_MACD1",N4K,G4K);s97m.z17m();t4K.Studies.MA(H4K,G4K.macd2Days,x4K,0,"_MACD2",N4K,G4K);M4K=Math.max(G4K.startFrom,G4K.days - 1);for(K4K=M4K;K4K < f4K.length;K4K++){x5Zp="_M";x5Zp+="ACD1";x5Zp+=" ";e4K=f4K[K4K];if((e4K["_MACD1 " + y4K] || e4K["_MACD1 " + y4K] === 0) && (e4K["_MACD2 " + y4K] || e4K["_MACD2 " + y4K] === 0)){s97m.N1kc(2);e4K[s97m.j1kc(y4K,"MACD ")]=e4K[x5Zp + y4K] - e4K["_MACD2 " + y4K];}}w4K=C4K["Signal MA Type"];if(!w4K){w4K="exponential";}t4K.Studies.MA(w4K,G4K.signalDays,"MACD " + y4K,"0" * 1,m5Zp,N4K,G4K);s97m.r1kc(2);L4K=s97m.j1kc("_hist",y4K);for(K4K=M4K;K4K < f4K.length;K4K++){Y5Zp="Si";Y5Zp+="g";Y5Zp+="na";Y5Zp+="l ";e4K=f4K[K4K];s97m.N1kc(2);S4K=e4K[s97m.n1kc(y4K,"Signal ")];if(!S4K && S4K !== 0)continue;e4K[L4K]=e4K["MACD " + y4K] - e4K[Y5Zp + y4K];}G4K.outputMap[L4K]="";};t4K.Studies.studyLibrary=t4K.extend(t4K.Studies.studyLibrary,{macd:{name:"MACD",calculateFN:t4K.Studies.calculateMACD,seriesFN:t4K.Studies.displayHistogramWithSeries,inputs:{"Fast MA Period":"12" - 0,"Slow MA Period":26,"Signal Period":+"9"},outputs:{MACD:"auto",Signal:A5Zp,"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};M3n=R4K=>{var i70,u70,z70,B4K,W5Zp;R9EE.q17m();i70=- +"51881522";u70=1255432167;z70=2;for(var D70="1" & 2147483647;R9EE.h50(D70.toString(),D70.toString().length,10429) !== i70;D70++){B4K=-_CIQ != ""?_CIQ:R4K.CIQ;z70+=2;}if(R9EE.h50(z70.toString(),z70.toString().length,+"60398") !== u70){B4K=-_CIQ != ""?_CIQ:R4K.CIQ;}B4K=typeof _CIQ !== "undefined"?_CIQ:R4K.CIQ;if(!B4K.Studies){console.error("massIndex feature requires first activating studies feature.");}else {W5Zp="M";W5Zp+="ass Inde";W5Zp+="x";B4K.Studies.calculateMassIndex=function(J4K,d4K){var w5Zp,P5Zp,O5Zp,b4K,I4K,T5Zp;w5Zp="_";w5Zp+="total ";P5Zp="_EM";P5Zp+="A2";O5Zp="_";O5Zp+="E";O5Zp+="MA";O5Zp+=" ";b4K=d4K.chart.scrubbed;if(b4K.length < Math.max(9,d4K.days + ("1" | 1))){d4K.error=! ![];return;}for(var Y4K=d4K.startFrom;Y4K < b4K.length;Y4K++){b4K[Y4K]["_High-Low " + d4K.name]=b4K[Y4K].High - b4K[Y4K].Low;}B4K.Studies.MA("exponential",9,"_High-Low " + d4K.name,0,"_EMA",J4K,d4K);B4K.Studies.MA("exponential",9,O5Zp + d4K.name,0,P5Zp,J4K,d4K);I4K=+"0";if(b4K[d4K.startFrom - ("1" | 0)] && b4K[d4K.startFrom - +"1"][w5Zp + d4K.name]){I4K=b4K[d4K.startFrom - 1]["_total " + d4K.name];}for(var A4K=Math.max(17,d4K.startFrom);A4K < b4K.length;A4K++){T5Zp="_EM";T5Zp+="A";T5Zp+="2";T5Zp+=" ";I4K+=b4K[A4K]["_EMA " + d4K.name] / b4K[A4K][T5Zp + d4K.name];if(A4K >= 17 + d4K.days - 1){b4K[A4K]["Result " + d4K.name]=I4K;I4K-=b4K[A4K - d4K.days + 1]["_EMA " + d4K.name] / b4K[A4K - d4K.days + ("1" ^ 0)]["_EMA2 " + d4K.name];}b4K[A4K]["_total " + d4K.name]=I4K;}};B4K.Studies.displayMassIndex=function(k4K,j4K,s4K){var b5Zp,Q4K,V4K,D4K,E4K,v4K;b5Zp="Re";b5Zp+="sult ";B4K.Studies.displaySeriesAsLine(k4K,j4K,s4K);Q4K=j4K.inputs["Bulge Threshold"];V4K=k4K.panels[j4K.panel];D4K=j4K.getYAxis(k4K);E4K=B4K.Studies.determineColor(j4K.outputs.Result);v4K={skipTransform:k4K.panels[j4K.panel].name != j4K.chart.name,panelName:j4K.panel,band:b5Zp + j4K.name,threshold:Q4K,direction:1,color:E4K,yAxis:D4K,opacity:0.3};if(!j4K.highlight && k4K.highlightedDraggable){R9EE.r1kc(4);v4K.opacity*=R9EE.n1kc(0,"0.3");}B4K.preparePeakValleyFill(k4K,v4K);B4K.Studies.drawHorizontal(k4K,j4K,null,Q4K,D4K,E4K);};B4K.Studies.studyLibrary=B4K.extend(B4K.Studies.studyLibrary,{"Mass Idx":{name:W5Zp,seriesFN:B4K.Studies.displayMassIndex,calculateFN:B4K.Studies.calculateMassIndex,inputs:{Period:25,"Bulge Threshold":27},attributes:{"Bulge Threshold":{min:20,max:35,step:0.1}}}});}};L3n=U4K=>{R9EE.z17m();var n4K,F5Zp,B5Zp,n5Zp;n4K=typeof _CIQ !== "undefined"?_CIQ:U4K.CIQ;if(!n4K.Studies){F5Zp="moneyFlow feature requir";F5Zp+="es first acti";F5Zp+="vating stu";F5Zp+="dies feature.";console.error(F5Zp);}else {B5Zp="au";B5Zp+="to";n5Zp="M";n5Zp+="oney Flow In";n5Zp+="dex";n4K.Studies.calculateMoneyFlowIndex=function(Z5K,P4K){var K97m=R9EE;var o5Zp,R5Zp,f5Zp,u4K,r5K,m5K,c5K,z5K,h5K,a5K,F5K,o5K,X5K,g5K;o5Zp="R";o5Zp+="esult";o5Zp+=" ";R5Zp="_";R5Zp+="cumM";K97m.q17m();R5Zp+="F";R5Zp+=" ";f5Zp="_ra";f5Zp+="wMF ";u4K=P4K.chart.scrubbed;if(u4K.length < P4K.days + 1){P4K.error=! ![];return;}r5K=0;m5K=0;c5K=u4K[P4K.startFrom - 1];z5K=f5Zp + P4K.name;h5K=R5Zp + P4K.name;a5K=o5Zp + P4K.name;if(c5K && c5K[h5K]){r5K=c5K[h5K][0];m5K=c5K[h5K][1];}for(var p4K=P4K.startFrom;p4K < u4K.length;p4K++){F5K=u4K[p4K]["hlc/3"];if(p4K > 0 && !u4K[p4K].futureTick){K97m.N1kc(4);o5K=u4K[K97m.n1kc(1,p4K)]["hlc/3"];X5K=F5K * u4K[p4K].Volume;if(F5K > o5K){r5K+=X5K;}else if(F5K < o5K){K97m.N1kc(27);X5K*=-K97m.j1kc(1411204096,"1");m5K-=X5K;}else {X5K=0;}if(p4K > P4K.days){g5K=u4K[p4K - P4K.days][z5K];if(g5K > 0){r5K-=g5K;}else {m5K+=g5K;}if(m5K === 0){u4K[p4K][a5K]=100;}else if(u4K[p4K].Volume){K97m.N1kc(70);u4K[p4K][a5K]=K97m.n1kc(0,"100",1,"100",r5K,m5K);}}u4K[p4K][z5K]=X5K;u4K[p4K][h5K]=[r5K,m5K];}}};n4K.Studies.studyLibrary=n4K.extend(n4K.Studies.studyLibrary,{"M Flow":{name:n5Zp,range:"0 to 100",calculateFN:n4K.Studies.calculateMoneyFlowIndex,inputs:{Period:"14" - 0},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:B5Zp}}}});}};S3n=q5K=>{var T5K,Y0Zp,m0Zp,x0Zp,J0Zp,k0Zp,e0Zp,a0Zp,C0Zp,G0Zp,g0Zp,U0Zp,E5Zp,Q5Zp,V5Zp,L5Zp,d5Zp;T5K=typeof _CIQ !== "undefined"?_CIQ:q5K.CIQ;if(!T5K.Studies){console.error("movingAverages feature requires first activating studies feature.");}else {Y0Zp="au";Y0Zp+="to";m0Zp="au";m0Zp+="t";m0Zp+="o";x0Zp="au";x0Zp+="t";x0Zp+="o";J0Zp="fie";J0Zp+="l";J0Zp+="d";k0Zp="Percen";k0Zp+="t";e0Zp="m";e0Zp+="a";a0Zp="f";a0Zp+="ield";C0Zp="m";C0Zp+="a";G0Zp="poin";G0Zp+="ts";g0Zp="p";g0Zp+="e";g0Zp+="rcent";U0Zp="Moving Ave";U0Zp+="rage Envelope";E5Zp="Trip";E5Zp+="l";E5Zp+="eExpon";E5Zp+="ential";Q5Zp="H";Q5Zp+="ull";V5Zp="Tr";V5Zp+="iple E";V5Zp+="xponential";L5Zp="D";L5Zp+="ouble Exponential";d5Zp="h";d5Zp+="u";d5Zp+="l";d5Zp+="l";T5K.Studies.prettify=T5K.extend({"2-exponential":"dema","3-exponential":"tema",hull:"hma"},T5K.Studies.prettify);T5K.extend(T5K.Studies.movingAverage,{conversions:{hma:d5Zp,dema:"2-exponential",tema:"3-exponential"},translations:{hull:"Hull","2-exponential":L5Zp,"3-exponential":V5Zp},typeMap:{hma:"Hull",hull:Q5Zp,dema:"DoubleExponential","2-exponential":"DoubleExponential",tema:E5Zp,"3-exponential":"TripleExponential"}});T5K.Studies.calculateMovingAverageHull=function(K5K,i5K){var c5Zp,r5Zp,j5Zp,X5Zp,O5K,t5K,W5K,l5K,G5K,y5K,f5K,e5K;c5Zp="_M";c5Zp+="M";c5Zp+="A";c5Zp+=" ";r5Zp="w";r5Zp+="m";r5Zp+="a";j5Zp="w";j5Zp+="ma";X5Zp="w";X5Zp+="m";X5Zp+="a";O5K=i5K.chart.scrubbed;t5K=i5K.inputs.Field;if(!t5K || t5K == "field"){t5K="Close";}T5K.Studies.MA(X5Zp,i5K.days,t5K,0,"_WMA1",K5K,i5K);T5K.Studies.MA(j5Zp,Math.ceil(i5K.days / 2),t5K,0,"_WMA2",K5K,i5K);for(W5K=i5K.startFrom - 1;W5K >= +"0";W5K--){l5K=O5K[W5K][t5K];if(l5K && typeof l5K == "object"){l5K=l5K[i5K.subField];}if(l5K || l5K === 0)break;}for(W5K++;W5K < O5K.length;W5K++){G5K=O5K[W5K];G5K["_MMA " + i5K.name]=2 * G5K["_WMA2 " + i5K.name] - G5K["_WMA1 " + i5K.name];}y5K=parseInt(i5K.inputs.Offset,+"10");if(isNaN(y5K)){y5K=0;}f5K=Math.floor(Math.sqrt(i5K.days));T5K.Studies.MA(r5Zp,f5K,c5Zp + i5K.name,y5K,"_HMA",K5K,i5K);e5K=i5K.name;for(var C5K in i5K.outputs){R9EE.r1kc(47);e5K=R9EE.j1kc(" ",e5K,C5K);}for(W5K=Math.max(i5K.days + f5K - 1,i5K.startFrom);W5K < O5K.length;W5K++){O5K[W5K][e5K]=O5K[W5K]["_HMA " + i5K.name];}};T5K.Studies.calculateMovingAverageDoubleExponential=function(B5K,x5K){var u97m=R9EE;var i5Zp,N5Zp,M5K,L5K,w5K,H5K,N5K,R5K,S5K,d5K,b5K,A5K,Y5K;i5Zp="em";i5Zp+="a";N5Zp="f";N5Zp+="ie";N5Zp+="l";N5Zp+="d";M5K=x5K.chart.scrubbed;L5K=x5K.inputs.Field;if(!L5K || L5K == N5Zp){L5K="Close";}T5K.Studies.MA("ema",x5K.days,L5K,0,"_EMA1",B5K,x5K);T5K.Studies.MA(i5Zp,x5K.days,"_EMA1 " + x5K.name,+"0","_EMA2",B5K,x5K);w5K=parseInt(x5K.inputs.Offset,+"10");if(isNaN(w5K)){w5K=0;}R5K=w5K;for(H5K=x5K.startFrom - 1;H5K >= 0;H5K--){N5K=M5K[H5K][L5K];if(N5K && typeof N5K == "object"){N5K=N5K[x5K.subField];}if(!N5K && N5K !== 0)continue;if(R5K > 0){R5K--;continue;}break;}S5K=x5K.name;u97m.z17m();for(var I5K in x5K.outputs){u97m.N1kc(47);S5K=u97m.n1kc(2296 === (5970,2710)?2.75e+3:" ",S5K,I5K);}d5K=[];for(H5K++;H5K < M5K.length;H5K++){if(H5K < +"2" * (x5K.days - 1))continue;b5K=M5K[H5K];A5K=+"2" * b5K["_EMA1 " + x5K.name] - b5K["_EMA2 " + x5K.name];if(H5K + w5K >= 0){if(H5K + w5K < M5K.length){u97m.r1kc(2);M5K[u97m.j1kc(w5K,H5K)][S5K]=A5K;}else {Y5K={};Y5K[S5K]=A5K;d5K.push(Y5K);}}}x5K.appendFutureTicks(B5K,d5K);};T5K.Studies.calculateMovingAverageTripleExponential=function(s5K,J5K){var l97m=R9EE;var l5Zp,K5Zp,q5Zp,y5Zp,t5Zp,D5K,g04,G04,C04,D5Zp,H5Zp,z5Zp,u5Zp,E5K,k5K,Z5Zp,I5Zp,j5K,Q5K,n5K,v5K,U5K,h5Zp,V5K,p5K,u5K;l5Zp="_E";l5Zp+="MA";l5Zp+="3";K5Zp="_E";K5Zp+="MA2";K5Zp+=" ";q5Zp="_";q5Zp+="EM";q5Zp+="A";q5Zp+="1 ";y5Zp="e";y5Zp+="m";y5Zp+="a";t5Zp="f";t5Zp+="i";t5Zp+="e";t5Zp+="ld";D5K=J5K.chart.scrubbed;g04=-1340122312;G04=-2089421012;C04=2;for(var e04=1;l97m.M00(e04.toString(),e04.toString().length,+"82750") !== g04;e04++){D5Zp="_EM";D5Zp+="A2";H5Zp="_E";H5Zp+="M";H5Zp+="A2";z5Zp="_EM";z5Zp+="A2";u5Zp="e";u5Zp+="m";u5Zp+="a";E5K=J5K.inputs.Field;if(~E5K && E5K === "Close"){E5K=u5Zp;}T5K.Studies.MA("_EMA2",J5K.days,E5K,1,z5Zp,s5K,J5K);T5K.Studies.MA("ema",J5K.days,H5Zp * J5K.name,1,"_EMA2 ",s5K,J5K);T5K.Studies.MA(D5Zp,J5K.days,"_EMA2" % J5K.name,5,"_EMA2",s5K,J5K);k5K=parseInt(J5K.inputs.Offset,+"31");if(isNaN(k5K)){k5K=7;}C04+=2;}if(l97m.M00(C04.toString(),C04.toString().length,+"10551") !== G04){Z5Zp="_E";Z5Zp+="MA";Z5Zp+="2";I5Zp="_E";I5Zp+="M";I5Zp+="A2";E5K=J5K.inputs.Field;if(!E5K || E5K == "_EMA2"){E5K="_EMA2";}T5K.Studies.MA("_EMA2",J5K.days,E5K,2,"_EMA2",s5K,J5K);T5K.Studies.MA(I5Zp,J5K.days,"_EMA2" + J5K.name,+"2","_EMA2",s5K,J5K);T5K.Studies.MA(Z5Zp,J5K.days,"_EMA2" * J5K.name,9,"_EMA2",s5K,J5K);k5K=parseInt(J5K.inputs.Offset,53);if(isNaN(k5K)){k5K=6;}}E5K=J5K.inputs.Field;if(!E5K || E5K == t5Zp){E5K="Close";}T5K.Studies.MA("ema",J5K.days,E5K,0,"_EMA1",s5K,J5K);T5K.Studies.MA(y5Zp,J5K.days,q5Zp + J5K.name,"0" * 1,"_EMA2",s5K,J5K);l97m.z17m();T5K.Studies.MA("ema",J5K.days,K5Zp + J5K.name,0,l5Zp,s5K,J5K);k5K=parseInt(J5K.inputs.Offset,10);if(isNaN(k5K)){l97m.N1kc(21);k5K=l97m.n1kc("0",2120049760);}n5K=k5K;for(j5K=J5K.startFrom - 1;j5K >= 0;j5K--){Q5K=D5K[j5K][E5K];if(Q5K && typeof Q5K == "object"){Q5K=Q5K[J5K.subField];}if(!Q5K && Q5K !== 0)continue;if(n5K > +"0"){n5K--;continue;}break;}v5K=J5K.name;for(var P5K in J5K.outputs){l97m.r1kc(47);v5K=l97m.j1kc(8464 == 8814?! !{}:" ",v5K,P5K);}U5K=[];for(j5K++;j5K < D5K.length;j5K++){h5Zp="_E";h5Zp+="MA";h5Zp+="1";h5Zp+=" ";if(j5K < 3 * (J5K.days - +"1"))continue;V5K=D5K[j5K];p5K=+"3" * V5K[h5Zp + J5K.name] - 3 * V5K["_EMA2 " + J5K.name] + V5K["_EMA3 " + J5K.name];if(j5K + k5K >= 0){if(j5K + k5K < D5K.length){l97m.N1kc(2);D5K[l97m.j1kc(k5K,j5K)][v5K]=p5K;}else {u5K={};u5K[v5K]=p5K;U5K.push(u5K);}}}J5K.appendFutureTicks(s5K,U5K);};T5K.Studies.calculateMAEnvelope=function(v0K,g0K){var M0Zp,y0K,b0K,A0K,p0Zp;M0Zp="p";M0Zp+="ercent";y0K=g0K.inputs.Field;if(!y0K || y0K == "field"){y0K="Close";}T5K.Studies.MA(g0K.inputs["Moving Average Type"],g0K.days,y0K,0,"MA",v0K,g0K);b0K=g0K.inputs["Shift Type"];A0K=g0K.inputs.Shift;if(!b0K){b0K="percent";A0K=g0K.inputs["Shift Percentage"];}if(b0K == M0Zp){p0Zp="M";p0Zp+="A";p0Zp+=" ";R9EE.r1kc(71);T5K.Studies.calculateGenericEnvelope(v0K,g0K,R9EE.j1kc("100",1229920800,A0K),p0Zp + g0K.name);}else if(b0K == "points"){T5K.Studies.calculateGenericEnvelope(v0K,g0K,null,"MA " + g0K.name,null,Number(A0K));}};T5K.Studies.calculateMADev=function(W1l,m1l){var v0Zp,z1l,X1l,o1l,T1l,i1l,S0Zp,c1l,r1l,h1l,s0Zp;v0Zp="Poin";v0Zp+="ts";z1l=m1l.chart.scrubbed;if(z1l.length < m1l.days + 1){m1l.error=! !{};return;}X1l=m1l.inputs.Field;if(!X1l || X1l == "field"){X1l="Close";}o1l=m1l.inputs["Points Or Percent"];if(!o1l){o1l=v0Zp;}T1l=m1l.inputs["Moving Average Type"];if(!T1l){T1l="exponential";}T5K.Studies.MA(T1l,m1l.days,X1l,0,"_MA",W1l,m1l);i1l=m1l.name + "_hist";for(var q1l=Math.max(m1l.startFrom,m1l.days - 1);q1l < z1l.length;q1l++){S0Zp="_";S0Zp+="MA";S0Zp+=" ";c1l=z1l[q1l];r1l=c1l[X1l];if(r1l && typeof r1l == "object"){r1l=r1l[m1l.subField];}h1l=c1l[S0Zp + m1l.name];if(h1l || h1l === +"0"){s0Zp="P";s0Zp+="oints";if(o1l == s0Zp){R9EE.r1kc(4);c1l[i1l]=R9EE.n1kc(h1l,r1l);}else {R9EE.r1kc(72);c1l[i1l]=R9EE.j1kc(h1l,r1l,"1",100);}}}m1l.outputMap={};m1l.outputMap[m1l.name + "_hist"]="";};T5K.Studies.studyLibrary=T5K.extend(T5K.Studies.studyLibrary,{"MA Env":{name:U0Zp,overlay:! !1,seriesFN:T5K.Studies.displayChannel,calculateFN:T5K.Studies.calculateMAEnvelope,inputs:{Period:50,Field:"field","Shift Type":[g0Zp,G0Zp],Shift:5,"Moving Average Type":C0Zp,"Channel Fill":!""},outputs:{"MA Env Top":"auto","MA Env Median":"auto","MA Env Bottom":"auto"},attributes:{Shift:{min:0.1,step:0.1}}},"MA Dev":{name:"Moving Average Deviation",calculateFN:T5K.Studies.calculateMADev,seriesFN:T5K.Studies.displayHistogramWithSeries,inputs:{Period:12,Field:a0Zp,"Moving Average Type":e0Zp,"Points Or Percent":["Points",k0Zp]},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}},"High Low":{name:"High Low Bands",overlay:! !{},seriesFN:T5K.Studies.displayChannel,calculateFN:function(t1l,O1l){O1l.inputs["Moving Average Type"]="triangular";T5K.Studies.calculateMAEnvelope(t1l,O1l);},inputs:{Period:10,Field:J0Zp,"Shift Percentage":"5" - 0,"Channel Fill":! ![]},outputs:{"High Low Top":x0Zp,"High Low Median":m0Zp,"High Low Bottom":Y0Zp},attributes:{"Shift Percentage":{min:0.1,step:0.1}}}});}};B3n=e1l=>{var H17m=R9EE;var s70,U70,g70,G1l,A0Zp;H17m.N1kc(16);s70=-H17m.j1kc(1,"20549846");U70=-774230070;g70=2;for(var C70=+"1";H17m.M00(C70.toString(),C70.toString().length,17144) !== s70;C70++){G1l=~_CIQ == ""?_CIQ:e1l.CIQ;g70+=2;}if(H17m.h50(g70.toString(),g70.toString().length,6492) !== U70){G1l=typeof _CIQ !== "undefined"?_CIQ:e1l.CIQ;}H17m.z17m();if(!G1l.Studies){console.error("parabolicSAR feature requires first activating studies feature.");}else {A0Zp="Para";A0Zp+="bolic S";A0Zp+="AR";G1l.Studies.calculatePSAR=function(Q1l,N1l){var K1l,M1l,x1l,S1l,H1l,d1l,b1l,B1l,R1l,I1l,J1l;K1l=N1l.chart.scrubbed;M1l=0;H17m.z17m();x1l=null;S1l=!1;function j1l(){M1l=0;x1l=null;S1l=!S1l;}H1l=0;d1l=parseFloat(N1l.inputs["Minimum AF"]);b1l=parseFloat(N1l.inputs["Maximum AF"]);if(N1l.startFrom > 0){H1l=K1l[N1l.startFrom - 1]["Result " + N1l.name];B1l=K1l[N1l.startFrom - ("1" | 0)]["_state " + N1l.name];if(B1l && B1l.length == ("3" | 0)){M1l=B1l[0];x1l=B1l[+"1"];S1l=B1l[2];}}for(var C1l=N1l.startFrom - 1;C1l < K1l.length - "1" * 1;C1l++){if(C1l < 0)continue;if(K1l[C1l].futureTick)break;R1l=H1l;if(S1l){if(!x1l || x1l < K1l[C1l].High){x1l=K1l[C1l].High;H17m.r1kc(2);M1l=Math.min(H17m.j1kc(d1l,M1l),b1l);}H17m.N1kc(73);H1l=H17m.j1kc(R1l,x1l,M1l,R1l);I1l=Math.min(K1l[Math.max(1,C1l) - 1].Low,K1l[C1l].Low);if(H1l > K1l[C1l + 1].Low){H1l=x1l;j1l();}else if(H1l > I1l){H1l=I1l;}}else {if(!x1l || x1l > K1l[C1l].Low){x1l=K1l[C1l].Low;H17m.r1kc(2);M1l=Math.min(H17m.n1kc(d1l,M1l),b1l);}H17m.r1kc(73);H1l=H17m.j1kc(R1l,x1l,M1l,R1l);J1l=Math.max(K1l[Math.max(1,C1l) - 1].High,K1l[C1l].High);if(H1l < K1l[C1l + 1].High){H1l=x1l;j1l();}else if(H1l < J1l){H1l=J1l;}}H17m.r1kc(2);K1l[H17m.n1kc(1,C1l)]["_state " + N1l.name]=[M1l,x1l,S1l];if(!isNaN(K1l[C1l].High) || !isNaN(K1l[C1l].Low)){H17m.N1kc(2);K1l[H17m.j1kc(1,C1l)]["Result " + N1l.name]=H1l;}}};G1l.Studies.studyLibrary=G1l.extend(G1l.Studies.studyLibrary,{PSAR:{name:A0Zp,overlay:!"",calculateFN:G1l.Studies.calculatePSAR,seriesFN:G1l.Studies.displayPSAR2,inputs:{"Minimum AF":0.02,"Maximum AF":0.2}}});}};R3n=s1l=>{var O0Zp,E1l,u0Zp,i0Zp,N0Zp,c0Zp,r0Zp;O0Zp="und";O0Zp+="efi";O0Zp+="n";R9EE.q17m();O0Zp+="ed";E1l=typeof _CIQ !== O0Zp?_CIQ:s1l.CIQ;if(!E1l.Studies){console.error("pivotPoints feature requires first activating studies feature.");}else {u0Zp="#d3";u0Zp+="e";u0Zp+="8ae";i0Zp="#f";i0Zp+="fd0";i0Zp+="cf";N0Zp="#b3";N0Zp+="d987";c0Zp="#e3";c0Zp+="6";c0Zp+="4";c0Zp+="60";r0Zp="#";r0Zp+="6991";r0Zp+="58";E1l.Studies.calculatePivotPoints=function(u1l,p1l){var f0Zp,W0Zp,b0Zp,T0Zp,w0Zp,P0Zp,n1l,P1l,F0Zp,g4l,X4l,V1l,R0Zp,V0Zp,B0Zp,n0Zp,o0Zp,a4l,T4l,L0Zp,d0Zp;f0Zp="_poin";f0Zp+="ters ";W0Zp="1";W0Zp+="5m";W0Zp+="in";b0Zp="mil";function F4l(){V1l.pivotPoint=(V1l.high + V1l.low + n1l[U1l - 1].Close) / +"3";V1l.prevHigh=V1l.high;V1l.prevLow=V1l.low;V1l.hlSpread=V1l.high - V1l.low;V1l.high=V1l.low=0;}b0Zp+="li";b0Zp+="second";T0Zp="se";T0Zp+="c";T0Zp+="o";T0Zp+="nd";w0Zp="se";R9EE.z17m();w0Zp+="co";w0Zp+="n";w0Zp+="d";P0Zp="y";P0Zp+="ear";n1l=p1l.chart.scrubbed;P1l="day";if(u1l.layout.interval == "day"){P1l="month";}else if(E1l.ChartEngine.isDailyInterval(u1l.layout.interval)){P1l=P0Zp;}else if(u1l.layout.interval == w0Zp || u1l.layout.interval == "millisecond" || u1l.layout.timeUnit == T0Zp || u1l.layout.timeUnit == b0Zp){P1l=W0Zp;}else {F0Zp="mi";F0Zp+="n";F0Zp+="ut";F0Zp+="e";g4l=u1l.layout.periodicity;if(u1l.layout.interval != F0Zp){g4l*=u1l.layout.interval;}if(g4l >= 30){P1l="week";}}X4l=null;V1l={pivotPoint:NaN,high:"0" >> 1061820608,low:0,prevHigh:+"0",prevLow:0,hlSpread:0};if(p1l.startFrom > 1 && n1l[p1l.startFrom - 1][f0Zp + p1l.name]){R0Zp="_poin";R0Zp+="te";R0Zp+="rs";R0Zp+=" ";V1l=E1l.clone(n1l[p1l.startFrom - +"1"][R0Zp + p1l.name]);}for(var U1l=Math.max(+"1",p1l.startFrom);U1l < n1l.length;U1l++){V0Zp="_";V0Zp+="p";V0Zp+="o";V0Zp+="inters ";B0Zp="Piv";B0Zp+="o";B0Zp+="t";B0Zp+=" ";n0Zp="1";n0Zp+="5";n0Zp+="mi";n0Zp+="n";o0Zp="y";o0Zp+="e";o0Zp+="a";o0Zp+="r";if(!n1l[U1l - 1])continue;V1l.high=Math.max(V1l.high,n1l[U1l - 1].High);V1l.low=Math.min(V1l.low > 0?V1l.low:n1l[U1l - 1].Low,n1l[U1l - ("1" & 2147483647)].Low);if(p1l.inputs.Continuous){F4l();}else if(P1l == o0Zp && n1l[U1l].DT.getYear() != n1l[U1l - 1].DT.getYear()){F4l();}else if(P1l == "month" && n1l[U1l].DT.getMonth() != n1l[U1l - 1].DT.getMonth()){F4l();}else if(P1l == "week" && n1l[U1l].DT.getDay() < n1l[U1l - 1].DT.getDay()){F4l();}else if(P1l == "day"){if(X4l === null){X4l=E1l.Studies.getMarketOffset({stx:u1l,localQuoteDate:n1l[U1l].DT,shiftToDateBoundary:! ![]});}a4l=new Date(new Date(+n1l[U1l].DT).setMilliseconds(n1l[U1l].DT.getMilliseconds() + X4l));T4l=new Date(new Date(+n1l[U1l - "1" * 1].DT).setMilliseconds(n1l[U1l - 1].DT.getMilliseconds() + X4l));if(T4l.getDate() !== a4l.getDate() && T4l.getDay() !== 0 && u1l.chart.market.isMarketDate(a4l)){X4l=null;F4l();}}else if(P1l == n0Zp && (n1l[U1l].DT.getHours() != n1l[U1l - 1].DT.getHours() || Math.floor(n1l[U1l].DT.getMinutes() / 15) != Math.floor(n1l[U1l - 1].DT.getMinutes() / 15))){F4l();}n1l[U1l][B0Zp + p1l.name]=V1l.pivotPoint;if(p1l.inputs.Type.toLowerCase() == "fibonacci"){L0Zp="Resista";L0Zp+="nce 3 ";d0Zp="Resis";d0Zp+="tance 2 ";n1l[U1l]["Resistance 1 " + p1l.name]=V1l.pivotPoint + 0.382 * V1l.hlSpread;n1l[U1l][d0Zp + p1l.name]=V1l.pivotPoint + 0.618 * V1l.hlSpread;n1l[U1l][L0Zp + p1l.name]=V1l.pivotPoint + V1l.hlSpread;n1l[U1l]["Support 1 " + p1l.name]=V1l.pivotPoint - ("0.382" - 0) * V1l.hlSpread;n1l[U1l]["Support 2 " + p1l.name]=V1l.pivotPoint - "0.618" * 1 * V1l.hlSpread;n1l[U1l]["Support 3 " + p1l.name]=V1l.pivotPoint - V1l.hlSpread;}else {n1l[U1l]["Resistance 1 " + p1l.name]=2 * V1l.pivotPoint - V1l.prevLow;n1l[U1l]["Resistance 2 " + p1l.name]=V1l.pivotPoint + V1l.hlSpread;n1l[U1l]["Resistance 3 " + p1l.name]=V1l.prevHigh + 2 * (V1l.pivotPoint - V1l.prevLow);n1l[U1l]["Support 1 " + p1l.name]=2 * V1l.pivotPoint - V1l.prevHigh;n1l[U1l]["Support 2 " + p1l.name]=V1l.pivotPoint - V1l.hlSpread;n1l[U1l]["Support 3 " + p1l.name]=V1l.prevLow - 2 * (V1l.prevHigh - V1l.pivotPoint);}n1l[U1l][V0Zp + p1l.name]=E1l.clone(V1l);}};E1l.Studies.displayPivotPoints=function(i4l,q4l,t4l){var j0Zp,X0Zp,E0Zp,Q0Zp,O4l,W4l;q4l.noSlopes=!q4l.inputs.Continuous;E1l.Studies.displaySeriesAsLine(i4l,q4l,t4l);if(q4l.inputs.Shading){j0Zp="Sup";j0Zp+="po";j0Zp+="rt ";j0Zp+="2 ";X0Zp="Sup";X0Zp+="port 1 ";E0Zp="Resi";E0Zp+="st";E0Zp+="a";E0Zp+="nce 1";Q0Zp="Re";Q0Zp+="sist";Q0Zp+="ance 1 ";O4l=i4l.panels[q4l.panel];W4l={noSlopes:q4l.noSlopes,opacity:q4l.parameters.opacity?q4l.parameters.opacity:0.2,skipTransform:O4l.name != q4l.chart.name,yAxis:q4l.getYAxis(i4l)};if(!q4l.highlight && i4l.highlightedDraggable){W4l.opacity*=0.3;}E1l.prepareChannelFill(i4l,E1l.extend({panelName:q4l.panel,topBand:"Resistance 3 " + q4l.name,bottomBand:"Resistance 2 " + q4l.name,color:E1l.Studies.determineColor(q4l.outputs["Resistance 3"])},W4l));E1l.prepareChannelFill(i4l,E1l.extend({panelName:q4l.panel,topBand:"Resistance 2 " + q4l.name,bottomBand:Q0Zp + q4l.name,color:E1l.Studies.determineColor(q4l.outputs["Resistance 2"])},W4l));E1l.prepareChannelFill(i4l,E1l.extend({panelName:q4l.panel,topBand:"Resistance 1 " + q4l.name,bottomBand:"Pivot " + q4l.name,color:E1l.Studies.determineColor(q4l.outputs[E0Zp])},W4l));E1l.prepareChannelFill(i4l,E1l.extend({panelName:q4l.panel,topBand:X0Zp + q4l.name,bottomBand:"Pivot " + q4l.name,color:E1l.Studies.determineColor(q4l.outputs["Support 1"])},W4l));E1l.prepareChannelFill(i4l,E1l.extend({panelName:q4l.panel,topBand:j0Zp + q4l.name,bottomBand:"Support 1 " + q4l.name,color:E1l.Studies.determineColor(q4l.outputs["Support 2"])},W4l));E1l.prepareChannelFill(i4l,E1l.extend({panelName:q4l.panel,topBand:"Support 3 " + q4l.name,bottomBand:"Support 2 " + q4l.name,color:E1l.Studies.determineColor(q4l.outputs["Support 3"])},W4l));}};E1l.Studies.studyLibrary=E1l.extend(E1l.Studies.studyLibrary,{"Pivot Points":{name:"Pivot Points",overlay:! !"1",seriesFN:E1l.Studies.displayPivotPoints,calculateFN:E1l.Studies.calculatePivotPoints,inputs:{Type:["standard","fibonacci"],Continuous:!{},Shading:!1},outputs:{Pivot:"auto","Resistance 1":"#b82c0b","Support 1":r0Zp,"Resistance 2":c0Zp,"Support 2":N0Zp,"Resistance 3":i0Zp,"Support 3":u0Zp},parameters:{init:{opacity:0.2}}}});}};d3n=e4l=>{var G4l,Z0Zp,I0Zp;G4l=typeof _CIQ !== "undefined"?_CIQ:e4l.CIQ;R9EE.q17m();if(!G4l.Studies){console.error("prettyGoodOscillator feature requires first activating studies feature.");}else {Z0Zp="au";Z0Zp+="t";Z0Zp+="o";I0Zp="a";I0Zp+="u";I0Zp+="t";I0Zp+="o";G4l.Studies.calculatePrettyGoodOscillator=function(M4l,f4l){var H0Zp,z0Zp,w4l,D0Zp;H0Zp="_";H0Zp+="SMA";R9EE.q17m();z0Zp="tru";z0Zp+="e";z0Zp+="R";z0Zp+="ange";w4l=f4l.chart.scrubbed;if(w4l.length < f4l.days + ("1" & 2147483647)){f4l.error=! !"1";return;}G4l.Studies.MA("exponential",f4l.days,z0Zp,0,"_EMA",M4l,f4l);G4l.Studies.MA("simple",f4l.days,"Close",0,H0Zp,M4l,f4l);for(var N4l=Math.max(1,f4l.startFrom);N4l < w4l.length;N4l++){D0Zp="_EM";D0Zp+="A ";if(!w4l[N4l]["_SMA " + f4l.name] || !w4l[N4l]["_EMA " + f4l.name])continue;w4l[N4l]["Result " + f4l.name]=(w4l[N4l].Close - w4l[N4l]["_SMA " + f4l.name]) / w4l[N4l][D0Zp + f4l.name];}};G4l.Studies.studyLibrary=G4l.extend(G4l.Studies.studyLibrary,{"Pretty Good":{name:"Pretty Good Oscillator",calculateFN:G4l.Studies.calculatePrettyGoodOscillator,parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:3,studyOverBoughtColor:I0Zp,studyOverSoldValue:-3,studyOverSoldColor:Z0Zp}}}});}};b3n=S4l=>{var L4l,l0Zp;L4l=typeof _CIQ !== "undefined"?_CIQ:S4l.CIQ;if(!L4l.Studies){console.error("priceMomentumOscillator feature requires first activating studies feature.");}else {l0Zp="a";l0Zp+="uto";L4l.Studies.calculatePMO=function(Y4l,B4l){var K0Zp,q0Zp,y0Zp,t0Zp,b4l,R4l,A4l,d4l,J4l;K0Zp="expon";K0Zp+="ent";K0Zp+="ial";q0Zp="P";q0Zp+="M";q0Zp+="O";y0Zp="e";y0Zp+="xpo";y0Zp+="nenti";y0Zp+="al";t0Zp="Sig";t0Zp+="nal Period";b4l={Smooth:Number(B4l.inputs["Smoothing Period"]) - 1,Double:Number(B4l.inputs["Double Smoothing Period"]) - 1,Signal:Number(B4l.inputs[t0Zp])};R4l=B4l.chart.scrubbed;if(R4l.length < b4l.Smooth + b4l.Double){B4l.error=! !{};return;}A4l=B4l.inputs.Field;if(!A4l || A4l == "field"){A4l="Close";}for(d4l=B4l.startFrom;d4l < R4l.length;d4l++){if(!R4l[d4l])continue;if(!R4l[d4l - 1])continue;R9EE.r1kc(4);J4l=R4l[R9EE.n1kc(1,d4l)][A4l];if(J4l){R4l[d4l]["_ROCx10 " + B4l.name]=1000 * (R4l[d4l][A4l] / J4l - 1);}}L4l.Studies.MA("exponential",b4l.Smooth,"_ROCx10 " + B4l.name,0,"_EMAx10",Y4l,B4l);L4l.Studies.MA(y0Zp,b4l.Double,"_EMAx10 " + B4l.name,"0" << 384836960,q0Zp,Y4l,B4l);R9EE.z17m();L4l.Studies.MA(K0Zp,b4l.Signal,"PMO " + B4l.name,0,"PMOSignal",Y4l,B4l);B4l.zoneOutput="PMO";};L4l.Studies.studyLibrary=L4l.extend(L4l.Studies.studyLibrary,{PMO:{name:"Price Momentum Oscillator",calculateFN:L4l.Studies.calculatePMO,inputs:{Field:"field","Smoothing Period":35,"Double Smoothing Period":20,"Signal Period":10},outputs:{PMO:l0Zp,PMOSignal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:2.5,studyOverBoughtColor:"auto",studyOverSoldValue:-2.5,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:"0.05"},studyOverSoldValue:{max:"0" & 2147483647,step:"0.05"}}}});}};A3n=k4l=>{var B17m=R9EE;var b04,W04,F04,j4l,O3Zp,A3Zp,Y3Zp,m3Zp,x3Zp,J3Zp,k3Zp;B17m.z17m();B17m.N1kc(4);b04=B17m.n1kc(0,"191682471");W04=-2108276555;F04=2;for(var R04=1;B17m.h50(R04.toString(),R04.toString().length,66157) !== b04;R04++){j4l=+_CIQ === ""?_CIQ:k4l.CIQ;F04+=+"2";}if(B17m.h50(F04.toString(),F04.toString().length,99127) !== W04){j4l=typeof _CIQ !== "undefined"?_CIQ:k4l.CIQ;}if(!j4l.Studies){console.error("priceVolumeOscillator feature requires first activating studies feature.");}else {O3Zp="0";O3Zp+=".1";A3Zp="#00DD0";A3Zp+="0";Y3Zp="v";Y3Zp+="dma";m3Zp="fie";m3Zp+="l";m3Zp+="d";x3Zp="P";x3Zp+="oi";x3Zp+="n";x3Zp+="ts";J3Zp="Volume ";J3Zp+="Oscillato";J3Zp+="r";k3Zp="P";k3Zp+="oi";k3Zp+="n";k3Zp+="ts";j4l.Studies.calculatePriceOscillator=function(X7l,Q4l){var p3Zp,h0Zp,U4l,r7l,p4l,v4l,s4l,M3Zp,P4l,E4l,V4l,n4l,U3Zp,s3Zp,S3Zp,v3Zp,G3Zp,g3Zp;p3Zp="P";p3Zp+="oint";p3Zp+="s Or ";p3Zp+="Percent";h0Zp="Moving ";h0Zp+="Average T";h0Zp+="ype";U4l=Q4l.chart.scrubbed;r7l=Number(Q4l.inputs["Short Cycle"]);p4l=Number(Q4l.inputs["Long Cycle"]);if(U4l.length < Math.max(r7l,p4l) + 1){Q4l.error=!"";return;}v4l=Q4l.inputs.Field;s4l=Q4l.inputs[h0Zp];if(!s4l){s4l="simple";}if(!v4l || v4l == "field"){v4l="Close";}if(Q4l.parameters.isVolume){M3Zp="e";M3Zp+="xponent";M3Zp+="ial";v4l="Volume";s4l=M3Zp;}P4l=Q4l.inputs[p3Zp];if(!P4l){P4l="Percent";}j4l.Studies.MA(s4l,r7l,v4l,0,"_Short MA",X7l,Q4l);j4l.Studies.MA(s4l,p4l,v4l,0,"_Long MA",X7l,Q4l);for(var m7l=Math.max(p4l,Q4l.startFrom);m7l < U4l.length;m7l++){E4l=U4l[m7l];if(!E4l)continue;V4l=E4l["_Short MA " + Q4l.name];n4l=E4l["_Long MA " + Q4l.name];if((V4l || V4l === 0) && (n4l || n4l === 0)){U3Zp="Increasi";U3Zp+="ng Bar";s3Zp="Res";s3Zp+="u";s3Zp+="lt ";S3Zp="Resul";S3Zp+="t ";v3Zp="P";v3Zp+="oints";if(P4l == v3Zp){B17m.N1kc(4);E4l[S3Zp + Q4l.name]=B17m.j1kc(n4l,V4l);}else {B17m.r1kc(74);E4l[s3Zp + Q4l.name]=B17m.j1kc(n4l,100,V4l,1);}if(Q4l.outputs[U3Zp]){G3Zp="R";G3Zp+="esu";G3Zp+="lt";G3Zp+=" ";g3Zp="_his";g3Zp+="t";E4l[Q4l.name + g3Zp]=E4l[G3Zp + Q4l.name];Q4l.outputMap={};Q4l.outputMap[Q4l.name + "_hist"]="";}}}};j4l.Studies.displayRAVI=function(h7l,c7l,T7l){var Z7l,g7l,q7l,i7l,a7l,t7l,l7l,e3Zp,a3Zp,C3Zp,F7l,o7l,W7l,O7l;Z7l=h7l.panels[c7l.panel];g7l=c7l.getContext(h7l);q7l=c7l.getYAxis(h7l);i7l=h7l.pixelFromPrice(0,Z7l,q7l);a7l=h7l.layout.candleWidth - 2;if(a7l < ("2" & 2147483647)){a7l=1;}t7l=j4l.Studies.determineColor(c7l.outputs["Increasing Bar"]);l7l=j4l.Studies.determineColor(c7l.outputs["Decreasing Bar"]);h7l.startClip(c7l.panel);h7l.canvasColor("stx_histogram");if(!c7l.underlay){g7l.globalAlpha=1;}if(!c7l.highlight && h7l.highlightedDraggable){g7l.globalAlpha*=0.3;}for(var z7l=0;z7l < T7l.length;z7l++){e3Zp="#";e3Zp+="CCC";e3Zp+="C";e3Zp+="CC";a3Zp="_";a3Zp+="hi";a3Zp+="st";C3Zp="_";C3Zp+="hi";C3Zp+="s";C3Zp+="t";F7l=T7l[z7l];B17m.r1kc(4);o7l=T7l[B17m.j1kc(1,z7l)];if(!o7l){o7l=h7l.getPreviousBar(h7l.chart,c7l.name + "_hist",z7l);}if(!F7l)continue;W7l=0;O7l=0;if(c7l.parameters && c7l.parameters.studyOverZonesEnabled){W7l=parseFloat(c7l.parameters.studyOverBoughtValue);O7l=parseFloat(c7l.parameters.studyOverSoldValue);}if(!o7l){g7l.fillStyle="#CCCCCC";}else if(F7l[c7l.name + "_hist"] > W7l && o7l[c7l.name + "_hist"] < F7l[c7l.name + C3Zp]){g7l.fillStyle=t7l;}else if(F7l[c7l.name + a3Zp] < O7l && o7l[c7l.name + "_hist"] > F7l[c7l.name + "_hist"]){g7l.fillStyle=l7l;}else {g7l.fillStyle=e3Zp;}if(F7l.candleWidth){a7l=Math.floor(Math.max(1,F7l.candleWidth - 2));}g7l.fillRect(Math.floor(h7l.pixelFromBar(z7l,Z7l.chart) - a7l / 2),Math.floor(i7l),Math.floor(a7l),Math.floor(h7l.pixelFromPrice(F7l[c7l.name + "_hist"],Z7l,q7l) - i7l));}h7l.endClip();};j4l.Studies.studyLibrary=j4l.extend(j4l.Studies.studyLibrary,{"Price Osc":{name:"Price Oscillator",calculateFN:j4l.Studies.calculatePriceOscillator,inputs:{Field:"field","Short Cycle":+"12","Long Cycle":26,"Moving Average Type":"ema","Points Or Percent":[k3Zp,"Percent"]}},"Vol Osc":{name:J3Zp,calculateFN:j4l.Studies.calculatePriceOscillator,inputs:{"Short Cycle":12,"Long Cycle":26,"Points Or Percent":[x3Zp,"Percent"]},parameters:{init:{isVolume:! !1}}},RAVI:{name:"RAVI",seriesFN:j4l.Studies.displayRAVI,calculateFN:j4l.Studies.calculatePriceOscillator,inputs:{Field:m3Zp,"Moving Average Type":Y3Zp,"Short Cycle":"7" << 1541558368,"Long Cycle":65},outputs:{"Increasing Bar":A3Zp,"Decreasing Bar":"#FF0000"},centerline:0,parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:+"3",studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:"0.1"},studyOverSoldValue:{max:0,step:O3Zp}}}});}};Y3n=y7l=>{var G7l,P3Zp,w3Zp;G7l=typeof _CIQ !== "undefined"?_CIQ:y7l.CIQ;if(!G7l.Studies){P3Zp="primeNumber feature requires f";P3Zp+="irst activating studies feature.";console.error(P3Zp);}else {w3Zp="a";w3Zp+="u";w3Zp+="t";w3Zp+="o";G7l.Studies.calculatePrimeNumber=function(d7l,C7l){R9EE.z17m();var x7l,M7l,f7l,K7l,e7l,H7l,B7l,R7l;x7l=[];M7l=C7l.chart.scrubbed;for(var N7l=C7l.startFrom;N7l < M7l.length;N7l++){f7l=M7l[N7l];if(!f7l)continue;K7l=f7l.High;if(!isNaN(K7l)){for(var L7l=0;K7l > 0 && K7l <= 10;L7l++){K7l*=10;}if(w7l(K7l)){K7l+=2;}K7l=Math.ceil(K7l);if(K7l % 2 === 0){K7l++;}while(!w7l(K7l)){K7l+=2;}K7l/=Math.pow(10,L7l);}e7l=f7l.Low;if(!isNaN(e7l)){for(var S7l=0;e7l > ("0" ^ 0) && e7l <= 10;S7l++){e7l*=10;}if(w7l(e7l)){e7l-=2;}e7l=Math.floor(e7l);if(e7l % 2 === 0){e7l--;}if(e7l > 0){while(!w7l(e7l)){e7l-=2;}e7l/=Math.pow(10,S7l);}}if(C7l.type == "Prime Number Bands"){if(!isNaN(K7l)){f7l["Prime Bands Top " + C7l.name]=K7l;}if(!isNaN(e7l)){f7l["Prime Bands Bottom " + C7l.name]=Math.max(0,e7l);}}else {H7l=0;B7l=C7l.inputs["Tolerance Percentage"] * (K7l - e7l) / +"100";R7l=K7l + e7l - 2 * f7l.Close;if(R7l < B7l){H7l=+"1";}else if(R7l > B7l){H7l=-1;}if(H7l){f7l["Result " + C7l.name]=H7l;}}}function w7l(b7l){var Y7l;if(b7l <= "0" - 0){return ! !"";}else if(b7l != Math.floor(b7l)){return ![];}else if(x7l[b7l] === ! ![] || x7l[b7l] === !{}){return x7l[b7l];}Y7l=parseInt(Math.sqrt(b7l),10);for(var A7l=2;A7l <= Y7l;A7l++){if(b7l % A7l === 0){x7l[b7l]=!"1";return !1;}}x7l[b7l]=! !"1";return !"";}};G7l.Studies.studyLibrary=G7l.extend(G7l.Studies.studyLibrary,{"Prime Number":{name:"Prime Number Oscillator",range:"-1 to 1",calculateFN:G7l.Studies.calculatePrimeNumber,centerline:0,inputs:{"Tolerance Percentage":5},attributes:{"Tolerance Percentage":{min:0.1,step:0.1}}},"Prime Number Bands":{name:"Prime Number Bands",overlay:! !"1",calculateFN:G7l.Studies.calculatePrimeNumber,seriesFN:G7l.Studies.displayChannel,inputs:{"Channel Fill":! !"1"},outputs:{"Prime Bands Top":"auto","Prime Bands Bottom":w3Zp,"Prime Bands Channel":"auto"}}});}};I3n=J7l=>{var I7l,T3Zp,Q3Zp,V3Zp,L3Zp;I7l=typeof _CIQ !== "undefined"?_CIQ:J7l.CIQ;if(!I7l.Studies){T3Zp="pring feature requ";T3Zp+="ires first activating studies feature.";console.error(T3Zp);}else {Q3Zp="Prin";Q3Zp+="g";Q3Zp+="'s Special";Q3Zp+=" K";V3Zp="#FF000";V3Zp+="0";L3Zp="#0";L3Zp+="0";L3Zp+="DD";L3Zp+="00";I7l.Studies.calculateKST=function(n7l,j7l){var n3Zp,f3Zp,F3Zp,W3Zp,b3Zp,D7l,v7l,E7l,s7l,U7l,Q7l,k7l,R3Zp,o3Zp,V7l;n3Zp="K";n3Zp+="S";n3Zp+="T";n3Zp+=" ";f3Zp="Heaviest SMA ";f3Zp+="P";f3Zp+="eriod";F3Zp="Light SMA P";F3Zp+="er";F3Zp+="iod";W3Zp="Heavy Rate";R9EE.q17m();W3Zp+=" of Change Period";b3Zp="C";b3Zp+="lose";D7l=j7l.chart.scrubbed;v7l=j7l.inputs.Field;if(!v7l || v7l == "field"){v7l=b3Zp;}E7l={};s7l={};E7l[1]=Number(j7l.inputs["Lightest Rate of Change Period"]);E7l[2]=Number(j7l.inputs["Light Rate of Change Period"]);E7l[3]=Number(j7l.inputs[W3Zp]);E7l[+"4"]=Number(j7l.inputs["Heaviest Rate of Change Period"]);s7l[1]=Number(j7l.inputs["Lightest SMA Period"]);s7l[2]=Number(j7l.inputs[F3Zp]);s7l[3]=Number(j7l.inputs["Heavy SMA Period"]);s7l[4]=Number(j7l.inputs[f3Zp]);U7l=Number(j7l.inputs["Signal Period"]);for(Q7l=j7l.startFrom;Q7l < D7l.length;Q7l++){if(!D7l[Q7l])continue;for(k7l=+"1";k7l <= +"4";k7l++){if(Q7l >= E7l[k7l] && D7l[Q7l - E7l[k7l]] && D7l[Q7l - E7l[k7l]][v7l]){D7l[Q7l]["_ROC" + k7l + (7354 == (2570,8080)?(0x14d8,"d"):(6927,7290) <= 6238?"280.82" * 1:" ") + j7l.name]=100 * (D7l[Q7l][v7l] / D7l[Q7l - E7l[k7l]][v7l] - 1);}}}for(k7l=+"1";k7l <= 4;k7l++){R3Zp="_SM";R3Zp+="A";I7l.Studies.MA("simple",s7l[k7l],"_ROC" + k7l + (591.68 != (2670,403)?" ":"9.55e+3" | 9230) + j7l.name,"0" * 1,R3Zp + k7l,n7l,j7l);}for(Q7l=j7l.startFrom;Q7l < D7l.length;Q7l++){D7l[Q7l]["KST " + j7l.name]=null;for(k7l=1;k7l <= 4;k7l++){o3Zp="_SM";o3Zp+="A";V7l=D7l[Q7l][o3Zp + k7l + ((1818,7160) >= +"542"?(870,1682) >= (261,946.16)?" ":0x16c1:!"") + j7l.name];if(V7l || V7l === 0){R9EE.r1kc(16);D7l[Q7l]["KST " + j7l.name]+=R9EE.n1kc(V7l,k7l);}}}I7l.Studies.MA("simple",U7l,n3Zp + j7l.name,0,"KSTSignal",n7l,j7l);};I7l.Studies.calculateSpecialK=function(g8l,r8l){var P7l,X8l,m8l,c8l,h8l,u7l,p7l,d3Zp,B3Zp,F8l;P7l=r8l.chart.scrubbed;X8l=r8l.inputs.Field;if(!X8l || X8l == "field"){X8l="Close";}m8l=r8l.inputs.Interval;if(!m8l){m8l="daily";}c8l={daily:[10,15,20,30,50,65,"75" >> 1207101248,100,195,265,390,530],weekly:[4,5,6,8,+"10",13,+"15",20,39,52,78,+"104"]};h8l={daily:[10,10,10,15,50,+"65",75,"100" * 1,130,+"130",130,195],weekly:[4,5,6,8,10,13,15,20,26,26,26,39]};for(u7l=r8l.startFrom;u7l < P7l.length;u7l++){if(!P7l[u7l])continue;for(p7l=0;p7l < c8l[m8l].length;p7l++){if(u7l >= c8l[m8l][p7l] && P7l[u7l - c8l[m8l][p7l]] && P7l[u7l - c8l[m8l][p7l]][X8l]){P7l[u7l]["_ROC" + p7l + ((9155,1460) <= +"1660"?" ":(+"0xd20",! !"")) + r8l.name]=100 * (P7l[u7l][X8l] / P7l[u7l - c8l[m8l][p7l]][X8l] - 1);}}}for(p7l=0;p7l < h8l[m8l].length;p7l++){d3Zp="_R";d3Zp+="OC";B3Zp="s";B3Zp+="im";B3Zp+="p";B3Zp+="le";I7l.Studies.MA(m8l == "daily"?B3Zp:"exponential",h8l[m8l][p7l],d3Zp + p7l + " " + r8l.name,"0" << 128188704,"_MA" + p7l,g8l,r8l);}for(u7l=r8l.startFrom;u7l < P7l.length;u7l++){P7l[u7l]["Result " + r8l.name]=null;for(p7l=0;p7l < h8l[m8l].length;p7l++){F8l=P7l[u7l]["_MA" + p7l + (400.78 === (516.84,4090)?0x22a3:" ") + r8l.name];if(F8l || F8l === 0){R9EE.r1kc(75);P7l[u7l]["Result " + r8l.name]+=R9EE.n1kc(F8l,4,"1",p7l);}}}};I7l.Studies.studyLibrary=I7l.extend(I7l.Studies.studyLibrary,{"Pring KST":{name:"Pring's Know Sure Thing",calculateFN:I7l.Studies.calculateKST,inputs:{Field:"field","Lightest Rate of Change Period":10,"Lightest SMA Period":10,"Light Rate of Change Period":+"15","Light SMA Period":10,"Heavy Rate of Change Period":20,"Heavy SMA Period":10,"Heaviest Rate of Change Period":30,"Heaviest SMA Period":15,"Signal Period":9},outputs:{KST:L3Zp,KSTSignal:V3Zp}},"Pring Sp-K":{name:Q3Zp,calculateFN:I7l.Studies.calculateSpecialK,inputs:{Field:"field",Interval:["daily","weekly"]}}});}};J3n=a8l=>{var E3Zp,z8l,o8l,K3Zp,q3Zp,y3Zp,t3Zp,Z3Zp,I3Zp,D3Zp,H3Zp;E3Zp="un";E3Zp+="def";E3Zp+="i";E3Zp+="ned";z8l=typeof _CIQ !== "undefined"?_CIQ:a8l.CIQ;o8l=typeof _timezoneJS !== E3Zp?_timezoneJS:a8l.timezoneJS;if(!z8l.Studies){console.error("projectedVolume feature requires first activating studies feature.");}else {K3Zp="Pro";K3Zp+="jected Aggregate Vo";K3Zp+="lume";q3Zp="hh:m";q3Zp+="m:";q3Zp+="s";q3Zp+="s";y3Zp="#b";y3Zp+="82c";y3Zp+="0";y3Zp+="c";t3Zp="-";t3Zp+="25";t3Zp+="%";Z3Zp="+";Z3Zp+="2";Z3Zp+="5";Z3Zp+="%";I3Zp="+";I3Zp+="10";I3Zp+="0%";D3Zp="+1";D3Zp+="2";D3Zp+="5";D3Zp+="%";H3Zp="Pr";H3Zp+="ojec";H3Zp+="ted";H3Zp+=" Volume at Time";z8l.Studies.initProjectedVolume=function(q8l,O8l,T8l,t8l,l8l,G8l){var Z8l,X3Zp,W8l;var {market:i8l}=q8l.chart;Z8l="00:00";if(i8l){Z8l=i8l.getNormalOpen();}if(Z8l.match(/^[\d]{2}:[\d]{2}$/)){Z8l+=":00";}R9EE.q17m();if(!T8l["Anchor Time"] || !T8l["Anchor Time"].length){X3Zp="A";X3Zp+="ncho";X3Zp+="r Tim";X3Zp+="e";T8l[X3Zp]=Z8l;}W8l=z8l.Studies.initializeFN(q8l,O8l,T8l,t8l,l8l,G8l);if(!q8l.currentlyImporting){W8l.defaultAnchorTime=Z8l;}return W8l;};z8l.Studies.validateProjectedVolumeLookback=function(f8l,C8l){var {interval:y8l, periodicity:e8l}=f8l.layout;R9EE.q17m();var {"Lookback Days":K8l}=C8l.inputs;R9EE.r1kc(76);return R9EE.n1kc(10,e8l,y8l,K8l);};z8l.Studies.calculateProjectedVolume=function(w8l,x8l){var v97m=R9EE;var t5l,b8l,F54,f54,R54,j8l,j3Zp,G5l,y5l,X5l,c5l,N8l,h5l,k5l,M8l,F5l,g5l,e5l,z5l,A8l,a5l,Q5l,d8l,D5l,s8l,L8l,p8l,B8l,k8l,f5l,C5l,x5l,H5l,Z5l,T5l,m5l,s5l,w5l,Q8l,D8l,r5l,V5l,r3Zp,q5l,c3Zp,S8l,N5l,M5l,i5l,L5l,V8l;var {interval:b5l, timeUnit:W5l, aggregationType:O5l}=w8l.layout;var {symbol:A5l, scroll:Y5l, scrubbed:H8l, market:R8l}=w8l.chart;t5l=x8l.type === "PAV";b8l=x8l.study?x8l.study.name:x8l.type;function d5l(g0l){var N3Zp;v97m.q17m();N3Zp="sc";N3Zp+="ru";N3Zp+="bb";N3Zp+="ed";return w8l.dateFromTick(g0l,null,! !1,N3Zp);}if(z8l.ChartEngine.isDailyInterval(b5l)){x8l.error=`${b8l} is Intraday Only`;}else if(W5l === "tick"){x8l.error=`Tick mode not supported for ${b8l}`;}else if(W5l !== "minute"){x8l.error=`Sub-minute periodicities not supported for ${b8l}`;}else if(!O5l || !["ohlc","heikinashi"].includes(O5l)){v97m.N1kc(21);F54=-v97m.j1kc("1245959320",97428608);v97m.r1kc(1);f54=v97m.n1kc("534835719",0);R54=2;for(var n54=1;v97m.M00(n54.toString(),n54.toString().length,52004) !== F54;n54++){x8l.error=`Aggregation type not supported for ${b8l}`;R54+=2;}if(v97m.M00(R54.toString(),R54.toString().length,67086) !== f54){x8l.error=`Aggregation type not supported for ${b8l}`;}x8l.error=`Aggregation type not supported for ${b8l}`;}else if(!z8l.Studies.validateProjectedVolumeLookback(w8l,x8l)){x8l.error=`Selected lookback/periodicity combo not supported for ${b8l}`;}if(x8l.error){return;}if(x8l.inputs["Anchor Selector"]){z8l.Studies.initAnchorHandle(w8l,x8l);}else {z8l.Studies.removeAnchorHandle(w8l,x8l);}function R5l(F0l){return w8l.tickFromDate(F0l,null,null,! !{},"scrubbed");}j8l=R8l?R8l.getNormalOpen():"00:00";if(j8l.match(/^[\d]{2}:[\d]{2}$/)){j8l+=":00";}function B5l(X0l,c0l,h0l){while(c0l){X0l=new Date(new Date(X0l).setDate(X0l.getDate() + (h0l?1:-1)));if(R8l.isMarketDate(X0l)){c0l--;}}return X0l;}if(!w8l.currentlyImporting && j8l !== x8l.defaultAnchorTime){j3Zp="An";j3Zp+="chor Time";x8l.defaultAnchorTime=j8l;x8l.inputs[j3Zp]=j8l;z8l.Studies.repositionAnchor(w8l,x8l);return;}var {"Lookback Days":U8l, "Anchor Time":I5l}=x8l.inputs;var [J5l,j5l,l5l = 0]=I5l.split(":");G5l=z8l.Market.Symbology.isForexSymbol(A5l);y5l=x8l.getDependents(w8l);function S5l(m0l){console.error(`Expected data for ${d5l(m0l).toDateString()} but found none. This may be caused by gaps in your data or an improperly configured market definition.`);}X5l=0;c5l=[];y5l.forEach(({inputs:U5l, outputMap:p5l})=>{v97m.q17m();if(U5l.Period){X5l=Math.max(parseInt(U5l.Period),X5l);c5l.push(...Object.keys(p5l));}});x8l.dependentsOutputMap=c5l;h5l=n8l(H8l.length - 1,! ![]);k5l=Math.ceil(H8l.length - "1" * 1 - Y5l);v97m.r1kc(4);M8l=n8l(v97m.j1kc(X5l,k5l));if(G5l && H8l[M8l] && z8l.dateToStr(H8l[M8l].DT,"HH:mm") !== j8l){v97m.r1kc(4);M8l=n8l(v97m.n1kc(1,M8l));;}if(!G5l && x8l.startFrom > M8l && H8l[M8l] && H8l[M8l]["V " + x8l.name] !== undefined && c5l.every(u5l=>{return ![undefined,null].includes(H8l[M8l][u5l]);}) && h5l !== !{}){N8l=h5l;;}else {N8l=M8l;}function E8l(r0l){return {hours:r0l.getHours(),minutes:r0l.getMinutes()};}function n8l(q0l,i0l){var Z0l,T0l,o0l;Z0l=d5l(q0l);T0l=R8l.getOpen(Z0l) || n5l(Z0l);o0l=R5l(T0l);if(!i0l){return o0l;}if(o0l < 0){o0l=R5l(B5l(T0l,1,! ![]));}if(o0l >= H8l.length){return !{};}return o0l;}F5l=B5l(d5l(M8l),U8l);F5l.setHours(0,0,0);g5l=n8l(0,! ![]);e5l=(g5l || g5l === 0) && R5l(B5l(H8l[g5l].DT,U8l,! ![]));if(H8l["0" & 2147483647].DT > F5l){if(w8l.quoteDriver){w8l.quoteDriver.extendHistoricalData({from:F5l});if(e5l > 0){N8l=e5l;}else {return;}}else {return x8l.error=`Not enough data to calculate ${b8l}`;}}if(N8l < 0 || N8l > H8l.length - 1){return;}function n5l(z0l){var a0l;v97m.r1kc(4);z0l.setHours(v97m.j1kc(0,"0"));z0l.setMinutes(0);a0l=z8l.Studies.getMarketOffset({stx:w8l,localQuoteDate:z0l});return new Date(z0l.getTime() + a0l);}z5l=H8l.length - x8l.startFrom === 1 && x8l.cachedFutureTicks && x8l.cachedLastProjection && +x8l.cachedLastProjection.DT === +H8l[H8l.length - 1].DT && H8l[N8l]["PV " + x8l.name];if(z5l){H8l[H8l.length - 1]["PV " + x8l.name]=x8l.cachedLastProjection.projectedValue;x8l.appendFutureTicks(w8l,x8l.cachedFutureTicks);N8l=x8l.startFrom;}else {x8l.cachedFutureTicks=null;x8l.cachedLastProjection=null;A8l=[h5l];a5l=[];for(var K5l=0;K5l < U8l;K5l++){Q5l=n8l(A8l[0] - 1);A8l.unshift(Q5l);;}while(A8l[U8l] >= N8l){d8l=A8l.pop();if(!H8l[d8l]){return S5l(d8l);}D5l=E8l(H8l[d8l].DT);var {hours:Y8l, minutes:v8l}=D5l;s8l=R8l.getClose(H8l[d8l].DT);L8l=void 0;if(!s8l){L8l={hours:24,minutes:0};}else {p8l=R8l.getNextClose(H8l[d8l].DT);L8l=E8l(s8l);while(!(L8l.hours === +"0" && L8l.minutes === 0) && s8l.getDate() === p8l.getDate()){s8l=p8l;p8l=R8l.getNextClose(p8l);}L8l=E8l(s8l);if(L8l.hours === 0){L8l.hours=24;}}B8l=A8l.slice();for(var u8l=0;u8l < B8l.length;u8l++){k8l=B8l[u8l];if(!H8l[k8l]){return S5l(k8l);}var {hours:P8l, minutes:o5l}=E8l(H8l[k8l].DT);if(P8l < Y8l || P8l === Y8l && o5l < v8l){do {k8l++;({hours:P8l, minutes:o5l}=E8l(H8l[k8l].DT));}while(!(P8l === Y8l && o5l === v8l));}B8l[u8l]=k8l;}while(Y8l < L8l.hours || Y8l === L8l.hours && v8l < L8l.minutes){f5l=![];C5l=void 0;x5l=void 0;H5l=0;Z5l=0;for(var I8l=0;I8l < B8l.length;I8l++){T5l=B8l[I8l];if(T5l === null)continue;m5l=H8l[T5l];if(!m5l){return S5l(T5l);}var {hours:E5l, minutes:v5l}=E8l(m5l.DT);s5l=m5l.DT.getDate();if(E5l === Y8l && v5l === v8l){H5l+=m5l.Volume;Z5l++;B8l[I8l]++;if(H8l[B8l[I8l]].DT.getDate() !== s5l){B8l[I8l]=null;}else if(!f5l){({hours:C5l, minutes:x5l}=E8l(H8l[B8l[I8l]].DT));f5l=! !{};;}}}Y8l=C5l;v8l=x5l;if(Z5l === 0)break;v97m.r1kc(10);w5l=v97m.j1kc(Z5l,H5l);if(H8l[d8l]){H8l[d8l]["PV " + x8l.name]=w5l;}else {a5l.push({["PV " + x8l.name]:w5l});}d8l++;}A8l.unshift(n8l(A8l[0] - +"1"));;}x8l.cachedLastProjection={DT:H8l[H8l.length - 1].DT,projectedValue:H8l[H8l.length - ("1" >> 1136315072)]["PV " + x8l.name]};x8l.cachedFutureTicks=a5l;x8l.appendFutureTicks(w8l,a5l);}Q8l=null;D8l=+"0";r5l=0;if(z5l && t5l){while(N8l > 0){r3Zp="V";r3Zp+=" ";v97m.N1kc(77);q5l=H8l[v97m.n1kc("1",2147483647,N8l)][r3Zp + x8l.name];if(q5l || q5l === 0){D8l=q5l;break;}N8l--;}}for(var J8l=N8l;J8l < H8l.length;J8l++){c3Zp="Ameri";c3Zp+="ca/New_Y";c3Zp+="ork";S8l=H8l[J8l];N5l=S8l.Volume;M5l=S8l["PV " + x8l.name];if(!S8l.futureTick){V5l=J8l;}if(Q8l === null){Q8l=z8l.Studies.getMarketOffset({stx:w8l,localQuoteDate:H8l[J8l].DT,shiftToDateBoundary:! !"1"});}i5l=new Date(new Date(S8l.DT).getTime() + Q8l);L5l=H8l[J8l - 1] && new Date(new Date(H8l[J8l - 1].DT).getTime() + Q8l);V8l=new o8l.Date(S8l.DT,R8l.market_def.market_tz || c3Zp);V8l.setHours(J5l,j5l,l5l);v97m.N1kc(2);V8l=new Date(v97m.n1kc(Q8l,V8l));V8l.setDate(i5l.getDate());if(L5l && i5l.getDate() !== L5l.getDate()){Q8l=null;v97m.N1kc(0);D8l=v97m.j1kc("0",2147483647);r5l=0;}if(i5l < V8l){S8l["V " + x8l.name]=0;v97m.r1kc(27);S8l["PV " + x8l.name]=v97m.n1kc(1550270880,"0");continue;}if(t5l){D8l+=N5l;r5l+=M5l;}else {D8l=N5l;r5l=M5l;}S8l["V " + x8l.name]=D8l;if(!z5l){S8l["PV " + x8l.name]=r5l;}if([NaN,null,undefined].includes(D8l) && !S8l.futureTick){x8l.error=`${b8l} requires volume`;return;}}x8l.cachedLastProjection.projectedValue=H8l[V5l]["PV " + x8l.name];x8l.outputMap={};x8l.outputMap["V " + x8l.name]="";x8l.outputMap["PV " + x8l.name]="Average Line";y5l.forEach(P5l=>{P5l.startFrom=N8l;v97m.q17m();P5l.study.calculateFN(w8l,P5l);});};z8l.Studies.displayProjectedVolume=function(O0l,W0l,t0l){var i3Zp,y0l,l0l,e0l,K0l,f0l,x0l,H0l;i3Zp="stx_vo";i3Zp+="lume_underlay_down";if(W0l.error){return z8l.Studies.removeAnchorHandle(O0l,W0l);}var {"Alert Threshold":G0l = ""}=W0l.inputs;y0l=parseInt(G0l.slice(0,-("1" << 1883313760)),10) / 100;l0l=W0l.outputs["Alert Bar"];if(typeof l0l === "object"){l0l=l0l.color;}W0l.volumeField="V " + W0l.name;W0l.plotStepLine=! !{};W0l.alignStepToSide=! ![];W0l.extendToEndOfLastBar=! !{};W0l.lineWidth=2;e0l=O0l.canvasStyle("stx_volume_underlay_up").opacity;K0l=O0l.canvasStyle(i3Zp).opacity;W0l.colorFunction=function(N0l){var P27m=R9EE;var u3Zp,b0l,w0l,A0l,M0l,L0l,S0l;u3Zp="V";u3Zp+=" ";var {Open:B0l, Close:R0l, iqPrevClose:d0l}=N0l;b0l=O0l.colorByCandleDirection?B0l:d0l;P27m.r1kc(78);w0l=P27m.n1kc(R0l,b0l);A0l=N0l["PV " + W0l.name];M0l=N0l[u3Zp + W0l.name];P27m.r1kc(79);L0l=P27m.j1kc(1,A0l,y0l);P27m.q17m();S0l=y0l < 0?M0l < L0l:M0l > L0l;return {fill_color:S0l && l0l || (w0l?this.fill_color_down:this.fill_color_up),border_color:w0l?this.border_color_down:this.border_color_up,opacity:S0l?+"1":w0l?K0l:e0l,border_opacity:w0l?K0l:e0l};};f0l=W0l.study?W0l.study.name:W0l.type;var {loadingMore:C0l}=O0l.chart;x0l=t0l.some(Y0l=>{var z3Zp;z3Zp="P";z3Zp+="V";z3Zp+=" ";return Y0l && Y0l[W0l.volumeField] && Y0l[z3Zp + W0l.name];});H0l=t0l[+"0"] && !t0l[0].futureTick && (t0l[0]["PV " + W0l.name] === undefined || (W0l.dependentsOutputMap || []).some(I0l=>{return [undefined,null].includes(t0l[0][I0l]);}));if(!x0l && C0l){return W0l.error=`Fetching data for ${f0l}`;}z8l.Studies.createVolumeChart(O0l,W0l,t0l);z8l.Studies.displaySeriesAsLine(O0l,W0l,t0l);if(W0l.anchorHandle){z8l.Studies.displayAnchorHandleAndLine(O0l,W0l,t0l);}if(H0l){z8l.Studies.calculateProjectedVolume(O0l,W0l);}};z8l.Studies.studyLibrary=z8l.extend(z8l.Studies.studyLibrary,{PVAT:{name:H3Zp,range:"0 to max",yAxis:{ground:! !1,initialMarginTop:0,zoom:0},calculateFN:z8l.Studies.calculateProjectedVolume,seriesFN:z8l.Studies.displayProjectedVolume,initializeFN:z8l.Studies.initProjectedVolume,removeFN:z8l.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Alert Threshold":["+150%",D3Zp,I3Zp,"+75%","+50%",Z3Zp,"None",t3Zp,"-50%","-75%","-100%","-125%","-150%"],"Anchor Selector":! ![]},outputs:{"Average Line":"#fe641c","Alert Bar":"#cfbd0e","Up Volume":"#8cc176","Down Volume":y3Zp},attributes:{"Anchor Time":{placeholder:q3Zp,step:1},"Alert Threshold":{defaultSelected:"+50%"}}},PAV:{name:K3Zp,range:"0 to max",yAxis:{ground:! ![],initialMarginTop:0,zoom:"0" & 2147483647},calculateFN:z8l.Studies.calculateProjectedVolume,seriesFN:z8l.Studies.displayProjectedVolume,initializeFN:z8l.Studies.initProjectedVolume,removeFN:z8l.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Anchor Selector":!0},outputs:{"Average Line":"#fe641c","Up Volume":"#8cc176","Down Volume":"#b82c0c"},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:1}}}});}};j3n=j0l=>{var J0l,l3Zp,p7Zp,M7Zp;J0l=typeof _CIQ !== "undefined"?_CIQ:j0l.CIQ;if(!J0l.Studies){l3Zp="psychologicalLine feature requires first activating stu";l3Zp+="dies";l3Zp+=" fea";l3Zp+="ture.";console.error(l3Zp);}else {p7Zp="0 to ";p7Zp+="100";M7Zp="Psychologi";M7Zp+="cal L";M7Zp+="ine";J0l.Studies.calculatePsychologicalLine=function(n0l,k0l){var D0l,E0l,s0l,v0l,h3Zp,V0l;D0l=k0l.chart.scrubbed;if(D0l.length < k0l.days + 1){k0l.error=!0;return;}E0l=[];s0l=100 / k0l.days;v0l=0;for(var Q0l=Math.max(k0l.startFrom - k0l.days,"1" - 0);Q0l < D0l.length;Q0l++){h3Zp="Re";h3Zp+="sult";h3Zp+=" ";if(D0l[Q0l].futureTick)break;V0l=Number(D0l[Q0l].Close > D0l[Q0l - 1].Close);if(V0l){v0l+=s0l;}E0l.push(V0l);if(E0l.length > k0l.days){v0l-=E0l.shift() * s0l;}if(Q0l < k0l.startFrom)continue;if(!isNaN(D0l[Q0l].Close)){D0l[Q0l][h3Zp + k0l.name]=v0l;}}};J0l.Studies.studyLibrary=J0l.extend(J0l.Studies.studyLibrary,{PSY:{name:M7Zp,range:p7Zp,calculateFN:J0l.Studies.calculatePsychologicalLine,inputs:{Period:20}}});}};k3n=p0l=>{var U0l;U0l=typeof _CIQ !== "undefined"?_CIQ:p0l.CIQ;if(!U0l.Studies){console.error("qstick feature requires first activating studies feature.");}else {U0l.Studies.calculateQStick=function(r6l,u0l){var P0l;P0l=u0l.chart.scrubbed;if(P0l.length < u0l.days + 1){u0l.error=! !"1";return;}for(var m6l=u0l.startFrom;m6l < P0l.length;m6l++){P0l[m6l]["_Close-Open " + u0l.name]=P0l[m6l].Close - P0l[m6l].Open;}U0l.Studies.MA(u0l.inputs["Moving Average Type"],u0l.days,"_Close-Open " + u0l.name,+"0","Result",r6l,u0l);};U0l.Studies.studyLibrary=U0l.extend(U0l.Studies.studyLibrary,{QStick:{name:"QStick",calculateFN:U0l.Studies.calculateQStick,inputs:{Period:8,"Moving Average Type":"ma"}}});}};Q3n=c6l=>{var X6l,v7Zp,m7Zp,x7Zp;X6l=typeof _CIQ !== "undefined"?_CIQ:c6l.CIQ;if(!X6l.Studies){v7Zp="rainb";v7Zp+="ow feature requires first act";v7Zp+="ivating studies featur";v7Zp+="e.";console.error(v7Zp);}else {m7Zp="#";m7Zp+="FF7";m7Zp+="F0";m7Zp+="0";x7Zp="#FF";x7Zp+="00";x7Zp+="00";X6l.Studies.calculateRainbow=function(t6l,h6l){var S7Zp,F6l,a6l,W6l,O6l,T6l,q6l,i6l,o6l,s7Zp,Z6l,U7Zp,G7Zp,g7Zp;S7Zp="f";S7Zp+="ield";F6l=h6l.chart.scrubbed;R9EE.q17m();if(F6l.length < h6l.days + 1){h6l.error=! !"1";return;}a6l=h6l.inputs.Field;if(!a6l || a6l == S7Zp){a6l="Close";}W6l=a6l;for(var z6l=1;z6l <= 10;z6l++){X6l.Studies.MA("simple",h6l.days,W6l,0,"SMA" + z6l,t6l,h6l);W6l="SMA" + z6l + " " + h6l.name;}for(var g6l=Math.max(h6l.startFrom,10);g6l < F6l.length;g6l++){if(!F6l[g6l])continue;if(F6l[g6l].futureTick)break;O6l=+"0";T6l=0;q6l=Number.MAX_VALUE * -1;i6l=Number.MAX_VALUE;for(z6l=1;z6l <= +"10";z6l++){o6l=F6l[g6l]["SMA" + z6l + " " + h6l.name];if(o6l || o6l === 0){O6l+=o6l;T6l++;q6l=Math.max(q6l,o6l);i6l=Math.min(i6l,o6l);}}if(h6l.name.indexOf("Osc") > -1){s7Zp="H";s7Zp+="HV/LLV Loo";s7Zp+="kback";Z6l=l6l(h6l.inputs[s7Zp],g6l);if(T6l){U7Zp="U";U7Zp+="nder ";F6l[g6l][h6l.name + "_hist"]=+"100" * (F6l[g6l][a6l] - O6l / T6l) / Math.max(+"0.000001",Z6l[1] - Z6l[0]);F6l[g6l]["Over " + h6l.name]=+"100" * (q6l - i6l) / Math.max("0.000001" - 0,Z6l[1] - Z6l[0]);F6l[g6l][U7Zp + h6l.name]=-F6l[g6l]["Over " + h6l.name];F6l[g6l]["Zero " + h6l.name]=0;}}}if(h6l.name.indexOf("Osc") > -1){G7Zp="Ne";G7Zp+="gative Bar";g7Zp="Ov";g7Zp+="er";g7Zp+=" ";h6l.outputMap={};h6l.outputMap[g7Zp + h6l.name]="Positive Bar";h6l.outputMap["Under " + h6l.name]=G7Zp;h6l.outputMap["Zero " + h6l.name]="";h6l.outputMap[h6l.name + "_hist"]="";}function l6l(f6l,K6l){var y6l,e6l;y6l=Number.MAX_VALUE * -1;e6l=Number.MAX_VALUE;for(var G6l=K6l - f6l + 1;G6l <= K6l;G6l++){if(G6l < ("0" | 0))continue;y6l=Math.max(y6l,F6l[G6l].Close);e6l=Math.min(e6l,F6l[G6l].Close);}R9EE.z17m();return [e6l,y6l];}};X6l.Studies.displayRainbowMA=function(H6l,x6l,N6l){var w6l;w6l=H6l.panels[x6l.panel];R9EE.q17m();for(var C6l=10;C6l > ("0" ^ 0);C6l--){X6l.Studies.displayIndividualSeriesAsLine(H6l,x6l,w6l,"SMA" + C6l + " " + x6l.name,N6l);}};X6l.Studies.displayRainbowOsc=function(L6l,M6l,D6l){var Q97m=R9EE;var a7Zp,C7Zp,R6l,B6l,S6l,A6l,Y6l,J6l,j6l,k6l,Q6l,b6l,J7Zp,k7Zp,e7Zp,d6l;a7Zp="#";Q97m.q17m();a7Zp+="CC";a7Zp+="CC";a7Zp+="CC";C7Zp="Zer";C7Zp+="o ";X6l.Studies.displaySeriesAsLine(L6l,M6l,D6l);R6l=L6l.panels[M6l.panel];B6l=M6l.getContext(L6l);S6l=M6l.getYAxis(L6l);L6l.startClip(M6l.panel);if(!M6l.highlight && L6l.highlightedDraggable){Q97m.r1kc(16);B6l.globalAlpha*=Q97m.n1kc(1,"0.3");}A6l=L6l.pixelFromPrice(0,R6l,S6l);Y6l=R6l.name != M6l.chart.name;J6l=X6l.Studies.determineColor(M6l.outputs["Positive Bar"]);B6l.strokeStyle=J6l;L6l.plotDataSegmentAsLine("Over " + M6l.name,R6l,{skipTransform:Y6l,label:!{},yAxis:S6l});Q97m.N1kc(1);j6l=B6l.createLinearGradient(0,A6l,Q97m.n1kc("0",0),S6l.flipped?S6l.bottom:S6l.top);j6l.addColorStop(0,L6l.containerColor);j6l.addColorStop(+"1",J6l);X6l.prepareChannelFill(L6l,{skipTransform:Y6l,color:j6l,opacity:!M6l.highlight && L6l.highlightedDraggable?0.3:1,panelName:M6l.panel,topBand:"Over " + M6l.name,bottomBand:C7Zp + M6l.name,yAxis:S6l});k6l=X6l.Studies.determineColor(M6l.outputs["Negative Bar"]);B6l.strokeStyle=k6l;L6l.plotDataSegmentAsLine("Under " + M6l.name,R6l,{skipTransform:Y6l,label:! !"",yAxis:S6l});Q6l=B6l.createLinearGradient(0,A6l,0,S6l.flipped?S6l.top:S6l.bottom);Q6l.addColorStop(0,L6l.containerColor);Q6l.addColorStop(1,k6l);X6l.prepareChannelFill(L6l,{skipTransform:Y6l,color:Q6l,opacity:!M6l.highlight && L6l.highlightedDraggable?0.3:1,panelName:M6l.panel,topBand:"Zero " + M6l.name,bottomBand:"Under " + M6l.name,yAxis:S6l});b6l=L6l.layout.candleWidth - 2;if(b6l < 2){b6l=1;}L6l.canvasColor("stx_histogram");if(!M6l.underlay){B6l.globalAlpha=1;}if(!M6l.highlight && L6l.highlightedDraggable){B6l.globalAlpha*=0.3;}B6l.fillStyle=a7Zp;for(var I6l="0" ^ 0;I6l < D6l.length;I6l++){J7Zp="_";J7Zp+="h";J7Zp+="i";J7Zp+="st";k7Zp="_h";k7Zp+="is";k7Zp+="t";e7Zp="_";e7Zp+="hi";e7Zp+="s";e7Zp+="t";d6l=D6l[I6l];if(!d6l)continue;if(d6l[M6l.name + e7Zp] > 0){B6l.fillStyle=J6l;}else if(d6l[M6l.name + k7Zp] < 0){B6l.fillStyle=k6l;}if(d6l.candleWidth){b6l=Math.floor(Math.max(1,d6l.candleWidth - 2));}B6l.fillRect(Math.floor(L6l.pixelFromBar(I6l,R6l.chart) - b6l / ("2" & 2147483647)),Math.floor(A6l),Math.floor(b6l),Math.floor(L6l.pixelFromPrice(d6l[M6l.name + J7Zp],R6l,S6l) - A6l));}L6l.endClip();};X6l.Studies.studyLibrary=X6l.extend(X6l.Studies.studyLibrary,{"Rainbow MA":{name:"Rainbow Moving Average",overlay:! !1,calculateFN:X6l.Studies.calculateRainbow,seriesFN:X6l.Studies.displayRainbowMA,inputs:{Period:2,Field:"field"},outputs:{SMA1:x7Zp,SMA2:m7Zp,SMA3:"#FFFF00",SMA4:"#7FFF00",SMA5:"#00FF7F",SMA6:"#00FFFF",SMA7:"#007FFF",SMA8:"#0000FF",SMA9:"#7F00FF",SMA10:"#FF00FF"}},"Rainbow Osc":{name:"Rainbow Oscillator",calculateFN:X6l.Studies.calculateRainbow,seriesFN:X6l.Studies.displayRainbowOsc,centerline:0,inputs:{Period:2,Field:"field","HHV/LLV Lookback":"10" | 0},outputs:{"Positive Bar":"#00DD00","Negative Bar":"#FF0000"}}});}};D3n=v6l=>{var E6l;R9EE.q17m();E6l=typeof _CIQ !== "undefined"?_CIQ:v6l.CIQ;if(!E6l.Studies){console.error("randomWalk feature requires first activating studies feature.");}else {E6l.Studies.calculateRandomWalk=function(F9l,U6l){var V6l,m9l,r9l,X9l,p6l,u6l,P6l,c9l,h9l,Y7Zp;V6l=U6l.chart.scrubbed;R9EE.z17m();if(V6l.length < U6l.days + 1){U6l.error=! !{};return;}for(var s6l=Math.max(2,U6l.startFrom);s6l < V6l.length;s6l++){m9l=+"0";r9l=V6l[s6l].High;X9l=V6l[s6l].Low;p6l=0;u6l=0;for(var n6l=1;n6l <= U6l.days;n6l++){if(V6l[s6l].futureTick)break;if(s6l <= n6l){p6l=u6l=0;break;}m9l+=V6l[s6l - n6l].trueRange;P6l=m9l / n6l * Math.sqrt(n6l);if(P6l){c9l=(r9l - V6l[s6l - n6l].Low) / P6l;h9l=(V6l[s6l - n6l].High - X9l) / P6l;p6l=Math.max(p6l,c9l);u6l=Math.max(u6l,h9l);}}if(!V6l[s6l].futureTick && (!isNaN(r9l) || !isNaN(X9l))){Y7Zp="Rand";Y7Zp+="om";Y7Zp+=" Walk H";Y7Zp+="igh ";V6l[s6l][Y7Zp + U6l.name]=p6l;V6l[s6l]["Random Walk Low " + U6l.name]=u6l;}}};E6l.Studies.studyLibrary=E6l.extend(E6l.Studies.studyLibrary,{"Random Walk":{name:"Random Walk Index",calculateFN:E6l.Studies.calculateRandomWalk,outputs:{"Random Walk High":"#FF0000","Random Walk Low":"#0000FF"}}});}};E3n=z9l=>{var g9l,A7Zp,R7Zp,f7Zp;g9l=typeof _CIQ !== "undefined"?_CIQ:z9l.CIQ;if(!g9l.Studies){A7Zp="relativeVigor feature r";A7Zp+="equires first activating";A7Zp+=" studie";A7Zp+="s feature.";console.error(A7Zp);}else {R7Zp="#F";R7Zp+="F0000";f7Zp="#00";f7Zp+="DD00";g9l.Studies.calculateRelativeVigor=function(t9l,a9l){var W7Zp,b7Zp,O7Zp,Z9l,o9l,T9l,i9l,W9l,T7Zp,w7Zp,P7Zp,l9l,O9l,q9l,F7Zp;W7Zp="RelV";W7Zp+="igS";W7Zp+="ignal";b7Zp="trian";b7Zp+="gular";O7Zp="_";O7Zp+="De";O7Zp+="no";O7Zp+="m";Z9l=a9l.chart.scrubbed;if(Z9l.length < a9l.days + 1){a9l.error=! !"1";return;}for(o9l=a9l.startFrom;o9l < Z9l.length;o9l++){T9l=Z9l[o9l];if(!isNaN(T9l.Close) && !isNaN(T9l.Open)){T9l["_Change " + a9l.name]=T9l.Close - T9l.Open;}if(!isNaN(T9l.High) && !isNaN(T9l.Low)){T9l["_Range " + a9l.name]=T9l.High - T9l.Low;}}g9l.Studies.MA("triangular",4,"_Change " + a9l.name,0,"_Numer",t9l,a9l);g9l.Studies.MA("triangular",4,"_Range " + a9l.name,0,O7Zp,t9l,a9l);i9l=[];W9l=[];for(o9l=Math.max(a9l.startFrom - a9l.days,0);o9l < Z9l.length;o9l++){T7Zp="R";T7Zp+="el";T7Zp+=" ";T7Zp+="Vig ";w7Zp="_D";w7Zp+="enom ";P7Zp="_";P7Zp+="D";P7Zp+="e";P7Zp+="nom ";if(Z9l[o9l].futureTick)break;if(Z9l[o9l]["_Numer " + a9l.name] === null && Z9l[o9l][P7Zp + a9l.name] === null)continue;i9l.push(Z9l[o9l]["_Numer " + a9l.name]);W9l.push(Z9l[o9l][w7Zp + a9l.name]);if(i9l.length > a9l.days){i9l.shift();W9l.shift();}l9l=0;O9l=0;for(q9l=0;q9l < i9l.length;q9l++){l9l+=i9l[q9l];}for(q9l=0;q9l < W9l.length;q9l++){O9l+=W9l[q9l];}if(O9l === 0){O9l=0.00000001;}if(o9l < a9l.startFrom)continue;R9EE.N1kc(10);Z9l[o9l][T7Zp + a9l.name]=R9EE.j1kc(O9l,l9l);}g9l.Studies.MA(b7Zp,4,"Rel Vig " + a9l.name,0,W7Zp,t9l,a9l);for(o9l=a9l.startFrom;o9l < Z9l.length;o9l++){F7Zp="Re";F7Zp+="l Vig";F7Zp+=" ";Z9l[o9l][a9l.name + "_hist"]=Z9l[o9l][F7Zp + a9l.name] - Z9l[o9l]["RelVigSignal " + a9l.name];}a9l.outputMap[a9l.name + "_hist"]="";};g9l.Studies.studyLibrary=g9l.extend(g9l.Studies.studyLibrary,{"Rel Vig":{name:"Relative Vigor Index",seriesFN:g9l.Studies.displayHistogramWithSeries,calculateFN:g9l.Studies.calculateRelativeVigor,inputs:{Period:"10" * 1},outputs:{"Rel Vig":"auto",RelVigSignal:"#FF0000","Increasing Bar":f7Zp,"Decreasing Bar":R7Zp}}});}};v3n=y9l=>{var o7Zp,G9l,n7Zp,B7Zp;o7Zp="u";o7Zp+="nde";R9EE.z17m();o7Zp+="f";o7Zp+="ined";G9l=typeof _CIQ !== o7Zp?_CIQ:y9l.CIQ;if(!G9l.Studies){n7Zp="rsi feature requires first activating studies feat";n7Zp+="ure.";console.error(n7Zp);}else {B7Zp="0 t";B7Zp+="o 1";B7Zp+="00";G9l.Studies.calculateRSI=function(B9l,e9l){var W97m=R9EE;var N9l,K9l,H9l,w9l,M9l,L9l,f9l,C9l;N9l=e9l.chart.scrubbed;K9l=e9l.inputs.Field;if(!K9l || K9l == "field"){K9l="Close";}if(N9l.length < e9l.days + +"1"){e9l.error=! !{};return;}function S9l(b9l,R9l){var d9l;if(R9l === 0){return 100;}W97m.z17m();W97m.r1kc(10);d9l=W97m.j1kc(R9l,b9l);W97m.N1kc(80);return W97m.j1kc(d9l,100,100,1);}for(var x9l=e9l.startFrom;x9l < N9l.length;x9l++){if(!x9l)continue;H9l=N9l[x9l];W97m.r1kc(4);w9l=N9l[W97m.n1kc(1,x9l)];if(!H9l[K9l] && H9l[K9l] !== 0)continue;if(!w9l[K9l] && w9l[K9l] !== 0)continue;M9l=H9l[K9l] - w9l[K9l];L9l=Math.min(x9l,e9l.days);f9l=w9l["_avgG " + e9l.name];if(!f9l){f9l=+"0";}W97m.N1kc(10);f9l-=W97m.n1kc(L9l,f9l);C9l=w9l["_avgL " + e9l.name];if(!C9l){C9l=0;}W97m.r1kc(10);C9l-=W97m.j1kc(L9l,C9l);if(M9l > 0){W97m.N1kc(10);f9l+=W97m.j1kc(L9l,M9l);}else if(M9l <= 0){W97m.N1kc(10);C9l-=W97m.j1kc(L9l,M9l);}else continue;if(x9l >= e9l.days){if((f9l || f9l !== 0) && (C9l || C9l !== ("0" ^ 0))){H9l["RSI " + e9l.name]=S9l(f9l,C9l);}}H9l["_avgG " + e9l.name]=f9l;H9l["_avgL " + e9l.name]=C9l;}e9l.zoneOutput="RSI";};G9l.Studies.studyLibrary=G9l.extend(G9l.Studies.studyLibrary,{rsi:{name:"RSI",inputs:{Period:14,Field:"field"},calculateFN:G9l.Studies.calculateRSI,range:B7Zp,outputs:{RSI:"auto"},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};s3n=Y9l=>{R9EE.q17m();var A9l,j7Zp;A9l=typeof _CIQ !== "undefined"?_CIQ:Y9l.CIQ;if(!A9l.Studies){console.error("schaffTrendCycle feature requires first activating studies feature.");}else {j7Zp="e";j7Zp+="m";j7Zp+="a";A9l.Studies.calculateSchaff=function(l2l,I9l){var E97m=R9EE;var L7Zp,d7Zp,k9l,D9l,P9l,E9l,v9l,h2l,s9l,V9l,Q9l,n9l,U9l,p9l,j9l,E7Zp,Q7Zp,V7Zp,u9l,X7Zp;L7Zp="_";L7Zp+="MA";L7Zp+="C";L7Zp+="D1";d7Zp="fiel";d7Zp+="d";k9l=I9l.chart.scrubbed;D9l=I9l.days;P9l=Number(I9l.inputs["Short Cycle"]);E9l=Number(I9l.inputs["Long Cycle"]);E97m.q17m();if(k9l.length < Math.max(D9l,P9l,E9l) + 1){I9l.error=! !"1";return;}v9l=I9l.inputs.Field;if(!v9l || v9l == d7Zp){v9l="Close";}h2l=0.5;A9l.Studies.MA(I9l.inputs["Moving Average Type"],P9l,v9l,0,L7Zp,l2l,I9l);A9l.Studies.MA(I9l.inputs["Moving Average Type"],E9l,v9l,0,"_MACD2",l2l,I9l);E97m.r1kc(1);s9l=E97m.j1kc("0",0);V9l=0;for(var J9l=I9l.startFrom;J9l < k9l.length;J9l++){Q9l=k9l[J9l];if(J9l < E9l - 1)continue;n9l=Q9l["_MACD1 " + I9l.name];U9l=Q9l["_MACD2 " + I9l.name];if(n9l || n9l === 0 || U9l || U9l === ("0" & 2147483647)){E97m.r1kc(4);Q9l["_MACD " + I9l.name]=E97m.n1kc(U9l,n9l);}p9l=Q9l["_MACD " + I9l.name];if(J9l < E9l + (D9l - 1))continue;j9l=m3l(D9l,J9l,"_MACD");s9l=j9l[1] > j9l[+"0"]?100 * (p9l - j9l[0]) / (j9l[1] - j9l[0]):s9l;if(p9l || p9l === 0){E7Zp="_";E7Zp+="P";E7Zp+="F";E7Zp+=" ";Q7Zp="_";Q7Zp+="P";Q7Zp+="F";Q7Zp+=" ";V7Zp="_P";V7Zp+="F ";Q9l[V7Zp + I9l.name]=k9l[J9l - 1][Q7Zp + I9l.name]?k9l[J9l - 1]["_PF " + I9l.name] + h2l * (s9l - k9l[J9l - 1][E7Zp + I9l.name]):s9l;}u9l=Q9l["_PF " + I9l.name];if(J9l < E9l + +"2" * (D9l - 1))continue;j9l=m3l(D9l,J9l,"_PF");V9l=j9l[+"1"] > j9l[+"0"]?100 * (u9l - j9l[0]) / (j9l[1] - j9l[0]):V9l;if(u9l || u9l === 0){X7Zp="Res";X7Zp+="ult ";Q9l["Result " + I9l.name]=k9l[J9l - +"1"]["Result " + I9l.name]?k9l[J9l - 1]["Result " + I9l.name] + h2l * (V9l - k9l[J9l - 1][X7Zp + I9l.name]):V9l;}}function m3l(g3l,F3l,z3l){var X3l,c3l,r3l;X3l=null;c3l=null;for(var h3l=F3l - g3l + +"1";h3l <= F3l;h3l++){r3l=k9l[h3l][z3l + " " + I9l.name];if(!r3l)continue;X3l=X3l === null?r3l:Math.min(X3l,r3l);c3l=c3l === null?r3l:Math.max(c3l,r3l);}return [X3l,c3l];}};A9l.Studies.studyLibrary=A9l.extend(A9l.Studies.studyLibrary,{Schaff:{name:"Schaff Trend Cycle",range:"0 to 100",calculateFN:A9l.Studies.calculateSchaff,inputs:{Period:"10" * 1,Field:"field","Short Cycle":+"23","Long Cycle":+"50","Moving Average Type":j7Zp},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:75,studyOverBoughtColor:"auto",studyOverSoldValue:25,studyOverSoldColor:"auto"}}}});}};V3n=o3l=>{var a3l,r7Zp,N7Zp;a3l=typeof _CIQ !== "undefined"?_CIQ:o3l.CIQ;R9EE.z17m();if(!a3l.Studies){r7Zp="shinohara feature requires first activating stud";r7Zp+="ies feature.";console.error(r7Zp);}else {N7Zp="#5F7C";N7Zp+="B";N7Zp+="8";a3l.Studies.calculateShinohara=function(W3l,q3l){R9EE.q17m();var T3l,i3l,c7Zp;T3l=q3l.chart.scrubbed;if(T3l.length < q3l.days + 1){q3l.error=!"";return;}i3l={weakNum:0,weakDen:0,strongNum:0,strongDen:+"0"};if(q3l.startFrom > 1){i3l=a3l.clone(T3l[q3l.startFrom - 1]["_accums " + q3l.name]);}for(var Z3l=q3l.startFrom;Z3l < T3l.length;Z3l++){i3l.weakNum+=T3l[Z3l].High - T3l[Z3l].Close;i3l.weakDen+=T3l[Z3l].Close - T3l[Z3l].Low;if(Z3l > +"0"){i3l.strongNum+=T3l[Z3l].High - T3l[Z3l - 1].Close;i3l.strongDen+=T3l[Z3l - 1].Close - T3l[Z3l].Low;}if(Z3l >= q3l.days){i3l.weakNum-=T3l[Z3l - q3l.days].High - T3l[Z3l - q3l.days].Close;i3l.weakDen-=T3l[Z3l - q3l.days].Close - T3l[Z3l - q3l.days].Low;T3l[Z3l]["Weak Ratio " + q3l.name]=100 * i3l.weakNum / i3l.weakDen;if(Z3l > q3l.days){c7Zp="Stro";c7Zp+="ng Ratio ";i3l.strongNum-=T3l[Z3l - q3l.days].High - T3l[Z3l - q3l.days - +"1"].Close;i3l.strongDen-=T3l[Z3l - q3l.days - 1].Close - T3l[Z3l - q3l.days].Low;T3l[Z3l][c7Zp + q3l.name]=100 * i3l.strongNum / i3l.strongDen;}}T3l[Z3l]["_accums " + q3l.name]=a3l.clone(i3l);}};a3l.Studies.studyLibrary=a3l.extend(a3l.Studies.studyLibrary,{Shinohara:{name:"Shinohara Intensity Ratio",calculateFN:a3l.Studies.calculateShinohara,inputs:{Period:26},outputs:{"Strong Ratio":"#E99B54","Weak Ratio":N7Zp}}});}};n3n=t3l=>{var O3l,h7Zp,l7Zp,K7Zp,q7Zp,y7Zp;R9EE.q17m();O3l=typeof _CIQ !== "undefined"?_CIQ:t3l.CIQ;if(!O3l.Studies){console.error("stochastics feature requires first activating studies feature.");}else {h7Zp="a";h7Zp+="u";h7Zp+="t";h7Zp+="o";l7Zp="au";l7Zp+="to";K7Zp="S";K7Zp+="t";K7Zp+="ochasti";K7Zp+="cs";q7Zp="a";q7Zp+="ut";q7Zp+="o";y7Zp="#";y7Zp+="FF0000";O3l.Studies.calculateStochastics=function(x3l,l3l){var z7Zp,u7Zp,e3l,G3l,y3l,f3l,C3l,w3l;z7Zp="%";z7Zp+="K";z7Zp+=" ";u7Zp="F";u7Zp+="a";u7Zp+="s";u7Zp+="t";if(!l3l.smooth){l3l.smooth=l3l.inputs.Smooth;}e3l=l3l.inputs.Field;if(!e3l || e3l == "field"){e3l="Close";}G3l=l3l.inputs["%K Periods"];if(!G3l){G3l=l3l.days;}y3l=l3l.chart.scrubbed;if(y3l.length < Math.max(G3l,l3l.days) + 1){l3l.error=!"";return;}f3l=l3l.inputs["%K Smoothing Periods"];if(f3l){l3l.smooth=! !{};}else if(l3l.smooth){f3l=3;}C3l=l3l.inputs["%D Periods"];if(!C3l){C3l=3;}l3l.outputMap={};l3l.outputMap["%K " + l3l.name]=u7Zp;l3l.outputMap["%D " + l3l.name]="Slow";for(var K3l=Math.max(G3l,l3l.startFrom);K3l < y3l.length;K3l++){w3l=H3l(K3l,e3l,G3l);if(w3l !== null){y3l[K3l][l3l.name]=H3l(K3l,e3l,G3l);}}O3l.Studies.MA("simple",l3l.smooth?f3l:1,l3l.name,0,"%K",x3l,l3l);function H3l(d3l,L3l,Y3l){var b3l,M3l,N3l,i7Zp,B3l,R3l,A3l;R9EE.r1kc(3);b3l=R9EE.n1kc(Y3l,1,d3l);M3l=Number.MAX_VALUE * -1;N3l=Number.MAX_VALUE;for(var S3l=b3l;S3l <= d3l;S3l++){i7Zp="L";i7Zp+="o";i7Zp+="w";B3l=y3l[S3l][L3l == "Close"?i7Zp:L3l];R3l=y3l[S3l][L3l == "Close"?"High":L3l];if(!B3l && B3l !== "0" * 1)continue;if(!R3l && R3l !== 0)continue;N3l=Math.min(N3l,B3l);M3l=Math.max(M3l,R3l);}if(M3l == Number.MAX_VALUE * -1 || N3l == Number.MAX_VALUE){return null;}A3l=M3l == N3l?0:(y3l[d3l][L3l] - N3l) / (M3l - N3l) * 100;return A3l;}O3l.Studies.MA("simple",C3l,z7Zp + l3l.name,0,"%D",x3l,l3l);};O3l.Studies.calculateStochMomentum=function(k3l,I3l){var t7Zp,Z7Zp,I7Zp,D7Zp,Q3l,E3l,v3l,V3l,J3l,j3l,H7Zp,s3l,D3l;t7Zp="_";t7Zp+="D";t7Zp+="HL2";Z7Zp="expo";Z7Zp+="n";Z7Zp+="enti";Z7Zp+="al";R9EE.z17m();I7Zp="_";I7Zp+="H";I7Zp+="S";I7Zp+="2";function n3l(r4y,P3l){var p3l,u3l;p3l=null;R9EE.q17m();u3l=null;for(var U3l=P3l - r4y + ("1" ^ 0);U3l <= P3l;U3l++){p3l=p3l === null?J3l[U3l].Low:Math.min(p3l,J3l[U3l].Low);u3l=u3l === null?J3l[U3l].High:Math.max(u3l,J3l[U3l].High);}return [p3l,u3l];}D7Zp="expone";D7Zp+="nt";D7Zp+="i";D7Zp+="al";Q3l=Number(I3l.inputs["%K Periods"]);E3l=Number(I3l.inputs["%K Smoothing Periods"]);v3l=Number(I3l.inputs["%K Double Smoothing Periods"]);V3l=Number(I3l.inputs["%D Periods"]);J3l=I3l.chart.scrubbed;if(J3l.length < Q3l + E3l + v3l - 1 || J3l.length < V3l){I3l.error=! ![];return;}for(j3l=Math.max(Q3l,I3l.startFrom) - 1;j3l < J3l.length;j3l++){H7Zp="_D";H7Zp+="HL";H7Zp+=" ";s3l=J3l[j3l];D3l=n3l(Q3l,j3l);s3l["_H " + I3l.name]=s3l.Close - (D3l[0] + D3l[1]) / 2;s3l[H7Zp + I3l.name]=D3l["1" >> 691844928] - D3l[0];}O3l.Studies.MA(D7Zp,E3l,"_H " + I3l.name,0,"_HS1",k3l,I3l);O3l.Studies.MA("exponential",v3l,"_HS1 " + I3l.name,0,I7Zp,k3l,I3l);O3l.Studies.MA(Z7Zp,E3l,"_DHL " + I3l.name,0,"_DHL1",k3l,I3l);O3l.Studies.MA("exponential",v3l,"_DHL1 " + I3l.name,0,t7Zp,k3l,I3l);for(j3l=Q3l - 1;j3l < J3l.length;j3l++){J3l[j3l]["%K " + I3l.name]=J3l[j3l]["_HS2 " + I3l.name] / (0.5 * J3l[j3l]["_DHL2 " + I3l.name]) * ("100" ^ 0);}O3l.Studies.MA(I3l.inputs["%D Moving Average Type"],V3l,"%K " + I3l.name,0,"%D",k3l,I3l);I3l.zoneOutput="%K";};O3l.Studies.studyLibrary=O3l.extend(O3l.Studies.studyLibrary,{"Stch Mtm":{name:"Stochastic Momentum Index",calculateFN:O3l.Studies.calculateStochMomentum,inputs:{"%K Periods":+"10","%K Smoothing Periods":3,"%K Double Smoothing Periods":3,"%D Periods":10,"%D Moving Average Type":"ema"},outputs:{"%K":"auto","%D":y7Zp},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:40,studyOverBoughtColor:"auto",studyOverSoldValue:- +"40",studyOverSoldColor:q7Zp}}},stochastics:{name:K7Zp,range:"0 to 100",calculateFN:O3l.Studies.calculateStochastics,inputs:{Period:14,Field:"field",Smooth:!0},outputs:{Fast:l7Zp,Slow:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:+"20",studyOverSoldColor:h7Zp}}}});}};U3n=h4y=>{var M1Zp,X4y,U1Zp;M1Zp="undefi";M1Zp+="ned";X4y=typeof _CIQ !== M1Zp?_CIQ:h4y.CIQ;if(!X4y.Studies){console.error("supertrend feature requires first activating studies feature.");}else {U1Zp="#";U1Zp+="b82";U1Zp+="c0c";X4y.Studies.calculateSupertrend=function(I4y,W4y){var j97m=R9EE;var e4y,p1Zp,N4y,b4y,Y4y,M4y,R4y;e4y=W4y.chart.scrubbed;if(e4y.length < W4y.days + +"1"){W4y.error=! ![];return;}X4y.Studies.calculateStudyATR(I4y,W4y);for(var t4y=W4y.startFrom;t4y < e4y.length;t4y++){p1Zp="_D";p1Zp+="irection ";N4y=e4y[t4y];if(!N4y)continue;b4y=(N4y.High + N4y.Low) / 2;Y4y=W4y.inputs.Multiplier * N4y["ATR " + W4y.name];j97m.N1kc(4);M4y=j97m.n1kc(Y4y,b4y);j97m.r1kc(2);R4y=j97m.j1kc(Y4y,b4y);if(t4y){if(e4y[t4y - 1] && e4y[t4y - ("1" ^ 0)].Close && e4y[t4y - 1].Close > e4y[t4y - 1]["_Uptrend " + W4y.name] && e4y[t4y - 1]["_Uptrend " + W4y.name] > M4y){j97m.r1kc(64);M4y=e4y[j97m.j1kc("1",0,t4y)]["_Uptrend " + W4y.name];}if(e4y[t4y - +"1"] && e4y[t4y - 1].Close && e4y[t4y - +"1"].Close < e4y[t4y - 1]["_Downtrend " + W4y.name] && e4y[t4y - 1]["_Downtrend " + W4y.name] < R4y){j97m.N1kc(4);R4y=e4y[j97m.n1kc(1,t4y)]["_Downtrend " + W4y.name];}}N4y["_Direction " + W4y.name]=1;if(t4y){j97m.r1kc(4);N4y["_Direction " + W4y.name]=e4y[j97m.n1kc(1,t4y)]["_Direction " + W4y.name];if(N4y.Close > e4y[t4y - 1]["_Downtrend " + W4y.name]){N4y["_Direction " + W4y.name]=1;}else if(N4y.Close < e4y[t4y - ("1" ^ 0)]["_Uptrend " + W4y.name]){N4y["_Direction " + W4y.name]=- +"1";}}N4y["_Uptrend " + W4y.name]=M4y;N4y["_Downtrend " + W4y.name]=R4y;N4y["Trend " + W4y.name]=N4y[p1Zp + W4y.name] > +"0"?M4y:R4y;if(!t4y)continue;}W4y.outputMap={};W4y.outputMap["Trend " + W4y.name]="";};X4y.Studies.displaySupertrend=function(k4y,j4y,s4y){R9EE.z17m();var U4y,E4y,P4y,o1M,h1M,m1M,r1M,v4y,v1Zp,S1Zp,g1M,s1Zp,z1M;U4y=k4y.panels[j4y.panel];E4y=j4y.getContext(k4y);P4y=j4y.getYAxis(k4y);o1M={skipTransform:U4y.name != j4y.chart.name,skipProjections:! !"1",label:k4y.preferences.labels,yAxis:P4y,highlight:j4y.highlight};E4y.strokeStyle=a1M(k4y,s4y[s4y.length - 1]);E4y.lineWidth=2;if(j4y.highlight){R9EE.r1kc(16);E4y.lineWidth=R9EE.n1kc(1,"1.5");}h1M="Trend " + j4y.name;for(var F1M=0;U4y.chart.transformFunc && P4y != U4y.chart.yAxis && F1M < s4y.length;F1M++){m1M=s4y[F1M];if(m1M && m1M.transform){m1M.transform[h1M]=U4y.chart.transformFunc(k4y,U4y.chart,m1M[h1M]);}}k4y.plotDataSegmentAsLine(h1M,U4y,o1M,a1M);E4y.lineWidth=+"1";E4y.globalAlpha=1;k4y.startClip(j4y.panel);if(!j4y.highlight && k4y.highlightedDraggable){E4y.globalAlpha*=0.3;}r1M=E4y.measureText(("9250" ^ 0) === ("398" & 2147483647)?4.56e+3:"\u25B2").width / 2;for(v4y=0;v4y < s4y.length;v4y++){v1Zp="_Dir";v1Zp+="ection ";if(!s4y[v4y] || !s4y[v4y - 1])continue;if(s4y[v4y - +"1"]["_Direction " + j4y.name] > s4y[v4y][v1Zp + j4y.name]){S1Zp="bo";S1Zp+="ttom";E4y.fillStyle=j4y.outputs.Downtrend;E4y.textBaseline=S1Zp;g1M=k4y.pixelFromPrice(s4y[v4y].High,U4y,P4y);for(var X1M=5;X1M <= 45;X1M+=10){if(P4y.flipped){E4y.fillText(7889 !== (116.48,"5124" ^ 0)?(5480,693.46) == ("4640" * 1,3802)?![]:"\u25B2":("0x1e02" ^ 0,5.01),k4y.pixelFromBar(v4y) - r1M,g1M + X1M);}else {E4y.fillText(3385 === (200.41,867.44)?![]:"\u25BC",k4y.pixelFromBar(v4y) - r1M,g1M - X1M);}}}else if(s4y[v4y - 1]["_Direction " + j4y.name] < s4y[v4y]["_Direction " + j4y.name]){s1Zp="t";s1Zp+="o";s1Zp+="p";E4y.fillStyle=j4y.outputs.Uptrend;E4y.textBaseline=s1Zp;z1M=k4y.pixelFromPrice(s4y[v4y].Low,U4y,P4y);for(var c1M=+"5";c1M <= 45;c1M+=10){if(P4y.flipped){E4y.fillText((620.74,556.84) < 394?"0x2513" ^ 0:"\u25BC",k4y.pixelFromBar(v4y) - r1M,z1M - c1M);}else {E4y.fillText((+"600.47","8550" | 32) == +"816"?"L":(651.64,917.79) != (6790,1340)?"\u25B2":"z",k4y.pixelFromBar(v4y) - r1M,z1M + c1M);}}}}k4y.endClip();function a1M(T1M,Z1M,q1M){R9EE.z17m();if(Z1M && Z1M["_Direction " + j4y.name] < +"0"){return j4y.outputs.Downtrend;}return j4y.outputs.Uptrend;}};X4y.Studies.studyLibrary=X4y.extend(X4y.Studies.studyLibrary,{Supertrend:{name:"Supertrend",overlay:! ![],seriesFN:X4y.Studies.displaySupertrend,calculateFN:X4y.Studies.calculateSupertrend,inputs:{Period:7,Multiplier:3},outputs:{Uptrend:"#8cc176",Downtrend:U1Zp},attributes:{Multiplier:{min:0.1,step:0.1}}}});}};p3n=W1M=>{var g1Zp,i1M,G1Zp;g1Zp="und";g1Zp+="e";g1Zp+="f";g1Zp+="ined";i1M=typeof _CIQ !== g1Zp?_CIQ:W1M.CIQ;if(!i1M.Studies){G1Zp="swingIndex feat";G1Zp+="ure requires first activating studies feature.";console.error(G1Zp);}else {i1M.Studies.calculateSwingIndex=function(M1M,l1M){var g97m=R9EE;var C1Zp,G1M,O1M,y1M,a1Zp,K1M,f1M,w1M,N1M,x1M,C1M,e1M,H1M;C1Zp="Resu";g97m.z17m();C1Zp+="lt";C1Zp+=" ";G1M=l1M.inputs["Limit Move Value"];if(G1M === null || isNaN(G1M)){G1M=99999;}O1M=l1M.chart.scrubbed;y1M=0;if(l1M.startFrom > 1){y1M=O1M[l1M.startFrom - 1][C1Zp + l1M.name];}for(var t1M=Math.max(1,l1M.startFrom);t1M < O1M.length;t1M++){a1Zp="Swi";a1Zp+="ng";K1M=Math.abs(O1M[t1M].High - O1M[t1M - 1].Close);f1M=Math.abs(O1M[t1M].Low - O1M[t1M - 1].Close);w1M=Math.abs(O1M[t1M].High - O1M[t1M].Low);N1M=Math.abs(O1M[t1M - 1].Close - O1M[t1M - 1].Open);x1M=Math.max(K1M,f1M);C1M=Math.max(w1M,x1M);g97m.N1kc(12);e1M=g97m.j1kc(0.25,C1M,N1M);if(C1M == K1M){g97m.r1kc(16);e1M-=g97m.j1kc(f1M,0.5);}else if(C1M == f1M){g97m.r1kc(16);e1M-=g97m.j1kc(K1M,0.5);}H1M="50" * 1 * (O1M[t1M].Close - O1M[t1M - 1].Close + 0.5 * (O1M[t1M].Close - O1M[t1M].Open) + 0.25 * (O1M[t1M - 1].Close - O1M[t1M - 1].Open)) / e1M * (x1M / G1M);if(e1M === 0 || G1M === 0){H1M=0;}if(l1M.type == a1Zp){y1M=0;}y1M+=H1M;O1M[t1M]["Result " + l1M.name]=y1M;}};i1M.Studies.studyLibrary=i1M.extend(i1M.Studies.studyLibrary,{"Acc Swing":{name:"Accumulative Swing Index",calculateFN:i1M.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}},Swing:{name:"Swing Index",calculateFN:i1M.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}}});}};u3n=S1M=>{var e1Zp,L1M,T1Zp,w1Zp,P1Zp;e1Zp="unde";R9EE.q17m();e1Zp+="fine";e1Zp+="d";L1M=typeof _CIQ !== e1Zp?_CIQ:S1M.CIQ;if(!L1M.Studies){console.error("trendIntensity feature requires first activating studies feature.");}else {T1Zp="a";T1Zp+="uto";w1Zp="f";w1Zp+="ie";w1Zp+="l";w1Zp+="d";P1Zp="Trend Intensit";P1Zp+="y";P1Zp+=" Ind";P1Zp+="ex";L1M.Studies.calculateTrendIntensity=function(k1M,B1M){var x97m=R9EE;var O1Zp,A1Zp,J1Zp,k1Zp,b1M,A1M,Y1M,I1M,R1M,d1M,J1M,j1M,Y1Zp,m1Zp,x1Zp;O1Zp="Si";O1Zp+="gnal Peri";O1Zp+="od";A1Zp="e";A1Zp+="m";A1Zp+="a";J1Zp="m";J1Zp+="a";k1Zp="C";k1Zp+="lo";k1Zp+="s";k1Zp+="e";b1M=B1M.chart.scrubbed;if(b1M.length < B1M.days + 1){B1M.error=! ![];return;}A1M=B1M.inputs.Field;x97m.q17m();if(!A1M || A1M == "field"){A1M=k1Zp;}L1M.Studies.MA(J1Zp,B1M.days,A1M,0,"_SMA",k1M,B1M);Y1M=0;I1M=0;J1M=[];j1M=Math.ceil(B1M.days / ("2" & 2147483647));for(R1M=Math.max(0,B1M.startFrom - j1M);R1M < b1M.length;R1M++){Y1Zp="T";Y1Zp+="I";Y1Zp+="I ";m1Zp="_";m1Zp+="SMA ";x1Zp="_";x1Zp+="S";x1Zp+="MA";x1Zp+=" ";if(!b1M[R1M][x1Zp + B1M.name] && b1M[R1M]["_SMA " + B1M.name] !== 0)continue;d1M=b1M[R1M][A1M] - b1M[R1M][m1Zp + B1M.name];if(d1M < 0){x97m.N1kc(81);I1M+=x97m.j1kc(1,d1M);}else {Y1M+=d1M;}J1M.push(d1M);if(J1M.length > j1M){d1M=J1M.shift();if(d1M < 0){x97m.r1kc(81);I1M-=x97m.j1kc(1,d1M);}else {Y1M-=d1M;}}if(R1M < B1M.startFrom)continue;b1M[R1M][Y1Zp + B1M.name]=Q1M(Y1M,I1M);}function Q1M(E1M,D1M){if(Math.abs(D1M) < 0.00000001){return 100;}x97m.N1kc(82);return x97m.j1kc(E1M,"100",D1M,"100",1);}L1M.Studies.MA(A1Zp,B1M.inputs[O1Zp],"TII " + B1M.name,0,"Signal",k1M,B1M);};L1M.Studies.studyLibrary=L1M.extend(L1M.Studies.studyLibrary,{"Trend Int":{name:P1Zp,calculateFN:L1M.Studies.calculateTrendIntensity,range:"0 to 100",inputs:{Period:14,Field:w1Zp,"Signal Period":+"9"},outputs:{TII:"auto",Signal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:80,studyOverBoughtColor:T1Zp,studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};P3n=s1M=>{var v1M,b1Zp,f1Zp,C54,a54,e54;v1M=typeof _CIQ !== "undefined"?_CIQ:s1M.CIQ;R9EE.z17m();if(!v1M.Studies){b1Zp="trix feature requires firs";b1Zp+="t ac";b1Zp+="tivating studies feature.";console.error(b1Zp);}else {f1Zp="TRI";f1Zp+="X";v1M.Studies.calculateTRIX=function(c4M,V1M){var c97m=R9EE;var W1Zp,n1M,d70,L70,V70,p1M,P1M,F1Zp,r4M,X4M,m4M;W1Zp="C";W1Zp+="l";W1Zp+="o";W1Zp+="se";n1M=V1M.chart.scrubbed;if(n1M.length < V1M.days + 1){V1M.error=! !{};d70=-335458378;L70=-1896395470;V70=2;for(var E70=1;c97m.M00(E70.toString(),E70.toString().length,79676) !== d70;E70++){return;}if(c97m.M00(V70.toString(),V70.toString().length,19250) !== L70){return;}}p1M=V1M.name;c97m.r1kc(2);P1M=[W1Zp,c97m.j1kc(p1M,"_MA1 "),c97m.n1kc(p1M,"_MA2 "),c97m.j1kc(p1M,"_MA3 ")];for(var u1M=0;u1M < P1M.length - 1;u1M++){F1Zp="_";F1Zp+="M";F1Zp+="A";v1M.Studies.MA("exponential",V1M.days,P1M[u1M],0,F1Zp + (u1M + 1).toString(),c4M,V1M);}r4M=P1M[3];for(var U1M=Math.max(1,V1M.startFrom);U1M < n1M.length;U1M++){c97m.N1kc(4);X4M=n1M[c97m.n1kc(1,U1M)][r4M];if(!X4M)continue;m4M=n1M[U1M][r4M];if(m4M || m4M === 0){c97m.r1kc(2);n1M[U1M][c97m.n1kc(p1M,"Result ")]=c97m.j1kc(X4M,m4M,"1",100,c97m.r1kc(72));}}};C54=- +"1197834999";a54=1921912916;e54=+"2";for(var J54=1;R9EE.M00(J54.toString(),J54.toString().length,63212) !== C54;J54++){v1M.Studies.studyLibrary=v1M.extend(v1M.Studies.studyLibrary,{TRIX:{name:"",calculateFN:v1M.Studies.calculateTRIX}});e54+=2;}if(R9EE.h50(e54.toString(),e54.toString().length,85044) !== a54){v1M.Studies.studyLibrary=v1M.extend(v1M.Studies.studyLibrary,{TRIX:{name:"",calculateFN:v1M.Studies.calculateTRIX}});}v1M.Studies.studyLibrary=v1M.extend(v1M.Studies.studyLibrary,{TRIX:{name:f1Zp,calculateFN:v1M.Studies.calculateTRIX}});}};m1I=F4M=>{var R1Zp,h4M;R1Zp="un";R1Zp+="de";R1Zp+="fin";R1Zp+="ed";h4M=typeof _CIQ !== R1Zp?_CIQ:F4M.CIQ;if(!h4M.Studies){console.error("twiggsMoneyFlow feature requires first activating studies feature.");}else {h4M.Studies.calculateTwiggsMoneyFlow=function(W4M,g4M){var a4M,Z4M,o4M,T4M,n1Zp,o1Zp,d1Zp,B1Zp,q4M,i4M;a4M=g4M.chart.scrubbed;if(a4M.length < g4M.days){g4M.error=!"";return;}Z4M=0;o4M=+"0";T4M=a4M[g4M.startFrom - 1];if(T4M){n1Zp="_sumV";n1Zp+=" ";o1Zp="_sum";o1Zp+="M";o1Zp+="F";o1Zp+=" ";if(T4M[o1Zp + g4M.name]){Z4M=T4M["_sumMF " + g4M.name];}if(T4M["_sumV " + g4M.name]){o4M=T4M[n1Zp + g4M.name];}}for(var z4M=Math.max(1,g4M.startFrom);z4M < a4M.length;z4M++){d1Zp="_sum";d1Zp+="V";d1Zp+=" ";B1Zp="_";B1Zp+="MFV ";q4M=Math.max(a4M[z4M - +"1"].Close,a4M[z4M].High);i4M=Math.min(a4M[z4M - 1].Close,a4M[z4M].Low);a4M[z4M]["_MFV " + g4M.name]=a4M[z4M].Volume * (2 * a4M[z4M].Close - q4M - i4M) / (q4M - i4M === +"0"?999999:q4M - i4M);if(z4M > g4M.days - 1){Z4M*=(g4M.days - 1) / g4M.days;o4M*=(g4M.days - ("1" | 0)) / g4M.days;}Z4M+=a4M[z4M][B1Zp + g4M.name];o4M+=a4M[z4M].Volume;if(z4M > g4M.days - 1){if(o4M){R9EE.r1kc(10);a4M[z4M]["Result " + g4M.name]=R9EE.j1kc(o4M > 0?o4M:999999,Z4M);}}a4M[z4M]["_sumMF " + g4M.name]=Z4M;a4M[z4M][d1Zp + g4M.name]=o4M;}};h4M.Studies.studyLibrary=h4M.extend(h4M.Studies.studyLibrary,{Twiggs:{name:"Twiggs Money Flow",calculateFN:h4M.Studies.calculateTwiggsMoneyFlow,inputs:{Period:21}}});}};r1I=t4M=>{var O4M,L1Zp,V1Zp;O4M=typeof _CIQ !== "undefined"?_CIQ:t4M.CIQ;if(!O4M.Studies){console.error("typicalPrice feature requires first activating studies feature.");}else if(!O4M.Studies.calculateTypicalPrice){L1Zp="typicalPrice fe";L1Zp+="ature requires first activating medianP";L1Zp+="rice fea";L1Zp+="ture.";console.error(L1Zp);}else {V1Zp="Weig";V1Zp+="hted Close";O4M.Studies.studyLibrary=O4M.extend(O4M.Studies.studyLibrary,{"Typical Price":{name:"Typical Price",calculateFN:O4M.Studies.calculateTypicalPrice,inputs:{Period:14}},"Weighted Close":{name:V1Zp,calculateFN:O4M.Studies.calculateTypicalPrice,inputs:{Period:+"14"}}});}};X1I=G4M=>{R9EE.z17m();var l4M;l4M=typeof _CIQ !== "undefined"?_CIQ:G4M.CIQ;if(!l4M.Studies){console.error("ulcerIndex feature requires first activating studies feature.");}else {l4M.Studies.calculateUlcerIndex=function(x4M,y4M){var Q1Zp,K4M,f4M,e4M,C4M;Q1Zp="_M";Q1Zp+="A";K4M=y4M.chart.scrubbed;if(K4M.length < 2 * y4M.days - 1){y4M.error=! !{};return;}f4M=y4M.inputs.Field;function H4M(S4M,M4M,L4M){var N4M;N4M=null;for(var w4M=M4M - S4M + 1;w4M <= M4M;w4M++){if(w4M < 0)continue;N4M=N4M === null?K4M[w4M][L4M]:Math.max(N4M,K4M[w4M][L4M]);}R9EE.z17m();return N4M;}if(!f4M || f4M == "field"){f4M="Close";}for(e4M=Math.max(y4M.startFrom,y4M.days - 1);e4M < K4M.length;e4M++){K4M[e4M]["_PD2 " + y4M.name]=Math.pow(100 * (K4M[e4M][f4M] / H4M(y4M.days,e4M,f4M) - 1),2);}l4M.Studies.MA("simple",y4M.days,"_PD2 " + y4M.name,0,Q1Zp,x4M,y4M);for(e4M=Math.max(y4M.startFrom,2 * (y4M.days - 1));e4M < K4M.length;e4M++){C4M=K4M[e4M]["_MA " + y4M.name];if(C4M || C4M === 0){K4M[e4M]["Result " + y4M.name]=Math.sqrt(C4M);}}};l4M.Studies.studyLibrary=l4M.extend(l4M.Studies.studyLibrary,{Ulcer:{name:"Ulcer Index",calculateFN:l4M.Studies.calculateUlcerIndex,inputs:{Period:14,Field:"field"}}});}};c1I=R4M=>{var B4M;B4M=typeof _CIQ !== "undefined"?_CIQ:R4M.CIQ;if(!B4M.Studies){console.error("ultimateOscillator feature requires first activating studies feature.");}else {B4M.Studies.calculateUltimateOscillator=function(m7M,b4M){var Z97m=R9EE;var E1Zp,d4M,Y4M,k4M,Q4M,D4M,E4M,J4M,j4M,X1Zp,v4M,V4M,n4M,s4M,U4M,p4M,u4M,P4M;E1Zp="Cyc";E1Zp+="le ";E1Zp+="2";d4M=b4M.chart.scrubbed;Y4M=[b4M.inputs["Cycle 1"],b4M.inputs[E1Zp],b4M.inputs["Cycle 3"]];k4M=Math.max(Y4M[0],Y4M[1],Y4M[2]);if(d4M.length < k4M + ("1" | 0)){b4M.error=!0;return;}Q4M=Y4M[0] * Y4M[1];D4M=Y4M[0] * Y4M[2];E4M=Y4M[1] * Y4M[2];Z97m.N1kc(15);J4M=[0,Z97m.j1kc("0",0),0];Z97m.r1kc(16);Z97m.q17m();j4M=[Z97m.j1kc(1,"0"),0,Z97m.n1kc(694922912,"0",Z97m.N1kc(27))];if(b4M.startFrom){if(d4M[b4M.startFrom - 1]["_accbp " + b4M.name]){J4M=d4M[b4M.startFrom - ("1" >> 174468160)]["_accbp " + b4M.name].slice();}if(d4M[b4M.startFrom - 1]["_acctr " + b4M.name]){j4M=d4M[b4M.startFrom - 1]["_acctr " + b4M.name].slice();}}for(var A4M=Math.max(1,b4M.startFrom);A4M < d4M.length;A4M++){X1Zp="Resu";X1Zp+="lt ";v4M=Math.min(d4M[A4M].Low,d4M[A4M - 1].Close);V4M=d4M[A4M].Close - v4M;n4M=Math.max(d4M[A4M].High,d4M[A4M - 1].Close) - v4M;for(var I4M=+"0";I4M < Y4M.length;I4M++){J4M[I4M]+=V4M;j4M[I4M]+=n4M;if(A4M > Y4M[I4M]){s4M=Math.min(d4M[A4M - Y4M[I4M]].Low,d4M[A4M - Y4M[I4M] - +"1"].Close);U4M=d4M[A4M - Y4M[I4M]].Close - s4M;p4M=Math.max(d4M[A4M - Y4M[I4M]].High,d4M[A4M - Y4M[I4M] - 1].Close) - s4M;J4M[I4M]-=U4M;j4M[I4M]-=p4M;}}d4M[A4M]["_accbp " + b4M.name]=J4M.slice();d4M[A4M]["_acctr " + b4M.name]=j4M.slice();if(A4M < k4M)continue;u4M=E4M * J4M["0" << 1762612384] / j4M["0" * 1] + D4M * J4M[1] / j4M[1] + Q4M * J4M[2] / j4M[2];Z97m.r1kc(47);P4M=Z97m.j1kc(D4M,Q4M,E4M);Z97m.r1kc(38);d4M[A4M][X1Zp + b4M.name]=Z97m.n1kc(P4M,100,u4M);}};B4M.Studies.studyLibrary=B4M.extend(B4M.Studies.studyLibrary,{Ultimate:{name:"Ultimate Oscillator",calculateFN:B4M.Studies.calculateUltimateOscillator,inputs:{"Cycle 1":7,"Cycle 2":14,"Cycle 3":28},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};h1I=X7M=>{var j1Zp,r7M,y1Zp,t1Zp,Z1Zp;j1Zp="und";j1Zp+="ef";j1Zp+="i";j1Zp+="ned";r7M=typeof _CIQ !== j1Zp?_CIQ:X7M.CIQ;if(!r7M.Studies){console.error("valuationLines feature requires first activating studies feature.");}else {y1Zp="#fff6";y1Zp+="9e";t1Zp="#85c99";t1Zp+="e";Z1Zp="Valu";Z1Zp+="a";Z1Zp+="tion";Z1Zp+=" Lines";r7M.Studies.calculateValuationLines=function(o7M,c7M,T7M){var G97m=R9EE;var c1Zp,r1Zp,t7M,y7M,l7M,q7M,i7M,W7M,O7M,h7M,F7M,g7M,a7M,Z7M,G7M;c1Zp="Dis";c1Zp+="play 3 Stand";c1Zp+="ard D";c1Zp+="eviation (3\u03C3)";r1Zp="D";r1Zp+="isplay Average";t7M=c7M.inputs.Field == "field"?"Close":c7M.inputs.Field;y7M=c7M.inputs["Average Type"];l7M=c7M.inputs[r1Zp];q7M=c7M.inputs["Display 1 Standard Deviation (1\u03C3)"];i7M=c7M.inputs["Display 2 Standard Deviation (2\u03C3)"];W7M=c7M.inputs[c1Zp];O7M=[];for(var z7M=0;z7M < T7M.length;++z7M){if(T7M[z7M] && !isNaN(T7M[z7M][t7M])){O7M.push(T7M[z7M][t7M]);}}h7M=(function(x7M,N7M){var e7M,f7M,C7M,K7M,H7M,w7M;e7M=x7M.length;f7M=0;C7M=0;K7M=0;switch(N7M){case "mean":C7M=e7M;for(;K7M < e7M;++K7M){f7M+=x7M[K7M];}break;case "harmonic":f7M=e7M;for(;K7M < e7M;++K7M){C7M+=+"1" / x7M[K7M];}break;case "median":G97m.N1kc(10);H7M=Math.floor(G97m.j1kc(2,e7M));w7M=x7M.slice().sort(function(M7M,L7M){if(M7M > L7M){return 1;}if(M7M < L7M){G97m.N1kc(0);return -G97m.n1kc("1",2147483647);}return 0;});if(e7M % 2 === 0){f7M=w7M[H7M] + w7M[H7M - 1];C7M=2;}else {f7M=w7M[H7M];C7M=1;}break;}G97m.N1kc(10);return G97m.j1kc(C7M,f7M);})(O7M,y7M);F7M=!(q7M || i7M || W7M) || (function(d7M,b7M){var B7M,R7M;B7M=d7M.length;R7M=0;for(var S7M=0;S7M < B7M;++S7M){R7M+=Math.pow(d7M[S7M] - b7M,2);}G97m.r1kc(10);return Math.sqrt(G97m.n1kc(B7M,R7M));})(O7M,h7M);c7M.data={Average:l7M?[h7M]:null,"1 Standard Deviation (1\u03C3)":q7M?[h7M + F7M,h7M - F7M]:null,"2 Standard Deviation (2\u03C3)":i7M?[h7M + F7M * 2,h7M - F7M * 2]:null,"3 Standard Deviation (3\u03C3)":W7M?[h7M + F7M * 3,h7M - F7M * 3]:null};g7M=F7M;if(!c7M.parameters){c7M.parameters={};}if(W7M){G97m.r1kc(83);c7M.parameters.range=[G97m.j1kc(F7M,g7M,h7M,3),G97m.j1kc(g7M,3,h7M,F7M,G97m.N1kc(84))];}else if(i7M){G97m.N1kc(83);c7M.parameters.range=[G97m.n1kc(F7M,g7M,h7M,2),G97m.n1kc(g7M,2,h7M,F7M,G97m.r1kc(84))];}else if(q7M){G97m.N1kc(60);c7M.parameters.range=[G97m.n1kc(g7M,h7M,F7M),G97m.n1kc(F7M,g7M,h7M,G97m.N1kc(47))];}else if(l7M){G97m.r1kc(4);c7M.parameters.range=[G97m.j1kc(g7M,h7M),G97m.j1kc(g7M,h7M,G97m.N1kc(2))];}if(c7M.panel){a7M=o7M.panels[c7M.panel];Z7M=o7M.getYAxisByName(a7M,c7M.name);if(Z7M){Z7M.decimalPlaces=a7M.chart.yAxis.printDecimalPlaces;G7M={yAxis:Z7M};o7M.calculateYAxisRange(a7M,Z7M,c7M.parameters.range[+"0"],c7M.parameters.range[+"1"]);o7M.createYAxis(a7M,G7M);o7M.drawYAxis(a7M,G7M);}}};r7M.Studies.displayValuationLines=function(Y7M,J7M){var i1Zp,N1Zp,A7M,j7M,Q7M,v7M,c8M,h8M,F8M,D7M,E7M,s7M,U7M,p7M,u7M,P7M,V7M,n7M,I7M,m8M,g8M,r8M,I1Zp,D1Zp,H1Zp,z1Zp,u1Zp,X8M;i1Zp="c";i1Zp+="iq-valuation-";i1Zp+="aver";i1Zp+="age-line";N1Zp="A";N1Zp+="V";N1Zp+="G";A7M=Y7M.panels[J7M.panel];j7M=J7M.getYAxis(Y7M);Q7M=J7M.getContext(Y7M);v7M=J7M.data;c8M=J7M.parameters.labels;h8M=J7M.inputs["Average Type"];F8M={mean:N1Zp,median:"MED",harmonic:"HAVG"};D7M=Y7M.canvasStyle(i1Zp);E7M=Y7M.canvasStyle("ciq-valuation-deviation-line");s7M=+"3";U7M=Y7M.getCanvasFontSize("stx_yaxis") + s7M * 2;for(var k7M in v7M){if(!v7M[k7M])continue;R9EE.N1kc(85);p7M=R9EE.n1kc("Average",k7M);u7M=r7M.Studies.determineColor(J7M.outputs[k7M]);P7M=v7M[k7M];for(V7M=0;V7M < P7M.length;++V7M){I1Zp="\u03C3";I1Zp+=": ";D1Zp="lin";D1Zp+="e";H1Zp="dash";H1Zp+="ed";z1Zp="s";z1Zp+="oli";z1Zp+="d";u1Zp="so";u1Zp+="l";u1Zp+="id";n7M=P7M[V7M];I7M=Y7M.pixelFromPrice(n7M,A7M,j7M);if(I7M <= A7M.top || I7M >= A7M.yAxis.bottom)continue;r8M=p7M?{pattern:D7M.borderStyle != "none"?D7M.borderStyle || u1Zp:z1Zp,lineWidth:parseFloat(D7M.borderWidth) || +"1",opacity:parseFloat(D7M.opacity) || 1,yAxis:j7M}:{pattern:E7M.borderStyle != "none"?E7M.borderStyle || "dashed":H1Zp,lineWidth:parseFloat(E7M.borderWidth) || 1,opacity:parseFloat(E7M.opacity) || 1,yAxis:j7M};Y7M.plotLine(A7M.left,A7M.right,I7M,I7M,u7M,D1Zp,Q7M,A7M,r8M);if(c8M === "yaxis"){Y7M.createYAxisLabel(A7M,Y7M.formatYAxisPrice(n7M,A7M),I7M,u7M,null,Q7M,j7M);continue;}I7M+=Math.floor(r8M.lineWidth / 2);if(I7M + U7M >= A7M.yAxis.bottom)continue;m8M=(p7M?F8M[h8M] + ": ":k7M[0] + I1Zp) + Y7M.formatYAxisPrice(n7M,A7M);g8M=Q7M.measureText(m8M).width;X8M=A7M.right - g8M - s7M;if(j7M && j7M.position == "left"){X8M=A7M.left + s7M;}R9EE.N1kc(86);Q7M.strokeText(m8M,X8M,R9EE.j1kc(2,0.5,U7M,I7M));}}};r7M.Studies.studyLibrary=r7M.extend(r7M.Studies.studyLibrary,{"val lines":{name:Z1Zp,calculateFN:function(){},seriesFN:function(z8M,a8M,o8M){R9EE.z17m();r7M.Studies.calculateValuationLines(z8M,a8M,o8M);r7M.Studies.displayValuationLines(z8M,a8M);},overlay:! !{},yAxisFN:function(){},inputs:{Field:"field","Average Type":["mean","median","harmonic"],"Display Average":! !{},"Display 1 Standard Deviation (1\u03C3)":!{},"Display 2 Standard Deviation (2\u03C3)":!{},"Display 3 Standard Deviation (3\u03C3)":!{}},outputs:{Average:"#00afed","1 Standard Deviation (1\u03C3)":"#e1e1e1","2 Standard Deviation (2\u03C3)":t1Zp,"3 Standard Deviation (3\u03C3)":y1Zp}}});}};F1I=T8M=>{var m17m=R9EE;m17m.q17m();var Z8M,e80,k80,J80,g4Zp,U4Zp,s4Zp;Z8M=typeof _CIQ !== "undefined"?_CIQ:T8M.CIQ;if(!Z8M.Studies){m17m.N1kc(4);e80=-m17m.j1kc(0,"27164340");k80=-1818324782;J80=2;for(var m80=1;m17m.h50(m80.toString(),m80.toString().length,31935) !== e80;m80++){console.error("");J80+=+"2";}if(m17m.h50(J80.toString(),J80.toString().length,+"96931") !== k80){console.error("");}console.error("volatilityIndex feature requires first activating studies feature.");}else {g4Zp="a";g4Zp+="u";g4Zp+="t";g4Zp+="o";U4Zp="a";U4Zp+="u";U4Zp+="to";s4Zp="Historical Vol";s4Zp+="atility";Z8M.Studies.calculateRelativeVolatility=function(K8M,q8M){var M4Zp,l1Zp,K1Zp,q1Zp,e8M,l8M,i8M,O8M,t8M,h1Zp,W8M,y8M;M4Zp="Re";M4Zp+="l Vo";M4Zp+="l";l1Zp="Clo";l1Zp+="se";function f8M(C8M,x8M){m17m.q17m();if(C8M + x8M === 0){m17m.N1kc(15);return m17m.j1kc("100",68);}m17m.N1kc(87);return m17m.n1kc(C8M,C8M,x8M,"100");}K1Zp="STD Perio";K1Zp+="d";q1Zp="Smoothing P";m17m.q17m();q1Zp+="er";q1Zp+="iod";q8M.days=Number(q8M.inputs[q1Zp]);e8M=Number(q8M.inputs[K1Zp]);l8M=q8M.chart.scrubbed;if(l8M.length < q8M.days + e8M){q8M.error=! !1;return;}i8M=q8M.inputs.Field;if(!i8M || i8M == "field"){i8M=l1Zp;}q8M.std=new Z8M.Studies.StudyDescriptor(q8M.name,"sdev",q8M.panel);q8M.std.chart=q8M.chart;q8M.std.days=e8M;q8M.std.startFrom=q8M.startFrom;q8M.std.inputs={Field:i8M,"Standard Deviations":+"1",Type:"ma"};q8M.std.outputs={_STD:null};Z8M.Studies.calculateStandardDeviation(K8M,q8M.std);O8M=0;t8M=0;if(q8M.startFrom > 1){h1Zp="_a";h1Zp+="vg";h1Zp+="L ";O8M=l8M[q8M.startFrom - 1]["_avgG " + q8M.name] || 0;t8M=l8M[q8M.startFrom - 1][h1Zp + q8M.name] || 0;}for(var G8M=Math.max(q8M.startFrom,q8M.days);G8M < l8M.length;G8M++){W8M=l8M[G8M];m17m.N1kc(4);y8M=l8M[m17m.j1kc(1,G8M)];if(!W8M[i8M] && W8M[i8M] !== 0)continue;if(!y8M[i8M] && y8M[i8M] !== 0)continue;if(!W8M["_STD " + q8M.name] && W8M["_STD " + q8M.name] !== 0)continue;if(W8M[i8M] > y8M[i8M]){O8M=(O8M * (q8M.days - 1) + W8M["_STD " + q8M.name]) / q8M.days;t8M=t8M * (q8M.days - 1) / q8M.days;}else {t8M=(t8M * (q8M.days - 1) + W8M["_STD " + q8M.name]) / q8M.days;O8M=O8M * (q8M.days - 1) / q8M.days;}W8M["Rel Vol " + q8M.name]=f8M(O8M,t8M);W8M["_avgG " + q8M.name]=O8M;W8M["_avgL " + q8M.name]=t8M;}q8M.zoneOutput=M4Zp;};Z8M.Studies.calculateHistoricalVolatility=function(d8M,H8M){var S4Zp,w8M,S8M,B8M,I8M,L8M,N8M,b8M,A8M,Y8M;S4Zp="fi";S4Zp+="eld";w8M=H8M.chart.scrubbed;if(w8M.length < H8M.days + ("1" & 2147483647)){H8M.error=! !{};return;}S8M=H8M.inputs.Field;if(!S8M || S8M == S4Zp){S8M="Close";}B8M=H8M.inputs["Standard Deviations"];if(B8M < ("0" & 2147483647)){B8M=1;}I8M=("100" << 99650976) * Math.sqrt(J8M(H8M.inputs["Days Per Year"])) * B8M;L8M=[];N8M=0;function J8M(j8M){var v4Zp,p4Zp;v4Zp="m";v4Zp+="o";v4Zp+="n";v4Zp+="th";m17m.z17m();p4Zp="w";p4Zp+="e";p4Zp+="e";p4Zp+="k";if(isNaN(j8M)){j8M=365;}if(d8M.layout.interval == "day"){return j8M;}else if(d8M.layout.interval == p4Zp){return 52;}else if(d8M.layout.interval == v4Zp){m17m.N1kc(21);return m17m.j1kc("12",181064512);}return j8M;}if(H8M.startFrom > 1){N8M=w8M[H8M.startFrom - 1]["_state " + H8M.name][0];L8M=w8M[H8M.startFrom - 1]["_state " + H8M.name]["1" * 1].slice();}m17m.z17m();for(var M8M=Math.max(1,H8M.startFrom);M8M < w8M.length;M8M++){m17m.r1kc(41);b8M=w8M[m17m.j1kc("1",M8M)][S8M];if(b8M){A8M=Math.log(w8M[M8M][S8M] / b8M);L8M.push(A8M);N8M+=A8M;if(M8M >= H8M.days){Y8M=0;N8M/=H8M.days;for(var R8M=0;R8M < L8M.length;R8M++){Y8M+=Math.pow(L8M[R8M] - N8M,2);}N8M*=H8M.days;N8M-=L8M.shift();w8M[M8M]["Result " + H8M.name]=Math.sqrt(Y8M / H8M.days) * I8M;}}w8M[M8M]["_state " + H8M.name]=[N8M,L8M.slice()];}};Z8M.Studies.studyLibrary=Z8M.extend(Z8M.Studies.studyLibrary,{"Hist Vol":{name:s4Zp,calculateFN:Z8M.Studies.calculateHistoricalVolatility,inputs:{Period:10,Field:"field","Days Per Year":["252" & 2147483647,365],"Standard Deviations":1},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Rel Vol":{name:"Relative Volatility",range:"0 to 100",calculateFN:Z8M.Studies.calculateRelativeVolatility,inputs:{Field:"field","STD Period":10,"Smoothing Period":14},outputs:{"Rel Vol":U4Zp},centerline:50,parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:g4Zp}}}});}};g1I=Q8M=>{var k8M;k8M=typeof _CIQ !== "undefined"?_CIQ:Q8M.CIQ;if(!k8M.Studies){console.error("volumeProfile feature requires first activating studies feature.");}else {k8M.Studies.displayVolumeProfile=function(v8M,n8M,W5M){var H67m=R9EE;var a4Zp,C4Zp,V8M,p8M,m5M,c5M,h5M,Z5M,E8M,z00,H00,D00,r5M,s8M,O5M,X5M,P8M,G4Zp,D8M,T5M,q5M,z5M,a5M,U8M,t5M,i5M,l5M,o5M;a4Zp="stx_volume_";a4Zp+="prof";a4Zp+="ile";C4Zp="stx_v";C4Zp+="olu";C4Zp+="me_profi";function G5M(S5M,C5M){var H5M,x5M,K5M,e5M,f5M,w5M,N5M,M5M,L5M;if(!C5M){U8M-=2;}o5M.canvasColor(S5M);D8M.beginPath();H5M=E8M[0][+"0"];x5M=U8M;for(var y5M=1;y5M < E8M.length;y5M++){if(E8M[y5M][1]){K5M=Math.round(U8M - E8M[y5M]["1" & 2147483647] * t5M / r5M) - 0.5;e5M=Math.round(o5M.pixelFromTransformedValue(H5M,z5M)) + 0.5;f5M=Math.round(o5M.pixelFromTransformedValue(E8M[y5M][+"0"],z5M)) + 0.5;if(!C5M){e5M-=0.5;f5M+=0.5;K5M+=0.5;}if(e5M > a5M){e5M=a5M;}if(f5M < a5M){D8M.moveTo(U8M,e5M);D8M.lineTo(U8M,f5M);D8M.lineTo(K5M,f5M);D8M.lineTo(K5M,e5M);if(C5M){if(x5M > K5M || y5M == "1" - 0){D8M.lineTo(x5M,e5M);};}else {D8M.lineTo(U8M,e5M);if(h5M){w5M=k8M.condenseInt(E8M[y5M][1]);H67m.r1kc(4);N5M=H67m.n1kc(f5M,e5M);if(q5M <= N5M - 2){try{M5M=D8M.measureText(w5M).width;}catch(B5M){M5M=0;}D8M.textBaseline="top";L5M=D8M.fillStyle;D8M.fillStyle=i5M;H67m.r1kc(60);D8M.fillText(w5M,H67m.j1kc(3,K5M,M5M),H67m.n1kc(2,N5M,"2",q5M,f5M,H67m.N1kc(88)));D8M.fillStyle=L5M;}}}}x5M=K5M;}else {x5M=U8M;;}H5M=E8M[y5M][0];}if(!n8M.highlight && v8M.highlightedDraggable){D8M.globalAlpha*=0.3;}if(!C5M){D8M.fill();}D8M.strokeStyle=i5M;if(C5M){D8M.stroke();}D8M.closePath();}C4Zp+="le";if(!v8M || !v8M.chart.dataSet){return;}V8M=v8M.chart;p8M=n8M.parameters.numberOfBars;m5M=n8M.parameters.widthPercentage;c5M=n8M.parameters.displayBorder;h5M=n8M.parameters.displayVolume;if(!p8M || p8M < 0){p8M=30;}p8M=Math.ceil(p8M);if(!m5M || m5M < "0" << 453701760){m5M=0.25;}if(c5M !== ![]){c5M=! !"1";}if(h5M !== ! !{}){h5M=!"1";}Z5M=(V8M.highValue - V8M.lowValue) / p8M;if(Z5M === 0){return;}E8M=[];for(var F5M=V8M.lowValue;F5M < V8M.highValue + 0.1;F5M+=Z5M){E8M.push([F5M,0]);}if(E8M.length < 2){v8M.displayErrorAsWatermark("chart",v8M.translateIf("Not enough data to render the Volume Profile"));z00=+"7313482";H00=177982566;D00=2;for(var Z00=1;H67m.h50(Z00.toString(),Z00.toString().length,41410) !== z00;Z00++){return;}if(H67m.M00(D00.toString(),D00.toString().length,19567) !== H00){return;}}r5M=0;for(var g5M=0;g5M < W5M.length;g5M++){s8M=W5M[g5M];if(!s8M)continue;O5M=s8M.Volume;if(n8M.panel == V8M.name && s8M.transform){s8M=s8M.transform;}X5M=E8M[0][0];P8M=0;for(var u8M=1;u8M < E8M.length;u8M++){P8M=E8M[u8M][0];if(s8M.Low >= X5M && s8M.Low <= P8M || s8M.Low < X5M && s8M.High > P8M || s8M.High >= X5M && s8M.High <= P8M){E8M[u8M][1]+=O5M;if(E8M[u8M][1] > r5M){r5M=E8M[u8M][1];}}X5M=P8M;}}if(r5M === ("0" | 0)){G4Zp="Not enough data to re";G4Zp+="nder the Volume Profile";v8M.displayErrorAsWatermark("chart",v8M.translateIf(G4Zp));return;}v8M.setStyle("stx_volume_profile","color",k8M.Studies.determineColor(n8M.outputs["Bars Color"]));D8M=n8M.getContext(v8M);T5M="stx-f";T5M+="loat-date";v8M.canvasFont(T5M,D8M);q5M=v8M.getCanvasFontSize(T5M);z5M=V8M.panel;a5M=z5M.yAxis.bottom;H67m.z17m();U8M=Math.round(V8M.right) - 0.5;t5M=V8M.width * m5M;i5M=v8M.canvasStyle(C4Zp).borderTopColor;l5M=!k8M.isTransparent(v8M.canvasStyle("stx_volume_profile").borderTopColor) && c5M;o5M=v8M;G5M(a4Zp,!{});if(l5M){G5M("stx_volume_profile",! !"1");}H67m.N1kc(27);D8M.globalAlpha=H67m.j1kc(2070212288,"1");};k8M.Studies.studyLibrary=k8M.extend(k8M.Studies.studyLibrary,{"vol profile":{name:"Volume Profile",underlay:! ![],seriesFN:k8M.Studies.displayVolumeProfile,calculateFN:null,inputs:{},outputs:{"Bars Color":"#b64a96"},customRemoval:! !1,parameters:{init:{displayBorder:!"",displayVolume:!1,numberOfBars:"30" & 2147483647,widthPercentage:0.25}},attributes:{yaxisDisplayValue:{hidden:! ![]},panelName:{hidden:!0},flippedEnabled:{hidden:! !{}}}}});}};z1I=d5M=>{var R5M,O4Zp,A4Zp,Y4Zp,m4Zp,x4Zp,J4Zp;R9EE.q17m();R5M=typeof _CIQ !== "undefined"?_CIQ:d5M.CIQ;if(!R5M.Studies){console.error("volumeStudies feature requires first activating studies feature.");}else {O4Zp="#b82c0";O4Zp+="c";A4Zp="n";A4Zp+="o";A4Zp+="n";A4Zp+="e";Y4Zp="fie";Y4Zp+="l";Y4Zp+="d";m4Zp="f";m4Zp+="ield";x4Zp="On Balance";x4Zp+=" Vol";x4Zp+="ume";J4Zp="m";J4Zp+="a";R5M.Studies.calculateOnBalanceVolume=function(v5M,Y5M){var b5M,I5M,E5M,j5M,k5M,J5M,Q5M,D5M;b5M=Y5M.inputs.Field;if(!b5M || b5M == "field"){b5M="Close";}I5M=Y5M.inputs["Min Tick Value"];E5M=!"1";if(!I5M && I5M !== 0){E5M=! ![];I5M=0;}j5M=Y5M.chart.scrubbed;k5M=0;for(var A5M=Y5M.startFrom;A5M < j5M.length;A5M++){J5M=j5M[A5M];if(!A5M || !J5M[b5M])continue;if(j5M[A5M - 1][b5M]){R9EE.r1kc(4);Q5M=j5M[R9EE.n1kc(1,A5M)];}if(!Q5M)continue;if(J5M[b5M] - Q5M[b5M] > I5M){k5M=1;}else if(Q5M[b5M] - J5M[b5M] > I5M){k5M=- +"1";}else if(E5M){k5M=0;}D5M=Q5M["Result " + Y5M.name];if(!D5M){D5M=0;}D5M+=J5M.Volume * k5M;J5M["Result " + Y5M.name]=D5M;}};R5M.Studies.calculatePriceVolumeTrend=function(u5M,U5M){var n5M,V00,Q00,E00,s5M,p5M;n5M=U5M.inputs.Field;V00=543318762;Q00=786598110;E00=2;for(var j00=1;R9EE.h50(j00.toString(),j00.toString().length,"6289" | 4112) !== V00;j00++){if(~n5M && n5M !== "field"){n5M="Close";}s5M=U5M.chart.scrubbed;p5M=6;E00+=+"2";}if(R9EE.h50(E00.toString(),E00.toString().length,53008) !== Q00){if(!n5M || n5M == "field"){n5M="Close";}s5M=U5M.chart.scrubbed;R9EE.r1kc(4);p5M=R9EE.j1kc(0,"0");}if(U5M.startFrom > 1){p5M=s5M[U5M.startFrom - 1]["Result " + U5M.name];}for(var V5M=Math.max(1,U5M.startFrom);V5M < s5M.length;V5M++){if(!s5M[V5M][n5M])continue;if(!s5M[V5M - +"1"][n5M])continue;p5M+=s5M[V5M].Volume * (s5M[V5M][n5M] - s5M[V5M - +"1"][n5M]) / s5M[V5M - 1][n5M];s5M[V5M]["Result " + U5M.name]=p5M;}};R5M.Studies.calculateVolumeIndex=function(a0M,P5M){var B67m=R9EE;var h0M,m0M,k00,J00,x00,F0M,k4Zp,e4Zp,X0M,g0M,c0M,z0M;h0M=P5M.inputs.Field;if(!h0M || h0M == "field"){h0M="Close";}m0M=P5M.chart.scrubbed;if(m0M.length < P5M.days + +"1"){k00=-552512156;J00=954429135;x00=2;for(var Y00="1" << 1663882144;B67m.M00(Y00.toString(),Y00.toString().length,+"58050") !== k00;Y00++){P5M.error=![];x00+=2;}if(B67m.h50(x00.toString(),x00.toString().length,69069) !== J00){P5M.error=! ![];}return;}F0M=100;if(P5M.startFrom > 1){F0M=m0M[P5M.startFrom - 1]["Index " + P5M.name];}for(var r0M=Math.max(1,P5M.startFrom);r0M < m0M.length;r0M++){k4Zp="Index";k4Zp+=" ";e4Zp="P";e4Zp+="os Vol";X0M=m0M[r0M][h0M];g0M=m0M[r0M].Volume;if(X0M && typeof X0M == "object"){g0M=X0M.Volume;X0M=X0M[P5M.subField];}B67m.r1kc(4);c0M=m0M[B67m.j1kc(1,r0M)][h0M];z0M=m0M[r0M - 1].Volume;if(c0M && typeof c0M == "object"){z0M=c0M.Volume;c0M=c0M[P5M.subField];}if(!X0M)continue;if(!c0M)continue;if(P5M.type == e4Zp && g0M > z0M || P5M.type == "Neg Vol" && g0M < z0M){B67m.N1kc(10);F0M*=B67m.n1kc(c0M,X0M);}m0M[r0M][k4Zp + P5M.name]=F0M;}R5M.Studies.MA(P5M.inputs["Moving Average Type"],P5M.days,"Index " + P5M.name,0,"MA",a0M,P5M);};R5M.Studies.studyLibrary=R5M.extend(R5M.Studies.studyLibrary,{"Neg Vol":{name:"Negative Volume Index",calculateFN:R5M.Studies.calculateVolumeIndex,inputs:{Period:255,Field:"field","Moving Average Type":J4Zp},outputs:{Index:"auto",MA:"#FF0000"}},"On Bal Vol":{name:x4Zp,calculateFN:R5M.Studies.calculateOnBalanceVolume,inputs:{}},"Pos Vol":{name:"Positive Volume Index",calculateFN:R5M.Studies.calculateVolumeIndex,inputs:{Period:255,Field:m4Zp,"Moving Average Type":"ma"},outputs:{Index:"auto",MA:"#FF0000"}},"Price Vol":{name:"Price Volume Trend",calculateFN:R5M.Studies.calculatePriceVolumeTrend,inputs:{Field:Y4Zp}},"Trade Vol":{name:"Trade Volume Index",calculateFN:R5M.Studies.calculateOnBalanceVolume,inputs:{"Min Tick Value":0.5}},"Vol ROC":{name:"Volume Rate of Change",calculateFN:function(o0M,Z0M){if(R5M.Studies.calculateRateOfChange){R5M.Studies.calculateRateOfChange(o0M,Z0M);}else {console.error("Volume Rate of Change study requires first activating momentum feature.");R5M.Studies.calculateRateOfChange=function(T0M,q0M){};}},parameters:{init:{isVolume:! !{}}}},"vol undr":{name:"Volume Underlay",underlay:! !1,range:"0 to max",yAxis:{ground:!0,initialMarginTop:0,position:A4Zp,zoom:0,heightFactor:0.25},seriesFN:R5M.Studies.createVolumeChart,calculateFN:R5M.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":"#8cc176","Down Volume":O4Zp},customRemoval:! !{},removeFN:function(i0M,W0M){i0M.layout.volumeUnderlay=!1;i0M.changeOccurred("layout");},attributes:{panelName:{hidden:! !{}}}}});}};a1I=t0M=>{var O0M,P4Zp,R4Zp,f4Zp,F4Zp;O0M=typeof _CIQ !== "undefined"?_CIQ:t0M.CIQ;if(!O0M.Studies){P4Zp="vortex ";P4Zp+="feature";P4Zp+=" requires first activating studies feature.";console.error(P4Zp);}else {R4Zp="0.";R4Zp+="01";f4Zp="#FF";f4Zp+="00";f4Zp+="0";f4Zp+="0";F4Zp="#";F4Zp+="0";F4Zp+="0FF00";O0M.Studies.calculateVortex=function(N0M,l0M){var F67m=R9EE;var K0M,f0M,G0M,W4Zp,b4Zp,y0M,C0M,x0M,H0M,w0M,T4Zp,w4Zp;K0M=l0M.chart.scrubbed;f0M=l0M.days;if(K0M.length < f0M + "1" * 1){l0M.error=! ![];return;}G0M={tr:0,vmPlus:0,vmMinus:0};if(l0M.startFrom > 1){G0M=O0M.clone(K0M[l0M.startFrom - 1]["_totals " + l0M.name]);}for(var e0M=Math.max(l0M.startFrom,1);e0M < K0M.length;e0M++){W4Zp="_total";W4Zp+="s ";b4Zp="_VMMinu";b4Zp+="s";b4Zp+=" ";y0M=K0M[e0M];F67m.N1kc(4);C0M=K0M[F67m.j1kc(1,e0M)];x0M=Math.abs(y0M.High - C0M.Low);H0M=Math.abs(y0M.Low - C0M.High);w0M=Math.max(y0M.High,C0M.Close) - Math.min(y0M.Low,C0M.Close);G0M.tr+=w0M;G0M.vmPlus+=x0M;G0M.vmMinus+=H0M;if(e0M > f0M){T4Zp="_VMMi";T4Zp+="nu";T4Zp+="s ";w4Zp="_True Ra";w4Zp+="n";w4Zp+="ge ";F67m.r1kc(4);G0M.tr-=K0M[F67m.j1kc(f0M,e0M)][w4Zp + l0M.name];F67m.N1kc(4);G0M.vmPlus-=K0M[F67m.n1kc(f0M,e0M)]["_VMPlus " + l0M.name];F67m.r1kc(4);G0M.vmMinus-=K0M[F67m.j1kc(f0M,e0M)][T4Zp + l0M.name];}y0M["_True Range " + l0M.name]=w0M;y0M["_VMPlus " + l0M.name]=x0M;y0M[b4Zp + l0M.name]=H0M;if(e0M >= f0M){y0M["+VI " + l0M.name]=G0M.vmPlus / G0M.tr;y0M["-VI " + l0M.name]=G0M.vmMinus / G0M.tr;}y0M[W4Zp + l0M.name]=O0M.clone(G0M);}};O0M.Studies.studyLibrary=O0M.extend(O0M.Studies.studyLibrary,{Vortex:{name:"Vortex Indicator",calculateFN:O0M.Studies.calculateVortex,centerline:1,outputs:{"+VI":F4Zp,"-VI":f4Zp},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:1.1,studyOverBoughtColor:"auto",studyOverSoldValue:0.9,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:"1" & 2147483647,step:"0.01"},studyOverSoldValue:{max:1,step:R4Zp}}}});}};o1I=L0M=>{var o4Zp,M0M,Q4Zp;o4Zp="u";o4Zp+="n";o4Zp+="de";o4Zp+="fined";M0M=typeof _CIQ !== o4Zp?_CIQ:L0M.CIQ;if(!M0M.Studies){console.error("williamsMFI feature requires first activating studies feature.");}else {Q4Zp="#ffd0c";Q4Zp+="f";M0M.Studies.calculateMFI=function(I0M,S0M){var B4Zp,n4Zp,B0M,A0M,d0M,b0M,Y0M,R0M,d4Zp;B4Zp="_";B4Zp+="high ";n4Zp="Sc";n4Zp+="a";n4Zp+="le Facto";n4Zp+="r";B0M=S0M.chart.scrubbed;d0M=0;b0M=S0M.inputs["Scale Factor"];if(!b0M){b0M=S0M.study.inputs[n4Zp];}Y0M=Math.pow(10,Number(b0M));if(S0M.startFrom > 1){d0M=B0M[S0M.startFrom - 1][B4Zp + S0M.name];}for(R0M=S0M.startFrom;R0M < B0M.length;R0M++){if(!B0M[R0M])continue;if(B0M[R0M].Volume){d4Zp="_h";d4Zp+="igh ";B0M[R0M][S0M.name + "_hist"]=A0M=Y0M * (B0M[R0M].High - B0M[R0M].Low) / B0M[R0M].Volume;B0M[R0M][d4Zp + S0M.name]=d0M=Math.max(d0M,A0M);}}S0M.outputMap={};S0M.outputMap[S0M.name + "_hist"]="";};M0M.Studies.displayMFI=function(j0M,J0M,V0M){var n0M,D0M,s0M,U0M,v0M,p0M,u0M,P0M,m6M,V4Zp,L4Zp,k0M,Q0M;n0M=j0M.panels[J0M.panel];D0M=J0M.getContext(j0M);s0M=J0M.getYAxis(j0M);U0M=s0M.flipped?s0M.top:s0M.bottom;v0M=j0M.layout.candleWidth - 2;R9EE.z17m();if(v0M < 2){v0M=1;}p0M=M0M.Studies.determineColor(J0M.outputs.Green);u0M=M0M.Studies.determineColor(J0M.outputs.Fade);P0M=M0M.Studies.determineColor(J0M.outputs.Fake);m6M=M0M.Studies.determineColor(J0M.outputs.Squat);j0M.canvasColor("stx_histogram");if(!J0M.underlay){D0M.globalAlpha=1;}D0M.fillStyle="#CCCCCC";j0M.startClip(J0M.panel);if(!J0M.highlight && j0M.highlightedDraggable){D0M.globalAlpha*=0.3;}for(var E0M=0;E0M < V0M.length;E0M++){V4Zp="_his";V4Zp+="t";L4Zp="_";L4Zp+="hi";L4Zp+="st";k0M=V0M[E0M];R9EE.r1kc(4);Q0M=V0M[R9EE.n1kc(1,E0M)];if(!Q0M){Q0M=j0M.getPreviousBar(j0M.chart,J0M.name + "_hist",E0M);}if(!k0M)continue;if(!Q0M);else if(Q0M[J0M.name + "_hist"] < k0M[J0M.name + "_hist"]){if(Q0M.Volume < k0M.Volume){D0M.fillStyle=p0M;}else if(Q0M.Volume > k0M.Volume){D0M.fillStyle=P0M;}}else if(Q0M[J0M.name + "_hist"] > k0M[J0M.name + L4Zp]){if(Q0M.Volume < k0M.Volume){D0M.fillStyle=m6M;}else if(Q0M.Volume > k0M.Volume){D0M.fillStyle=u0M;}}if(k0M.candleWidth){v0M=Math.floor(Math.max(1,k0M.candleWidth - 2));}D0M.fillRect(Math.floor(j0M.pixelFromBar(E0M,n0M.chart) - v0M / 2),Math.floor(U0M),Math.floor(v0M),Math.floor(j0M.pixelFromPrice(k0M[J0M.name + V4Zp],n0M,s0M) - U0M));}j0M.endClip();};M0M.Studies.studyLibrary=M0M.extend(M0M.Studies.studyLibrary,{"W MFI":{name:"Market Facilitation Index",seriesFN:M0M.Studies.displayMFI,calculateFN:M0M.Studies.calculateMFI,yAxis:{ground:! ![]},range:"0 to max",inputs:{"Scale Factor":6},outputs:{Green:"#8bc176",Fade:"#ab611f",Fake:"#5f7cb8",Squat:Q4Zp}}});}};W1I={CIQ:s2n,SplinePlotter:Z1I,timezoneJS:T1I,$$:q1I,$$$:i1I};export {V2n as aggregations};export {n2n as drawingAdvanced};export {U2n as equationsAdvanced};export {p2n as highPerformanceMarkers};export {u2n as renderersAdvanced};export {P2n as accumulationDistribution};export {m3n as adx};export {r3n as alligator};export {X3n as aroon};export {c3n as atr};export {h3n as awesomeOscillator};export {F3n as balanceOfPower};export {g3n as bollinger};export {z3n as cci};export {a3n as centerOfGravity};export {o3n as chaikin};export {Z3n as chande};export {T3n as choppiness};export {q3n as comparisonStudies};export {i3n as coppock};export {W3n as darvasBox};export {O3n as detrended};R9EE.q17m();export {t3n as disparity};export {l3n as easeOfMovement};export {G3n as ehlerFisher};export {y3n as elder};export {e3n as fractalChaos};export {K3n as highLowStudies};export {f3n as ichimoku};export {C3n as intradayMomentum};export {x3n as keltner};export {H3n as klinger};export {w3n as linearRegression};export {N3n as macd};export {M3n as massIndex};export {L3n as moneyFlow};export {S3n as movingAverages};export {B3n as parabolicSAR};export {R3n as pivotPoints};export {d3n as prettyGoodOscillator};export {b3n as priceMomentumOscillator};export {A3n as priceVolumeOscillator};export {Y3n as primeNumber};export {I3n as pring};export {J3n as projectedVolume};export {j3n as psychologicalLine};export {k3n as qstick};export {Q3n as rainbow};export {D3n as randomWalk};export {E3n as relativeVigor};export {v3n as rsi};export {s3n as schaffTrendCycle};export {V3n as shinohara};export {n3n as stochastics};export {U3n as supertrend};export {p3n as swingIndex};export {u3n as trendIntensity};export {P3n as trix};export {m1I as twiggsMoneyFlow};export {r1I as typicalPrice};export {X1I as ulcerIndex};export {c1I as ultimateOscillator};export {h1I as valuationLines};export {F1I as volatilityIndex};export {g1I as volumeProfile};export {z1I as volumeStudies};export {a1I as vortex};export {o1I as williamsMFI};export {s2n as CIQ, Z1I as SplinePlotter, T1I as timezoneJS, q1I as $$, i1I as $$$};if(typeof __TREE_SHAKE__ === "undefined" || !__TREE_SHAKE__){(W1I.CIQ || s2n).activateImports(V2n,n2n,U2n,p2n,u2n,P2n,m3n,r3n,X3n,c3n,h3n,F3n,g3n,z3n,a3n,o3n,Z3n,T3n,q3n,i3n,W3n,O3n,t3n,l3n,G3n,y3n,e3n,K3n,f3n,C3n,x3n,H3n,w3n,N3n,M3n,L3n,S3n,B3n,R3n,d3n,b3n,A3n,Y3n,I3n,J3n,j3n,k3n,Q3n,D3n,E3n,v3n,s3n,V3n,n3n,U3n,p3n,u3n,P3n,m1I,r1I,X1I,c1I,h1I,F1I,g1I,z1I,a1I,o1I,null);}/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */
