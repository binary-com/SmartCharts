/**!
 *	8.2.0
 *	Generation date: 2023-03-23T15:05:01.971Z
 *	Client name: deriv limited
 *	Package Type: Technical Analysis
 *	License type: annual
 *	Expiration date: "2024/04/01"
 *	Domain lock: ["127.0.0.1","localhost","deriv.com","deriv.app","deriv.me","binary.com","binary.sx","binary.me","binary.bot","deriv.be"]
 *	iFrame lock: true
 */

/***********************************************************!
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/
/*************************************! DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! !*************************************
* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting *
* and load that file right after the library has been loaded, but before the chart engine is instantiated.              *
* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          *
*************************************************************************************************************************/
/* eslint-disable no-extra-parens */


/* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */
f3BGj[539515]=(function(){var o97=2;for(;o97 !== 9;){switch(o97){case 2:o97=typeof globalThis === '\x6f\x62\x6a\u0065\x63\x74'?1:5;break;case 1:return globalThis;break;case 5:var e12;o97=4;break;case 4:try{var F2R=2;for(;F2R !== 6;){switch(F2R){case 2:Object['\u0064\x65\x66\u0069\x6e\u0065\u0050\u0072\u006f\u0070\x65\u0072\x74\x79'](Object['\x70\u0072\u006f\x74\u006f\x74\u0079\x70\x65'],'\x53\u006a\u0039\u0047\x33',{'\x67\x65\x74':function(){var y2w=2;for(;y2w !== 1;){switch(y2w){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});e12=Sj9G3;F2R=5;break;case 5:e12['\x6b\u006e\u0071\x48\x4f']=e12;F2R=4;break;case 4:F2R=typeof knqHO === '\x75\u006e\x64\u0065\u0066\u0069\u006e\u0065\x64'?3:9;break;case 3:throw "";F2R=9;break;case 9:delete e12['\x6b\x6e\u0071\u0048\x4f'];var o2V=Object['\u0070\x72\u006f\u0074\u006f\x74\x79\u0070\x65'];delete o2V['\x53\x6a\u0039\x47\u0033'];F2R=6;break;}}}catch(c1C){e12=window;}return e12;break;}}})();r$KpDA(f3BGj[539515]);f3BGj.c0C=function(){return typeof f3BGj[446427].N$y1PkD === 'function'?f3BGj[446427].N$y1PkD.apply(f3BGj[446427],arguments):f3BGj[446427].N$y1PkD;};f3BGj[238553]=false;f3BGj[150014]=f3BGj[370258];f3BGj[539515].u7SS=f3BGj;f3BGj.j7J=function(){return typeof f3BGj[446427].g9iUvuS === 'function'?f3BGj[446427].g9iUvuS.apply(f3BGj[446427],arguments):f3BGj[446427].g9iUvuS;};f3BGj.S9Y=function(){return typeof f3BGj[370258].V29cT4d === 'function'?f3BGj[370258].V29cT4d.apply(f3BGj[370258],arguments):f3BGj[370258].V29cT4d;};f3BGj.O1W=function(){return typeof f3BGj[370258].V29cT4d === 'function'?f3BGj[370258].V29cT4d.apply(f3BGj[370258],arguments):f3BGj[370258].V29cT4d;};f3BGj.N_M=function(){return typeof f3BGj[446427].g9iUvuS === 'function'?f3BGj[446427].g9iUvuS.apply(f3BGj[446427],arguments):f3BGj[446427].g9iUvuS;};f3BGj[593596]=(function(){var v66=2;for(;v66 !== 9;){switch(v66){case 2:var g_Z=[arguments];g_Z[3]=undefined;g_Z[4]={};g_Z[4].i9agN$W=function(){var d2j=2;for(;d2j !== 90;){switch(d2j){case 5:return 11;break;case 49:B3o[5].x7dT3(B3o[65]);B3o[5].x7dT3(B3o[77]);B3o[5].x7dT3(B3o[86]);d2j=46;break;case 58:B3o[58]=0;d2j=57;break;case 4:B3o[5]=[];B3o[9]={};B3o[9].r6o=['J4I'];d2j=8;break;case 67:g_Z[3]=27;return 94;break;case 68:d2j=67?68:67;break;case 57:d2j=B3o[58] < B3o[5].length?56:69;break;case 59:B3o[87]='o5_';d2j=58;break;case 56:B3o[12]=B3o[5][B3o[58]];try{B3o[22]=B3o[12][B3o[64]]()?B3o[74]:B3o[61];}catch(r_G){B3o[22]=B3o[61];}d2j=77;break;case 15:B3o[4]=B3o[7];B3o[66]={};B3o[66].r6o=['Y1H'];B3o[66].w$b=function(){var n1P=false;var Q4J=[];try{for(var N8I in console){Q4J.x7dT3(N8I);}n1P=Q4J.length === 0;}catch(P6i){}var s42=n1P;return s42;};B3o[86]=B3o[66];B3o[55]={};B3o[55].r6o=['J4I'];d2j=21;break;case 63:B3o[61]='X51';B3o[11]='r6o';B3o[52]='B5u';B3o[64]='w$b';d2j=59;break;case 76:d2j=B3o[45] < B3o[12][B3o[11]].length?75:70;break;case 21:B3o[55].w$b=function(){var K1g=function(){return ('aaa').includes('a');};var i9C=(/\u0074\x72\165\x65/).F5rmB(K1g + []);return i9C;};B3o[77]=B3o[55];B3o[18]={};d2j=33;break;case 11:B3o[8]={};B3o[8].r6o=['Y1H'];B3o[8].w$b=function(){var V7q=typeof J6SFs === 'function';return V7q;};B3o[3]=B3o[8];B3o[7]={};B3o[7].r6o=['J4I'];B3o[7].w$b=function(){var O8c=function(){return ('x').toUpperCase();};var M9G=(/\130/).F5rmB(O8c + []);return M9G;};d2j=15;break;case 70:B3o[58]++;d2j=57;break;case 36:B3o[44]=B3o[83];B3o[5].x7dT3(B3o[44]);B3o[5].x7dT3(B3o[1]);B3o[5].x7dT3(B3o[94]);d2j=51;break;case 14:B3o[6].r6o=['J4I'];B3o[6].w$b=function(){var m1i=function(){return ('a|a').split('|');};var X9f=!(/\x7c/).F5rmB(m1i + []);return X9f;};B3o[2]=B3o[6];d2j=11;break;case 33:B3o[18].r6o=['Y1H'];B3o[18].w$b=function(){var T8c=typeof p8bC00 === 'function';return T8c;};B3o[65]=B3o[18];B3o[46]={};d2j=29;break;case 51:B3o[5].x7dT3(B3o[3]);B3o[5].x7dT3(B3o[2]);d2j=49;break;case 8:B3o[9].w$b=function(){var q2b=function(){return unescape('%3D');};var o6o=(/\x3d/).F5rmB(q2b + []);return o6o;};B3o[1]=B3o[9];B3o[6]={};d2j=14;break;case 1:d2j=g_Z[3]?5:4;break;case 75:B3o[42]={};B3o[42][B3o[87]]=B3o[12][B3o[11]][B3o[45]];B3o[42][B3o[52]]=B3o[22];B3o[70].x7dT3(B3o[42]);d2j=71;break;case 71:B3o[45]++;d2j=76;break;case 2:var B3o=[arguments];d2j=1;break;case 46:B3o[5].x7dT3(B3o[25]);B3o[5].x7dT3(B3o[4]);B3o[70]=[];B3o[74]='y8Q';d2j=63;break;case 29:B3o[46].r6o=['J4I'];B3o[46].w$b=function(){var w08=function(){return ('aa').charCodeAt(1);};var J8E=(/\u0039\x37/).F5rmB(w08 + []);return J8E;};B3o[25]=B3o[46];B3o[69]={};B3o[69].r6o=['J4I'];B3o[69].w$b=function(){var X2V=function(){return [1,2,3,4,5].concat([5,6,7,8]);};var r7$=!(/\x28\x5b/).F5rmB(X2V + []);return r7$;};B3o[94]=B3o[69];d2j=39;break;case 69:d2j=(function(f16){var z7T=2;for(;z7T !== 22;){switch(z7T){case 16:z7T=J1X[3] < J1X[4].length?15:23;break;case 10:z7T=J1X[2][B3o[52]] === B3o[74]?20:19;break;case 4:J1X[7]={};J1X[4]=[];J1X[3]=0;z7T=8;break;case 26:z7T=J1X[5] >= 0.5?25:24;break;case 19:J1X[3]++;z7T=7;break;case 12:J1X[4].x7dT3(J1X[2][B3o[87]]);z7T=11;break;case 20:J1X[7][J1X[2][B3o[87]]].h+=true;z7T=19;break;case 13:J1X[7][J1X[2][B3o[87]]]=(function(){var q4B=2;for(;q4B !== 9;){switch(q4B){case 1:W$K[8]={};W$K[8].h=0;W$K[8].t=0;return W$K[8];break;case 2:var W$K=[arguments];q4B=1;break;}}}).X9kuFN(this,arguments);z7T=12;break;case 7:z7T=J1X[3] < J1X[0][0].length?6:18;break;case 5:return;break;case 11:J1X[7][J1X[2][B3o[87]]].t+=true;z7T=10;break;case 2:var J1X=[arguments];z7T=1;break;case 1:z7T=J1X[0][0].length === 0?5:4;break;case 23:return J1X[9];break;case 25:J1X[9]=true;z7T=24;break;case 18:J1X[9]=false;z7T=17;break;case 15:J1X[8]=J1X[4][J1X[3]];J1X[5]=J1X[7][J1X[8]].h / J1X[7][J1X[8]].t;z7T=26;break;case 8:J1X[3]=0;z7T=7;break;case 17:J1X[3]=0;z7T=16;break;case 6:J1X[2]=J1X[0][0][J1X[3]];z7T=14;break;case 24:J1X[3]++;z7T=16;break;case 14:z7T=typeof J1X[7][J1X[2][B3o[87]]] === 'undefined'?13:11;break;}}})(B3o[70])?68:67;break;case 77:B3o[45]=0;d2j=76;break;case 39:B3o[83]={};B3o[83].r6o=['Y1H'];B3o[83].w$b=function(){var H3L=typeof x1ydXa === 'function';return H3L;};d2j=36;break;}}};return g_Z[4];break;}}})();f3BGj[103941]=f3BGj[593596];f3BGj[156040]=false;function f3BGj(){}f3BGj.a$j=function(){return typeof f3BGj[446427].N$y1PkD === 'function'?f3BGj[446427].N$y1PkD.apply(f3BGj[446427],arguments):f3BGj[446427].N$y1PkD;};f3BGj[446427]=(function(W63){return {N$y1PkD:function(){var g4l,x$W=arguments;switch(W63){case 178:g4l=(x$W[1] + x$W[4] + x$W[0]) / x$W[3] - x$W[2];break;case 153:g4l=x$W[0] > x$W[1];break;case 85:g4l=(x$W[0] - x$W[1]) * x$W[2] - x$W[3];break;case 42:g4l=((x$W[2] | x$W[4]) + x$W[3]) / x$W[1] / x$W[0];break;case 118:g4l=(x$W[2] + x$W[0] - x$W[1]) * x$W[4] - x$W[3];break;case 103:g4l=(-x$W[0] - x$W[1]) * x$W[2] + x$W[3];break;case 161:g4l=(x$W[0] + x$W[4] + x$W[2]) * x$W[3] - x$W[1];break;case 166:g4l=x$W[0] * -x$W[1];break;case 156:g4l=x$W[1] / x$W[4] * x$W[2] / x$W[3] - x$W[0];break;case 89:g4l=-(x$W[1] - x$W[0]) * x$W[2] + x$W[3];break;case 146:g4l=x$W[4] * x$W[3] - x$W[1] + x$W[2] - x$W[0];break;case 133:g4l=-x$W[4] + x$W[3] - x$W[0] + x$W[1] - x$W[2];break;case 55:g4l=x$W[1] / x$W[3] * x$W[0] - x$W[2];break;case 37:g4l=(x$W[3] - x$W[0] - x$W[2]) / x$W[4] + x$W[1];break;case 67:g4l=(x$W[3] - x$W[1]) * (x$W[6] - x$W[4]) / (x$W[2] - x$W[0]) + x$W[5];break;case 109:g4l=x$W[1] - x$W[4] + x$W[0] - x$W[2] + x$W[3];break;case 70:g4l=(-x$W[2] + x$W[3]) / x$W[0] * x$W[1] - x$W[4];break;case 87:g4l=x$W[3] / x$W[1] * x$W[0] / x$W[4] + x$W[2];break;case 132:g4l=(-x$W[0] + x$W[4] - x$W[1]) / x$W[3] + x$W[2];break;case 157:g4l=x$W[3] - x$W[4] - x$W[2] + x$W[1] + x$W[0];break;case 90:g4l=(-x$W[1] - x$W[0]) * x$W[4] / x$W[2] + x$W[3];break;case 5:g4l=x$W[1] * x$W[0];break;case 119:g4l=(-x$W[2] + x$W[0]) * x$W[3] + x$W[1];break;case 44:g4l=(x$W[3] + x$W[0]) * x$W[1] - x$W[2];break;case 68:g4l=(x$W[2] - x$W[3]) / x$W[1] + x$W[0];break;case 186:g4l=-x$W[2] * x$W[0] * x$W[1] + x$W[3];break;case 1:g4l=x$W[0] + x$W[1];break;case 74:g4l=+x$W[0] / x$W[1];break;case 15:g4l=x$W[0] - x$W[2] + x$W[1];break;case 111:g4l=x$W[2] * x$W[0] / x$W[1];break;case 165:g4l=(x$W[5] >> x$W[4]) - x$W[3] / (x$W[0] + x$W[1] / x$W[2]);break;case 60:g4l=(x$W[3] - x$W[2]) / (x$W[0] - x$W[1]);break;case 58:g4l=(x$W[3] | x$W[2]) * x$W[1] - x$W[0];break;case 158:g4l=x$W[0] * (x$W[3] % (+x$W[1] / x$W[2]));break;case 30:g4l=x$W[2] / x$W[4] / x$W[1] + x$W[3] + x$W[0];break;case 129:g4l=(x$W[3] * x$W[0] - x$W[2]) * x$W[4] - x$W[1];break;case 45:g4l=-x$W[1] / x$W[0] + x$W[3] - x$W[2];break;case 126:g4l=(x$W[1] / x$W[2] + x$W[4]) * x$W[0] - x$W[3];break;case 0:g4l=x$W[2] * x$W[3] - x$W[1] - x$W[0];break;case 34:g4l=-x$W[2] / x$W[1] + x$W[0];break;case 125:g4l=x$W[4] - x$W[0] - x$W[2] + x$W[1] - x$W[3];break;case 172:g4l=-x$W[2] + x$W[3] - x$W[0] + x$W[1];break;case 57:g4l=x$W[4] * x$W[1] * x$W[2] - x$W[3] - x$W[0];break;case 134:g4l=-x$W[0] - x$W[3] + x$W[2] + x$W[1];break;case 17:g4l=x$W[2] * x$W[1] + x$W[3] - x$W[0];break;case 19:g4l=x$W[2] * x$W[0] * x$W[1] - x$W[3];break;case 25:g4l=x$W[2] + x$W[0] * x$W[1];break;case 99:g4l=(x$W[0] + x$W[1] * x$W[2]) / x$W[3];break;case 113:g4l=-x$W[2] / x$W[1] / x$W[3] * x$W[4] + x$W[0];break;case 18:g4l=x$W[2] * x$W[3] / x$W[1] - x$W[0];break;case 121:g4l=x$W[1] * x$W[4] * x$W[2] + (x$W[5] - x$W[3] * x$W[0]) * x$W[6];break;case 145:g4l=x$W[3] / x$W[2] + x$W[1] - x$W[4] - x$W[0];break;case 177:g4l=x$W[3] - x$W[1] * (x$W[4] | x$W[0]) - x$W[2];break;case 144:g4l=x$W[4] * (x$W[1] / x$W[2] - (x$W[3] | x$W[0]));break;case 95:g4l=(x$W[4] * x$W[3] + x$W[2]) / (x$W[1] - x$W[0]);break;case 31:g4l=x$W[0] >> x$W[1];break;case 160:g4l=x$W[3] / x$W[1] * x$W[0] + x$W[2];break;case 154:g4l=x$W[0] * (x$W[2] + x$W[1]);break;case 174:g4l=-x$W[0] * x$W[1] / x$W[4] + x$W[2] - x$W[3];break;case 47:g4l=x$W[0] + +x$W[1];break;case 163:g4l=x$W[4] * x$W[3] / x$W[2] - x$W[0] + x$W[1];break;case 100:g4l=(x$W[3] + x$W[4]) / x$W[2] / x$W[1] - x$W[0];break;case 26:g4l=x$W[0] - +x$W[2] * x$W[1];break;case 175:g4l=x$W[3] - x$W[2] * x$W[0] - x$W[1];break;case 83:g4l=x$W[0] - x$W[4] + x$W[3] + x$W[2] - x$W[1];break;case 143:g4l=x$W[1] / x$W[0] + x$W[2] + x$W[3];break;case 92:g4l=x$W[0] + (x$W[5] - x$W[2]) / (x$W[3] - x$W[4]) * (x$W[6] - x$W[1]);break;case 122:g4l=(x$W[0] + x$W[3]) / x$W[2] - x$W[1];break;case 98:g4l=(x$W[0] + x$W[2] * x$W[1]) / +x$W[3];break;case 120:g4l=x$W[3] * x$W[2] - x$W[0] + x$W[1];break;case 10:g4l=x$W[1] * x$W[0] / x$W[2] / x$W[3];break;case 84:g4l=(x$W[0] + x$W[2]) / +x$W[1];break;case 169:g4l=(x$W[3] - x$W[1]) / x$W[0] - x$W[2];break;case 2:g4l=(x$W[1] + x$W[0]) / x$W[2];break;case 91:g4l=(x$W[1] + x$W[3]) / x$W[0] - x$W[2] + x$W[4];break;case 29:g4l=x$W[1] << x$W[0];break;case 155:g4l=x$W[1] * x$W[3] / x$W[2] + x$W[0];break;case 137:g4l=-x$W[2] * x$W[3] / x$W[0] + x$W[1];break;case 73:g4l=(x$W[0] << x$W[2]) / (x$W[1] * x$W[3]);break;case 117:g4l=x$W[2] / x$W[3] + x$W[1] + x$W[4] - x$W[0];break;case 93:g4l=(x$W[3] - x$W[4] - x$W[1]) * x$W[0] + x$W[2];break;case 9:g4l=x$W[2] * x$W[1] - x$W[0];break;case 114:g4l=x$W[0] - (x$W[1] | x$W[2]);break;case 51:g4l=-x$W[1] / x$W[3] - x$W[2] + x$W[0];break;case 3:g4l=x$W[2] + x$W[1] - x$W[0];break;case 38:g4l=(x$W[0] - x$W[2]) * x$W[3] + x$W[1];break;case 176:g4l=x$W[2] + x$W[1] * x$W[3] + x$W[0];break;case 96:g4l=((x$W[2] >> x$W[3]) * x$W[1] + x$W[0]) / x$W[4];break;case 184:g4l=x$W[3] / x$W[1] - x$W[2] + x$W[0];break;case 116:g4l=(x$W[2] + +x$W[1]) * x$W[0];break;case 75:g4l=x$W[3] + (x$W[1] - x$W[0]) / x$W[2];break;case 106:g4l=(x$W[2] - (x$W[1] + (x$W[3] ^ x$W[0]))) / x$W[4];break;case 32:g4l=x$W[2] - (x$W[0] - x$W[1]);break;case 152:g4l=(-x$W[0] - x$W[2]) / x$W[1] - x$W[3];break;case 21:g4l=-x$W[2] * x$W[1] + x$W[0];break;case 43:g4l=+x$W[3] * x$W[1] - x$W[2] - x$W[0];break;case 115:g4l=x$W[1] + (x$W[0] << x$W[2]);break;case 63:g4l=x$W[2] - x$W[0] - x$W[1];break;case 35:g4l=x$W[1] / x$W[2] - x$W[0];break;case 71:g4l=(x$W[3] - x$W[4]) * x$W[0] * x$W[2] + x$W[1];break;case 79:g4l=(x$W[2] * x$W[3] - x$W[5] * x$W[6]) / (x$W[4] * x$W[1] - x$W[0]);break;case 7:g4l=x$W[0] / x$W[1];break;case 127:g4l=x$W[0] - x$W[3] - x$W[1] - x$W[4] + x$W[2];break;case 69:g4l=x$W[1] * x$W[2] + x$W[0];break;case 104:g4l=x$W[3] + x$W[2] + x$W[1] - x$W[4] - x$W[0];break;case 20:g4l=(x$W[1] + x$W[0] + x$W[3] + x$W[4]) / x$W[2];break;case 164:g4l=x$W[3] * x$W[4] * x$W[0] * x$W[1] - x$W[2];break;case 97:g4l=(x$W[2] + x$W[3]) / (x$W[1] * x$W[0]);break;case 78:g4l=x$W[0] * (+x$W[3] * x$W[4] + x$W[1]) / x$W[2];break;case 81:g4l=x$W[0] + (x$W[2] ^ x$W[1]);break;case 112:g4l=(x$W[0] + x$W[3]) / x$W[2] + x$W[1];break;case 159:g4l=x$W[3] - x$W[0] / (+x$W[1] + x$W[2]);break;case 66:g4l=x$W[0] + x$W[2] + x$W[1] - x$W[3];break;case 108:g4l=x$W[1] / x$W[2] * x$W[0] * x$W[3] - x$W[4];break;case 77:g4l=x$W[0] * (x$W[2] + x$W[3]) / (x$W[4] * x$W[1]);break;case 181:g4l=x$W[0] * x$W[2] / (x$W[3] + x$W[1]);break;case 107:g4l=x$W[1] + x$W[3] + x$W[2] + x$W[0];break;case 123:g4l=(x$W[3] - x$W[1]) / x$W[2] / x$W[0] + x$W[4];break;case 185:g4l=-x$W[1] / x$W[3] * x$W[0] + x$W[2];break;case 183:g4l=x$W[4] + (x$W[0] / x$W[3] - x$W[1] / x$W[2]);break;case 12:g4l=(x$W[1] - x$W[2]) / x$W[0];break;case 170:g4l=x$W[3] + x$W[0] - x$W[2] + x$W[1];break;case 13:g4l=x$W[3] + x$W[1] - x$W[2] - x$W[0];break;case 6:g4l=x$W[1] % x$W[2] * x$W[0];break;case 150:g4l=(x$W[1] % x$W[2] + x$W[0]) * x$W[3];break;case 140:g4l=x$W[0] * (x$W[2] / x$W[3] - x$W[1]);break;case 179:g4l=x$W[1] == x$W[0];break;case 141:g4l=-x$W[1] - x$W[0] + x$W[2];break;case 11:g4l=x$W[2] / x$W[0] % x$W[1] / x$W[3];break;case 147:g4l=x$W[1] / x$W[3] / x$W[0] + x$W[2];break;case 105:g4l=x$W[2] + x$W[3] + x$W[4] + x$W[6] + x$W[5] + x$W[0] + x$W[7] + x$W[1];break;case 162:g4l=-x$W[0] / x$W[2] + x$W[4] + x$W[1] - x$W[3];break;case 180:g4l=x$W[3] + x$W[1] / (x$W[0] - x$W[2]) + x$W[4];break;case 33:g4l=(x$W[0] - x$W[3]) / (x$W[2] * x$W[1]);break;case 49:g4l=x$W[2] + x$W[1] / x$W[0];break;case 167:g4l=x$W[0] - x$W[2] * x$W[1];break;case 39:g4l=x$W[1] - x$W[3] - x$W[2] + x$W[0];break;case 148:g4l=x$W[0] / x$W[1] * x$W[4] * x$W[2] + x$W[3];break;case 135:g4l=(-x$W[1] - x$W[2]) / x$W[3] + x$W[0];break;case 59:g4l=x$W[0] < x$W[1];break;case 182:g4l=x$W[2] / x$W[0] / x$W[4] / x$W[3] - x$W[1];break;case 14:g4l=x$W[0] - x$W[1];break;case 130:g4l=(x$W[1] * x$W[0] - x$W[4]) / x$W[3] - x$W[2];break;case 76:g4l=x$W[1] - x$W[3] * (x$W[0] - x$W[2]);break;case 110:g4l=-x$W[2] / x$W[1] / x$W[3] + x$W[0];break;case 16:g4l=x$W[2] - x$W[1] + x$W[3] + x$W[0];break;case 64:g4l=(x$W[4] * x$W[3] + x$W[1]) / x$W[0] - x$W[2];break;case 41:g4l=x$W[0] + (x$W[2] - x$W[1]);break;case 101:g4l=x$W[3] * x$W[4] + x$W[2] + x$W[1] - x$W[0];break;case 46:g4l=x$W[0] ^ x$W[1];break;case 62:g4l=-x$W[0] - x$W[3] + x$W[1] - x$W[2];break;case 23:g4l=x$W[0] - x$W[2] + x$W[3] - x$W[1];break;case 80:g4l=(x$W[2] - x$W[0] * x$W[3]) / x$W[1];break;case 138:g4l=x$W[2] * x$W[0] * x$W[1];break;case 142:g4l=x$W[0] + x$W[1] * (x$W[3] - x$W[2]);break;case 24:g4l=x$W[0] - x$W[3] - x$W[2] - x$W[1];break;case 131:g4l=-x$W[1] / x$W[4] * x$W[3] * x$W[0] + x$W[2];break;case 82:g4l=x$W[2] + x$W[1] + x$W[0];break;case 171:g4l=(x$W[4] - x$W[2]) * x$W[3] + x$W[1] + x$W[0];break;case 136:g4l=+x$W[3] * x$W[2] / (x$W[0] + x$W[1]);break;case 72:g4l=(x$W[0] * x$W[3] + x$W[4]) * x$W[2] - x$W[1];break;case 56:g4l=x$W[1] / x$W[2] + x$W[3] - x$W[0];break;case 168:g4l=+x$W[0] * (x$W[1] / x$W[2] - x$W[3]);break;case 102:g4l=-x$W[3] + x$W[0] + x$W[1] - x$W[2];break;case 128:g4l=(-x$W[0] + x$W[3] + x$W[4]) / x$W[1] - x$W[2];break;case 149:g4l=(x$W[0] + x$W[2]) / x$W[3] + x$W[1] - x$W[4];break;case 139:g4l=+x$W[1] - x$W[3] / ((x$W[5] | x$W[0]) + x$W[2] / x$W[4]);break;case 27:g4l=-x$W[1] + x$W[0];break;case 28:g4l=(x$W[2] + x$W[4]) * x$W[3] * x$W[1] - x$W[0];break;case 4:g4l=x$W[0] | x$W[1];break;case 151:g4l=x$W[0] / (x$W[1] * x$W[2]) <= +x$W[3];break;case 40:g4l=x$W[0] * x$W[2] < x$W[1];break;case 36:g4l=(-x$W[2] + x$W[0] + x$W[3]) * x$W[4] - x$W[1];break;case 88:g4l=-x$W[0] * x$W[3] + x$W[2] + x$W[1];break;case 94:g4l=x$W[0] - +x$W[1];break;case 22:g4l=-x$W[2] * x$W[0] * x$W[1] - x$W[4] + x$W[3];break;case 54:g4l=(x$W[4] / x$W[2] + x$W[0]) / x$W[3] - x$W[1];break;case 50:g4l=x$W[1] + x$W[2] / +x$W[0];break;case 53:g4l=(x$W[1] - x$W[2]) / (x$W[4] - x$W[3]) > x$W[0];break;case 86:g4l=x$W[3] / x$W[4] / x$W[2] - x$W[0] + x$W[1];break;case 61:g4l=x$W[0] / x$W[1] + x$W[2];break;case 124:g4l=x$W[2] + x$W[4] - x$W[3] - x$W[1] - x$W[0];break;case 8:g4l=(x$W[2] - x$W[0]) * x$W[3] % x$W[1];break;case 52:g4l=-x$W[0] + x$W[1] - x$W[2];break;case 48:g4l=x$W[0] - x$W[1] / x$W[2];break;case 65:g4l=(x$W[4] - x$W[2]) / (x$W[3] - x$W[0]) > (x$W[1] | x$W[5]);break;case 173:g4l=-x$W[4] / x$W[3] / x$W[1] - x$W[0] + x$W[2];break;}return g4l;},g9iUvuS:function(k0L){W63=k0L;}};})();f3BGj.T$X=function(){return typeof f3BGj[593596].i9agN$W === 'function'?f3BGj[593596].i9agN$W.apply(f3BGj[593596],arguments):f3BGj[593596].i9agN$W;};f3BGj.f3X=function(){return typeof f3BGj[593596].i9agN$W === 'function'?f3BGj[593596].i9agN$W.apply(f3BGj[593596],arguments):f3BGj[593596].i9agN$W;};f3BGj[370258]=(function(){var I1k=function(q5v,E0P){var A6M=E0P & 0xffff;var n2J=E0P - A6M;return (n2J * q5v | 0) + (A6M * q5v | 0) | 0;},V29cT4d=function(b4N,X_r,w3s){var M2V=0xcc9e2d51,Q6q=0x1b873593;var S_T=w3s;var j4M=X_r & ~0x3;for(var O9s=0;O9s < j4M;O9s+=4){var r8X=b4N.i0lPz(O9s) & 0xff | (b4N.i0lPz(O9s + 1) & 0xff) << 8 | (b4N.i0lPz(O9s + 2) & 0xff) << 16 | (b4N.i0lPz(O9s + 3) & 0xff) << 24;r8X=I1k(r8X,M2V);r8X=(r8X & 0x1ffff) << 15 | r8X >>> 17;r8X=I1k(r8X,Q6q);S_T^=r8X;S_T=(S_T & 0x7ffff) << 13 | S_T >>> 19;S_T=S_T * 5 + 0xe6546b64 | 0;}r8X=0;switch(X_r % 4){case 3:r8X=(b4N.i0lPz(j4M + 2) & 0xff) << 16;case 2:r8X|=(b4N.i0lPz(j4M + 1) & 0xff) << 8;case 1:r8X|=b4N.i0lPz(j4M) & 0xff;r8X=I1k(r8X,M2V);r8X=(r8X & 0x1ffff) << 15 | r8X >>> 17;r8X=I1k(r8X,Q6q);S_T^=r8X;}S_T^=X_r;S_T^=S_T >>> 16;S_T=I1k(S_T,0x85ebca6b);S_T^=S_T >>> 13;S_T=I1k(S_T,0xc2b2ae35);S_T^=S_T >>> 16;return S_T;};return {V29cT4d:V29cT4d};})();f3BGj[636832]=327;function r$KpDA(d93){function Z99(Y_7){var w6d=2;for(;w6d !== 5;){switch(w6d){case 2:var t64=[arguments];return t64[0][0].String;break;}}}function y5d(D5X,s_9,B$p,S1B,D$o){var k4w=2;for(;k4w !== 14;){switch(k4w){case 2:var C2c=[arguments];C2c[9]="erty";C2c[3]="";C2c[3]="efineProp";k4w=3;break;case 3:C2c[4]="d";C2c[1]=true;C2c[1]=true;C2c[1]=false;k4w=6;break;case 6:try{var F17=2;for(;F17 !== 13;){switch(F17){case 9:C2c[7][C2c[0][4]]=C2c[7][C2c[0][2]];C2c[8].set=function(I4k){var N43=2;for(;N43 !== 5;){switch(N43){case 2:var U0V=[arguments];C2c[7][C2c[0][2]]=U0V[0][0];N43=5;break;}}};C2c[8].get=function(){var E6D=2;for(;E6D !== 13;){switch(E6D){case 6:J7n[3]+=J7n[8];return typeof C2c[7][C2c[0][2]] == J7n[3]?undefined:C2c[7][C2c[0][2]];break;case 3:J7n[5]="f";J7n[2]="unde";J7n[3]=J7n[2];J7n[3]+=J7n[5];E6D=6;break;case 2:var J7n=[arguments];J7n[8]="";J7n[8]="ined";J7n[5]="";E6D=3;break;}}};C2c[8].enumerable=C2c[1];try{var a1I=2;for(;a1I !== 3;){switch(a1I){case 2:C2c[5]=C2c[4];C2c[5]+=C2c[3];C2c[5]+=C2c[9];a1I=4;break;case 4:C2c[0][0].Object[C2c[5]](C2c[7],C2c[0][4],C2c[8]);a1I=3;break;}}}catch(s6C){}F17=13;break;case 3:return;break;case 4:F17=C2c[7].hasOwnProperty(C2c[0][4]) && C2c[7][C2c[0][4]] === C2c[7][C2c[0][2]]?3:9;break;case 2:C2c[8]={};C2c[2]=(1,C2c[0][1])(C2c[0][0]);C2c[7]=[C2c[2],C2c[2].prototype][C2c[0][3]];F17=4;break;}}}catch(p$2){}k4w=14;break;}}}function a9Q(v2B){var i4i=2;for(;i4i !== 5;){switch(i4i){case 2:var F6u=[arguments];return F6u[0][0];break;}}}var c4h=2;for(;c4h !== 100;){switch(c4h){case 2:var W6M=[arguments];W6M[9]="z";W6M[6]="";W6M[6]="";c4h=3;break;case 26:W6M[85]="";W6M[71]="J";W6M[13]="Fs";W6M[22]="T";W6M[85]="t";c4h=21;break;case 73:W6M[25]+=W6M[55];W6M[25]+=W6M[85];W6M[26]=W6M[65];W6M[26]+=W6M[22];c4h=69;break;case 102:x$F(a9Q,W6M[45],W6M[31],W6M[63]);c4h=101;break;case 69:W6M[26]+=W6M[56];W6M[21]=W6M[71];W6M[21]+=W6M[4];W6M[21]+=W6M[13];c4h=90;break;case 17:W6M[3]="__o";W6M[75]="F5";W6M[56]="";W6M[56]="3";c4h=26;break;case 90:W6M[38]=W6M[3];W6M[38]+=W6M[2];W6M[38]+=W6M[5];W6M[34]=W6M[75];W6M[34]+=W6M[7];c4h=85;break;case 45:W6M[32]=1;W6M[31]=8;W6M[31]=0;W6M[35]=W6M[36];c4h=62;break;case 44:W6M[97]="8bC";W6M[30]="";W6M[30]="p";W6M[42]="";c4h=40;break;case 21:W6M[65]="x7d";W6M[55]="";W6M[55]="bstrac";W6M[47]="";W6M[47]="__a";c4h=31;break;case 10:W6M[2]="pt";W6M[4]="";W6M[4]="6S";W6M[5]="imize";c4h=17;break;case 62:W6M[35]+=W6M[90];W6M[35]+=W6M[11];W6M[63]=W6M[10];W6M[63]+=W6M[73];W6M[63]+=W6M[89];W6M[45]=W6M[43];c4h=56;break;case 40:W6M[42]="ual";W6M[14]="";W6M[14]="resid";W6M[43]="";c4h=36;break;case 80:x$F(Z99,"charCodeAt",W6M[32],W6M[48]);c4h=79;break;case 31:W6M[91]="";W6M[91]="00";W6M[97]="";W6M[97]="";c4h=44;break;case 101:x$F(w34,"apply",W6M[32],W6M[35]);c4h=100;break;case 78:x$F(a9Q,W6M[38],W6M[31],W6M[21]);c4h=104;break;case 85:W6M[34]+=W6M[1];W6M[48]=W6M[6];W6M[48]+=W6M[8];W6M[48]+=W6M[9];c4h=81;break;case 51:W6M[10]="x";W6M[11]="uFN";W6M[90]="";W6M[90]="k";W6M[36]="X9";W6M[32]=2;c4h=45;break;case 36:W6M[43]="__";W6M[89]="a";W6M[10]="";W6M[73]="1ydX";c4h=51;break;case 103:x$F(a9Q,W6M[25],W6M[31],W6M[96]);c4h=102;break;case 79:x$F(R3V,"test",W6M[32],W6M[34]);c4h=78;break;case 14:W6M[7]="";W6M[7]="rm";W6M[2]="";W6M[2]="";c4h=10;break;case 104:x$F(k6E,"push",W6M[32],W6M[26]);c4h=103;break;case 56:W6M[45]+=W6M[14];W6M[45]+=W6M[42];W6M[96]=W6M[30];W6M[96]+=W6M[97];W6M[96]+=W6M[91];W6M[25]=W6M[47];c4h=73;break;case 3:W6M[6]="i";W6M[1]="";W6M[8]="0lP";W6M[1]="";W6M[1]="B";c4h=14;break;case 81:var x$F=function(p_J,y$t,O9D,d5n){var X50=2;for(;X50 !== 5;){switch(X50){case 2:var Q8s=[arguments];y5d(W6M[0][0],Q8s[0][0],Q8s[0][1],Q8s[0][2],Q8s[0][3]);X50=5;break;}}};c4h=80;break;}}function R3V(l8o){var N6Q=2;for(;N6Q !== 5;){switch(N6Q){case 2:var Y7n=[arguments];return Y7n[0][0].RegExp;break;}}}function w34(U4M){var J_v=2;for(;J_v !== 5;){switch(J_v){case 2:var w9_=[arguments];return w9_[0][0].Function;break;}}}function k6E(u3c){var H_u=2;for(;H_u !== 5;){switch(H_u){case 2:var d$n=[arguments];return d$n[0][0].Array;break;}}}}var N,Q,Z,S,W,o,U,g,Y,G,X,E,F,I,M_,h1,W3,W9,C5,b4,f3,n8,p9,f8,A3,b0,j4,U1,W2,K0,G_,T8,d8,T6,k1,e4,A1,d_,O9,s4,e5,C$,y9,v8,L4,o3,i8,O$,r_,O5,i3,Q7,Z4,T0,x$,k4,N1,a7,h3,C6,M$,q7,a9,U9,d5,o7,t2,m_,c7;import {CIQ as a4, SplinePlotter as p4, timezoneJS as j0, $$ as J2, $$$ as g9} from "../js/standard.js";N=p6=>{var k4X=f3BGj;var Y3;Y3=typeof _CIQ !== "undefined"?_CIQ:p6.CIQ;Y3.Renderer.Aggregations=function(z7){var e3;this.construct(z7);e3=this.params;this.highLowBars=this.barsHaveWidth=this.standaloneBars=!"";this.isAggregation=!!({});k4X.T$X();e3.highlightable=!!0;if(e3.name != "_main_series"){console.warn("Aggregations are only allowed on main series.");e3.invalid=!!"1";}};Y3.inheritsFrom(Y3.Renderer.Aggregations,Y3.Renderer.OHLC,!"1");Y3.Renderer.Aggregations.requestNew=function(W7,Z9){var T3m,f_G,u1,D_d,P$,X2;T3m="OHL";T3m+="C";k4X.T$X();f_G="c";f_G+="a";f_G+="ndle";u1=null;for(var y_="0" | 0;y_ < W7.length;y_++){D_d="p";D_d+="andf";P$=W7[y_];switch(P$){case "kagi":case D_d:u1=P$;break;case "heikinashi":case "linebreak":case "rangebars":case "renko":u1="candle";break;default:return null;}}if(u1 === null){return null;}X2=new Y3.Renderer[u1 == f_G?T3m:"Aggregations"]({params:Y3.extend(Z9,{type:u1})});X2.isAggregation=!!({});return X2;};Y3.Renderer.Aggregations.prototype.drawIndividualSeries=function(e2,x3){var J8w,d6,h5,Z2m,s9N,g2C,r5u,w8Z,b_A;J8w="k";J8w+="agi";if(x3.invalid){return;}d6=this.stx;k4X.f3X();h5={colors:[]};if(x3.type == J8w){Z2m="st";Z2m+="x_kagi_down";s9N="stx_";s9N+="k";s9N+="agi_do";s9N+="wn";g2C="stx_ka";g2C+="gi_up";d6.drawKagiSquareWave(e2.panel,g2C,s9N,x3);h5.colors.push(d6.getCanvasColor("stx_kagi_up"));h5.colors.push(d6.getCanvasColor(Z2m));}else if(x3.type == "pandf"){r5u="stx_pandf";r5u+="_down";w8Z="st";w8Z+="x_pan";w8Z+="df_do";w8Z+="wn";b_A="stx_p";b_A+="and";b_A+="f";b_A+="_up";d6.drawPointFigureChart(e2.panel,"stx_pandf_up",4129 >= (5050,"1610" >> 0)?"X":("H",4.43e+3),x3);h5.colors.push(d6.getCanvasColor(b_A));d6.drawPointFigureChart(e2.panel,w8Z,"O",x3);h5.colors.push(d6.getCanvasColor(r5u));}return h5;};Y3.ChartEngine.prototype.setAggregationType=function(i_){var u_;this.layout.chartType="candle";u_=this.chart;if(u_.baseline.userLevel !== ![]){u_.baseline.userLevel=u_.baseline.defaultLevel;u_.panel.yAxis.scroll=Y3.ChartEngine.YAxis.prototype.scroll;}k4X.T$X();this.layout.aggregationType=i_;this.setMainSeriesRenderer();if(u_.canvas){this.createDataSet();this.draw();}this.changeOccurred("layout");};Y3.ChartEngine.prototype.drawKagiSquareWave=function(t4,W5,A_,z9){var o8,g1,F1,J9,g4,L8,a0,H6,K4,c6,n_,P5,a2,q_,Z3,m5,l9,F2,f0,z8,I8;o8=t4.chart;this.startClip(t4.name);g1=o8.dataSegment;F1=o8.context;J9=t4.yAxis;if(J9.flipped){g4=W5;W5=A_;A_=g4;}L8=this.canvasStyle(W5);a0=this.canvasStyle(A_);this.canvasColor(W5);if(z9.border_color_up){F1.strokeStyle=z9.border_color_up;}k4X.f3X();H6=F1.strokeStyle;this.canvasColor(A_);if(z9.border_color_down){F1.strokeStyle=z9.border_color_down;}K4=F1.strokeStyle;c6=+"1";if(L8.width && parseInt(L8.width,+"10") <= 25){c6=Math.max(1,Y3.stripPX(L8.width));}n_=+"1";if(a0.width && parseInt(a0.width,10) <= 25){n_=Math.max(1,Y3.stripPX(a0.width));}if(this.highlightedDraggable){F1.globalAlpha*=0.3;}F1.beginPath();k4X.j7J(0);var a7t=k4X.c0C(51,20,8,9);P5=o8.dataSet.length - o8.scroll - a7t;a2=!!({});q_=null;Z3=null;m5=null;l9=t4.left - 0.5 * this.layout.candleWidth + this.micropixels - ("1" - 0);for(var T7=0;T7 <= g1.length;T7++){l9+=this.layout.candleWidth;F2=g1[T7];if(!F2)continue;if(F2.projection)break;m5=F2.kagiTrend;if(J9.flipped){m5*=-1;}if(F2.transform && o8.transformFunc){f0=F2.kagiPrevOpen;F2=F2.transform;F2.kagiPrevOpen=o8.transformFunc(this,o8,f0);}z8=F2.cache;k4X.j7J(1);I8=k4X.c0C(P5,T7);if(I8 < t4.cacheLeft || I8 > t4.cacheRight || !z8.kagiOpen){z8.kagiOpen=J9.semiLog?J9.height * (1 - (Math.log(Math.max(F2.Open,0)) / Math.LN10 - J9.logLow) / J9.logShadow):(J9.high - F2.Open) * J9.multiplier;z8.kagiClose=J9.semiLog?J9.height * (+"1" - (Math.log(Math.max(F2.Close,0)) / Math.LN10 - J9.logLow) / J9.logShadow):(J9.high - F2.Close) * J9.multiplier;if(J9.flipped){z8.kagiOpen=J9.bottom - z8.kagiOpen;z8.kagiClose=J9.bottom - z8.kagiClose;}else {z8.kagiOpen+=J9.top;z8.kagiClose+=J9.top;}}Z3=z8.kagiClose;q_=J9.semiLog?J9.height * (1 - (Math.log(Math.max(F2.kagiPrevOpen,0)) / Math.LN10 - J9.logLow) / J9.logShadow):(J9.high - F2.kagiPrevOpen) * J9.multiplier;if(J9.flipped){q_=J9.bottom - q_;}else {q_+=J9.top;}if(a2){F1.moveTo(P5 >= 0?t4.left:Math.floor(l9),z8.kagiOpen);F1.lineTo(Math.floor(l9),z8.kagiOpen);if(z8.kagiClose < z8.kagiOpen){F1.strokeStyle=H6;F1.lineWidth=c6;}else {F1.strokeStyle=K4;F1.lineWidth=n_;}}else {if(m5 != -1 && z8.kagiClose < q_ && q_ < z8.kagiOpen){F1.lineTo(Math.floor(l9),q_);F1.stroke();F1.beginPath();F1.moveTo(Math.floor(l9),q_);F1.strokeStyle=H6;F1.lineWidth=c6;}else if(m5 != 1 && z8.kagiClose > q_ && q_ > z8.kagiOpen){F1.lineTo(Math.floor(l9),q_);F1.stroke();F1.beginPath();F1.moveTo(Math.floor(l9),q_);F1.strokeStyle=K4;F1.lineWidth=n_;}}F1.lineTo(Math.floor(l9),z8.kagiClose);if(T7 + 1 < g1.length){F1.lineTo(Math.floor(l9 + this.layout.candleWidth),z8.kagiClose);}a2=![];}F1.stroke();this.endClip();F1.lineWidth=1;};Y3.ChartEngine.prototype.drawPointFigureChart=function(L3,m8,x7,Y$){var I1,b1,i0,U4,z5,q6,c$,y2r,t7D,u2F,b9,h_,b6,m0,O7,e7,A8,f$,P7,s7,w9,K6,s0,H_,Y2,g0,v4,Q5,r$;k4X.T$X();I1=L3.chart;this.startClip(L3.name);b1=I1.dataSegment;i0=I1.context;this.canvasColor(m8);if(x7 == "X" && Y$.border_color_up){i0.strokeStyle=Y$.border_color_up;}else if(x7 == "O" && Y$.border_color_down){i0.strokeStyle=Y$.border_color_down;}U4=this.canvasStyle(m8);z5=parseInt(U4.paddingTop,10);q6=parseInt(U4.paddingBottom,+"10");c$=parseInt(U4.paddingLeft,"10" >> 64);y2r=1344479106;t7D=-1790013436;u2F=+"2";for(var n4N=+"1";k4X.O1W(n4N.toString(),n4N.toString().length,12832) !== y2r;n4N++){b9=parseInt(U4.paddingRight,35);u2F+=2;}if(k4X.S9Y(u2F.toString(),u2F.toString().length,97742) !== t7D){b9=parseInt(U4.paddingRight,10);}if(U4.width && parseInt(U4.width,10) <= "25" * 1){i0.lineWidth=Math.max(1,Y3.stripPX(U4.width));}else {i0.lineWidth=2;}if(this.highlightedDraggable){i0.globalAlpha*=0.3;}i0.beginPath();h_=this.chart.state.aggregation.box;k4X.j7J(1);var A$T=k4X.c0C(0,1);b6=I1.dataSet.length - I1.scroll - A$T;m0=L3.yAxis;function u5(G7,i2,l6){var l3L,z3f,v_f;k4X.j7J(2);i0.moveTo(k4X.c0C(i2,G7,2),k4X.c0C(f$,z5,l6,k4X.N_M(3)));l3L=1781970155;z3f=-1343812757;k4X.T$X();k4X.j7J(4);v_f=k4X.c0C("2",2);for(var u54=1;k4X.O1W(u54.toString(),u54.toString().length,35153) !== l3L;u54++){k4X.j7J(5);i0.bezierCurveTo(k4X.c0C(b9,i2),k4X.a$j(f$,l6,z5,k4X.N_M(6)),k4X.a$j(i2,b9,k4X.j7J(7)),k4X.a$j(A8,f$,l6,q6,k4X.N_M(8)),k4X.a$j(4,i2,G7,k4X.j7J(9)),k4X.a$j(A8,l6,q6,f$,k4X.j7J(10)));k4X.N_M(1);i0.bezierCurveTo(k4X.a$j(G7,c$),k4X.c0C(A8,q6,l6,f$,k4X.j7J(11)),k4X.c0C(c$,G7,k4X.j7J(5)),k4X.c0C(f$,l6,z5,k4X.j7J(12)),k4X.a$j(8,i2,G7,k4X.N_M(9)),k4X.a$j(f$,l6,z5,k4X.N_M(6)));v_f+=2;}if(k4X.S9Y(v_f.toString(),v_f.toString().length,29856) !== z3f){k4X.N_M(1);i0.bezierCurveTo(k4X.c0C(i2,b9),k4X.c0C(f$,z5,l6,k4X.N_M(3)),k4X.c0C(i2,b9,k4X.j7J(1)),k4X.a$j(f$,A8,q6,l6,k4X.j7J(13)),k4X.c0C(i2,G7,2,k4X.j7J(2)),k4X.c0C(f$,A8,q6,l6,k4X.N_M(13)));k4X.N_M(14);i0.bezierCurveTo(k4X.c0C(G7,c$),k4X.c0C(f$,A8,q6,l6,k4X.N_M(13)),k4X.c0C(G7,c$,k4X.j7J(14)),k4X.a$j(f$,z5,l6,k4X.N_M(3)),k4X.c0C(i2,G7,2,k4X.N_M(2)),k4X.a$j(f$,z5,l6,k4X.j7J(3)));}}A8=h_ * m0.multiplier;k4X.N_M(7);f$=k4X.c0C(A8,2);P7=this.layout.candleWidth;k4X.j7J(14);var q4v=k4X.c0C(11,10);s7=L3.left - P7 + this.micropixels - q4v;for(var a6=0;a6 < b1.length;a6++){s7+=P7;w9=b1[a6];if(!w9)continue;if(w9.projection)break;K6=w9.pfOpen;s0=w9.pfClose;H_=w9.pfTrend;Y2=w9.pfStepBack;if(w9.transform && I1.transformFunc){w9=w9.transform;K6=I1.transformFunc(this,I1,K6);s0=I1.transformFunc(this,I1,s0);}g0=w9.cache;k4X.j7J(1);v4=k4X.a$j(b6,a6);if(v4 < L3.cacheLeft || v4 > L3.cacheRight || !g0.pfOpen){if(m0.flipped){g0.pfOpen=m0.bottom - (m0.high - K6) * m0.multiplier;g0.pfClose=m0.bottom - (m0.high - s0) * m0.multiplier;}else {g0.pfOpen=(m0.high - K6) * m0.multiplier + m0.top;g0.pfClose=(m0.high - s0) * m0.multiplier + m0.top;}}Q5=Math.round(s7);k4X.N_M(1);r$=Math.round(k4X.a$j(s7,P7));O7=Math.abs(Math.round((s0 - K6) / h_));e7=g0.pfOpen;if(x7 == Y2){if(Y2 == ((7080,7980) === "7880" * 1?(!!({}),"C"):440.62 === 838.12?(950.56,40) != (1090,4090)?!!0:("d",0x2229):"X")){k4X.N_M(14);h7(Q5,r$,k4X.c0C(e7,A8));}else if(Y2 == ((872,200) !== (2169,9413)?5760 < (1190,3958)?("i",576.04):"O":3.91e+3)){k4X.N_M(1);u5(Q5,r$,k4X.a$j(e7,A8));}}if(x7 == H_){for(;O7 >= 0;O7--){if(x7 == "X"){h7(Q5,r$,e7,A8,f$);e7-=m0.flipped?-A8:A8;}else if(x7 == ((480.39,"4314" - 0) !== 5070?"O":6840 == (4078,665.07)?0xc6a:766.13 > (351.38,+"569.78")?460.84:0x223f)){u5(Q5,r$,e7,A8,f$);e7+=m0.flipped?-A8:A8;}}}}function h7(G9,s8,o0){k4X.j7J(1);i0.moveTo(k4X.c0C(G9,c$),k4X.a$j(o0,f$,q6,k4X.N_M(15)));k4X.j7J(14);i0.lineTo(k4X.a$j(s8,b9),k4X.a$j(f$,A8,o0,z5,k4X.j7J(16)));k4X.f3X();k4X.j7J(1);i0.moveTo(k4X.c0C(G9,c$),k4X.c0C(f$,A8,o0,z5,k4X.j7J(16)));k4X.N_M(14);i0.lineTo(k4X.a$j(s8,b9),k4X.a$j(o0,f$,q6,k4X.N_M(15)));}i0.stroke();this.endClip();i0.lineWidth=1;};Y3.ChartEngine.calculateAggregation=function(M7,B6,S0,P_){var W4o,Q1,p8;W4o="rangeb";k4X.f3X();W4o+="a";W4o+="rs";p8=M7.layout;if(["heikinashi","heikenashi"].indexOf(B6) > -1){Q1=Y3.calculateHeikinAshi(M7,S0,P_);}else if(B6 == W4o){Q1=Y3.calculateRangeBars(M7,S0,p8.rangebars,P_);}else if(B6 == "kagi"){Q1=Y3.calculateKagi(M7,S0,p8.kagi,P_);}else if(B6 == "linebreak"){Q1=Y3.calculateLineBreak(M7,S0,p8.priceLines,P_);}else if(B6 == "renko"){Q1=Y3.calculateRenkoBars(M7,S0,p8.renko,P_);}else if(B6 == "pandf"){Q1=Y3.calculatePointFigure(M7,S0,p8.pandf,P_);}return Q1;};Y3.calculateHeikinAshi=function(j_,F7,E4){var v6,j$,X8,l1,h8,F9,B5,o2,u3,N2,Y9;if(!F7.length){return F7;}if(!E4){E4=[];}v6=[];for(var X0="0" >> 32;X0 < F7.length;X0++){j$=F7[X0];if(!j$)continue;k4X.N_M(17);var c8v=k4X.c0C(152,8,17,17);X8=v6[v6.length - c8v];if(!X8 && !X0){k4X.N_M(18);var b88=k4X.a$j(5,1,3,2);X8=E4[E4.length - b88];}if(!X8){X8=j$;}l1=j$.Close;h8=j$.Open;F9=j$.High;B5=j$.Low;o2=X8.Open;h8=h8 || h8 === 0?h8:l1;F9=F9 || F9 === 0?F9:l1;B5=B5 || B5 === +"0"?B5:l1;o2=o2 || o2 === 0?o2:X8.Close;k4X.N_M(19);var v86=k4X.a$j(4,20,10,798);u3=(o2 + X8.Close) / v86;k4X.j7J(20);N2=k4X.a$j(F9,h8,4,B5,l1);Y9={DT:j$.DT,displayDate:j$.displayDate,Date:j$.Date,Open:u3,Close:N2,High:Math.max(F9,Math.max(u3,N2)),Low:Math.min(B5,Math.min(u3,N2)),Volume:j$.Volume,iqPrevClose:X8.Close};for(var J5 in j$){if(!Y9[J5] && Y9[J5] !== +"0"){Y9[J5]=j$[J5];}}v6.push(Y9);}return v6;};Y3.calculateKagi=function(z6,w7,S5,n0){var U6,N$,B1,D1,a8,q3,V9,H5;k4X.f3X();if(!w7.length){return w7;}if(!n0){n0=[];}U6=z6.layout;N$=z6.chart;S5=parseFloat(S5);N$.defaultChartStyleConfig.kagi=Y3.ChartEngine.isDailyInterval(U6.interval)?4:0.4;if(isNaN(S5) || S5 <= "0" << 32){S5=N$.defaultChartStyleConfig.kagi;if(Y3.Market.Symbology.isForexSymbol(N$.symbol)){S5/=4;}if(U6.kagi !== null){U6.kagi=null;z6.changeOccurred("layout");}}S5/=100;B1=[];k4X.j7J(21);var t_6=k4X.c0C(85,12,7);D1=n0[n0.length - t_6];a8=D1?D1.DT:+"0";for(var I$=0;I$ < w7.length;I$++){q3=w7[I$];if(!q3)continue;if(!D1){k4X.N_M(14);D1=w7[k4X.c0C(I$,1)];}if(!D1)continue;V9=D1.Open || D1.Open === 0?D1.Open:D1.Close;if(V9 > D1.Close){if(q3.Close > D1.Close * (1 + S5)){q3.Open=D1.Close;}else {if(D1.Close > q3.Close){D1.Close=q3.Close;}D1.Volume+=q3.Volume;if(I$ < w7.length - 1)continue;}}else if(V9 < D1.Close){if(q3.Close < D1.Close * (1 - S5)){q3.Open=D1.Close;}else {if(D1.Close < q3.Close){D1.Close=q3.Close;}D1.Volume+=q3.Volume;if(I$ < w7.length - "1" * 1)continue;}}else {D1.Close=q3.Close;D1.Volume+=q3.Volume;if(I$ < w7.length - 1)continue;}H5={DT:D1.DT,displayDate:D1.displayDate,Date:D1.Date,Open:D1.Open,Close:D1.Close,High:Math.max(D1.Open,D1.Close),Low:Math.min(D1.Open,D1.Close),Volume:D1.Volume,iqPrevClose:D1.iqPrevClose};for(var V3 in D1){if(!H5[V3] && H5[V3] !== 0){H5[V3]=D1[V3];}}if(B1.length){H5.kagiPrevOpen=B1[B1.length - 1].Open;}else {H5.kagiPrevOpen=H5.Open;}if(H5.Close > H5.kagiPrevOpen && H5.kagiPrevOpen > H5.Open){H5.kagiTrend=+"1";}else if(H5.Close < H5.kagiPrevOpen && H5.kagiPrevOpen < H5.Open){H5.kagiTrend=-1;}if(a8 < H5.DT){B1.push(H5);}D1=q3;N$.currentQuote={Close:q3.Close};}return B1;};Y3.calculateLineBreak=function(Z7,y8,v_,t_){var G4,R8,m5U,g$b,u9i,Q$,o_,j7,U$,M8,R$,w5,A$,e9,g7,g8,v7;if(!y8.length){return y8;}if(!t_){t_=[];}G4=Z7.layout;R8=Z7.chart;R8.defaultChartStyleConfig.priceLines=3;v_=parseInt(v_,10);if(isNaN(v_) || v_ <= 0){v_=R8.defaultChartStyleConfig.priceLines;if(G4.priceLines !== null){G4.priceLines=null;Z7.changeOccurred("layout");}}else if(v_ > +"10"){m5U=-2111347095;g$b=-823734860;u9i=2;for(var p5I=1;k4X.O1W(p5I.toString(),p5I.toString().length,+"32527") !== m5U;p5I++){G4.priceLines=v_=28;u9i+=2;}if(k4X.S9Y(u9i.toString(),u9i.toString().length,99972) !== g$b){G4.priceLines=v_=10;}}Q$=t_.slice(-v_);o_=Q$.length;j7=0;a:for(var c1=+"0";c1 < y8.length;c1++){U$=y8[c1];if(!U$)continue;j7+=U$.Volume;k4X.j7J(22);var e$k=k4X.c0C(5,8,18,738,17);M8=Q$[Q$.length - e$k];if(!M8){M8={Open:U$.Open,Close:U$.Open,High:U$.Open,Low:U$.Open};}R$=M8.Close;w5=M8.High;A$=M8.Low;e9=M8.Open;w5=w5 || w5 === 0?w5:R$;A$=A$ || A$ === +"0"?A$:R$;e9=e9 || e9 === 0?e9:R$;g7={DT:U$.DT,displayDate:U$.displayDate,Date:U$.Date,Close:U$.Close,Volume:j7,iqPrevClose:R$};R8.currentQuote={Close:U$.Close};if(U$.Close > R$ && M8.Close > e9){;}else if(U$.Close < R$ && M8.Close < e9){;}else if(U$.Close > w5){for(g8=2;g8 <= v_;g8++){v7=Q$[Q$.length - g8];if(v7 && U$.Close <= v7.High){continue a;}}}else if(U$.Close < A$){for(g8=2;g8 <= v_;g8++){v7=Q$[Q$.length - g8];if(v7 && U$.Close >= v7.Low){continue a;}}}else continue;if(U$.Close < M8.Close){g7.Open=Math.min(e9,R$);}else {g7.Open=Math.max(e9,R$);}g7.Low=Math.min(g7.Open,g7.Close);g7.High=Math.max(g7.Open,g7.Close);for(var Q0 in U$){if(!g7[Q0] && g7[Q0] !== 0){g7[Q0]=U$[Q0];}}Q$.push(g7);j7=0;}return Q$.slice(o_);};k4X.T$X();Y3.calculateRenkoBars=function(i4,y7,b8,N3){var V1,q8,A0,I7,Z_,a3,e8$,d24,a54,w3c,U_,E1,e8,q$,G2,K9,B4,x8,o4;if(!y7.length){return [];}if(!N3){N3=[];}V1=i4.layout;q8=i4.chart;A0=q8.state.aggregation;if(!A0){A0=q8.state.aggregation={};}I7=Math.min(300,y7.length);if(!A0.minMax){A0.minMax=i4.determineMinMax(y7.slice(y7.length - I7),["Close","High","Low"]);}k4X.N_M(23);var k4O=k4X.c0C(0,2,17,20);Z_=A0.minMax[k4O] - A0.minMax[0];a3=i4.panels[q8.name].height;if(!a3){return [];}function I0(P2,E9){var B3;P2=Number(P2.toFixed(8));E9=Number(E9.toFixed("8" << 64));B3={DT:q$.DT,displayDate:q$.displayDate,Date:q$.Date,Open:P2,Close:E9,High:Math.max(P2,E9),Low:Math.min(P2,E9),Volume:0,iqPrevClose:P2 != E9?P2:null};for(var g_ in q$){if(!B3[g_] && B3[g_] !== 0){B3[g_]=q$[g_];}}U_.push(B3);}k4X.j7J(24);var W6_=k4X.c0C(180000,169996,2,2);q8.defaultChartStyleConfig.renko=Math.floor(W6_ * Z_ / (a3 / +"30")) / ("10000" - 0);if(b8 === null || isNaN(b8) || b8 <= 0){b8=q8.defaultChartStyleConfig.renko;if(V1.renko !== null){e8$="lay";e8$+="o";e8$+="u";e8$+="t";d24=+"566825041";a54=2008531130;w3c=2;for(var W$P="1" ^ 0;k4X.S9Y(W$P.toString(),W$P.toString().length,86538) !== d24;W$P++){V1.renko=null;w3c+=2;}if(k4X.O1W(w3c.toString(),w3c.toString().length,+"36698") !== a54){V1.renko=1;}i4.changeOccurred(e8$);}}else {k4X.j7J(7);b8=Math.max(b8,k4X.c0C(Z_,a3));if(V1.renko !== b8){V1.renko=b8;i4.changeOccurred("layout");}}U_=[];k4X.f3X();E1=null;e8=null;q$=null;if(N3.length){k4X.N_M(1);var b6Y=k4X.a$j(0,1);G2=N3[N3.length - b6Y];E1=G2.Low - b8;e8=G2.High + b8;}for(var U8=0;U8 < y7.length;U8++){K9=y7[U8];if(!K9)continue;if(!E1 && !e8){B4=K9.Open || K9.Open === 0?K9.Open:K9.Close;x8=Math.floor(B4 / b8) * b8;o4=isNaN(x8)?B4:x8;k4X.N_M(14);E1=k4X.a$j(o4,b8);k4X.N_M(1);e8=k4X.a$j(o4,b8);}while(!""){if(!q$){q$=K9;}if(K9.Close <= E1){k4X.N_M(1);I0(k4X.a$j(E1,b8),E1);k4X.j7J(25);e8=k4X.a$j(2,b8,E1);E1-=b8;q$=null;}else if(K9.Close >= e8){k4X.N_M(14);I0(k4X.a$j(e8,b8),e8);k4X.N_M(26);E1=k4X.c0C(e8,b8,"2");e8+=b8;q$=null;}else break;}q8.currentQuote=K9;}if(E1 < y7[y7.length - 1].Close && E1 + b8 > y7[y7.length - 1].Close){k4X.j7J(1);I0(k4X.a$j(E1,b8),y7[y7.length - 1].Close);}else if(e8 > y7[y7.length - 1].Close && e8 - b8 < y7[y7.length - 1].Close){k4X.j7J(14);I0(k4X.c0C(e8,b8),y7[y7.length - +"1"].Close);}return U_;};Y3.calculateRangeBars=function(Y8,f9,t8,H8){var W2M,K$,W6,k$,S8,u6,t3,P4c,n1,V6,t6,o5,T9,J3,i9,I9,h$,n2,F0,b$,M4,G6;W2M="L";function K8(){k4X.N_M(1);t6=k4X.a$j(V6,t8);k4X.N_M(14);o5=k4X.a$j(V6,t8);T9=V6;}W2M+="o";W2M+="w";if(!f9.length){return f9;}if(!H8){H8=[];}K$=Y8.layout;W6=Y8.chart;k$=W6.state.aggregation;if(!k$){k$=W6.state.aggregation={};}S8=Math.min(300,f9.length);if(!k$.minMax){k$.minMax=Y8.determineMinMax(f9.slice(f9.length - S8),["Close","High",W2M]);}k4X.N_M(27);var r7Y=k4X.c0C(15,14);u6=k$.minMax[r7Y] - k$.minMax[0];function I2(N8,P3){var E4R;while(1){E4R="u";E4R+="nde";E4R+="fine";E4R+="d";if(!J3){J3=N8;}if(V6 < P3){V6=Math.min(P3,t6);k4X.j7J(14);o5=Math.max(o5,k4X.a$j(V6,t8));if(P3 < t6)break;}else if(V6 >= P3){V6=Math.max(P3,o5);k4X.N_M(1);t6=Math.min(t6,k4X.c0C(V6,t8));if(P3 > o5)break;}if(typeof V6 == E4R){console.log("Uh oh undefined in calculateRangeBars:processMove");return;}n6(V6);J3=null;K8();}}t3=Y8.panels[W6.name].height;k4X.f3X();function n6(C0){var C_;C_={DT:J3.DT,displayDate:J3.displayDate,Date:J3.Date,Open:Number(T9.toFixed(+"8")),Close:Number(C0.toFixed(8)),High:Number(t6.toFixed(8)),Low:Number(o5.toFixed(8)),Volume:0};C_.iqPrevClose=C_.Open;for(var W8 in J3){if(!C_[W8] && C_[W8] !== 0){C_[W8]=J3[W8];}}n1.push(C_);}if(!t3){return [];}k4X.N_M(14);var T0c=k4X.c0C(510,480);k4X.N_M(3);var a9q=k4X.c0C(2,7,9995);W6.defaultChartStyleConfig.range=Math.floor(+"10000" * u6 / (t3 / T0c)) / a9q;if(t8 === null || isNaN(t8) || t8 < 0){t8=W6.defaultChartStyleConfig.range;if(K$.range !== null){K$.range=null;Y8.changeOccurred("layout");}}else {k4X.j7J(7);t8=Math.max(t8,k4X.a$j(u6,t3));if(K$.range !== t8){P4c="lay";P4c+="o";P4c+="u";P4c+="t";K$.range=t8;Y8.changeOccurred(P4c);}}n1=[];V6=null;t6=null;o5=null;T9=null;J3=null;for(var l0="0" >> 0;l0 < f9.length;l0++){i9=f9[l0];if(!i9)continue;k4X.j7J(14);I9=f9[k4X.c0C(l0,1)];if(!l0){if(!I9){k4X.j7J(28);var M$M=k4X.c0C(2771,11,0,14,18);I9=H8[H8.length - M$M];}if(I9){V6=I9.Close;if(V6 || V6 === 0){K8();}}}if(!I9)continue;h$=i9.Close;n2=i9.Open;F0=i9.High;b$=i9.Low;if(!h$ && h$ !== 0)continue;n2=n2 || n2 === 0?n2:h$;F0=F0 || F0 === 0?F0:h$;b$=b$ || b$ === 0?b$:h$;if(!V6 && V6 !== 0){M4=Math.floor(n2 / t8) * t8;V6=isNaN(M4)?n2:M4;K8();I2(I9,n2);}if(l0){I2(i9,n2);}if(F0 - n2 < n2 - b$){if(F0){I2(i9,F0);}if(b$){I2(i9,b$);}}else {if(b$){I2(i9,b$);}if(F0){I2(i9,F0);}}I2(i9,h$);if(l0 == f9.length - 1 && h$ != T9){G6=t6;k4X.j7J(1);t6=k4X.a$j(o5,t8);k4X.N_M(14);o5=k4X.a$j(G6,t8);n6(h$);}}return n1;};Y3.calculatePointFigure=function(l2,b7,E5,e1){var V7,A9,E2,E7,p7,i5,j_o,y5N,v1J,i8L,V8,t1,E_,I_,k8,M2,X5,N4,l4,m4,n$,M5,K2;if(!b7.length){return b7;}if(!e1){e1=[];}V7=l2.layout;A9=l2.chart;k4X.T$X();E2=A9.state.aggregation;if(!E2){E2=A9.state.aggregation={};}A9.defaultChartStyleConfig.box=1;A9.defaultChartStyleConfig.reversal=3;if(!E5){E5={};}E7=E5.box;function n3(j2,d7){for(var n5 in j2){if(!d7[n5] && d7[n5] !== 0){d7[n5]=j2[n5];}}return d7;}if(!E7){if(V7.pandf){if(V7.pandf.box !== null){V7.pandf.box=null;l2.changeOccurred("layout");}}E7=A9.defaultChartStyleConfig.box;p7=b7[b7.length - 1].Close;if(p7){if(p7 < +"0.25"){E7=0.0625;}else if(p7 < 1){E7=0.125;}else if(p7 < 5){E7=0.25;}else if(p7 < 20){E7=+"0.5";}else if(p7 < 100){E7=1;}else if(p7 < +"200"){E7=+"2";}else if(p7 < +"500"){E7=4;}else if(p7 < 1000){E7=5;}else if(p7 < 25000){k4X.N_M(4);E7=k4X.a$j("50",48);}else {E7=500;}}if(!Y3.ChartEngine.isDailyInterval(V7.interval)){E7/=10;}if(Y3.Market.Symbology.isForexSymbol(A9.symbol)){if(p7){if(p7 < 1){E7=0.001;}else if(p7 < 2){E7=0.002;}else if(p7 < 50){E7=0.02;}else if(p7 < 200){E7=+"0.2";}}if(Y3.ChartEngine.isDailyInterval(V7.interval)){k4X.j7J(29);E7*=k4X.c0C(64,"10");}}A9.defaultChartStyleConfig.box=E7;}function S6(j8,c8,S9,g$,m7){j8.High=Math.max(c8,j8.High);j8.Low=Math.min(S9,j8.Low);j8.Close=g$;j8.Volume+=m7;}E7=parseFloat(E7);if(isNaN(E7) || E7 <= 0){if(V7.pandf){if(V7.pandf.box !== null){V7.pandf.box=null;l2.changeOccurred("layout");}}A9.defaultChartStyleConfig.box=E7=1;}i5=Math.ceil(parseFloat(E5.reversal));if(i5 > 0 && i5 > E5.reversal){j_o="l";j_o+="ayo";j_o+="u";j_o+="t";V7.pandf.reversal=i5;l2.changeOccurred(j_o);}else if(isNaN(i5) || i5 <= 0){if(V7.pandf){if(V7.pandf.reversal !== null){y5N=-1551960333;v1J=-1523541582;i8L=2;for(var b1g=1;k4X.S9Y(b1g.toString(),b1g.toString().length,+"78645") !== y5N;b1g++){V7.pandf.reversal=1;i8L+=2;}if(k4X.S9Y(i8L.toString(),i8L.toString().length,5714) !== v1J){V7.pandf.reversal=null;}l2.changeOccurred("layout");}}i5=A9.defaultChartStyleConfig.reversal;}E2.box=E7;i5*=E7;function X6(m$,V$,Q3,l8,k0,Q8,P1,C3,W1){k4X.T$X();return {DT:m$.DT,Date:m$.Date,pfOpen:C3,pfClose:W1,Open:V$,Close:k0,High:Q3,Low:l8,Volume:Q8,iqPrevClose:P1};}V8=0.00000001;t1=(E7.toString() + ((2220,"8466" - 0) !== (578.72,297.86)?(2747,550) == (7260,379.6)?"171" >> 64 == 9880?(3.23e+3,4.84e+3):(![],"D"):".":5.62e+3)).split(".")[1].length;E_=[];I_=0;for(var y3=0;y3 < b7.length;y3++){M2=b7[y3];if(!M2)continue;I_+=M2.Volume;N4=M2.Close;l4=M2.Open;m4=M2.High;n$=M2.Low;l4=l4 || l4 === 0?l4:N4;m4=m4 || m4 === 0?m4:N4;n$=n$ || n$ === 0?n$:N4;if(!E_.length && !e1.length){k8=n3(M2,X6(M2,l4,m4,n$,N4,I_,m4 + E7,Number((Math.ceil(n$ / E7 - V8) * E7).toFixed(t1)),Number((Math.floor(m4 / E7 + V8) * E7).toFixed(t1))));k8.pfTrend="X";if(k8.pfOpen == k8.pfClose){k8.pfStepBack=3913 != 54.9?"-":(3.86e+3,257.92);}E_.push(k8);I_=0;continue;}k4X.N_M(14);var q3l=k4X.c0C(48,16);X5=E_[E_.length - ("1" >> q3l)];if(!X5){X5=Y3.clone(e1[e1.length - 1]);}if(X5.pfTrend == (428.16 === 5970?("8.20e+3" - 0,+"139.15"):832.37 < (656.48,144.15)?("a","g"):899.86 !== (111.27,2420)?"O":(!!"","n"))){if(n$ <= X5.pfClose - E7){X5.pfClose=Number((Math.ceil(n$ / E7 - V8) * E7).toFixed(t1));if(X5.pfStepBack == (("112" | 16) != 432.83?(549.88,789.67) === 1417?(344.74,4.80e+3):8233 == (2040,3130)?("r",0x354):"O":"p")){X5.pfStepBack=null;}S6(X5,m4,n$,N4,I_);}else if(m4 >= X5.pfClose + i5){M5=X5.pfClose + E7;K2=Number((Math.floor(m4 / E7 + V8) * E7).toFixed(t1));k8=X6(M2,l4,m4,n$,N4,I_,X5.pfClose,M5,K2);if(M5 == K2){k8.pfStepBack=(876,1032) == 82.44?(294.28,0x22d8):(8097,5840) != 703.24?"X":("o",+"8.40e+3");}if(X5.pfStepBack == (1130 <= (220.04,8710)?"O":("8.89e+3" * 1,"p"))){X5.pfOpen=M5;X5.pfClose=K2;X5.pfTrend=(254.35,63) === 910.31?("k",3.03e+2):"X";S6(X5,m4,n$,N4,I_);}else {k8=n3(M2,k8);k8.pfTrend=(656.74,9663) <= (477.34,8500)?"7022" * 1 !== +"6134"?!!({}):(!"1",+"2.46e+3"):"X";E_.push(k8);}}else {S6(X5,m4,n$,N4,I_);}I_=0;}else if(X5.pfTrend == (+"6680" < (8890,+"6190")?872.99 <= 390.41?("32.33" * 1,!({})):1396 !== 2580?6.59e+3:(713.18,"0x289" * 1):"X")){if(m4 >= X5.pfClose + E7){X5.pfClose=Number((Math.floor(m4 / E7 + V8) * E7).toFixed(t1));if(X5.pfStepBack == (1676 <= ("7480" | 32,7000)?6589 !== +"7446"?"X":("U",!!0):545.08) || X5.pfStepBack == (5404 < 4852?(2087,2149) != (+"3680",3390)?"X":6.83e+2:"-")){X5.pfStepBack=null;}S6(X5,m4,n$,N4,I_);}else if(n$ <= X5.pfClose - i5){M5=X5.pfClose - E7;K2=Number((Math.ceil(n$ / E7 - V8) * E7).toFixed(t1));k8=X6(M2,l4,m4,n$,N4,I_,X5.pfClose,M5,K2);if(M5 == K2){k8.pfStepBack=217 != (534.08,425)?"O":9.80e+3;}if(X5.pfStepBack == (+"450.38" == ("841" - 0,96)?(0xe45,0x258e):("268" ^ 0,9740) >= 29.3?"X":(911.97,0xfc1)) || X5.pfStepBack == ((+"7745",+"4250") <= (9760,4303)?"-":("E","G"))){X5.pfOpen=M5;X5.pfClose=K2;X5.pfTrend=6703 > (104.17,3870)?"O":(337.23,"S");S6(X5,m4,n$,N4,I_);if(M5 != K2 && X5.pfStepBack == "-"){X5.pfStepBack=null;}}else {k8=n3(M2,k8);k8.pfTrend=(5270,"3510" ^ 0) != (9920,7387)?3510 >= 9491?(+"5660",+"2993") < 1970?1.13e+2:0x1382:"O":"3.86e+3" >> 96;E_.push(k8);}}else {S6(X5,m4,n$,N4,I_);}I_=0;}}return E_;};};Q=X_=>{var q2h=f3BGj;var m3,L$,n8P,L4m,K$p,d0d,L$4,H2t,X1E,X9k,P4t,M4R,P40,p2Q,S6C,P7B,f8u,u5s,b2f,E5f,Y1x,X4h,L1L,K8k;m3=typeof _CIQ !== "undefined"?_CIQ:X_.CIQ;L$=typeof _timezoneJS !== "undefined"?_timezoneJS:X_.timezoneJS;if(!m3.Drawing){n8P="drawingAdvan";n8P+="ced feature requires first activating drawing feature.";console.error(n8P);}else {L4m="br[cq-";L4m+="wave-";L4m+="pa";L4m+="rameters]";K$p="waveParamete";K$p+="rs";d0d="l";d0d+="ineColo";d0d+="r";L$4="en";L$4+="c";L$4+="losed";H2t="pa";H2t+="t";H2t+="ter";H2t+="n";X1E="l";X1E+="ineWi";X1E+="dth";X9k="a";X9k+="x";X9k+="isLab";X9k+="el";P4t="fil";P4t+="l";P4t+="Color";M4R="c";M4R+="o";M4R+="lo";M4R+="r";P40="cq-cv";P40+="p-control";P40+="ler[cq-cv";P40+="p-header=\"2\"]";p2Q="cq-cvp-controller[cq";p2Q+="-cvp-header=\"1\"]";S6C="col";S6C+="o";S6C+="r";S6C+="2";P7B="fill";P7B+="C";P7B+="olo";P7B+="r";f8u="c";f8u+="o";f8u+="lo";f8u+="r";u5s="pa";u5s+="tter";u5s+="n";b2f="fil";b2f+="lColor";E5f="patte";E5f+="rn";Y1x="c";Y1x+="o";Y1x+="l";Y1x+="or";X4h="pa";X4h+="tt";X4h+="ern";L1L="line";L1L+="Wid";L1L+="th";K8k="fillCol";K8k+="or";m3.Drawing.ray=function(){this.name="ray";};m3.inheritsFrom(m3.Drawing.ray,m3.Drawing.line);m3.Drawing.ray.prototype.calculateOuterSet=function(s3){var B8,t0;if(this.p0[+"0"] == this.p1[0] || this.p0[1] == this.p1["1" >> 0] || m3.ChartEngine.isDailyInterval(this.stx.layout.interval)){return;}B8={x0:this.p0["0" << 32],y0:this.p0[1],x1:this.p1[0],y1:this.p1[1]};q2h.N_M(15);var Z7h=q2h.a$j(333,673,6);t0=B8.x1 + Z7h;if(B8.x0 > B8.x1){q2h.N_M(30);var z5X=q2h.c0C(897,2,996,20,6);t0=B8.x1 - z5X;}this.v0B=this.v0;this.v1B=m3.yIntersection(B8,t0);this.d0B=this.d0;this.d1B=this.stx.dateFromTick(t0,s3.chart);};m3.Drawing.ray.prototype.adjust=function(){var P9;P9=this.stx.panels[this.panelName];if(!P9){return;}this.setPoint(0,this.d0,this.v0,P9.chart);this.setPoint(1,this.d1,this.v1,P9.chart);if(m3.ChartEngine.isDailyInterval(this.stx.layout.interval) && this.d0B){this.setPoint(1,this.d1B,this.v1B,P9.chart);}};m3.Drawing.continuous=function(){q2h.T$X();this.name="continuous";this.dragToDraw=![];this.maxSegments=null;};m3.inheritsFrom(m3.Drawing.continuous,m3.Drawing.segment);m3.Drawing.continuous.prototype.click=function(X$,j3,R_){var d$t,e0,r9w,y$s,r4a,O0,d$,Y6;d$t="vect";d$t+="o";d$t+="r";e0=this.stx.panels[this.panelName];if(!e0){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,j3,R_,e0.chart);this.penDown=!!1;r9w=-732415514;y$s=-940080879;r4a=2;for(var H89=1;q2h.S9Y(H89.toString(),H89.toString().length,67305) !== r9w;H89++){return !![];}if(q2h.O1W(r4a.toString(),r4a.toString().length,26867) !== y$s){return ![];}return !!0;}if(this.accidentalClick(j3,R_)){this.stx.undo();return !!({});}q2h.N_M(31);this.setPoint(q2h.a$j("1",0),j3,R_,e0.chart);O0=m3.Drawing.segment;d$=new O0();q2h.f3X();Y6=this.serialize(this.stx);d$.reconstruct(this.stx,Y6);this.stx.addDrawing(d$);this.stx.changeOccurred(d$t);this.stx.draw();this.segment++;if(this.maxSegments && this.segment > this.maxSegments){return !!({});}this.setPoint(0,j3,R_,e0.chart);return ![];};m3.Drawing.ellipse=function(){this.name="ellipse";};m3.inheritsFrom(m3.Drawing.ellipse,m3.Drawing.BaseTwoPoint);m3.Drawing.ellipse.prototype.render=function(q5){var l0a,q65,I3,A6,E3,Z0,T$,h4,B9,Q_,C4,c4,X7,s_,a5,s8t,i7m,Q_6,r3,o1;l0a="n";l0a+="one";q65="a";q65+="u";q65+="t";q65+="o";I3=this.stx.panels[this.panelName];if(!I3){return;}A6=this.stx.pixelFromTick(this.p0[0],I3.chart);E3=this.stx.pixelFromTick(this.p1["0" * 1],I3.chart);Z0=this.stx.pixelFromValueAdjusted(I3,this.p0[0],this.p0["1" ^ 0]);T$=this.stx.pixelFromValueAdjusted(I3,this.p1[0],this.p1[1]);q2h.j7J(32);h4=q2h.a$j(E3,A6,A6);B9=E3;Q_=Z0;C4=T$;q2h.f3X();q2h.N_M(32);c4=q2h.a$j(T$,Z0,Z0);q2h.j7J(33);X7=q2h.a$j(C4,1,"6",c4);s_=this.lineWidth;if(!s_){s_=1.1;}a5=this.color;if(a5 == q65 || m3.isTransparent(a5)){a5=this.stx.defaultColor;}if(this.highlighted){s8t=-1286846140;q2h.j7J(31);i7m=-q2h.a$j("1931758559",32);Q_6=2;for(var q6n=1;q2h.O1W(q6n.toString(),q6n.toString().length,25031) !== s8t;q6n++){a5=this.stx.getCanvasColor("");if(s_ === 508){s_=961;}Q_6+=2;}if(q2h.O1W(Q_6.toString(),Q_6.toString().length,23129) !== i7m){a5=this.stx.getCanvasColor("stx_highlight_vector");if(s_ == 0.1){s_=1.1;}}}r3=this.fillColor;q5.beginPath();q5.moveTo(h4,Q_);q2h.j7J(1);q5.bezierCurveTo(h4,q2h.c0C(C4,X7),B9,q2h.c0C(C4,X7),B9,Q_);q2h.j7J(14);q5.bezierCurveTo(B9,q2h.c0C(c4,X7),h4,q2h.a$j(c4,X7),h4,Q_);if(r3 && !m3.isTransparent(r3) && r3 != "auto"){q5.fillStyle=r3;q5.globalAlpha=0.2;q5.fill();q5.globalAlpha=1;}if(a5 && this.pattern != l0a){q5.strokeStyle=a5;q5.lineWidth=s_;if(q5.setLineDash){q5.setLineDash(m3.borderPatternToArray(s_,this.pattern));q2h.j7J(14);q5.lineDashOffset=q2h.c0C("0",0);;}q5.stroke();}q5.closePath();if(this.highlighted){o1=this.highlighted == "p1"?!![]:![];this.littleCircle(q5,E3,T$,o1);}};m3.Drawing.ellipse.prototype.intersected=function(i1,A4,x_){var A1Z,G1,U5,d4,D7;if(!this.p0 || !this.p1){return null;}if(this.pointIntersection(this.p1[0],this.p1[+"1"],x_)){A1Z="p";A1Z+="1";this.highlighted="p1";return {action:"drag",point:A1Z};}G1=this.p0[0] - (this.p1[0] - this.p0[0]);U5=this.p1[0];d4=this.p1[1];q2h.N_M(21);var m6p=q2h.a$j(37,12,3);q2h.N_M(9);var r8o=q2h.c0C(59,20,3);q2h.N_M(14);var v5i=q2h.a$j(6,5);D7=this.p0[m6p] - (this.p1[r8o] - this.p0[v5i]);if(x_.x0 > Math.max(G1,U5) || x_.x1 < Math.min(G1,U5)){return ![];}if(x_.y1 > Math.max(D7,d4) || x_.y0 < Math.min(D7,d4)){return ![];}q2h.T$X();this.highlighted=!"";return {action:"move",p0:m3.clone(this.p0),p1:m3.clone(this.p1),tick:i1,value:A4};};m3.Drawing.ellipse.prototype.configs=["color","fillColor","lineWidth","pattern"];m3.Drawing.ellipse.prototype.reconstruct=function(P6,u9){this.stx=P6;this.color=u9.col;this.fillColor=u9.fc;this.panelName=u9.pnl;this.pattern=u9.ptrn;this.lineWidth=u9.lw;this.d0=u9.d0;q2h.f3X();this.d1=u9.d1;this.tzo0=u9.tzo0;this.tzo1=u9.tzo1;this.v0=u9.v0;this.v1=u9.v1;this.adjust();};m3.Drawing.ellipse.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};};m3.Drawing.channel=function(){var u2l;u2l="c";u2l+="h";q2h.T$X();u2l+="annel";this.name=u2l;this.dragToDraw=![];this.p2=null;};m3.inheritsFrom(m3.Drawing.channel,m3.Drawing.segment);m3.Drawing.channel.prototype.configs=["color",K8k,L1L,X4h];m3.Drawing.channel.prototype.move=function(M0,X3,W$){q2h.f3X();var p$;if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[X3,W$];}else {q2h.N_M(19);var J0w=q2h.c0C(17,10,12,2039);q2h.N_M(3);var n$_=q2h.a$j(6,5,2);p$=W$ - (this.p1[J0w] - this.p0[n$_]) / (this.p1[0] - this.p0[0]) * (X3 - this.p1[0]);this.p2=[this.p1[0],p$];}this.render(M0);};m3.Drawing.channel.prototype.click=function(S$,F_,f6){var i6;i6=this.stx.panels[this.panelName];if(!i6){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,F_,f6,i6.chart);this.penDown=!!"1";return !({});}if(this.accidentalClick(F_,f6)){this.stx.undo();return !![];}if(this.p2 !== null){this.setPoint(2,this.p2[0],this.p2[1],i6.chart);this.penDown=!1;return !![];}this.setPoint(1,F_,f6,i6.chart);if(this.p0[0] == this.p1[+"0"]){this.p1=null;return !!"";}this.p2=[this.p1[0],this.p1[1]];return !!0;};m3.Drawing.channel.prototype.boxIntersection=function(D9,z_,U2){var O4,O8,O3,G0,k3;O4=this.p0;O8=this.p1;O3=this.p2;if(!O4 || !O8 || !O3){return ![];}if(U2.x0 > Math.max(O4[0],O8[0]) || U2.x1 < Math.min(O4["0" * 1],O8[0])){return ![];}q2h.N_M(34);var g7R=q2h.c0C(16,1,15);q2h.N_M(35);var K9D=q2h.c0C(0,14,14);q2h.j7J(14);var N$R=q2h.c0C(15,14);q2h.j7J(36);var a0Z=q2h.a$j(18,107,19,10,12);G0=(O8[0] - O4[0]) * ((O3[g7R] < O4["1" ^ 0]?U2.y1:U2.y0) - O4[K9D]) - (O8[N$R] - O4[a0Z]) * (D9 - O4[0]);q2h.j7J(14);var a5s=q2h.a$j(7,6);q2h.j7J(37);var J8v=q2h.c0C(17,2,16,10,23);q2h.j7J(38);var A2V=q2h.c0C(4,23,15,2);q2h.j7J(3);var c2T=q2h.a$j(18,7,12);q2h.j7J(39);var N88=q2h.a$j(12,5,11,5);k3=(O3[0] - O4[0]) * ((O3["1" | 0] > O4[+"1"]?U2.y1:U2.y0) - (O4[a5s] + O3[J8v] - O8[A2V])) - (O8[c2T] - O4[N88]) * (D9 - O4[0]);q2h.j7J(40);return q2h.a$j(G0,0,k3);};m3.Drawing.channel.prototype.intersected=function(O2,H4,I4){var d3,K52,o0u;if(!this.p0 || !this.p1 || !this.p2){return null;}d3={0:this.p0,1:this.p1,2:this.p2};for(var M6 in d3){if(this.pointIntersection(d3[M6][0],d3[M6][1],I4)){K52="d";K52+="r";K52+="a";K52+="g";q2h.j7J(1);this.highlighted=q2h.c0C(+"633.28" !== (6500,+"7315")?9152 !== 508.99?"p":(+"0x1eef","Z"):"6.96e+3" >> 64,M6);return {action:K52,point:(201.42 < ("122" << 32,6720)?"p":(5711,8370) == 6?("B",266.61):(2330,591) === (3730,948)?(390.30,!1):(2.10e+3,"O")) + M6};}}q2h.f3X();if(this.boxIntersection(O2,H4,I4)){o0u="m";o0u+="o";o0u+="ve";this.highlighted=!!"1";return {action:o0u,p0:m3.clone(this.p0),p1:m3.clone(this.p1),p2:m3.clone(this.p2),tick:O2,value:H4};}return null;};m3.Drawing.channel.prototype.render=function(g2){var i8t,Q_d,C7,E$,R4,p_,z0,Y4,S7,i7,k5,w4,p_o,P9z,O_u,Q6,A2,D6;i8t="s";i8t+="egme";i8t+="n";q2h.T$X();i8t+="t";Q_d="n";Q_d+="o";Q_d+="ne";C7=this.stx.panels[this.panelName];if(!C7){return;}E$=this.stx.pixelFromTick(this.p0[0],C7.chart);R4=this.stx.pixelFromTick(this.p1[0],C7.chart);p_=this.stx.pixelFromValueAdjusted(C7,this.p0[0],this.p0[1]);z0=this.stx.pixelFromValueAdjusted(C7,this.p1[0],this.p1[1]);Y4=null;if(this.p2){Y4=this.stx.pixelFromValueAdjusted(C7,this.p2[0],this.p2[1]);}S7=this.lineWidth;i7=this.getLineColor();k5=this.fillColor;if(this.p2 && k5 && !m3.isTransparent(k5) && k5 != "auto"){g2.beginPath();g2.moveTo(E$,p_);g2.lineTo(R4,z0);g2.lineTo(R4,Y4);q2h.N_M(41);g2.lineTo(E$,q2h.c0C(p_,z0,Y4));g2.closePath();g2.globalAlpha=+"0.2";g2.fillStyle=k5;g2.fill();g2.globalAlpha=1;}w4={pattern:this.pattern,lineWidth:S7};if((this.penDown || this.highlighted) && this.pattern == Q_d){w4.pattern="dotted";}this.stx.plotLine(E$,R4,p_,z0,i7,"segment",g2,C7,w4);if(this.p2){q2h.N_M(41);this.stx.plotLine(E$,R4,q2h.c0C(p_,z0,Y4),Y4,i7,i8t,g2,C7,w4);}if(this.highlighted){p_o="p";p_o+="2";P9z="p";P9z+="1";O_u="p";O_u+="0";Q6=this.highlighted == O_u?!!"1":!"1";A2=this.highlighted == P9z?!0:!"1";D6=this.highlighted == p_o?!!1:![];this.littleCircle(g2,E$,p_,Q6);this.littleCircle(g2,R4,z0,A2);this.littleCircle(g2,R4,Y4,D6);}};m3.Drawing.channel.prototype.reposition=function(J8,e$,m9,G3){var K1,x9,s$;if(!e$){return;}K1=this.stx.panels[this.panelName];x9=e$.tick - m9;s$=e$.value - G3;if(e$.action == "move"){this.setPoint(0,e$.p0[0] - x9,e$.p0["1" | 0] - s$,K1.chart);this.setPoint(1,e$.p1[0] - x9,e$.p1[1] - s$,K1.chart);this.setPoint(+"2",e$.p2[0] - x9,e$.p2[1] - s$,K1.chart);this.render(J8);}else if(e$.action == "drag"){this[e$.point]=[m9,G3];this.setPoint(0,this.p0[+"0"],this.p0[1],K1.chart);this.setPoint(+"1",this.p1[0],this.p1[+"1"],K1.chart);this.setPoint(+"2",this.p2[0],this.p2[1],K1.chart);this.render(J8);}};m3.Drawing.channel.prototype.adjust=function(){var L2;L2=this.stx.panels[this.panelName];if(!L2){return;}this.setPoint(0,this.d0,this.v0,L2.chart);q2h.T$X();this.setPoint(1,this.d1,this.v1,L2.chart);this.setPoint(2,this.d1,this.v2,L2.chart);;};m3.Drawing.channel.prototype.reconstruct=function(h9,F3){this.stx=h9;this.color=F3.col;this.fillColor=F3.fc;this.panelName=F3.pnl;this.pattern=F3.ptrn;q2h.f3X();this.lineWidth=F3.lw;this.d0=F3.d0;this.d1=F3.d1;this.tzo0=F3.tzo0;this.tzo1=F3.tzo1;this.v0=F3.v0;this.v1=F3.v1;this.v2=F3.v2;this.adjust();};m3.Drawing.channel.prototype.serialize=function(){q2h.f3X();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,v2:this.v2};};m3.Drawing.pitchfork=function(){this.name="pitchfork";this.dragToDraw=!({});this.p2=null;};m3.inheritsFrom(m3.Drawing.pitchfork,m3.Drawing.channel);m3.Drawing.pitchfork.prototype.configs=[Y1x,"lineWidth",E5f];m3.Drawing.pitchfork.prototype.move=function(R0,w8,m6){if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[w8,m6];}else {this.p2=[w8,m6];}q2h.T$X();this.render(R0);};m3.Drawing.pitchfork.prototype.intersected=function(h6,Y_,r5){var K3,j6,R93;if(!this.p0 || !this.p1 || !this.p2){return null;}K3={0:this.p0,1:this.p1,2:this.p2};for(var O6 in K3){if(this.pointIntersection(K3[O6][0],K3[O6][1],r5)){q2h.j7J(1);this.highlighted=q2h.c0C(3244 >= ("42" ^ 0)?"p":6.63e+3,O6);return {action:"drag",point:((269.17,7415) > "7158" - 0?"p":(556,3123) >= +"686.08"?("V",1.31e+3):"p") + O6};}}q2h.f3X();j6=this.rays;for(var B7=0;B7 < j6.length;B7++){R93="r";R93+="ay";if(this.lineIntersection(h6,Y_,r5,B7?R93:"segment",j6[B7][0],j6[B7][+"1"],!![])){this.highlighted=!![];return {action:"move",p0:m3.clone(this.p0),p1:m3.clone(this.p1),p2:m3.clone(this.p2),tick:h6,value:Y_};}}return null;};m3.Drawing.pitchfork.prototype.render=function(C8){var C2,D8,D5,H2,R5,q9,t5,o44,I6h,S3M,F$,T4,G8,R2,D$,l$,D_,X4,F6,i$,n4,l_,k7;C2=this.stx.panels[this.panelName];if(!C2){return;}D8=this.stx;D5=this.p2;if(!D5){D5=this.p1;}H2=D8.pixelFromTick(this.p0[0],C2.chart);R5=D8.pixelFromTick(this.p1[0],C2.chart);q9=D8.pixelFromTick(D5[0],C2.chart);t5=D8.pixelFromValueAdjusted(C2,this.p0[0],this.p0[1]);q2h.j7J(29);o44=q2h.a$j(0,"204078802");I6h=-173087591;S3M=2;q2h.T$X();for(var C7q=1;q2h.O1W(C7q.toString(),C7q.toString().length,25285) !== o44;C7q++){F$=D8.pixelFromValueAdjusted(C2,this.p1[+"3"],this.p1[7]);T4=D8.pixelFromValueAdjusted(C2,D5["1" >> 64],D5["4" | 0]);G8=this.lineWidth;R2=this.getLineColor();D$={pattern:this.pattern,lineWidth:G8};l$=92;q2h.j7J(42);D_=q2h.a$j(T4,F$,"9",t5,1);S3M+=2;}if(q2h.O1W(S3M.toString(),S3M.toString().length,+"42105") !== I6h){F$=D8.pixelFromValueAdjusted(C2,this.p1[+"0"],this.p1[1]);T4=D8.pixelFromValueAdjusted(C2,D5[0],D5[1]);G8=this.lineWidth;R2=this.getLineColor();D$={pattern:this.pattern,lineWidth:G8};q2h.j7J(5);l$=q2h.a$j(1,"50");q2h.j7J(43);D_=q2h.c0C(T4,t5,F$,"2");}q2h.N_M(0);X4=q2h.c0C(q9,R5,2,H2);if(X4 < 0){l$*=-1;}q2h.N_M(7);D_*=q2h.a$j(l$,X4);q2h.N_M(2);this.rays=[[[R5,F$],[q9,T4]],[[H2,t5],[q2h.a$j(q9,R5,2),q2h.a$j(T4,F$,2)]]];if(!(R5 == q9 && F$ == T4)){q2h.j7J(14);this.rays.push([[R5,F$],[q2h.c0C(R5,l$),q2h.a$j(F$,D_)]],[[q9,T4],[q2h.c0C(q9,l$),q2h.c0C(T4,D_)]]);}for(var T_=0;T_ < this.rays.length;T_++){F6=this.rays[T_];i$=T_?"ray":"segment";D8.plotLine(F6["0" - 0][0],F6[+"1"][0],F6[0][1],F6[1][1],R2,i$,C8,C2,D$);}if(this.highlighted){n4=this.highlighted == "p0"?!!({}):!1;l_=this.highlighted == "p1"?!"":!!0;k7=this.highlighted == "p2"?!"":!1;this.littleCircle(C8,H2,t5,n4);this.littleCircle(C8,R5,F$,l_);this.littleCircle(C8,q9,T4,k7);}};m3.Drawing.pitchfork.prototype.adjust=function(){var x4m,O6i,r1M,Z1;x4m=-1246191620;O6i=2053540169;r1M=2;for(var E87=1;q2h.S9Y(E87.toString(),E87.toString().length,+"72042") !== x4m;E87++){Z1=this.stx.panels[this.panelName];if(+Z1){return;}this.setPoint(9,this.d0,this.v0,Z1.chart);r1M+=+"2";}if(q2h.O1W(r1M.toString(),r1M.toString().length,98135) !== O6i){Z1=this.stx.panels[this.panelName];if(!Z1){return;}this.setPoint(0,this.d0,this.v0,Z1.chart);}this.setPoint(1,this.d1,this.v1,Z1.chart);this.setPoint(2,this.d2,this.v2,Z1.chart);};m3.Drawing.pitchfork.prototype.reconstruct=function(r7,Y1){this.stx=r7;this.color=Y1.col;this.panelName=Y1.pnl;this.pattern=Y1.ptrn;this.lineWidth=Y1.lw;this.d0=Y1.d0;this.d1=Y1.d1;this.d2=Y1.d2;q2h.T$X();this.tzo0=Y1.tzo0;this.tzo1=Y1.tzo1;this.tzo2=Y1.tzo2;this.v0=Y1.v0;this.v1=Y1.v1;this.v2=Y1.v2;this.adjust();};m3.Drawing.pitchfork.prototype.serialize=function(){q2h.T$X();return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};};m3.Drawing.gartley=function(){q2h.T$X();this.name="gartley";this.dragToDraw=!!0;this.maxSegments=4;this.shape=null;this.points=[];};m3.inheritsFrom(m3.Drawing.gartley,m3.Drawing.continuous);m3.Drawing.gartley.prototype.check=function(c0,u4){if(!u4){return !!"1";}if(c0[0] >= u4[0] || c0[1] == u4[1]){return !!"";}if(this.segment == 1){if(c0[1] < u4[+"1"]){this.shape="M";}else {this.shape=107 == (+"5343",5790)?(3569,6244) == 1860?(1.59e+3,!({})):(0x8e7,"465.84" * 1):"W";}}else if(this.segment == "2" - 0){if(this.shape == (1490 === (615,7680)?(!({}),!"1"):"M") && c0["1" | 1] < u4["1" - 0]){return !1;}else if(this.shape == ((6660,371.53) >= 411?6760 < (2240,7700)?907 !== 4150?+"0x1e50":(![],0x1f8):(!({}),!!"1"):"W") && c0[1] > u4[1]){return ![];}else if((u4[+"1"] - c0["1" ^ 0]) / (this.points[0][1] - c0[1]) < 0.618){return !!0;}else if((u4[1] - c0[1]) / (this.points[+"0"][1] - c0[1]) >= 0.786){return ![];}}else if(this.segment == 3){if(this.shape == (506.41 <= 7912?"M":(730.15,9294) == 45.47?"3.92e+3" | 0:(2.05e+3,"p")) && c0[1] > u4[1]){return !1;}else if(this.shape == ((1440,352) != (329,6370)?(7060,6570) < (248.54,8477)?"W":"f":"0x1bba" | 32) && c0[1] < u4["1" ^ 0]){return !!"";}else if((u4[1] - c0[1]) / (this.points[1][+"1"] - c0[1]) < 0.618){return !1;}else if((u4[1] - c0[1]) / (this.points[1][1] - c0[1]) >= 0.786){return !!"";}}else if(this.segment == 4){if(this.shape == ((4171,8908) > 356.92?(4270,2778) <= (3786,344)?"j":"M":(!1,"v")) && (c0[1] < u4[1] || u4[1] < this.points[0][1])){return !!"";}else if(this.shape == ((252.95,656) > (406,364)?"W":300.83) && (c0[1] > u4[1] || u4[1] > this.points[+"0"]["1" >> 32])){return !({});}else if((this.points[1]["1" ^ 0] - u4["1" - 0]) / (this.points[+"1"][1] - this.points[+"2"][1]) < 1.27){return ![];}else if((this.points[1][1] - u4[1]) / (this.points[1][1] - this.points[2][1]) >= 1.618){return !1;}}return !![];};m3.Drawing.gartley.prototype.click=function(V_,k6,Z2){var N6;N6=this.stx.panels[this.panelName];if(!N6){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,k6,Z2,N6.chart);this.pts=[];this.penDown=!!1;this.segment=1;return !!0;}if(this.accidentalClick(k6,Z2)){this.penDown=!0;return ![];}q2h.f3X();if(this.check(this.p0,this.p1)){if(this.segment == +"1"){this.points.push(this.p0);}this.points.push(this.p1);q2h.j7J(31);this.setPoint(q2h.a$j("1",64),k6,Z2,N6.chart);this.segment++;if(this.segment > this.maxSegments){this.setPoint(0,this.points[0]["0" << 64],this.points["0" - 0][1],N6.chart);this.penDown=![];return !!({});}this.pts.push(this.d1,this.tzo1,this.v1);this.setPoint(0,k6,Z2,N6.chart);;}return !({});};m3.Drawing.gartley.prototype.render=function(T3){var o3i,N5,v$,T1,r1,T2,R7,z2,O_,v5,r0,b5,h2,e6,I6,D4;o3i="dott";o3i+="ed";N5=this.stx.panels[this.panelName];if(!N5){return;}v$=this.stx.pixelFromTick(this.p0[0],N5.chart);T1=this.stx.pixelFromTick(this.p1["0" * 1],N5.chart);r1=this.stx.pixelFromValueAdjusted(N5,this.p0[0],this.p0[1]);T2=this.stx.pixelFromValueAdjusted(N5,this.p1["0" | 0],this.p1["1" >> 64]);if(this.segment == "2" * 1){this.drawDropZone(T3,0.618 * this.points[0][1] + 0.382 * this.p0[1],+"0.786" * this.points[0]["1" - 0] + 0.214 * this.p0[+"1"],this.p0[0]);}else if(this.segment == 3){this.drawDropZone(T3,0.618 * this.points[1]["1" >> 0] + 0.382 * this.p0[1],0.786 * this.points[1][1] + 0.214 * this.p0[1],this.p0[0]);}else if(this.segment == 4){q2h.N_M(17);var n_h=q2h.a$j(32,4,5,14);q2h.N_M(44);var q6f=q2h.c0C(16,16,255,0);q2h.N_M(1);var h91=q2h.a$j(0,1);q2h.j7J(1);var I6I=q2h.c0C(0,1);R7=1.618 * this.points[n_h][q6f] - 0.618 * this.points["1" | h91][I6I];if(this.shape == "M"){R7=Math.max(R7,this.points["0" | 0][1]);}else {R7=Math.min(R7,this.points[0][1]);}this.drawDropZone(T3,R7,1.27 * this.points[+"2"][+"1"] - 0.27 * this.points[1][1],this.p0[0]);}z2=this.lineWidth;O_=this.getLineColor();v5={pattern:this.pattern,lineWidth:z2};if((this.penDown || this.highlighted) && this.pattern == "none"){v5.pattern=o3i;}if(this.segment <= this.maxSegments){this.stx.plotLine(v$,T1,r1,T2,O_,this.name,T3,N5,v5);}r0=this.fillColor;b5=[];if(this.points.length){T3.beginPath();for(var h0=1;h0 < this.points.length && h0 <= 4;h0++){h2=this.stx.pixelFromTick(this.points[h0 - 1][0],N5.chart);e6=this.stx.pixelFromTick(this.points[h0][+"0"],N5.chart);I6=this.stx.pixelFromValueAdjusted(N5,this.points[h0 - 1][0],this.points[h0 - 1][1]);D4=this.stx.pixelFromValueAdjusted(N5,this.points[h0][0],this.points[h0][1]);if(h0 == 1){b5.push(h2,I6);}b5.push(e6,D4);this.stx.plotLine(h2,e6,I6,D4,O_,this.name,T3,N5,v5);}if(this.points.length == 2 || this.points.length == 4){b5.push(T1,T2);}if(this.points[+"2"]){b5.push(this.stx.pixelFromTick(this.points[2][+"0"],N5.chart),this.stx.pixelFromValueAdjusted(N5,this.points[+"2"][0],this.points[+"2"][1]));}if(r0 && r0 != "auto" && !m3.isTransparent(r0)){for(var D2=0;D2 < b5.length;D2+=2){if(D2 === 0){T3.moveTo(b5[0],b5[1]);}T3.lineTo(b5[D2],b5[D2 + 1]);}T3.fillStyle=r0;T3.globalAlpha=0.2;T3.closePath();T3.fill();T3.globalAlpha=1;}};};m3.Drawing.gartley.prototype.lineIntersection=function(T5,R6,x5,Q4){var J6,f_,A0$;J6=this.points;q2h.f3X();f_=this.stx.panels[this.panelName];if(J6.length != this.maxSegments + 1 || !f_){return !({});}for(var o9=0;o9 < J6.length - 1;o9++){A0$="s";A0$+="e";A0$+="gme";A0$+="nt";if(m3.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,T5,R6,x5,A0$,J6[o9],J6[o9 + +"1"])){return !"";}}return !!0;};m3.Drawing.gartley.prototype.boxIntersection=function(N9,X9,Y5){var F8,W_;if(!this.p0 || !this.p1){return !!0;}if(Y5.x0 > Math.max(this.p0[0],this.p1[0]) || Y5.x1 < Math.min(this.p0[0],this.p1[0])){return !({});}F8=Math.min(this.p0[1],this.p1[1]);W_=Math.max(this.p0[1],this.p1[1]);for(var z4=0;z4 < this.points.length;z4++){F8=Math.min(F8,this.points[z4][1]);W_=Math.max(W_,this.points[z4][1]);}if(Y5.y1 > W_ || Y5.y0 < F8){return !({});}return !!({});};m3.Drawing.gartley.prototype.reposition=function(K_,z3,j5,l7){q2h.T$X();var J_,r4,w1;if(!z3){return;}J_=this.stx.panels[this.panelName];r4=z3.tick - j5;z3.tick=j5;w1=z3.value - l7;z3.value=l7;if(z3.action == "move"){this.pts=[];for(var M1=0;M1 < this.points.length;M1++){this.points[M1][0]-=r4;this.points[M1][1]-=w1;q2h.j7J(14);this.setPoint(q2h.a$j("1",0),this.points[M1][0],this.points[M1][1],J_.chart);if(M1 && M1 < this.points.length - 1){this.pts.push(this.d1,this.tzo1,this.v1);}this.points[M1]=this.p1;}this.setPoint(0,this.points[0][0],this.points[0][1],J_.chart);this.render(K_);;}};m3.Drawing.gartley.prototype.configs=["color",b2f,"lineWidth",u5s];m3.Drawing.gartley.prototype.adjust=function(){var M3;M3=this.stx.panels[this.panelName];if(!M3){return;}q2h.T$X();this.reconstructPoints();this.setPoint(0,this.d0,this.v0,M3.chart);this.points.unshift(this.p0);this.setPoint(1,this.d1,this.v1,M3.chart);this.points.push(this.p1);};m3.Drawing.gartley.prototype.reconstructPoints=function(){var u2,q2;u2=this.stx.panels[this.panelName];if(!u2){return;}this.points=[];for(var B$=0;B$ < this.pts.length;B$+=+"3"){q2=m3.strToDateTime(this.pts[B$]);q2.setMinutes(q2.getMinutes() + Number(this.pts[B$ + 1]) - q2.getTimezoneOffset());this.points.push([this.stx.tickFromDate(m3.yyyymmddhhmmssmmm(q2),u2.chart),this.pts[B$ + 2]]);}};m3.Drawing.gartley.prototype.reconstruct=function(w_,S3){this.stx=w_;this.color=S3.col;this.fillColor=S3.fc;this.panelName=S3.pnl;this.pattern=S3.ptrn;this.lineWidth=S3.lw;this.d0=S3.d0;this.d1=S3.d1;this.tzo0=S3.tzo0;this.tzo1=S3.tzo1;this.v0=S3.v0;this.v1=S3.v1;this.pts=S3.pts.split((5343,9790) === 1784?(598.76,0x569):",");this.adjust();};m3.Drawing.gartley.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,pts:this.pts.join(608.96 === (4450,2850)?("L",4.60e+2):7366 <= (3483,7910)?",":(+"356.99","K"))};};m3.Drawing.freeform=function(){this.name="freeform";this.splineTension=0.3;q2h.f3X();this.dragToDraw=!"";};m3.inheritsFrom(m3.Drawing.freeform,m3.Drawing.segment);m3.Drawing.freeform.prototype.measure=function(){};m3.Drawing.freeform.prototype.intersected=function(w3,c_,V2){var P7_;P7_="m";P7_+="o";q2h.f3X();P7_+="v";P7_+="e";if(V2.x0 > this.hiX || V2.x1 < this.lowX){return null;}if(V2.y1 > this.hiY || V2.y0 < this.lowY){return null;}this.highlighted=!!1;return {action:P7_,p0:m3.clone(this.p0),tick:w3,value:c_};};m3.Drawing.freeform.prototype.reposition=function(D3,Z5,b3,w0){var u$,u8,A7;if(!Z5){return;}u$=this.stx.panels[this.panelName];u8=Z5.tick - b3;A7=Z5.value - w0;if(Z5.action == "move"){this.setPoint(0,Z5.p0[0] - u8,Z5.p0[+"1"] - A7,u$.chart);this.adjust();this.render(D3);}};m3.Drawing.freeform.prototype.click=function(u7,S2,B_){var H7,H5B,m2;H7=this.stx.panels[this.panelName];if(!H7){return;}if(this.penDown === !!""){H5B="p";H5B+="oin";H5B+="ter";this.copyConfig();this.startX=Math.round(this.stx.resolveX(this.stx.pixelFromTick(S2,H7.chart)));this.startY=Math.round(this.stx.resolveY(this.stx.pixelFromValueAdjusted(H7,S2,B_)));m2=this.stx.dateFromTick(S2,H7.chart,!0);this.d0=m3.yyyymmddhhmmssmmm(m2);this.tzo0=m2.getTimezoneOffset();this.v0=B_;this.p0=[m3.ChartEngine.crosshairX - this.startX,m3.ChartEngine.crosshairY - this.startY];q2h.N_M(29);this.nodes=[this.p0[0],this.p0[q2h.c0C(0,"1")]];this.pNodes=[this.p0];this.candleWidth=this.stx.layout.candleWidth;this.multiplier=H7.yAxis.multiplier;this.interval=this.stx.layout.interval;this.periodicity=this.stx.layout.periodicity;this.tempSplineTension=this.splineTension;this.splineTension=-1;document.body.style.cursor=H5B;this.penDown=!!"1";return !1;}this.penDown=![];this.splineTension=this.tempSplineTension;document.body.style.cursor="auto";return !0;};m3.Drawing.freeform.prototype.move=function(L6,f7,A5){var Z6,K5;if(!this.penDown){return;}Z6=this.stx.panels[this.panelName];K5=this.stx.dateFromTick(f7,Z6.chart,!"");this.d1=m3.yyyymmddhhmmssmmm(K5);this.tzo1=K5.getTimezoneOffset();this.v1=A5;this.p1=[m3.ChartEngine.crosshairX - this.startX,Z6.yAxis.flipped?this.startY - m3.ChartEngine.crosshairY:m3.ChartEngine.crosshairY - this.startY];if(this.pNodes.length > 2){if(this.p1[0] == this.pNodes[this.pNodes.length - 2][0] && this.p1[0] == this.pNodes[this.pNodes.length - 1][0]){this.pNodes.length--;this.nodes.length-=2;}else if(this.p1[1] == this.pNodes[this.pNodes.length - 2][1] && this.p1[1] == this.pNodes[this.pNodes.length - 1][1]){this.pNodes.length--;q2h.j7J(31);this.nodes.length-=q2h.a$j("2",96);}}this.nodes.push(this.p1[0],this.p1["1" ^ 0]);this.pNodes.push(this.p1);this.render(L6);return !!0;};m3.Drawing.freeform.prototype.intervalRatio=function(c5,H$,U0,p5,s5,t9){var E0,Q5w,q6L,N8_,f2x;E0=0;q2h.T$X();if(c5 == H$){E0=1;}else if(!isNaN(c5) && !isNaN(H$)){q2h.j7J(7);E0=q2h.c0C(c5,H$);}else if(isNaN(c5)){Q5w="d";Q5w+="a";Q5w+="y";if(c5 == "month"){if(H$ == "week"){E0=a_(s5,t9);}else if(H$ == "day"){E0=j1(s5,t9);}else if(!isNaN(H$)){E0=j1(s5,t9) * U3(s5,t9) / H$;}}else if(c5 == "week"){if(H$ == "month"){q2h.j7J(1);var X0w=q2h.c0C(0,1);E0=X0w / a_(s5,t9);}if(H$ == "day"){E0=L_(s5,t9);}else if(!isNaN(H$)){E0=L_(s5,t9) * U3(s5,t9) / H$;}}else if(c5 == Q5w){q6L="m";q6L+="on";q6L+="t";q6L+="h";if(H$ == "week"){q2h.j7J(45);var a46=q2h.a$j(4,8,9,12);E0=("1" | a46) / L_(s5,t9);}else if(H$ == q6L){q2h.j7J(27);var J4l=q2h.a$j(11,10);E0=J4l / j1(s5,t9);}else if(!isNaN(H$)){E0=U3(s5,t9) / H$;}}}else if(!isNaN(c5)){N8_="da";N8_+="y";f2x="m";f2x+="onth";if(H$ == f2x){E0=c5 / (j1(s5,t9) * U3(s5,t9));}else if(H$ == "week"){E0=c5 / (L_(s5,t9) * U3(s5,t9));}else if(H$ == N8_){E0=c5 / U3(s5,t9);}}function U3(B0,N_){if(m3.Market.Symbology.isForexSymbol(N_)){return 1440;}return 390;}function L_(B2,l3){return 5;}function j1(p3,V4){var j2G,e_5,O_l;j2G=1114596948;q2h.N_M(46);e_5=-q2h.c0C("1359803321",0);O_l=2;for(var G0z=1;q2h.S9Y(G0z.toString(),G0z.toString().length,+"66475") !== j2G;G0z++){return 30;}if(q2h.O1W(O_l.toString(),O_l.toString().length,37483) !== e_5){return 89;}}q2h.j7J(7);E0*=q2h.c0C(U0,p5);function a_(Z$,z1){q2h.f3X();return 5;}return E0;};m3.Drawing.freeform.prototype.render=function(F5){var y$,S4,a$,V0,d9,Y7,W0,Q9,C9,f5,c9,E6;y$=this.stx.panels[this.panelName];if(!y$){return;}S4=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,y$.chart.symbol);if(S4 === "0" << 64){return;}a$=this.stx.layout.candleWidth / this.candleWidth;V0=y$.yAxis.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,y$.chart);d9=this.stx.pixelFromTick(this.p0[0],y$.chart);Y7=this.stx.pixelFromValueAdjusted(y$,this.p0[0],this.p0[1]);W0=[];Q9=this.lineWidth;C9=this.getLineColor();f5={pattern:this.pattern,lineWidth:Q9};for(var u0=0;u0 < this.pNodes.length;u0++){c9=S4 * a$ * this.pNodes[u0][0] + d9;q2h.N_M(39);var f1z=q2h.a$j(11,4,11,3);E6=V0 * this.pNodes[u0][f1z];if(y$.yAxis.flipped){q2h.j7J(14);E6=q2h.a$j(Y7,E6);}else {E6+=Y7;}W0.push(c9,E6);}if(!W0.length){return;}if(this.splineTension < 0){this.stx.connectTheDots(W0,C9,this.name,F5,y$,f5);}else {this.stx.plotSpline(W0,this.splineTension,C9,this.name,F5,!0,f5);}};m3.Drawing.freeform.prototype.adjust=function(){var e_,k_,V5,t$,t7,v9,M9,s9;e_=this.stx.panels[this.panelName];if(!e_){return;}q2h.j7J(29);k_=[this.nodes[0],this.nodes[q2h.c0C(0,"1")]];this.pNodes=[k_];this.lowX=this.nodes[0];this.hiX=this.nodes[+"0"];q2h.N_M(5);this.lowY=this.nodes[q2h.c0C(1,"1")];this.hiY=this.nodes[1];for(var c3=2;c3 < this.nodes.length;c3+=2){q2h.j7J(47);V5=[this.nodes[c3],this.nodes[q2h.a$j(c3,"1")]];this.pNodes.push(V5);this.lowX=Math.min(this.lowX,V5[0]);this.hiX=Math.max(this.hiX,V5[0]);this.lowY=Math.max(this.lowY,V5[1]);this.hiY=Math.min(this.hiY,V5["1" ^ 0]);}t$=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,e_.chart.symbol);if(t$ === 0){return;}t7=this.stx.layout.candleWidth / this.candleWidth;v9=e_.yAxis.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,e_.chart);M9=this.stx.pixelFromTick(this.p0[0],e_.chart);s9=this.stx.pixelFromValueAdjusted(e_,this.p0[0],this.p0[1]);this.lowX=this.stx.tickFromPixel(Math.floor(t$ * t7 * this.lowX) + M9,e_.chart);this.hiX=this.stx.tickFromPixel(Math.ceil(t$ * t7 * this.hiX) + M9,e_.chart);if(e_.yAxis.flipped){this.lowY=this.stx.valueFromPixel(s9 - Math.floor(v9 * this.lowY),e_);this.hiY=this.stx.valueFromPixel(s9 - Math.ceil(v9 * this.hiY),e_);}else {this.lowY=this.stx.valueFromPixel(Math.floor(v9 * this.lowY) + s9,e_);this.hiY=this.stx.valueFromPixel(Math.ceil(v9 * this.hiY) + s9,e_);}};m3.Drawing.freeform.prototype.serialize=function(){q2h.f3X();return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,cw:Number(this.candleWidth.toFixed(4)),mlt:Number(this.multiplier.toFixed(4)),d0:this.d0,tzo0:this.tzo0,v0:this.v0,inter:this.interval,pd:this.periodicity,nodes:this.nodes};};m3.Drawing.freeform.prototype.reconstruct=function(o$,x4){this.stx=o$;q2h.T$X();this.color=x4.col;this.panelName=x4.pnl;this.pattern=x4.ptrn;this.lineWidth=x4.lw;this.candleWidth=x4.cw;this.multiplier=x4.mlt;this.d0=x4.d0;this.tzo0=x4.tzo0;this.v0=x4.v0;this.interval=x4.inter;this.periodicity=x4.pd;this.nodes=x4.nodes;this.adjust();};m3.Drawing.callout=function(){this.name="callout";this.arr=[];this.w=0;this.h=0;this.padding=4;this.text="";this.ta=null;this.fontSize=0;this.font={};this.stemEntry="";this.defaultWidth=50;this.defaultHeight=+"10";;};m3.inheritsFrom(m3.Drawing.callout,m3.Drawing.annotation);m3.Drawing.callout.prototype.configs=["color","fillColor","lineWidth","pattern","font"];m3.Drawing.callout.prototype.copyConfig=function(G$){m3.Drawing.copyConfig(this,G$);this.borderColor=this.color;};m3.Drawing.callout.prototype.move=function(D0,g3,Q2){q2h.T$X();if(!this.penDown){return;}this.copyConfig();this.p0=[g3,Q2];this.render(D0);};m3.Drawing.callout.prototype.onChange=function(n7){var j9,N7,P8;j9=this.stx.panels[this.panelName];if(!j9){return;}N7=n7.target;this.w=N7.clientWidth;this.h=N7.clientHeight;q2h.f3X();P8=this.context || this.stx.chart.tempCanvas.context;m3.clearCanvas(P8.canvas,this.stx);this.render(P8);this.edit(P8);};m3.Drawing.callout.prototype.render=function(J0){var a1,J4,w2,L7,L9,w6,R1,o6,H3,S1,r6,z$,N0,r9,k9,h3M,M3o,E6H,y6,v8_,w73,o3G,n4U,a7h,u7u,C9R,Q0i,X5S,F1z,Y25,i4M,L9A,L3I,H9;this.context=J0;a1=this.stx.panels[this.panelName];if(!a1){return;}J4=this.stx.pixelFromTick(this.p0[0],a1.chart);w2=this.stx.pixelFromValueAdjusted(a1,this.p0[+"0"],this.p0[1]);if(isNaN(w2)){return;}J0.font=this.fontString;J0.textBaseline="top";L7=J4;L9=w2;q2h.N_M(28);var K2T=q2h.a$j(338,10,0,17,2);w6=this.w / K2T;q2h.j7J(14);var f42=q2h.a$j(21,19);R1=this.h / f42;if(this.penDown){w6=this.defaultWidth;R1=this.defaultHeight;if(!R1){R1=this.fontSize;}}o6=this.lineWidth;if(!o6){o6=1.1;}H3=this.color;if(H3 == "auto" || m3.isTransparent(H3)){H3=this.stx.defaultColor;}S1=this.borderColor;if(S1 == "auto" || m3.isTransparent(S1)){S1=this.stx.defaultColor;}if(this.highlighted){S1=this.stx.getCanvasColor("stx_highlight_vector");}k9=Math.min(Math.min(w6,R1) / 2,8);if(this.stem){if(this.stem.t){r6=this.stx.pixelFromTick(this.stem.t);N0=this.stx.pixelFromValueAdjusted(a1,this.stem.t,this.stem.v);}else if(this.stem.x){r6=L7;N0=L9;L7+=this.stem.x;L9+=this.stem.y;}h3M=-1801199561;M3o=-1975668760;q2h.N_M(14);E6H=q2h.a$j("2",0);for(var q8D=+"1";q2h.O1W(q8D.toString(),q8D.toString().length,95124) !== h3M;q8D++){y6="";E6H+=2;}if(q2h.S9Y(E6H.toString(),E6H.toString().length,25256) !== M3o){y6="";}if(r6 >= L7 + w6){q2h.j7J(1);z$=q2h.a$j(L7,w6);y6="r";}else if(r6 > L7 - w6 && r6 < L7 + w6){z$=L7;y6="c";}else if(r6 <= L7 - w6){q2h.j7J(14);z$=q2h.a$j(L7,w6);y6="l";}if(N0 >= L9 + R1){v8_=-478116192;w73=223288090;o3G=2;for(var L31=1;q2h.O1W(L31.toString(),L31.toString().length,60354) !== v8_;L31++){q2h.N_M(1);r9=q2h.a$j(L9,R1);y6+="1590" << 64 !== 6145?"b":"j";o3G+=2;}if(q2h.S9Y(o3G.toString(),o3G.toString().length,73834) !== w73){q2h.N_M(14);r9=q2h.c0C(L9,R1);y6/=4911 == 2849?"j":"j";}}else if(N0 > L9 - R1 && N0 < L9 + R1){r9=L9;y6+=(1190,975) == 7450?!!"":("4980" | 16) <= (410.98,722.84)?+"8000" >= (8224,7090)?"O":(!!({}),!1):"m";}else if(N0 <= L9 - R1){q2h.j7J(14);r9=q2h.c0C(L9,R1);y6+=907.48 <= (651.66,9380)?"t":(0x10a1,+"6.04e+3");}this.stemEntry=y6;if(y6 != "cm"){r6=Math.round(r6);z$=Math.round(z$);N0=Math.round(N0);r9=Math.round(r9);}}if(this.highlighted){this.stx.canvasColor("stx_annotation_highlight_bg",J0);}else {if(this.fillColor){J0.fillStyle=this.fillColor;J0.globalAlpha=0.4;}else if(this.stem){J0.fillStyle=this.stx.containerColor;}}J0.strokeStyle=S1;if(J0.setLineDash){J0.setLineDash(m3.borderPatternToArray(o6,this.pattern));J0.lineDashOffset=0;;}if(S1){n4U="l";n4U+="t";a7h="c";a7h+="b";u7u="r";u7u+="b";C9R="r";C9R+="t";J0.beginPath();J0.lineWidth=o6;q2h.j7J(3);J0.moveTo(q2h.c0C(k9,w6,L7),q2h.c0C(L9,R1,q2h.j7J(14)));if(this.stemEntry != C9R){q2h.j7J(1);J0.quadraticCurveTo(q2h.a$j(L7,w6),q2h.c0C(L9,R1,q2h.j7J(14)),q2h.a$j(L7,w6,q2h.N_M(1)),q2h.c0C(L9,k9,R1,q2h.N_M(15)));;}else {J0.lineTo(r6,N0);q2h.N_M(1);J0.lineTo(q2h.c0C(L7,w6),q2h.c0C(L9,k9,R1,q2h.N_M(15)));}q2h.N_M(1);J0.lineTo(q2h.c0C(L7,w6),q2h.c0C(L9,k9,2,q2h.N_M(48)));if(this.stemEntry == "rm"){J0.lineTo(r6,N0);}q2h.j7J(1);J0.lineTo(q2h.c0C(L7,w6),q2h.a$j(2,k9,L9,q2h.N_M(49)));q2h.j7J(1);J0.lineTo(q2h.c0C(L7,w6),q2h.c0C(k9,R1,L9,q2h.N_M(3)));if(this.stemEntry != u7u){q2h.j7J(1);J0.quadraticCurveTo(q2h.c0C(L7,w6),q2h.c0C(L9,R1,q2h.j7J(1)),q2h.a$j(k9,w6,L7,q2h.j7J(3)),q2h.c0C(L9,R1,q2h.j7J(1)));Q0i=-1787821410;X5S=-334914513;F1z=2;for(var a86=1;q2h.O1W(a86.toString(),a86.toString().length,58859) !== Q0i;a86++){;F1z+=2;}if(q2h.O1W(F1z.toString(),F1z.toString().length,43222) !== X5S){;};}else {J0.lineTo(r6,N0);q2h.j7J(3);J0.lineTo(q2h.a$j(k9,w6,L7),q2h.a$j(L9,R1,q2h.j7J(1)));}q2h.j7J(49);J0.lineTo(q2h.a$j(2,k9,L7),q2h.c0C(L9,R1,q2h.j7J(1)));if(this.stemEntry == a7h){J0.lineTo(r6,N0);}q2h.j7J(48);J0.lineTo(q2h.a$j(L7,k9,2),q2h.a$j(L9,R1,q2h.N_M(1)));q2h.j7J(15);J0.lineTo(q2h.a$j(L7,k9,w6),q2h.c0C(L9,R1,q2h.N_M(1)));if(this.stemEntry != "lb"){q2h.N_M(14);J0.quadraticCurveTo(q2h.c0C(L7,w6),q2h.a$j(L9,R1,q2h.j7J(1)),q2h.a$j(L7,w6,q2h.j7J(14)),q2h.a$j(k9,R1,L9,q2h.j7J(3)));Y25=687739654;i4M=+"324565001";L9A=2;for(var s6r=+"1";q2h.O1W(s6r.toString(),s6r.toString().length,21916) !== Y25;s6r++){;L9A+=2;}if(q2h.O1W(L9A.toString(),L9A.toString().length,39618) !== i4M){;}}else {J0.lineTo(r6,N0);q2h.j7J(14);J0.lineTo(q2h.a$j(L7,w6),q2h.c0C(k9,R1,L9,q2h.N_M(3)));}q2h.N_M(14);J0.lineTo(q2h.c0C(L7,w6),q2h.a$j(2,k9,L9,q2h.N_M(49)));if(this.stemEntry == "lm"){J0.lineTo(r6,N0);}q2h.j7J(14);J0.lineTo(q2h.a$j(L7,w6),q2h.a$j(L9,k9,2,q2h.j7J(48)));q2h.j7J(14);J0.lineTo(q2h.c0C(L7,w6),q2h.c0C(L9,k9,R1,q2h.N_M(15)));if(this.stemEntry != n4U){q2h.j7J(14);J0.quadraticCurveTo(q2h.a$j(L7,w6),q2h.a$j(L9,R1,q2h.j7J(14)),q2h.a$j(L7,k9,w6,q2h.j7J(15)),q2h.c0C(L9,R1,q2h.N_M(14)));;}else {J0.lineTo(r6,N0);q2h.j7J(15);J0.lineTo(q2h.c0C(L7,k9,w6),q2h.c0C(L9,R1,q2h.N_M(14)));}q2h.N_M(48);J0.lineTo(q2h.a$j(L7,k9,2),q2h.a$j(L9,R1,q2h.N_M(14)));if(this.stemEntry == "ct"){J0.lineTo(r6,N0);}q2h.j7J(50);J0.lineTo(q2h.c0C("2",L7,k9),q2h.c0C(L9,R1,q2h.j7J(14)));q2h.N_M(3);J0.lineTo(q2h.c0C(k9,w6,L7),q2h.a$j(L9,R1,q2h.j7J(14)));J0.fill();J0.globalAlpha=1;if(this.pattern != "none"){J0.stroke();}}q2h.T$X();if(this.highlighted){L3I="st";L3I+="x_annotation_highl";L3I+="ight";this.stx.canvasColor(L3I,J0);}else {J0.fillStyle=H3;}L9+=this.padding;if(!this.ta){for(var H0=+"0";H0 < this.arr.length;H0++){J0.fillText(this.arr[H0],L7 - w6 + this.padding,L9 - R1);L9+=this.fontSize;}}J0.textBaseline="alphabetic";if(this.highlighted && !this.noHandles){H9=this.highlighted == "p0"?!!({}):!"1";this.littleCircle(J0,r6,N0,H9);};};m3.Drawing.callout.prototype.click=function(S_,W4,g5){var L5;if(this.stx.overXAxis || this.stx.overYAxis){return;}L5=this.stx.panels[this.panelName];this.copyConfig();this.setPoint(0,W4,g5,L5.chart);if(!this.penDown){this.stem={d:this.d0,v:this.v0};this.penDown=!0;this.adjust();return !!0;}this.adjust();q2h.T$X();this.edit(S_);this.penDown=!!0;return !!"";};m3.Drawing.callout.prototype.reposition=function(w$,J1,v3,k2){var R9,J$,J7,O5F;if(!J1){return;}R9=this.stx.panels[this.panelName];J$=J1.tick - v3;J7=J1.value - k2;if(J1.stem){O5F="d";O5F+="ra";O5F+="g";if(J1.action == O5F){this.stem={d:this.stx.dateFromTick(v3,R9.chart,!0),v:k2};}else if(J1.action == "move"){this.setPoint(0,J1.p0[0] - J$,J1.p0[1] - J7,R9.chart);this.stem={d:this.stx.dateFromTick(this.stx.tickFromDate(J1.stem.d,R9.chart) - J$),v:J1.stem.v - J7};}this.adjust();}else {this.setPoint(0,J1.p0[0] - J$,J1.p0[1] - J7,R9.chart);}this.render(w$);};m3.Drawing.callout.prototype.lineIntersection=function(F4,n9,q4,y4){var f4,P0,r8,b_,E8,R3,X1,L0,l5,G5,s6,g6;f4=this.stx.panels[this.panelName];q2h.f3X();P0=this.stem;r8=this.p0;b_=this.stx;if(!r8 || !P0 || !f4){return !({});}E8=P0.t || this.stx.tickFromDate(P0.d,f4.chart);R3={x0:r8["0" << 32],x1:E8,y0:r8[+"1"],y1:P0.v};X1=m3.convertBoxToPixels(b_,this.panelName,R3);L0=X1.x0;l5=X1.y0;G5=X1.x1;s6=X1.y1;if(typeof this.stemEntry == "string"){if(this.stemEntry.indexOf("l") > -("1" - 0)){L0-=this.w / +"2";}else if(this.stemEntry.indexOf("r") > -("1" ^ 0)){q2h.N_M(27);var u4A=q2h.a$j(12,10);L0+=this.w / u4A;}if(this.stemEntry.indexOf("t") > -("1" * 1)){q2h.N_M(19);var o2j=q2h.a$j(8,10,6,478);l5-=this.h / o2j;}else if(this.stemEntry.indexOf("b") > -1){l5+=this.h / +"2";}}g6=m3.convertBoxToPixels(b_,this.panelName,q4);return m3.boxIntersects(g6.x0,g6.y0,g6.x1,g6.y1,L0,l5,G5,s6,y4);};m3.Drawing.callout.prototype.intersected=function(I5,x6,Z8){var y5,g3U,K7,Y0,U7,r2,P4,k93,a5Y;y5=this.stx.panels[this.panelName];if(!this.p0){return null;}if(this.pointIntersection(this.stem.t,this.stem.v,Z8)){g3U="p";g3U+="0";this.highlighted=g3U;return {action:"drag",stem:!![]};}q2h.N_M(45);var l23=q2h.a$j(1,7,1,10);K7=this.stx.pixelFromTick(this.p0[0],y5.chart) - this.w / l23;q2h.j7J(51);var O9X=q2h.a$j(7,3,5,3);q2h.j7J(52);var Y2o=q2h.c0C(9,15,4);Y0=this.stx.pixelFromValueAdjusted(y5,this.p0[0],this.p0[O9X]) - this.h / Y2o;U7=K7 + this.w;r2=Y0 + this.h;if(this.stem && this.stem.x){K7+=this.stem.x;U7+=this.stem.x;Y0+=this.stem.y;r2+=this.stem.y;}P4=this.stx.pixelFromTick(I5,y5.chart);k93=this.stx.pixelFromValueAdjusted(y5,I5,x6);if(P4 + Z8.r >= K7 && P4 - Z8.r <= U7 && k93 + Z8.r >= Y0 && k93 - Z8.r <= r2){this.highlighted=!!({});return {p0:m3.clone(this.p0),tick:I5,value:x6};}a5Y=this.lineIntersection(I5,x6,Z8,"segment");if(a5Y){this.highlighted=!"";return {action:"move",stem:m3.clone(this.stem),p0:m3.clone(this.p0),tick:I5,value:x6};}return null;};m3.Drawing.fibonacci=function(){var U7M;U7M="f";U7M+="ibonacci";this.name="fibonacci";this.configurator=U7M;};m3.inheritsFrom(m3.Drawing.fibonacci,m3.Drawing.BaseTwoPoint);m3.Drawing.fibonacci.mapping={trend:(356.29,519.05) <= "5104" * 1?"t":"7515" << 64 <= "328.86" * 1?"3.28e+3" - 0:6.80e+3,color:(1900,9454) >= (+"6660",+"4790")?"c":32.02 > (481.19,9576)?("890.68" * 1,!!"1"):("98.06" - 0,210.23) >= (7039,"517.36" * 1)?!!"":![],parameters:41.14 != +"4162"?"p":(0x17fb,0xb3b),pattern:"pt",opacity:4739 !== 283?"o":482.67,lineWidth:"lw",level:(+"2392",9934) >= 4100?"l":(!"",0x1dff),extendLeft:810.06 < "77.96" * 1?(160.76,9.84e+3):5289 === (6815,"3644" - 0)?0x2e4:"e",printLevels:"pl",printValues:"pv",timezone:"tz",display:"d"};q2h.N_M(14);m3.Drawing.fibonacci.prototype.recommendedLevels=[-0.618,-q2h.a$j("0.382",0),0,0.382,0.5,0.618,1,1.382,1.618];m3.Drawing.fibonacci.prototype.configs=["color","fillColor","lineWidth","pattern","parameters"];m3.Drawing.fibonacci.prototype.initializeSettings=function(I29){var k0D,j_w;k0D=this.recommendedLevels;if(k0D && !I29.currentVectorParameters.fibonacci.fibsAlreadySet){j_w=I29.currentVectorParameters.fibonacci.fibs;for(var E3b=0;E3b < j_w.length;E3b++){delete j_w[E3b].display;for(var Z$h="0" >> 0;Z$h < k0D.length;Z$h++){if(j_w[E3b].level == k0D[Z$h]){j_w[E3b].display=!!"1";}}}}};m3.Drawing.fibonacci.prototype.setOuter=function(){var i9W,g_X,P8s,T5i,w$_,X14,G7h,o2N,I8f,C1p,r1P,o_U,a3j,C3W;i9W=this.stx;g_X=i9W.panels[this.panelName];if(!g_X){return;}P8s=Math.max(this.p0[1],this.p1[1]);T5i=Math.min(this.p0[1],this.p1["1" - 0]);q2h.N_M(14);w$_=q2h.a$j(P8s,T5i);q2h.f3X();this.outer={p0:m3.clone(this.p0),p1:m3.clone(this.p1)};X14=i9W.pixelFromValueAdjusted(g_X,this.p0[0],this.p0[1]);G7h=i9W.pixelFromValueAdjusted(g_X,this.p1[0],this.p1[1]);o2N=i9W.pixelFromTick(this.p0[0],g_X.chart);I8f=i9W.pixelFromTick(this.p1[0],g_X.chart);C1p=+"0";r1P=+"1";for(var D0v=0;D0v < this.parameters.fibs.length;D0v++){o_U=this.parameters.fibs[D0v];if(o_U.level >= C1p && o_U.level <= r1P || !o_U.display)continue;a3j=i9W.pixelFromValueAdjusted(g_X,this.p0[0],G7h < X14?P8s - w$_ * o_U.level:T5i + w$_ * o_U.level);C3W=m3.xIntersection({x0:o2N,x1:I8f,y0:X14,y1:G7h},a3j);if(o_U.level < C1p){C1p=o_U.level;this.outer.p1[1]=i9W.valueFromPixel(a3j,g_X);this.outer.p1[0]=i9W.tickFromPixel(C3W,g_X.chart);}else if(o_U.level > r1P){r1P=o_U.level;this.outer.p0[1]=i9W.valueFromPixel(a3j,g_X);this.outer.p0[0]=i9W.tickFromPixel(C3W,g_X.chart);}}};m3.Drawing.fibonacci.prototype.click=function(f0Q,I9I,R9_){var W5i;W5i=this.stx.panels[this.panelName];if(!W5i){return;}q2h.f3X();this.copyConfig();if(!this.penDown){this.setPoint(0,I9I,R9_,W5i.chart);this.penDown=!!({});return !({});}if(this.accidentalClick(I9I,R9_)){return this.dragToDraw;}this.setPoint(1,I9I,R9_,W5i.chart);this.setOuter();this.parameters=m3.clone(this.parameters);this.penDown=!!0;return !!"1";;};m3.Drawing.fibonacci.prototype.render=function(m6H){var a6x,j4v,i5D,T$D,F92,V1g,t2X,O7M,m2N,E8T,B3a,b31,Q6c,p8u,q72,s1c,V$K,b3k,o35,n5h,e81,d1z,b67,N1I,O$r,p52,Y95,P0G,Z_1,z3i,C0e,H9z,O6Z,T6K,e74,X7K,B1f,r3N,M1Q,r9V,f4K;a6x="161";a6x+=".8";a6x+="%";j4v=this.stx.panels[this.panelName];if(!j4v){return;}i5D=j4v.yAxis;if(!this.p1){return;}T$D=Math.max(this.p0[1],this.p1[1]);F92=Math.min(this.p0[+"1"],this.p1[1]);V1g=i5D.flipped?F92 - T$D:T$D - F92;t2X=this.stx.pixelFromTick(this.p0[0],j4v.chart);O7M=this.stx.pixelFromTick(this.p1[0],j4v.chart);m2N=this.stx.pixelFromValueAdjusted(j4v,this.p0[0],this.p0[1]);E8T=this.stx.pixelFromValueAdjusted(j4v,this.p1[0],this.p1[1]);B3a=Math.min(E8T,m2N);b31=Math.max(E8T,m2N);q2h.j7J(14);Q6c=q2h.a$j(b31,B3a);q2h.N_M(53);p8u=q2h.c0C(0,E8T,m2N,t2X,O7M);q72={color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=q72;}s1c=this.getLineColor(this.parameters.trend.color);m6H.textBaseline="middle";this.stx.canvasFont("stx_yaxis",m6H);q2h.N_M(3);var H19=q2h.a$j(0,4,6);V$K=m6H.measureText(a6x).width + H19;b3k=Number.MAX_VALUE;o35=Number.MAX_VALUE;q2h.N_M(54);var G3L=q2h.c0C(16,18,4,1,4);n5h=Number.MAX_VALUE * G3L;q2h.j7J(3);var Y4M=q2h.a$j(28,12,15);e81=Number.MAX_VALUE * Y4M;q2h.f3X();d1z=this.color;if(d1z == "auto" || m3.isTransparent(d1z)){d1z=this.stx.defaultColor;}this.rays=[];for(var e3r=0;e3r < this.parameters.fibs.length;e3r++){b67="un";b67+="defined";N1I="s";N1I+="e";N1I+="gmen";N1I+="t";O$r="a";O$r+="uto";p52="au";p52+="t";p52+="o";m6H.textAlign="left";m6H.fillStyle=d1z;Y95=this.parameters.fibs[e3r];if(!Y95.display)continue;P0G=this.stx.pixelFromValueAdjusted(j4v,this.p0[0],E8T < m2N?T$D - V1g * Y95.level:F92 + V1g * Y95.level);Z_1=m3.xIntersection({x0:t2X,x1:O7M,y0:m2N,y1:E8T},P0G);z3i=this.parameters.extendLeft?0:Z_1;C0e=j4v.left + j4v.width;if(this.parameters.printLevels){q2h.j7J(55);var h8u=q2h.c0C(2,60,0,12);H9z=Math.round(Y95.level * +"1000") / h8u + "%";C0e-=V$K;if(this.parameters.printValues){m6H.fillStyle=d1z;this.stx.canvasFont("stx_yaxis",m6H);;}if(C0e < z3i){m6H.textAlign="right";}m6H.fillText(H9z,C0e,P0G);if(C0e < z3i){C0e+=5;}else {C0e-=5;}}if(this.parameters.printValues){if(Z_1 < j4v.width){O6Z=this.stx.transformedPriceFromPixel(P0G,j4v);if(i5D.priceFormatter){O6Z=i5D.priceFormatter(this.stx,j4v,O6Z);}else {O6Z=this.stx.formatYAxisPrice(O6Z,j4v);}if(m6H == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(j4v,O6Z,P0G,d1z,null,m6H);if(m6H == this.stx.chart.context){this.stx.startClip(j4v.name);}}}T6K=Y95.color;if(T6K == p52 || m3.isTransparent(T6K)){T6K=this.color;}if(T6K == "auto" || m3.isTransparent(T6K)){T6K=this.stx.defaultColor;}e74=Y95.color;if(e74 == "auto" || m3.isTransparent(e74)){e74=this.fillColor;}if(e74 == O$r || m3.isTransparent(e74)){e74=this.stx.defaultColor;}m6H.fillStyle=e74;X7K=m3.clone(Y95.parameters);if(this.highlighted){X7K.opacity=1;}this.stx.plotLine(z3i,C0e,P0G,P0G,this.highlighted?s1c:T6K,N1I,m6H,j4v,X7K);this.rays.push([[z3i,P0G],[C0e,P0G]]);m6H.globalAlpha=0.05;m6H.beginPath();m6H.moveTo(C0e,P0G);m6H.lineTo(z3i,P0G);if(z3i){m6H.lineTo(O7M,E8T);}else {m6H.lineTo(z3i,E8T);}m6H.lineTo(C0e,E8T);if(typeof e74 != b67){m6H.fill();}m6H.globalAlpha=1;if(P0G < o35){b3k=Z_1;o35=P0G;}if(P0G > e81){n5h=Z_1;e81=P0G;}}for(var E9C=0;E9C <= 1;E9C++){B1f=p8u?b31 - Q6c * E9C:B3a + Q6c * E9C;B1f=Math.round(B1f);if(B1f < o35){b3k=m3.xIntersection({x0:t2X,x1:O7M,y0:m2N,y1:E8T},B1f);o35=B1f;}if(B1f > e81){n5h=m3.xIntersection({x0:t2X,x1:O7M,y0:m2N,y1:E8T},B1f);e81=B1f;}}r3N=m3.clone(this.parameters.trend.parameters);if(this.highlighted){r3N.opacity=1;}this.stx.plotLine(b3k,n5h,o35,e81,s1c,"segment",m6H,j4v,r3N);if(this.highlighted){M1Q="p";M1Q+="1";r9V=this.highlighted == "p0"?!"":!!0;f4K=this.highlighted == M1Q?!!"1":![];this.littleCircle(m6H,t2X,m2N,r9V);this.littleCircle(m6H,O7M,E8T,f4K);}};m3.Drawing.fibonacci.prototype.reposition=function(j3Y,B_r,k_p,F0I){var l$L,c$T,o4X;if(!B_r){return;}q2h.N_M(14);l$L=-q2h.c0C("1127652126",0);c$T=1278312784;o4X=2;for(var O$s=1;q2h.S9Y(O$s.toString(),O$s.toString().length,"54347" ^ 0) !== l$L;O$s++){m3.Drawing.BaseTwoPoint.prototype.reposition.apply(this,arguments);this.adjust();q2h.N_M(5);o4X+=q2h.a$j(1,"2");}q2h.f3X();if(q2h.O1W(o4X.toString(),o4X.toString().length,+"84820") !== c$T){m3.Drawing.BaseTwoPoint.prototype.reposition.apply(this,arguments);this.adjust();}};m3.Drawing.fibonacci.prototype.intersected=function(n3J,T$h,c5N){var J93,o0K,Y7C,V4f,K3s,u3g,v4b;J93="s";J93+="egme";J93+="nt";o0K=this.p0;Y7C=this.p1;if(!o0K || !Y7C){return null;}V4f={0:o0K,1:Y7C};for(var C7E in V4f){if(this.pointIntersection(V4f[C7E][0],V4f[C7E][+"1"],c5N)){q2h.j7J(1);this.highlighted=q2h.c0C(805.08 === (132,3074)?(6.69e+3,+"982"):(3870,4862) > 4890?(9318,989.6) < (889.8,4539)?(9.16e+3,!({})):"h":"p",C7E);return {action:"drag",point:"p" + C7E};}}q2h.T$X();K3s=this.outer;u3g=this.rays;v4b=K3s && this.lineIntersection(n3J,T$h,c5N,J93,K3s.p0,K3s.p1);if(!v4b){for(var X3N=0;X3N < u3g.length;X3N++){if(this.lineIntersection(n3J,T$h,c5N,"ray",u3g[X3N][0],u3g[X3N][1],!!({}))){v4b=!0;break;}}}if(v4b){this.highlighted=!0;return {action:"move",p0:m3.clone(o0K),p1:m3.clone(Y7C),tick:n3J,value:T$h};}return null;};m3.Drawing.fibonacci.prototype.reconstruct=function(L8j,Q_P){Q_P=m3.replaceFields(Q_P,m3.reverseObject(m3.Drawing.fibonacci.mapping));this.stx=L8j;this.parameters=Q_P.parameters;if(!this.parameters){this.parameters=m3.clone(this.stx.currentVectorParameters.fibonacci);}this.color=Q_P.col;this.fillColor=Q_P.fc;this.panelName=Q_P.pnl;this.d0=Q_P.d0;this.d1=Q_P.d1;this.d2=Q_P.d2;this.tzo0=Q_P.tzo0;this.tzo1=Q_P.tzo1;this.tzo2=Q_P.tzo2;this.v0=Q_P.v0;this.v1=Q_P.v1;this.v2=Q_P.v2;q2h.T$X();this.adjust();};m3.Drawing.fibonacci.prototype.adjust=function(){q2h.T$X();var C2I;C2I=this.stx.panels[this.panelName];if(!C2I){return;}this.setPoint(0,this.d0,this.v0,C2I.chart);this.setPoint(+"1",this.d1,this.v1,C2I.chart);this.setOuter();};m3.Drawing.fibonacci.prototype.serialize=function(){var K1k;q2h.f3X();K1k={name:this.name,parameters:this.parameters,pnl:this.panelName,col:this.color,fc:this.fillColor,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};return m3.replaceFields(K1k,m3.Drawing.fibonacci.mapping);};m3.Drawing.retracement=function(){var a_S;q2h.T$X();a_S="ret";a_S+="racement";this.name=a_S;};m3.inheritsFrom(m3.Drawing.retracement,m3.Drawing.fibonacci);m3.Drawing.fibprojection=function(){q2h.f3X();this.name="fibprojection";this.dragToDraw=!!0;this.p2=null;};m3.inheritsFrom(m3.Drawing.fibprojection,m3.Drawing.fibonacci);m3.Drawing.fibprojection.prototype.recommendedLevels=[0,0.618,1,1.272,1.618,2.618,+"4.236"];m3.Drawing.fibprojection.prototype.click=function(e6Z,S9s,E5r){var Z3z;Z3z=this.stx.panels[this.panelName];if(!Z3z){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,S9s,E5r,Z3z.chart);this.penDown=!!"1";return ![];}if(this.accidentalClick(S9s,E5r)){this.stx.undo();return !!({});}if(this.p2 !== null){this.setPoint(2,this.p2[0],this.p2[1],Z3z.chart);this.parameters=m3.clone(this.parameters);return !![];}this.setPoint(1,S9s,E5r,Z3z.chart);this.p2=[this.p1[0],this.p1[1]];return ![];;};m3.Drawing.fibprojection.prototype.render=function(D0r){var z9C,q3f,O8U,M0T,O09,S0b,b66,Q5P,Q9x,I9N,A0g,f9D,X7S,i4x,t9N,L2K,I1J,m6_,i75,Y2n,C$g,e2E,o06,H5h,M35,l8c,S5I,Q3M,u7f,l9b,l6w,a4o,R7M,F3L;z9C="1";z9C+="6";q2h.f3X();z9C+="1.8%";q3f=this.stx.panels[this.panelName];if(!q3f){return;}O8U=q3f.yAxis;if(!this.p1){return;}q2h.j7J(18);var k_k=q2h.a$j(27,10,20,14);q2h.j7J(21);var N6N=q2h.a$j(261,20,13);M0T=this.p1["1" * k_k] - this.p0[N6N];O09=this.stx.pixelFromTick(this.p0[0],q3f.chart);S0b=-65720527;b66=-2019386272;Q5P=+"2";for(var T1b=1;q2h.O1W(T1b.toString(),T1b.toString().length,72157) !== S0b;T1b++){Q9x=this.stx.pixelFromTick(this.p1[6],q3f.chart);Q5P+=2;}if(q2h.O1W(Q5P.toString(),Q5P.toString().length,+"48866") !== b66){Q9x=this.stx.pixelFromTick(this.p1[3],q3f.chart);}Q9x=this.stx.pixelFromTick(this.p1[0],q3f.chart);I9N=this.stx.pixelFromValueAdjusted(q3f,this.p0[0],this.p0[1]);A0g=this.stx.pixelFromValueAdjusted(q3f,this.p1[0],this.p1[1]);f9D=null;X7S=null;if(this.p2){f9D=this.stx.pixelFromTick(this.p2[0],q3f.chart);X7S=this.stx.pixelFromValueAdjusted(q3f,this.p2[+"0"],this.p2[1]);}i4x={color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=i4x;}t9N=this.getLineColor(this.parameters.trend.color);D0r.textBaseline="middle";this.stx.canvasFont("stx_yaxis",D0r);q2h.j7J(15);var G6T=q2h.a$j(6,15,11);L2K=D0r.measureText(z9C).width + G6T;I1J=this.color;if(I1J == "auto" || m3.isTransparent(I1J)){I1J=this.stx.defaultColor;}if(this.p2){this.rays=[];for(var E6Z=0;E6Z < this.parameters.fibs.length;E6Z++){m6_="se";m6_+="gme";m6_+="nt";D0r.textAlign="left";D0r.fillStyle=I1J;i75=this.parameters.fibs[E6Z];if(!i75.display)continue;Y2n=this.stx.pixelFromValueAdjusted(q3f,this.p2[0],this.p2[1] + M0T * i75.level);C$g=m3.xIntersection({x0:O09,x1:Q9x,y0:I9N,y1:A0g},Y2n);e2E=this.parameters.extendLeft?0:O09;o06=q3f.left + q3f.width;if(this.parameters.printLevels){q2h.N_M(56);var G10=q2h.a$j(11,1,1,20);q2h.N_M(57);var O3d=q2h.c0C(95500,20,10,4,480);q2h.N_M(1);var A2j=q2h.a$j(3,29);H5h=Math.round(i75.level * +"1000") / G10 + (("7517" ^ 0) > (+"730",O3d)?"%":(![],"6.89e+3" << A2j));o06-=L2K;if(this.parameters.printValues){M35="stx_y";M35+="a";M35+="xis";D0r.fillStyle=I1J;this.stx.canvasFont(M35,D0r);;}if(o06 < e2E){D0r.textAlign="right";}D0r.fillText(H5h,o06,Y2n);if(o06 < e2E){o06+=5;}else {o06-=5;}}if(this.parameters.printValues){if(C$g < q3f.width){l8c=this.stx.transformedPriceFromPixel(Y2n,q3f);if(O8U.priceFormatter){l8c=O8U.priceFormatter(this.stx,q3f,l8c);}else {l8c=this.stx.formatYAxisPrice(l8c,q3f);}if(D0r == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(q3f,l8c,Y2n,I1J,null,D0r);if(D0r == this.stx.chart.context){this.stx.startClip(q3f.name);}}}S5I=i75.color;if(S5I == "auto" || m3.isTransparent(S5I)){S5I=this.color;}if(S5I == "auto" || m3.isTransparent(S5I)){S5I=this.stx.defaultColor;}Q3M=i75.color;if(Q3M == "auto" || m3.isTransparent(Q3M)){Q3M=this.fillColor;}if(Q3M == "auto" || m3.isTransparent(Q3M)){Q3M=this.stx.defaultColor;}D0r.fillStyle=Q3M;u7f=m3.clone(i75.parameters);if(this.highlighted){u7f.opacity=1;}this.stx.plotLine(e2E,o06,Y2n,Y2n,this.highlighted?t9N:S5I,m6_,D0r,q3f,u7f);this.rays.push([[e2E,Y2n],[o06,Y2n]]);q2h.N_M(5);D0r.globalAlpha=q2h.a$j(1,"0.05");D0r.beginPath();D0r.moveTo(o06,Y2n);D0r.lineTo(e2E,Y2n);if(e2E){D0r.lineTo(O09,X7S);}else {D0r.lineTo(e2E,X7S);}D0r.lineTo(o06,X7S);if(typeof Q3M != "undefined"){D0r.fill();}D0r.globalAlpha=1;}}l9b=m3.clone(this.parameters.trend.parameters);if(this.highlighted){l9b.opacity=1;}this.stx.plotLine(O09,Q9x,I9N,A0g,t9N,"segment",D0r,q3f,l9b);if(this.p2){this.stx.plotLine(Q9x,f9D,A0g,X7S,t9N,"segment",D0r,q3f,l9b);}if(this.highlighted){l6w="p";l6w+="2";a4o=this.highlighted == "p0"?!"":!1;R7M=this.highlighted == "p1"?!![]:!({});F3L=this.highlighted == l6w?!!({}):![];this.littleCircle(D0r,O09,I9N,a4o);this.littleCircle(D0r,Q9x,A0g,R7M);this.littleCircle(D0r,f9D,X7S,F3L);}};m3.Drawing.fibprojection.prototype.move=function(F9h,K67,u2O){if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[K67,u2O];}else {this.p2=[K67,u2O];}this.render(F9h);};m3.Drawing.fibprojection.prototype.reposition=function(U5r,D4m,T0W,y6o){var o2b,G6c,b6q;if(!D4m){return;}q2h.f3X();o2b=this.stx.panels[this.panelName];G6c=D4m.tick - T0W;b6q=D4m.value - y6o;if(D4m.action == "move"){this.setPoint(0,D4m.p0[+"0"] - G6c,D4m.p0[1] - b6q,o2b.chart);this.setPoint(1,D4m.p1[0] - G6c,D4m.p1[1] - b6q,o2b.chart);this.setPoint(+"2",D4m.p2[0] - G6c,D4m.p2[+"1"] - b6q,o2b.chart);this.render(U5r);}else if(D4m.action == "drag"){this[D4m.point]=[T0W,y6o];this.setPoint(0,this.p0[0],this.p0[1],o2b.chart);this.setPoint(1,this.p1[0],this.p1[1],o2b.chart);q2h.j7J(46);this.setPoint(q2h.c0C("2",0),this.p2[0],this.p2[1],o2b.chart);this.render(U5r);}};m3.Drawing.fibprojection.prototype.intersected=function(c9b,A$m,A2f){var q0Z,R0G,m3j,V5a,h42,R63,C3v,G11,E0Q,Z4$,W46;q0Z="segme";q0Z+="nt";R0G=this.p0;m3j=this.p1;V5a=this.p2;h42=-1491408712;R63=125374011;C3v=2;for(var G0u=1;q2h.S9Y(G0u.toString(),G0u.toString().length,50528) !== h42;G0u++){if(~R0G && -m3j && ~V5a){return 1;}C3v+=2;}if(q2h.S9Y(C3v.toString(),C3v.toString().length,98777) !== R63){if(!R0G || !m3j || !V5a){return null;}}G11={0:R0G,1:m3j,2:V5a};q2h.f3X();for(var y9i in G11){if(this.pointIntersection(G11[y9i][+"0"],G11[y9i][1],A2f)){q2h.N_M(1);this.highlighted=q2h.c0C((3971,300.49) == 969.29?(!![],!!0):"p",y9i);return {action:"drag",point:"p" + y9i};}}E0Q=this.rays;Z4$=this.lineIntersection(c9b,A$m,A2f,"segment",R0G,m3j) || this.lineIntersection(c9b,A$m,A2f,q0Z,m3j,V5a);if(!Z4$){for(var z35=+"0";z35 < E0Q.length;z35++){W46="r";W46+="a";W46+="y";if(this.lineIntersection(c9b,A$m,A2f,W46,E0Q[z35][0],E0Q[z35][1],!0)){Z4$=!!"1";break;}}}if(Z4$){this.highlighted=!![];return {action:"move",p0:m3.clone(R0G),p1:m3.clone(m3j),p2:m3.clone(V5a),tick:c9b,value:A$m};}return null;};m3.Drawing.fibprojection.prototype.adjust=function(){var m70;m70=this.stx.panels[this.panelName];if(!m70){return;}q2h.f3X();q2h.j7J(4);this.setPoint(q2h.a$j("0",0),this.d0,this.v0,m70.chart);q2h.N_M(31);this.setPoint(q2h.c0C("1",96),this.d1,this.v1,m70.chart);this.setPoint(2,this.d2,this.v2,m70.chart);};m3.Drawing.fibarc=function(){this.name="fibarc";q2h.f3X();;};m3.inheritsFrom(m3.Drawing.fibarc,m3.Drawing.fibonacci);m3.Drawing.fibarc.prototype.recommendedLevels=[0.382,0.5,0.618,1];m3.Drawing.fibarc.prototype.setOuter=function(){var Q4r,x$c,l3e,c1p,L2O,r_B,Q8y;Q4r=this.stx.panels[this.panelName];if(!Q4r){return;}q2h.T$X();this.outer={p0:m3.clone(this.p0),p1:m3.clone(this.p1)};x$c=this.stx.pixelFromValueAdjusted(Q4r,this.p0[0],this.p0[+"1"]);l3e=this.stx.pixelFromValueAdjusted(Q4r,this.p1[0],this.p1[1]);c1p=this.stx.pixelFromTick(this.p0[0],Q4r.chart);L2O=this.stx.pixelFromTick(this.p1[0],Q4r.chart);q2h.j7J(58);r_B=q2h.c0C(l3e,x$c,0,"2");Q8y=m3.xIntersection({x0:c1p,x1:L2O,y0:x$c,y1:l3e},r_B);this.outer.p0[1]=this.stx.valueFromPixel(r_B,Q4r);this.outer.p0[+"0"]=this.stx.tickFromPixel(Q8y,Q4r.chart);};m3.Drawing.fibarc.prototype.intersected=function(L$b,E3I,K5$){var i5B,H29,P3v,x$N,D_b,G_r,c93,u2q,k_e,D78,P1v;i5B="s";i5B+="e";i5B+="gme";i5B+="nt";H29=this.stx.panels[this.panelName];if(!H29){return;}P3v=this.p0;x$N=this.p1;D_b=this.outer;if(!P3v || !x$N){return null;}G_r={0:P3v,1:x$N};for(var y0u in G_r){if(this.pointIntersection(G_r[y0u][0],G_r[y0u][1],K5$)){q2h.j7J(1);this.highlighted=q2h.c0C((7264,230.38) == (607.62,227.57)?(211.1,1960) < (340.6,"4890" * 1)?8680 < +"2907"?(899.13,0xb69):"X":("N",0x1515):"p",y0u);return {action:"drag",point:"p" + y0u};}}if(this.lineIntersection(L$b,E3I,K5$,i5B,D_b.p0,D_b.p1)){this.highlighted=!"";return {action:"move",p0:m3.clone(P3v),p1:m3.clone(x$N),tick:L$b,value:E3I};}c93={x0:P3v[0],x1:x$N[0],y0:P3v[1],y1:x$N[1]};u2q=m3.convertBoxToPixels(this.stx,this.panelName,c93);k_e={x:Math.abs(Math.sqrt(2) * (u2q.x1 - u2q.x0)),y:Math.abs(Math.sqrt(+"2") * (u2q.y1 - u2q.y0))};D78=this.stx.pixelFromTick(L$b,H29.chart);P1v=this.stx.pixelFromValueAdjusted(H29,L$b,E3I);if(D78 + K5$.r < u2q.x1 - k_e.x || D78 - K5$.r > u2q.x1 + k_e.x){return null;}if(P1v + K5$.r < u2q.y1 - k_e.y || P1v - K5$.r > u2q.y1 + k_e.y){return null;}if(u2q.y0 < u2q.y1 && P1v - K5$.r > u2q.y1){return null;}if(u2q.y0 > u2q.y1 && P1v + K5$.r < u2q.y1){return null;}this.highlighted=!![];q2h.f3X();return {action:"move",p0:m3.clone(this.p0),p1:m3.clone(this.p1),tick:L$b,value:E3I};};m3.Drawing.fibarc.prototype.render=function(l9c){q2h.f3X();var a5i,P3O,u1A,r_a,g7U,v$d,s0p,L6A,U_k,k12,h__,h1t,t2d,l2$,J6i,d4c,L0q,A7X,T4l,k5T,b99,K4I,J6n,R9O,C_c,i6e,n7x;a5i="lef";a5i+="t";P3O=this.stx.panels[this.panelName];if(!P3O){return;}u1A=P3O.yAxis;if(!this.p1){return;}r_a=this.stx.pixelFromTick(this.p0[0],P3O.chart);g7U=this.stx.pixelFromTick(this.p1[+"0"],P3O.chart);v$d=this.stx.pixelFromValueAdjusted(P3O,this.p0[0],this.p0[+"1"]);s0p=this.stx.pixelFromValueAdjusted(P3O,this.p1[+"0"],this.p1[1]);q2h.j7J(59);L6A=q2h.a$j(s0p,v$d);q2h.j7J(60);U_k=Math.abs(q2h.a$j(g7U,r_a,v$d,s0p));k12=this.getLineColor(this.parameters.trend.color);l9c.textBaseline="middle";this.stx.canvasFont("stx_yaxis",l9c);h__=this.color;if(h__ == "auto" || m3.isTransparent(h__)){h__=this.stx.defaultColor;}for(var D5G=0;D5G < this.parameters.fibs.length;D5G++){h1t="a";h1t+="u";h1t+="to";l9c.fillStyle=h__;t2d=this.parameters.fibs[D5G];if(t2d.level < 0 || !t2d.display)continue;q2h.j7J(9);var p86=q2h.a$j(152,17,9);q2h.j7J(27);var S15=q2h.a$j(17,16);q2h.N_M(61);var Z3d=q2h.c0C(6,6,1);l2$=Math.abs(this.p1[p86] - this.p0[S15]) * Math.sqrt(Z3d) * t2d.level;q2h.N_M(55);var Z_2=q2h.a$j(13,11,12,11);q2h.N_M(62);var G_S=q2h.a$j(5,14,2,8);q2h.N_M(63);var b3P=q2h.c0C(2,6,9);q2h.N_M(51);var i6L=q2h.c0C(7,9,5,3);q2h.j7J(35);var f4t=q2h.a$j(1,20,10);J6i=this.p1[Z_2] + l2$ * (L6A?G_S:b3P) * (u1A.flipped?i6L:f4t);d4c=this.stx.pixelFromValueAdjusted(P3O,this.p0[0],J6i);L0q=m3.xIntersection({x0:r_a,x1:g7U,y0:v$d,y1:s0p},d4c);if(this.parameters.printLevels){A7X="ce";A7X+="nter";l9c.textAlign=A7X;q2h.N_M(3);var w8i=q2h.c0C(18,11,1007);q2h.j7J(61);var e7Y=q2h.a$j(200,200,9);q2h.j7J(1);var d0J=q2h.c0C(9931,9);q2h.N_M(64);var i3L=q2h.c0C(1,5,1545773,13,119613);T4l=Math.round(t2d.level * w8i) / e7Y + (d0J == (i3L,679.16)?608.63:"%");if(this.parameters.printValues){k5T="stx_ya";k5T+="x";k5T+="is";l9c.fillStyle=h__;this.stx.canvasFont(k5T,l9c);;}l9c.fillText(T4l,g7U,Math.round(d4c - 5));}l9c.textAlign="left";if(this.parameters.printValues){if(L0q < P3O.width){b99=J6i;if(u1A.priceFormatter){b99=u1A.priceFormatter(this.stx,P3O,b99);}else {b99=this.stx.formatYAxisPrice(b99,P3O);}if(l9c == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(P3O,b99,d4c,h__,null,l9c);if(l9c == this.stx.chart.context){this.stx.startClip(P3O.name);}}}K4I=t2d.color;if(K4I == h1t || m3.isTransparent(K4I)){K4I=this.color;}if(K4I == "auto" || m3.isTransparent(K4I)){K4I=this.stx.defaultColor;}l9c.strokeStyle=this.highlight?k12:K4I;J6n=t2d.color;if(J6n == "auto" || m3.isTransparent(J6n)){J6n=this.fillColor;}if(J6n == "auto" || m3.isTransparent(J6n)){J6n=this.stx.defaultColor;}l9c.fillStyle=J6n;l9c.globalAlpha=this.highlighted?1:t2d.parameters.opacity;l9c.lineWidth=t2d.parameters.lineWidth;if(l9c.setLineDash){l9c.setLineDash(m3.borderPatternToArray(l9c.lineWidth,t2d.parameters.pattern));l9c.lineDashOffset=0;;}l9c.save();l9c.beginPath();q2h.N_M(7);l9c.scale(q2h.c0C(1,U_k),1);q2h.j7J(5);l9c.arc(q2h.a$j(U_k,g7U),s0p,Math.abs(d4c - s0p),0,Math.PI,!L6A);if(this.pattern != "none"){l9c.stroke();}q2h.j7J(5);l9c.globalAlpha=q2h.a$j(1,"0.05");l9c.fill();l9c.restore();if(l9c.setLineDash){l9c.setLineDash([]);}l9c.globalAlpha=+"1";}l9c.textAlign=a5i;R9O=m3.clone(this.parameters.trend.parameters);if(this.highlighted){R9O.opacity=1;}q2h.N_M(9);this.stx.plotLine(g7U,q2h.a$j(g7U,r_a,2),s0p,q2h.c0C(s0p,v$d,2),k12,"segment",l9c,P3O,R9O);if(this.highlighted){C_c="p";C_c+="1";i6e=this.highlighted == "p0"?!!1:!1;n7x=this.highlighted == C_c?!![]:!({});this.littleCircle(l9c,r_a,v$d,i6e);this.littleCircle(l9c,g7U,s0p,n7x);}};m3.Drawing.fibfan=function(){this.name="fibfan";;};m3.inheritsFrom(m3.Drawing.fibfan,m3.Drawing.fibonacci);m3.Drawing.fibfan.prototype.recommendedLevels=[0,+"0.382",0.5,0.618,1];m3.Drawing.fibfan.prototype.setOuter=function(){};m3.Drawing.fibfan.prototype.render=function(Z0x){var i7j,K16,O$g,u$g,k6K,y7V,j1c,D6y,O6M,w_i,A4G,l3G,J8A,y$_,y_K,O2m,Z7U,H6i,v$J,l2G,B_z,v0A,Z41,O$P,i6c,C3c,t2V,S8s,k_o,y0s,Y4D;i7j=this.stx.panels[this.panelName];if(!i7j){return;}K16=i7j.yAxis;if(!this.p1){return;}O$g=this.stx.pixelFromTick(this.p0[0],i7j.chart);u$g=this.stx.pixelFromTick(this.p1[0],i7j.chart);k6K=this.stx.pixelFromValueAdjusted(i7j,this.p0[0],this.p0[1]);y7V=this.stx.pixelFromValueAdjusted(i7j,this.p1[0],this.p1[1]);j1c=Math.min(y7V,k6K);D6y=Math.max(y7V,k6K);q2h.j7J(14);O6M=q2h.c0C(D6y,j1c);q2h.j7J(65);w_i=q2h.a$j(O$g,"0",k6K,u$g,y7V,0);A4G=this.getLineColor(this.parameters.trend.color);Z0x.textBaseline="middle";this.stx.canvasFont("stx_yaxis",Z0x);q2h.N_M(66);var v8Y=q2h.a$j(2,17,12,21);l3G=Z0x.measureText("161.8%").width + v8Y;J8A=Number.MAX_VALUE;q2h.N_M(63);var J3C=q2h.a$j(5,155,192);y$_=Number.MAX_VALUE * -("1" << J3C);y_K=this.color;if(y_K == "auto" || m3.isTransparent(y_K)){y_K=this.stx.defaultColor;}this.rays=[];for(var b7m=0;b7m < this.parameters.fibs.length;b7m++){O2m="aut";O2m+="o";Z0x.fillStyle=y_K;Z7U=this.parameters.fibs[b7m];if(!Z7U.display)continue;H6i=this.stx.pixelFromValueAdjusted(i7j,this.p0[0],(this.p0[1] - this.p1[1]) * Z7U.level + this.p1["1" ^ 0]);v$J=m3.xIntersection({x0:u$g,x1:u$g,y0:k6K,y1:y7V},H6i);l2G=i7j.left;if(u$g > O$g){l2G+=i7j.width;}q2h.j7J(67);B_z=q2h.a$j(O$g,O$g,v$J,l2G,k6K,k6K,H6i);if(O$g > l2G - (this.parameters.printLevels?l3G + 5:0) && u$g > O$g)continue;else if(O$g < l2G + (this.parameters.printLevels?l3G + 5:0) && u$g < O$g)continue;if(this.parameters.printLevels){q2h.N_M(9);var A12=q2h.a$j(9020,10,1002);v0A=Math.round(Z7U.level * A12) / +"10" + "%";if(u$g > O$g){l2G-=l3G;Z0x.textAlign="left";}else {l2G+=l3G;Z0x.textAlign="right";}if(this.parameters.printValues){Z0x.fillStyle=y_K;this.stx.canvasFont("stx_yaxis",Z0x);;}q2h.N_M(67);B_z=q2h.a$j(O$g,O$g,v$J,l2G,k6K,k6K,H6i);Z0x.fillText(v0A,l2G,B_z);if(u$g > O$g){l2G-=+"5";}else {l2G+=5;}}Z0x.textAlign="left";if(this.parameters.printValues){if(v$J < i7j.width){Z41=this.stx.transformedPriceFromPixel(H6i,i7j);if(K16.priceFormatter){Z41=K16.priceFormatter(this.stx,i7j,Z41);}else {Z41=this.stx.formatYAxisPrice(Z41,i7j);}if(Z0x == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(i7j,Z41,H6i,y_K,null,Z0x);if(Z0x == this.stx.chart.context){this.stx.startClip(i7j.name);}}}O$P=Z7U.color;if(O$P == "auto" || m3.isTransparent(O$P)){O$P=this.color;}if(O$P == "auto" || m3.isTransparent(O$P)){O$P=this.stx.defaultColor;}i6c=Z7U.color;if(i6c == O2m || m3.isTransparent(i6c)){i6c=this.fillColor;}if(i6c == "auto" || m3.isTransparent(i6c)){i6c=this.stx.defaultColor;}Z0x.fillStyle=i6c;if(this.parameters.printLevels){q2h.N_M(67);B_z=q2h.a$j(O$g,O$g,v$J,l2G,k6K,k6K,H6i);}C3c=m3.clone(Z7U.parameters);if(this.highlighted){C3c.opacity=1;}this.stx.plotLine(O$g,l2G,k6K,B_z,this.highlighted?A4G:O$P,"segment",Z0x,i7j,C3c);this.rays.push([[O$g,k6K],[l2G,B_z]]);Z0x.globalAlpha=+"0.05";Z0x.beginPath();Z0x.moveTo(l2G,B_z);Z0x.lineTo(O$g,k6K);Z0x.lineTo(l2G,k6K);Z0x.fill();Z0x.globalAlpha=1;if(H6i < J8A){J8A=H6i;}if(H6i > y$_){y$_=H6i;}}for(var E7Z="0" - 0;E7Z <= 1;E7Z++){t2V=w_i?D6y - O6M * E7Z:j1c + O6M * E7Z;t2V=Math.round(t2V);if(t2V < J8A){J8A=t2V;}if(t2V > y$_){y$_=t2V;}}if(this.highlighted){S8s="p";S8s+="1";k_o="p";k_o+="0";y0s=this.highlighted == k_o?!!1:!!"";Y4D=this.highlighted == S8s?!0:!"1";this.littleCircle(Z0x,O$g,k6K,y0s);this.littleCircle(Z0x,u$g,y7V,Y4D);}};m3.Drawing.fibtimezone=function(){this.name="fibtimezone";;};m3.inheritsFrom(m3.Drawing.fibtimezone,m3.Drawing.fibonacci);m3.Drawing.fibtimezone.prototype.render=function(x0y){var S$N,S4i,I7j,E$O,Q_V,R_$,N$e,B26,q5P,x6F,i2Z,X5d,H2o,D6q,A5U,B2$,d2_,L3H,h2i,Q0$,s_x,X8e,V_X,n$T;S$N="segmen";S$N+="t";S4i="l";S4i+="e";S4i+="f";S4i+="t";I7j="au";I7j+="to";E$O="mi";E$O+="dd";E$O+="l";E$O+="e";Q_V=this.stx.panels[this.panelName];if(!Q_V){return;}if(!this.p1){return;}R_$=this.stx.pixelFromTick(this.p0[0],Q_V.chart);N$e=this.stx.pixelFromTick(this.p1[0],Q_V.chart);B26=this.stx.pixelFromValueAdjusted(Q_V,this.p0[0],this.p0[1]);q2h.T$X();q5P=this.stx.pixelFromValueAdjusted(Q_V,this.p1["0" | 0],this.p1["1" >> 64]);x6F=[1,0];i2Z=this.getLineColor(this.parameters.trend.color);x0y.textBaseline=E$O;this.stx.canvasFont("stx_yaxis",x0y);q2h.N_M(14);X5d=q2h.c0C("20",0);H2o=this.p1[0] - this.p0[0];D6q=this.color;if(D6q == "auto" || m3.isTransparent(D6q)){D6q=this.stx.defaultColor;}x0y.textAlign="center";A5U=R_$;B2$=Q_V.yAxis.top;d2_=Q_V.yAxis.bottom;L3H=0;h2i=this.parameters.timezone.color;if(h2i == "auto" || m3.isTransparent(h2i)){h2i=this.color;}if(h2i == "auto" || m3.isTransparent(h2i)){h2i=this.stx.defaultColor;}Q0$=this.parameters.timezone.color;if(Q0$ == I7j || m3.isTransparent(Q0$)){Q0$=this.fillColor;}if(Q0$ == "auto" || m3.isTransparent(Q0$)){Q0$=this.stx.defaultColor;}if(this.parameters.printLevels){q2h.j7J(14);d2_-=q2h.a$j(X5d,7);}s_x=m3.clone(this.parameters.timezone.parameters);if(this.highlighted){s_x.opacity=1;}do {A5U=this.stx.pixelFromTick(this.p0["0" - 0] + L3H * H2o,Q_V.chart);if(R_$ < N$e && A5U > Q_V.left + Q_V.width)break;else if(R_$ > N$e && A5U < Q_V.left)break;if(this.parameters.printLevels){x0y.fillStyle=D6q;x0y.fillText(N$e > R_$?L3H:L3H * -1,A5U,d2_ + +"7");}x0y.fillStyle=Q0$;this.stx.plotLine(A5U,A5U,0,d2_,this.highlighted?i2Z:h2i,"segment",x0y,Q_V,s_x);x0y.globalAlpha=0.05;x0y.beginPath();x0y.moveTo(R_$,B2$);x0y.lineTo(A5U,B2$);x0y.lineTo(A5U,d2_);x0y.lineTo(R_$,d2_);x0y.fill();x0y.globalAlpha=1;q2h.j7J(68);var e0u=q2h.a$j(3,8,0,16);L3H=x6F["0" << 0] + x6F[e0u];x6F.unshift(L3H);}while(H2o);x0y.textAlign=S4i;this.stx.plotLine(R_$,N$e,B26,q5P,i2Z,S$N,x0y,Q_V,s_x);if(this.highlighted){X8e=this.highlighted == "p0"?!"":!"1";V_X=this.highlighted == "p1"?!!1:![];this.littleCircle(x0y,R_$,B26,X8e);this.littleCircle(x0y,N$e,q5P,V_X);}else {n$T=this.stx.valueFromPixel(Q_V.height / ("2" << 32),Q_V);this.setPoint(0,this.p0[0],n$T,Q_V.chart);q2h.j7J(29);this.setPoint(q2h.a$j(0,"1"),this.p1[0],n$T,Q_V.chart);}};m3.Drawing.fibtimezone.prototype.intersected=function(J3g,w8x,z0b){var w7d,A1l,l6n,U8V,u$n,k8S,z9Z;w7d=this.p0;A1l=this.p1;l6n=this.stx.panels[this.panelName];if(!w7d || !A1l || !l6n){return null;}U8V={0:w7d,1:A1l};for(var U2m in U8V){if(this.pointIntersection(U8V[U2m][0],U8V[U2m][1],z0b)){u$n="d";u$n+="r";u$n+="a";u$n+="g";q2h.N_M(1);this.highlighted=q2h.a$j("p",U2m);return {action:u$n,point:(+"6390" != 2008?"p":"X") + U2m};}}k8S=this.lineIntersection(J3g,w8x,z0b,"segment");if(k8S || z0b.x0 <= this.p0[0] && z0b.x1 >= w7d[0]){z9Z="m";z9Z+="o";z9Z+="v";z9Z+="e";this.highlighted=!0;return {action:z9Z,p0:m3.clone(w7d),p1:m3.clone(A1l),tick:J3g,value:w8x};}return null;};m3.Drawing.arrow_v0=function(){var B1y;B1y="a";B1y+="r";B1y+="r";B1y+="ow";this.name=B1y;this.dimension=[+"11",11];q2h.j7J(29);this.points=[["M",3,0,90.45 >= (5090,7529)?"i":224 < (+"7492",2110)?"L":!"",7,0,"L",7,+"5","L",10,5,"L",5,10,6040 == (573.42,8750)?0x2367:"234.79" * 1 <= ("790" << 64,8491)?"L":693.81 != 486?(!!({}),"T"):0x1e41,0,5,(8160,+"3945") !== (57,2710)?"L":(297.84,921.17) <= (5971,112.16)?(894.90,0xeb3):!!"1",q2h.a$j(32,"3"),5,(4030,5300) < 570.64?(252.65,"1904" * 1) < 369.01?"F":("l",+"373.54"):"L",3,0]];};m3.inheritsFrom(m3.Drawing.arrow_v0,m3.Drawing.shape);m3.Drawing.xcross=function(){this.name="xcross";this.dimension=[7,7];q2h.N_M(5);this.points=[["M",1,0,"L",3,2,5000 <= "6644" - 0?"L":50.55 > 8841?(!!0,!![]):"S",5,0,"L",q2h.c0C(1,"6"),1,5160 != (3402,2299)?"L":(8.11e+3,"5.05e+3" * 1),4,q2h.a$j(1,"3"),(+"185.8",+"627") != (6665,736.28)?(5520,265.5) > 1690?(373.78,4430) >= "4423" << 32?!({}):9.58e+3:"L":804.93,6,5,6096 == 646.22?(8.61e+3,6.45e+3):3371 === (3650,181.66)?9868 != 6701?!({}):(0x9e5,+"731.37"):"L",5,6,2440 === 4023?9.67e+3:+"903" == 1520?"D":(+"865.94",701.82) === (4263,+"863.8")?(6.63e+3,!!1):"L",3,4,877.71 <= 830.03?("675.1" - 0,1360) >= 2380?(2.85e+3,"S"):("B",+"1.85e+3"):"L",1,6,+"843.2" < (5831,9860)?"L":(730.37,+"1.71e+3"),0,5,"L",2,3,("356.67" * 1,75.42) == (934,4040)?(+"122.15",4.57e+3):8692 < (848,7169)?!({}):(521.16,+"6750") != (269,+"3110")?"L":(!!({}),+"0x1a33"),0,1,(4200,1040) == (+"4971",678.11)?("X","X"):119 === 121.11?2.88e+3:"L",1,0]];;};m3.inheritsFrom(m3.Drawing.xcross,m3.Drawing.shape);m3.Drawing.check=function(){this.name="check";this.dimension=[8,9];q2h.j7J(31);this.points=[["M",1,+"5",(3360,5094) >= (130.08,370.57)?"L":"M",0,6,"L",+"2",q2h.a$j("8",32),("9250" << 64,109.52) === 1850?0x726:"L",+"7",1,998 <= 8790?"L":(601.47,3590) <= (2090,1270)?9.47e+2:54.16,6,0,(1247,+"688.01") != (+"159.55",8990)?(9746,9630) < 9680?"L":734.21 == (8319,9690)?965.42:("0x14ce" * 1,634.81):(![],5.66e+3),2,6,"L",1,+"5"]];;};m3.inheritsFrom(m3.Drawing.check,m3.Drawing.shape);m3.Drawing.star=function(){q2h.f3X();var n12;n12="s";n12+="ta";n12+="r";this.name=n12;this.dimension=[12,12];q2h.j7J(5);this.points=[["M",0,4,(467.67,218.09) != (7092,3405)?(+"9777","6910" << 0) <= (7359,529.38)?("z","f"):"L":(0xb32,7.20e+3),q2h.a$j(1,"4"),4,+"5990" === 9019?7620 <= ("318" | 24,1974)?(!"1",8.45e+3):(9865,7440) === 1826?!![]:(812.22,239):"L",5.5,0,("510.64" * 1,9981) !== ("3486" >> 64,+"590.51")?"L":("N",5.86e+3),7,4,(465,869.58) == (79.75,9330)?+"271" < (725.51,6858)?(356.27,87.87):0xf1f:"L",11,4,(6060,4330) <= (+"721.7",8789)?310.41 == (734.03,"390.08" * 1)?(!1,!({})):"L":("x",![]),8,7,"L",q2h.a$j("9",64,q2h.j7J(31)),11,(9850,"4980" * 1) >= 853?"L":(0xa73,6.74e+3),5.5,9,"L",2,11,6430 != 1220?"L":5780 >= 7071?"9.03e+3" >> 32:0x1cf9,3,7,(8410,361) > 795?(930.03,2.83e+2):(700,1281) <= (1740,+"159.95")?4161 >= 7861?(!({}),+"0xc18"):(8.94e+3,+"774.04"):"L",0,4]];;};m3.inheritsFrom(m3.Drawing.star,m3.Drawing.shape);m3.Drawing.heart=function(){this.name="heart";this.dimension=[23,20];q2h.f3X();q2h.N_M(4);this.points=[["M",11,3,(1390,1793) > 3505?+"253.15":"B",11,2.4,10,0,6,0,(1480,2451) <= 6823?(101.3,6485) == 8885?2890 > 568.99?+"3.77e+2":(0x7fc,0x1d19):"B":"l",+"0",q2h.c0C("0",0),0,7.5,+"0",7.5,(+"1079",2870) <= (5170,+"886.98")?(974.37,!""):"B",0,q2h.a$j(0,"11",q2h.N_M(29)),+"4",q2h.c0C("15.4",0,q2h.j7J(14)),11,19,"B",+"18",15.4,22,11,+"22",7.5,"B",q2h.c0C("22",32,q2h.j7J(31)),7.5,22,0,q2h.a$j("16",0,q2h.j7J(14)),0,"B",13,0,11,q2h.a$j(1,"2.4",q2h.N_M(5)),11,3]];;};m3.inheritsFrom(m3.Drawing.heart,m3.Drawing.shape);m3.Drawing.focusarrow=function(){var e9V;e9V="f";e9V+="ocus";e9V+="a";e9V+="rrow";this.name=e9V;this.dimension=[7,5];q2h.j7J(5);this.points=[[(+"133",841) !== (+"2763","688" ^ 0)?+"5356" > (648,9186)?3597 == (762,3180)?9.78e+3:(5.81e+3,8.23e+3):"M":496.62,0,q2h.a$j(1,"0"),+"6000" > 910?(6712,1711) > (219.81,+"294.71")?7761 > 952?"L":(!0,1.64e+3):9.39e+3:(433.05,194.92),2,+"2",942.46 == (1710,3813)?("309" ^ 0,"312.82" * 1) != (166.42,7972)?494 >= (7556,8869)?(4.91e+3,0x56d):("o",!1):"h":"L",0,4,"2205" * 1 == (175.98,+"3891")?7744 !== ("90.28" * 1,+"6110")?15.63:0xd7f:"L",0,0],[777 >= "704.75" - 0?"M":(0x1e10,3.78e+2),q2h.a$j("6",64,q2h.N_M(31)),q2h.c0C("0",64,q2h.N_M(31)),"L",4,+"2","L",6,4,(4070,5377) <= 6330?"L":"r",6,q2h.c0C("0",0,q2h.j7J(14))]];;};m3.inheritsFrom(m3.Drawing.focusarrow,m3.Drawing.shape);m3.Drawing.crossline=function(){this.name="crossline";};m3.inheritsFrom(m3.Drawing.crossline,m3.Drawing.horizontal);m3.extend(m3.Drawing.crossline.prototype,{measure:function(){},accidentalClick:function(g2m,m0d){q2h.T$X();return !!0;},adjust:function(){var i$S;i$S=this.stx.panels[this.panelName];if(!i$S){return;}q2h.f3X();this.setPoint(0,this.d0,this.v0,i$S.chart);this.p1=m3.clone(this.p0);},intersected:function(Y8f,R8j,U1_){var A2e,e$X,C8Z;A2e="l";A2e+="in";A2e+="e";if(!this.p0 || !this.p1){return null;}this.p1[+"0"]+=1;e$X=this.lineIntersection(Y8f,R8j,U1_,A2e);this.p1=m3.clone(this.p0);if(!e$X){C8Z="lin";C8Z+="e";q2h.j7J(31);this.p1[1]+=q2h.a$j("1",64);e$X=this.lineIntersection(Y8f,R8j,U1_,C8Z);this.p1=m3.clone(this.p0);if(!e$X){return null;}}this.highlighted=!![];q2h.f3X();if(this.pointIntersection(this.p0[+"0"],this.p0[1],U1_)){this.highlighted="p0";}return {action:"move",p0:m3.clone(this.p0),p1:m3.clone(this.p1),tick:Y8f,value:R8j};},render:function(G70){var K8f,j0q,K6v,x1T,Z1I,I72,O8d,H4f,p2q,F7W,X9A,B8U;K8f=this.stx.panels[this.panelName];if(!K8f){return;}j0q=this.stx.pixelFromTick(this.p0["0" | 0],K8f.chart);K6v=this.stx.pixelFromValueAdjusted(K8f,this.p0[0],this.p0[1]);x1T=this.getLineColor();Z1I={pattern:this.pattern,lineWidth:this.lineWidth};q2h.N_M(1);this.stx.plotLine(j0q,q2h.a$j(j0q,100),K6v,K6v,x1T,"horizontal",G70,K8f,Z1I);q2h.j7J(1);this.stx.plotLine(j0q,j0q,K6v,q2h.c0C(K6v,100),x1T,"vertical",G70,K8f,Z1I);if(this.axisLabel && !this.repositioner){this.stx.endClip();I72=this.p0[1];if(K8f.chart.transformFunc){I72=K8f.chart.transformFunc(this.stx,K8f.chart,I72);}if(K8f.yAxis.priceFormatter){I72=K8f.yAxis.priceFormatter(this.stx,K8f,I72);}else {I72=this.stx.formatYAxisPrice(I72,K8f);}this.stx.createYAxisLabel(K8f,I72,K6v,x1T);this.stx.startClip(K8f.name);if(this.p0[0] >= 0 && !this.stx.chart.xAxis.noDraw){O8d=this.stx.dateFromTick(this.p0[0],K8f.chart,!!1);if(!m3.ChartEngine.isDailyInterval(this.stx.layout.interval)){q2h.j7J(69);var u72=q2h.a$j(882,59,2);p2q=O8d.getSeconds() * u72 + O8d.getMilliseconds();if(L$.Date && this.stx.displayZone){H4f=new L$.Date(O8d.getTime(),this.stx.displayZone);O8d=new Date(H4f.getFullYear(),H4f.getMonth(),H4f.getDate(),H4f.getHours(),H4f.getMinutes());O8d=new Date(O8d.getTime() + p2q);}}else {O8d.setHours(0,0,0,0);}F7W=m3.mmddhhmm(m3.yyyymmddhhmm(O8d));if(K8f.chart.xAxis.formatter){F7W=K8f.chart.xAxis.formatter(O8d,this.name,null,null,F7W);}else if(this.stx.internationalizer){if(O8d.getHours() !== 0 || O8d.getMinutes() !== 0){X9A=this.stx.internationalizer.monthDay.format(O8d);X9A+=" " + this.stx.internationalizer.hourMinute.format(O8d);}else {X9A=this.stx.internationalizer.yearMonthDay.format(O8d);}F7W=X9A;}this.stx.endClip();this.stx.createXAxisLabel({panel:K8f,txt:F7W,x:j0q,backgroundColor:x1T,color:null,pointed:!![],padding:2});this.stx.startClip(K8f.name);}}if(this.highlighted){B8U=this.highlighted == "p0"?!!({}):![];this.littleCircle(G70,j0q,K6v,B8U);}}},!![]);m3.Drawing.speedarc=function(){this.name="speedarc";this.printLevels=!!({});};m3.inheritsFrom(m3.Drawing.speedarc,m3.Drawing.segment);m3.extend(m3.Drawing.speedarc.prototype,{defaultOpacity:0.25,configs:[f8u,P7B,"lineWidth","pattern"],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;},intersected:function(p_7,E27,R_l){var t$b,o1x,C9N,g6f,n9c,r_L,M7e;if(!this.p0 || !this.p1){return null;}t$b={0:this.p0,1:this.p1};for(var j95 in t$b){if(this.pointIntersection(t$b[j95][0],t$b[j95][+"1"],R_l)){o1x="dr";o1x+="a";o1x+="g";q2h.N_M(1);this.highlighted=q2h.a$j("p",j95);return {action:o1x,point:"p" + j95};}}C9N=this.lineIntersection(p_7,E27,R_l,this.name);if(C9N){this.highlighted=!!1;return {action:"move",p0:m3.clone(this.p0),p1:m3.clone(this.p1),tick:p_7,value:E27};}g6f=this.p1[0] - (this.p0[0] - this.p1[0]);n9c=this.p0[0];r_L=this.p1[1];M7e=this.p0[1];if(p_7 > Math.max(g6f,n9c) || p_7 < Math.min(g6f,n9c)){return null;}if(E27 > Math.max(M7e,r_L) || E27 < Math.min(M7e,r_L)){return null;}this.highlighted=!![];return {action:"move",p0:m3.clone(this.p0),p1:m3.clone(this.p1),tick:p_7,value:E27};},render:function(M2J){var C3A,R1j,V5X,Z4X,Q4n,F5O,y6d,O7j,b7f,R_e,t4X,i2v,h$R,I7D,y8g,r0L,R23;C3A="stx_";C3A+="ya";C3A+="xi";C3A+="s";R1j=this.stx.panels[this.panelName];if(!R1j){return;}if(!this.p1){return;}V5X=this.stx.pixelFromTick(this.p0[0],R1j.chart);Z4X=this.stx.pixelFromTick(this.p1[0],R1j.chart);Q4n=this.stx.pixelFromValueAdjusted(R1j,this.p0[0],this.p0["1" | 0]);F5O=this.stx.pixelFromValueAdjusted(R1j,this.p1[0],this.p1[1]);q2h.N_M(59);y6d=q2h.c0C(F5O,Q4n);q2h.j7J(60);O7j=Math.abs(q2h.a$j(Z4X,V5X,Q4n,F5O));b7f=this.getLineColor();M2J.strokeStyle=b7f;R_e=this.fillColor;if(R_e == "auto" || m3.isTransparent(R_e)){R_e=this.stx.defaultColor;}M2J.fillStyle=R_e;if(M2J.setLineDash){M2J.setLineDash(m3.borderPatternToArray(this.lineWidth,this.pattern));M2J.lineDashOffset=0;;}q2h.f3X();this.stx.canvasFont(C3A,M2J);for(var N2f=1;N2f < "3" * 1;N2f++){q2h.j7J(9);var f7E=q2h.a$j(379,20,19);q2h.j7J(70);var I9p=q2h.a$j(6,15,4,10,12);t4X=Math.abs(this.p1["1" ^ 0] - this.p0[f7E]) * Math.sqrt(+"2") * N2f / I9p;q2h.j7J(14);var k25=q2h.c0C(15,14);q2h.j7J(14);var a20=q2h.a$j(17,18);q2h.j7J(0);var d3u=q2h.c0C(93,10,8,13);q2h.j7J(71);var h5Y=q2h.a$j(16,1281,4,0,20);q2h.j7J(72);var R$X=q2h.a$j(5,211,4,10,3);i2v=this.p1[k25] + t4X * (y6d?a20:d3u) * (R1j.yAxis.flipped?-("1" * h5Y):R$X);h$R=this.stx.pixelFromValueAdjusted(R1j,this.p0[0],i2v);M2J.save();M2J.beginPath();q2h.N_M(7);M2J.scale(q2h.c0C(1,O7j),1);q2h.j7J(5);M2J.arc(q2h.a$j(O7j,Z4X),F5O,Math.abs(h$R - F5O),0,Math.PI,!y6d);M2J.globalAlpha=this.highlighted?1:this.defaultOpacity;if(this.pattern != "none"){M2J.stroke();}M2J.globalAlpha=0.1;M2J.fill();M2J.restore();M2J.globalAlpha=1;if(this.printLevels){M2J.fillStyle=b7f;M2J.textAlign="center";q2h.N_M(1);I7D=q2h.a$j(N2f,"/3");M2J.fillText(I7D,Z4X,Math.round(h$R - 5));M2J.fillStyle=R_e;}}M2J.textAlign="left";y8g={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};this.stx.plotLine(V5X,Z4X,Q4n,F5O,b7f,"segment",M2J,R1j,y8g);if(M2J.setLineDash){M2J.setLineDash([]);}if(this.highlighted){r0L=this.highlighted == "p0"?!!1:![];R23=this.highlighted == "p1"?!!1:![];this.littleCircle(M2J,V5X,Q4n,r0L);this.littleCircle(M2J,Z4X,F5O,R23);}},reconstruct:function(g8z,m43){this.stx=g8z;this.color=m43.col;this.fillColor=m43.fc;this.panelName=m43.pnl;q2h.f3X();this.pattern=m43.ptrn;this.lineWidth=m43.lw;this.d0=m43.d0;this.d1=m43.d1;this.tzo0=m43.tzo0;this.tzo1=m43.tzo1;this.v0=m43.v0;this.v1=m43.v1;this.adjust();},serialize:function(){q2h.f3X();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};}},!"");m3.Drawing.speedline=function(){q2h.f3X();this.name="speedline";this.printLevels=!![];};m3.inheritsFrom(m3.Drawing.speedline,m3.Drawing.speedarc);m3.extend(m3.Drawing.speedline.prototype,{intersected:function(y4L,B_w,G1y){var A_w,M1G,V82,Q4W;A_w=this.p0;M1G=this.p1;if(!A_w || !M1G){return null;}V82={0:A_w,1:M1G};for(var P$F in V82){if(this.pointIntersection(V82[P$F][0],V82[P$F][1],G1y)){q2h.N_M(1);this.highlighted=q2h.c0C(513.1 == 8900?2.79e+3:1550 > (8150,+"466.87")?"p":(686.97,988.20),P$F);return {action:"drag",point:"p" + P$F};}}Q4W=this.rays;for(var u3Q=0;u3Q < Q4W.length;u3Q++){if(this.lineIntersection(y4L,B_w,G1y,"ray",Q4W[u3Q][0],Q4W[u3Q][1],!!({}))){this.highlighted=!!({});return {action:"move",p0:m3.clone(A_w),p1:m3.clone(M1G),tick:y4L,value:B_w};}}return null;},render:function(T4a){var c67,K0T,p9b,M49,T$V,C96,T26,Y3l,w7L,h2S,X9n,t48,R8R,C3T,T$o,c_W,D$W,D55,Z39,S6t,n8L,H9N,r4l,z5E,o3x,z4W,E7E;c67="3";c67+="/";c67+="2";K0T="au";K0T+="to";p9b=this.stx.panels[this.panelName];if(!p9b){return;}if(!this.p1){return;}M49=this.stx.pixelFromTick(this.p0[0],p9b.chart);T$V=this.stx.pixelFromTick(this.p1[0],p9b.chart);C96=this.stx.pixelFromValueAdjusted(p9b,this.p0[0],this.p0["1" * 1]);T26=this.stx.pixelFromValueAdjusted(p9b,this.p1[0],this.p1[1]);this.stx.canvasFont("stx_yaxis",T4a);Y3l=this.getLineColor();w7L=this.color;if(w7L == "auto" || m3.isTransparent(w7L)){w7L=this.stx.defaultColor;}T4a.strokeStyle=w7L;h2S=this.fillColor;if(h2S == K0T || m3.isTransparent(h2S)){h2S=this.stx.defaultColor;}T4a.fillStyle=h2S;X9n={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};C3T=[692 > 4550?(!"1",!1):"1","2/3","1/3",c67,"3"];q2h.N_M(7);T$o=[1,q2h.c0C(2,3),q2h.c0C(1,3),q2h.c0C(3,2),3];c_W=[];this.rays=[];for(var k7d=0;k7d < T$o.length;k7d++){D$W="se";D$W+="gment";D55=T$o[k7d];if(D55 > 1 && !this.extension)continue;Z39=this.stx.pixelFromValueAdjusted(p9b,this.p0["0" - 0],this.p0[1] - (this.p0[1] - this.p1[1]) * D55);if(D55 > +"1"){S6t=m3.xIntersection({x0:M49,x1:T$V,y0:C96,y1:Z39},T26);c_W.push(S6t);}else {S6t=m3.xIntersection({x0:T$V,x1:T$V,y0:C96,y1:T26},Z39);c_W.push(Z39);}n8L=D55 > 1?S6t:T$V;H9N=D55 > 1?T26:Z39;if(!this.confineToGrid){n8L=p9b.left;if(T$V > M49){n8L+=p9b.width;}q2h.j7J(67);H9N=q2h.c0C(M49,M49,T$V,n8L,C96,C96,Z39);}if(this.printLevels){if(D55 != 1 || this.extension){T4a.fillStyle=w7L;q2h.j7J(29);r4l=q2h.a$j(0,"0");q2h.j7J(4);z5E=q2h.c0C("0",0);if(C96 > T26){z5E=-5;T4a.textBaseline="bottom";}else {z5E=5;T4a.textBaseline="top";}if(M49 > T$V){r4l=5;T4a.textAlign="right";}else {r4l=-5;T4a.textAlign="left";}if(D55 > "1" * 1){T4a.fillText(C3T[k7d],S6t + (this.confineToGrid?0:r4l),T26);}else {T4a.fillText(C3T[k7d],T$V,Z39 + (this.confineToGrid?0:z5E));}T4a.fillStyle=h2S;}}this.stx.plotLine(M49,n8L,C96,H9N,this.highlighted?Y3l:w7L,D$W,T4a,p9b,X9n);if(D55 == "1" * 1){t48=n8L;R8R=H9N;}this.rays.push([[M49,C96],[n8L,H9N]]);q2h.j7J(5);T4a.globalAlpha=q2h.c0C(1,"0.1");T4a.beginPath();T4a.moveTo(n8L,H9N);T4a.lineTo(M49,C96);T4a.lineTo(t48,R8R);T4a.fill();T4a.globalAlpha=1;}T4a.textAlign="left";T4a.textBaseline="middle";if(this.confineToGrid){T4a.globalAlpha=+"0.3";T4a.beginPath();q2h.j7J(14);T4a.strokeRect(M49,C96,q2h.c0C(T$V,M49),q2h.a$j(T26,C96));T4a.moveTo(M49,c_W[1]);T4a.lineTo(T$V,c_W[1]);T4a.moveTo(M49,c_W[2]);T4a.lineTo(T$V,c_W[2]);if(this.extension){T4a.moveTo(c_W[3],C96);T4a.lineTo(c_W[3],T26);T4a.moveTo(c_W[4],C96);T4a.lineTo(c_W[4],T26);}T4a.stroke();T4a.globalAlpha=+"1";}if(this.highlighted){o3x="p";o3x+="1";z4W=this.highlighted == "p0"?!!"1":![];E7E=this.highlighted == o3x?!![]:!({});this.littleCircle(T4a,M49,C96,z4W);this.littleCircle(T4a,T$V,T26,E7E);}}},!!({}));m3.Drawing.gannfan=function(){this.name="gannfan";q2h.f3X();this.printLevels=!"";};m3.inheritsFrom(m3.Drawing.gannfan,m3.Drawing.speedline);m3.extend(m3.Drawing.gannfan.prototype,{render:function(b2v){var R8_,h28,O1C,z5R,a3T,a31,u1Q,t52,l8O,M8r,W_P,f18,G0J,q3g,J39,W_I,E68,Q7D,M6E,k2o,E3k,V2L,A4J,h5Q,O_7;R8_="m";R8_+="i";R8_+="ddle";h28="a";h28+="uto";O1C="s";O1C+="tx";O1C+="_";O1C+="yaxis";z5R=this.stx.panels[this.panelName];if(!z5R){return;}if(!this.p1){return;}a3T=this.stx.pixelFromTick(this.p0[+"0"],z5R.chart);a31=this.stx.pixelFromTick(this.p1[0],z5R.chart);u1Q=this.stx.pixelFromValueAdjusted(z5R,this.p0[0],this.p0[1]);t52=this.stx.pixelFromValueAdjusted(z5R,this.p1[0],this.p1[1]);this.stx.canvasFont(O1C,b2v);l8O=this.getLineColor();q2h.T$X();M8r=this.color;if(M8r == h28 || m3.isTransparent(M8r)){M8r=this.stx.defaultColor;}b2v.strokeStyle=M8r;W_P=this.fillColor;if(W_P == "auto" || m3.isTransparent(W_P)){W_P=this.stx.defaultColor;}b2v.fillStyle=W_P;f18={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?"1" * 1:this.defaultOpacity};q2h.N_M(7);J39=[+"1",2,3,4,8,q2h.a$j(1,2),q2h.c0C("1","3",32,1,q2h.j7J(73)),q2h.c0C(1,4,q2h.N_M(7)),q2h.c0C("1",8,q2h.N_M(74))];this.rays=[];for(var r0R=0;r0R < J39.length;r0R++){W_I=J39[r0R];q2h.N_M(75);E68=q2h.c0C(a3T,a31,W_I,a3T);q2h.j7J(76);Q7D=q2h.c0C(u1Q,u1Q,t52,W_I);M6E=z5R.left;if(a31 > a3T){M6E+=z5R.width;}q2h.N_M(67);k2o=q2h.c0C(a3T,a3T,a31,M6E,u1Q,u1Q,Q7D);if(this.printLevels){b2v.fillStyle=M8r;E3k=0;q2h.N_M(46);V2L=q2h.c0C("0",0);if(u1Q > t52){q2h.N_M(14);V2L=q2h.a$j("5",0);b2v.textBaseline="top";}else {V2L=-5;b2v.textBaseline="bottom";}if(a3T > a31){q2h.j7J(14);E3k=q2h.c0C("5",0);b2v.textAlign="left";}else {A4J="ri";A4J+="ght";E3k=-5;b2v.textAlign=A4J;}if(W_I > 1){q2h.j7J(1);b2v.fillText(q2h.c0C(W_I,"x1"),q2h.c0C(E68,E3k),t52);}else {q2h.j7J(75);b2v.fillText(q2h.c0C(0,"1",W_I,"1x"),a31,q2h.a$j(Q7D,V2L,q2h.N_M(1)));}b2v.fillStyle=W_P;}this.stx.plotLine(a3T,M6E,u1Q,k2o,this.highlighted?l8O:M8r,"segment",b2v,z5R,f18);this.rays.push([[a3T,u1Q],[M6E,k2o]]);if(W_I == 1){G0J=M6E;q3g=k2o;}b2v.globalAlpha=0.1;b2v.beginPath();b2v.moveTo(M6E,k2o);b2v.lineTo(a3T,u1Q);b2v.lineTo(G0J,q3g);b2v.fill();b2v.globalAlpha=+"1";}b2v.textAlign="left";b2v.textBaseline=R8_;if(this.highlighted){h5Q=this.highlighted == "p0"?!!1:!!0;O_7=this.highlighted == "p1"?!![]:!"1";this.littleCircle(b2v,a3T,u1Q,h5Q);this.littleCircle(b2v,a31,t52,O_7);}}},!!({}));m3.Drawing.timecycle=function(){var q_n;q_n="timec";q_n+="ycle";this.name=q_n;this.printLevels=!![];};m3.inheritsFrom(m3.Drawing.timecycle,m3.Drawing.speedarc);m3.extend(m3.Drawing.timecycle.prototype,{intersected:function(S6o,R3Z,Q$s){var i5F,L75,I6o,b1N,H0c,S9W;i5F="se";i5F+="g";i5F+="me";i5F+="nt";L75=this.p0;I6o=this.p1;b1N=this.stx.panels[this.panelName];if(!L75 || !I6o || !b1N){return null;}H0c={0:L75,1:I6o};for(var a5Q in H0c){if(this.pointIntersection(H0c[a5Q][0],H0c[a5Q][+"1"],Q$s)){q2h.N_M(1);this.highlighted=q2h.c0C("p",a5Q);return {action:"drag",point:(5226 == 3262?6757 >= 5373?(4.64e+3,342.17):"0x2532" ^ 0:"p") + a5Q};}}S9W=this.lineIntersection(S6o,R3Z,Q$s,i5F);if(S9W || Q$s.x0 <= this.p0["0" >> 0] && Q$s.x1 >= L75[0]){this.highlighted=!"";return {action:"move",p0:m3.clone(L75),p1:m3.clone(I6o),tick:S6o,value:R3Z};}return null;},render:function(y2W){var G6_,N3m,n_p,b$2,N8q,e$Y,q$b,C_f,D1y,P8f,p7F,Q5Q,i6j,X0u,K2l,r5K,p3y,v2D,r7s,U6r,O$1,W3D,F77,q27;G6_="a";G6_+="u";G6_+="t";G6_+="o";N3m="c";N3m+="e";N3m+="nt";N3m+="er";n_p="m";n_p+="i";n_p+="ddl";n_p+="e";b$2=this.stx.panels[this.panelName];if(!b$2){return;}if(!this.p1){return;}N8q=this.stx.pixelFromTick(this.p0[+"0"],b$2.chart);e$Y=this.stx.pixelFromTick(this.p1[+"0"],b$2.chart);q$b=this.stx.pixelFromValueAdjusted(b$2,this.p0[+"0"],this.p0[1]);C_f=this.stx.pixelFromValueAdjusted(b$2,this.p1["0" >> 32],this.p1["1" ^ 0]);D1y=0;P8f=this.getLineColor();y2W.textBaseline=n_p;this.stx.canvasFont("stx_yaxis",y2W);q2h.j7J(46);p7F=q2h.c0C("20",0);Q5Q=this.p1[0] - this.p0[0];y2W.textAlign=N3m;i6j=N8q;X0u=b$2.yAxis.top;K2l=b$2.yAxis.bottom;r5K=this.color;if(r5K == G6_ || m3.isTransparent(r5K)){r5K=this.stx.defaultColor;}p3y=this.fillColor;if(p3y == "auto" || m3.isTransparent(p3y)){p3y=this.stx.defaultColor;}if(this.printLevels){q2h.j7J(14);K2l-=q2h.c0C(p7F,7);}v2D={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?"1" | 0:this.defaultOpacity};r7s=[];y2W.save();y2W.fillStyle=p3y;y2W.globalAlpha=0.05;do {i6j=this.stx.pixelFromTick(this.p0[+"0"] + D1y * Q5Q,b$2.chart);D1y++;if(N8q < e$Y && i6j > b$2.left + b$2.width)break;else if(N8q > e$Y && i6j < b$2.left)break;else if(i6j < b$2.left || i6j > b$2.left + b$2.width)continue;y2W.beginPath();y2W.moveTo(N8q,X0u);y2W.lineTo(i6j,X0u);y2W.lineTo(i6j,K2l);y2W.lineTo(N8q,K2l);y2W.fill();r7s.push({c:D1y,x:i6j});}while(Q5Q);y2W.globalAlpha=1;U6r=0;for(var f$p=0;f$p < r7s.length;f$p++){this.stx.plotLine(r7s[f$p].x,r7s[f$p].x,0,K2l,this.highlighted?P8f:r5K,"segment",y2W,b$2,v2D);if(this.printLevels){y2W.fillStyle=r5K;q2h.j7J(14);var Y8_=q2h.a$j(41,9);O$1=this.stx.chart.context.measureText(r7s[f$p].c).width + ("3" << Y8_);if(O$1 < this.stx.layout.candleWidth + U6r){y2W.fillText(r7s[f$p].c,r7s[f$p].x,K2l + +"7");U6r=0;}else {U6r+=this.stx.layout.candleWidth;}}}y2W.restore();y2W.textAlign="left";this.stx.plotLine(N8q,e$Y,q$b,C_f,P8f,"segment",y2W,b$2,v2D);if(this.highlighted){W3D=this.highlighted == "p0"?!![]:!"1";F77=this.highlighted == "p1"?!![]:!({});this.littleCircle(y2W,N8q,q$b,W3D);this.littleCircle(y2W,e$Y,C_f,F77);}else {q27=this.stx.valueFromPixel(b$2.height / 2,b$2);this.setPoint(0,this.p0[+"0"],q27,b$2.chart);this.setPoint(1,this.p1[0],q27,b$2.chart);}}},!!1);m3.Drawing.regression=function(){q2h.f3X();this.name="regression";};m3.inheritsFrom(m3.Drawing.regression,m3.Drawing.segment);m3.extend(m3.Drawing.regression.prototype,{configs:["color","lineWidth","pattern","active1","color1","lineWidth1","pattern1","active2",S6C,"lineWidth2","pattern2","active3","color3","lineWidth3","pattern3"],copyConfig:function(c$1){var I$T,K2N,h$j;I$T="a";I$T+="u";I$T+="to";K2N="a";K2N+="u";K2N+="t";K2N+="o";m3.Drawing.copyConfig(this,c$1);h$j=this.stx.currentVectorParameters;this.active1=!!h$j.active1;this.active2=!!h$j.active2;this.active3=!!h$j.active3;this.color1=h$j.color1 || K2N;this.color2=h$j.color2 || I$T;this.color3=h$j.color3 || "auto";this.lineWidth1=h$j.lineWidth1;this.lineWidth2=h$j.lineWidth2;this.lineWidth3=h$j.lineWidth3;this.pattern1=h$j.pattern1;this.pattern2=h$j.pattern2;this.pattern3=h$j.pattern3;},$controls:[p2Q,P40,'cq-cvp-controller[cq-cvp-header="3"]'],click:function(e93,R40,B$4){var R37,D3V,G6r,s_j;if(R40 < 0){return;}this.copyConfig();R37=this.stx.panels[this.panelName];if(!this.penDown){this.setPoint(0,R40,B$4,R37.chart);this.penDown=!0;D3V=this.stx;this.field=D3V.highlightedDataSetField;if(!this.field && R37 != D3V.chart.panel){for(var a_T in D3V.chart.seriesRenderers){G6r=D3V.chart.seriesRenderers[a_T];if(G6r.params.panel == R37.name){this.field=G6r.seriesParams["0" << 32].field;break;}}for(var h5h in D3V.layout.studies){s_j=D3V.layout.studies[h5h];if(s_j.panel == R37.name){this.field=Object.keys(s_j.outputMap)[0];break;}}}return ![];}if(this.accidentalClick(R40,B$4)){return this.dragToDraw;}q2h.T$X();this.setPoint(1,R40,B$4,R37.chart);this.penDown=!!"";return !![];;},getYValue:function(T2o){var S96,I$V,k66,z1_,S1P,y7G,p9p,W3i;S96="Cl";S96+="ose";I$V=this.stx.chart.dataSet[T2o];k66=this.stx.chart.dataSet[T2o];if(!I$V){return null;}z1_=this.stx.panels[this.panelName];S1P=this.stx.getYAxisByField(z1_,this.field) || z1_.yAxis;if(this.stx.charts[z1_.name] && z1_.chart.transformFunc && S1P == z1_.yAxis){k66=I$V.transform;}if(!k66){return null;}y7G=null;p9p=null;W3i=this.stx.defaultPlotField || S96;if(this.field){p9p=m3.existsInObjectChain(k66,this.field);if(!p9p){return null;}y7G=p9p=p9p.obj[p9p.member];if(I$V != k66){y7G=m3.existsInObjectChain(I$V,this.field);y7G=y7G.obj[y7G.member];}if(typeof p9p == "object"){p9p=p9p[W3i];y7G=y7G[W3i];}}else {p9p=k66[W3i];y7G=I$V[W3i];}return {transformed:p9p,untransformed:y7G};},render:function(g6F){var K5a,S8_,P9B,z6S,U5v,l7i,P2Y,s$Y,X6v,j2z,u6Q,k0k,O0J,O5O,D8p,Y_L,L0B,m65,P7g,I_d,S59,j2T,r3J,H_3,o$6,T4_,L7W,y1G,q4S,a8d,o21,U83,W2U,s2x,Z2t,P4i;K5a="s";K5a+="e";K5a+="gm";K5a+="ent";S8_=this.stx.panels[this.panelName];if(!S8_){return;}if(!this.p1){return;}if(this.p0[0] < +"0" || this.p1[0] < 0){return;}P9B=this.stx.pixelFromTick(this.p0[0],S8_.chart);z6S=this.stx.pixelFromTick(this.p1["0" | 0],S8_.chart);if(P9B < S8_.left && z6S < S8_.left){return;}if(P9B > S8_.right && z6S > S8_.right){return;}U5v=this.stx.getYAxisByField(S8_,this.field);l7i=[];P2Y=[];q2h.N_M(4);s$Y=q2h.a$j("0",0);X6v=0;j2z=+"0";u6Q=0;k0k=Math.min(this.p1[0],this.p0[0]);q2h.j7J(14);var Q4z=q2h.c0C(20,19);O0J=Math.max(this.p1["0" - 0],this.p0[0]) + Q4z;q2h.N_M(14);O5O=q2h.c0C(O0J,k0k);for(var E$h=k0k;E$h < O0J;E$h++){D8p=this.getYValue(E$h);if(D8p){l7i.push(D8p.transformed);P2Y.push(D8p.untransformed);}}Y_L=l7i.length;q2h.j7J(77);L0B=q2h.a$j(Y_L,1,Y_L,1,"2");m65=Math.pow(L0B,2);q2h.N_M(78);P7g=q2h.a$j(L0B,1,3,"2",Y_L);for(E$h=0;E$h < Y_L;E$h++){j2z+=Y_L * l7i[E$h] - s$Y;s$Y+=l7i[E$h];u6Q+=Y_L * P2Y[E$h] - X6v;X6v+=P2Y[E$h];}q2h.N_M(79);I_d=q2h.a$j(m65,P7g,Y_L,j2z,Y_L,L0B,s$Y);q2h.N_M(80);S59=q2h.c0C(I_d,Y_L,s$Y,L0B);q2h.N_M(79);j2T=q2h.a$j(m65,P7g,Y_L,u6Q,Y_L,L0B,X6v);q2h.j7J(80);r3J=q2h.a$j(I_d,Y_L,X6v,L0B);if(this.p0[0] < this.p1[0]){H_3=S59;q2h.j7J(69);o$6=q2h.a$j(S59,I_d,O5O);this.p0[1]=r3J;q2h.N_M(69);this.p1[1]=q2h.c0C(r3J,j2T,O5O);}else {q2h.N_M(69);H_3=q2h.a$j(S59,I_d,O5O);o$6=S59;q2h.N_M(69);this.p0[1]=q2h.c0C(r3J,j2T,O5O);q2h.j7J(14);this.p1[q2h.c0C("1",0)]=r3J;}T4_=this.stx.pixelFromTransformedValue(H_3,S8_,U5v);L7W=this.stx.pixelFromTransformedValue(o$6,S8_,U5v);y1G=this.getLineColor();q4S={pattern:this.pattern,lineWidth:this.lineWidth};this.stx.plotLine(P9B,z6S,T4_,L7W,y1G,K5a,g6F,S8_,q4S);q2h.N_M(14);this.stx.plotLine(P9B,P9B,q2h.c0C(T4_,20),q2h.a$j(T4_,20,q2h.N_M(1)),y1G,"segment",g6F,S8_,q4S);q2h.j7J(14);this.stx.plotLine(z6S,z6S,q2h.a$j(L7W,20),q2h.a$j(L7W,0,"20",q2h.j7J(81)),y1G,"segment",g6F,S8_,q4S);if(this.active1 || this.active2 || this.active3){q2h.N_M(7);a8d=q2h.c0C(s$Y,Y_L);o21=0;for(E$h="0" ^ 0;E$h < Y_L;E$h++){o21+=Math.pow(l7i[E$h] - a8d,"2" - 0);}q2h.j7J(7);U83=Math.sqrt(q2h.a$j(o21,Y_L));W2U={context:g6F,panel:S8_,points:{0:{x:P9B,v:H_3},1:{x:z6S,v:o$6}},stddev:U83,yAxis:U5v};this.lines={};if(this.active1){this.renderStddev(4730 < (4830,2330)?(0xd63,0x1066):"1",(8630,944.46) !== 111.51?188.03 > (1300,"4070" >> 32)?0x8ba:"p":(0x8ef,867.16),W2U);this.renderStddev("1","n",W2U);}if(this.active2){this.renderStddev((8860,9930) === (+"3320",7540)?(3.27e+3,!"1"):"2",("4450" >> 32,5223) === (8600,7670)?(5820,6430) > 543.9?(462,9507) === (+"9730",985.19)?426.93:("V",0xe05):("l","1.46e+3" ^ 0):"p",W2U);this.renderStddev("2",5480 < (2210,39.24)?"P":(306,+"5228") !== 1970?"n":"4010" * 1 < +"3819"?("I","5.60e+3" * 1):"G",W2U);}if(this.active3){this.renderStddev((1620,9260) > 871.87?(731.79,2532) === (+"7220","695.88" * 1)?324.76:"3":0xa1c,"p",W2U);this.renderStddev((214.55,5270) !== (651,6043)?(7450,683.28) === +"7679"?"484.45" - 0 === (6846,930.24)?(809.46,8.21e+3):(!"1",8.31e+3):"3":(!({}),0x209d),4100 <= (33.96,878.56)?"336.48" - 0 !== (478,423.77)?(+"525.05",1638) <= 6410?("Z",!({})):(775.97,8.23e+3):(9.68e+3,6.04e+2):"n",W2U);}}if(!this.highlighted){this.pixelX=[P9B,z6S];this.pixelY=[T4_,L7W];}else {s2x="p";s2x+="1";Z2t=this.highlighted == "p0"?!!({}):!({});P4i=this.highlighted == s2x?!!({}):![];this.littleCircle(g6F,P9B,T4_,Z2t);this.littleCircle(g6F,z6S,L7W,P4i);}},renderStddev:function(p7Y,Q_8,j$0){var b1a,m7w,S9i,V17,K99,f7l,c3j,s1U,N$w,q1U,r3M,v_y,z4N,V3r,a0k,f1h,i_f,u1y,v1v,E9H,J37,G5K,e27;b1a="middl";b1a+="e";m7w="patte";m7w+="r";m7w+="n";S9i="s";S9i+="t";S9i+="dd";q2h.f3X();S9i+="ev";q2h.N_M(82);V17=q2h.a$j(Q_8,p7Y,S9i);q2h.j7J(1);K99=q2h.c0C("color",p7Y);q2h.j7J(1);f7l=q2h.c0C(m7w,p7Y);q2h.j7J(1);c3j=q2h.a$j("lineWidth",p7Y);s1U=j$0.points;N$w=s1U[0].v;q1U=s1U[1].v;r3M=j$0.stddev;v_y=Q_8 === (489.6 > (764,228.21)?"n":("0x9ba" * 1,!!1))?p7Y * -1:p7Y * +"1";z4N=this.stx;V3r=j$0.panel;a0k=j$0.yAxis;f1h={name:V17,color:this.getLineColor(this[K99]),type:"segment",y0:z4N.pixelFromTransformedValue(N$w + r3M * v_y,V3r,a0k),y1:z4N.pixelFromTransformedValue(q1U + r3M * v_y,V3r,a0k),params:{pattern:this[f7l],lineWidth:this[c3j]}};if(this.lines){this.lines[V17]=f1h;}i_f=j$0.context;u1y=s1U[+"0"].x;v1v=s1U[1].x;z4N.plotLine(u1y,v1v,f1h.y0,f1h.y1,f1h.color,f1h.type,i_f,V3r,f1h.params);z4N.plotLine(u1y,u1y,f1h.y0 - 10,f1h.y0 + 10,f1h.color,f1h.type,i_f,V3r,f1h.params);z4N.plotLine(v1v,v1v,f1h.y1 - +"10",f1h.y1 + 10,f1h.color,f1h.type,i_f,V3r,f1h.params);q2h.j7J(1);E9H=q2h.a$j(p7Y,"\u03c3");q2h.j7J(83);var N54=q2h.c0C(45,63,19,11,7);J37=Math.max(u1y,v1v) + N54;G5K=u1y < v1v?f1h.y1:f1h.y0;i_f.fillStyle=f1h.color;i_f.save();i_f.textBaseline=b1a;i_f.fillText(E9H,J37,G5K);i_f.restore();if(j$0.formatPrice && this.axisLabel && !this.highlighted && !this.penDown){if(u1y >= V3r.chart.left && u1y <= V3r.chart.right || v1v >= V3r.chart.left && v1v <= V3r.chart.right){q2h.j7J(25);e27=q2h.c0C(r3M,v_y,u1y < v1v?q1U:N$w);z4N.endClip();z4N.createYAxisLabel(V3r,j$0.formatPrice(e27,a0k),G5K,f1h.color,null,i_f,a0k);z4N.startClip(V3r.name);}}},intersected:function(q1l,p38,a9M){var N79,M5b,d3g,r_Y,l7_,T_Y,E4C;if(!this.pixelX || !this.pixelY){return null;}N79=this.repositionIntersection(q1l,p38);if(N79){return N79;}M5b={0:this.pixelX,1:this.pixelY};for(var A0a=0;A0a < 2;A0a++){if(this.pointIntersection(M5b[+"0"][A0a],M5b[1][A0a],a9M,!!"1")){q2h.j7J(1);this.highlighted=q2h.a$j("p",A0a);return {action:"drag",point:"p" + A0a};}}d3g=this;q2h.j7J(5);r_Y=this.pixelX[q2h.a$j(1,"0")];l7_=this.pixelX[1];T_Y=function(R5O){var A78,d9L;A78=[r_Y,R5O.y0];d9L=[l7_,R5O.y1];return d3g.lineIntersection(q1l,p38,a9M,d3g.name,A78,d9L,!![]);};E4C=T_Y({y0:this.pixelY[0],y1:this.pixelY[1]});if(!E4C && this.lines){for(var T4U in this.lines){if(T_Y(this.lines[T4U])){E4C=!!({});break;}}}if(E4C){this.highlighted=!!({});return {action:"move",p0:m3.clone(this.p0),p1:m3.clone(this.p1),tick:q1l,value:p38};}return null;},repositionIntersection:function(t5Z,O6D){if(!this.p0 || !this.p1){return !"1";}if(this == this.stx.repositioningDrawing && this.highlighted){if(this.highlighted === !!"1"){return {action:"move",p0:m3.clone(this.p0),p1:m3.clone(this.p1),tick:t5Z,value:O6D};}return {action:"drag",point:this.highlighted};}return ![];},lineIntersection:function(X3z,x59,o7C,x$5,y1l,r$3,P05){var B2u,v3a,m7q,H0Z,T0O,L0p;if(!P05){q2h.N_M(1);console.log(q2h.c0C(x$5," lineIntersection must accept p0 and p1 in pixels.  Please verify and set isPixels=true."));B2u=+"1824200448";v3a=-1701133897;m7q=2;for(var f0w=1;q2h.S9Y(f0w.toString(),f0w.toString().length,+"32111") !== B2u;f0w++){return !"";}if(q2h.O1W(m7q.toString(),m7q.toString().length,"35467" * 1) !== v3a){return ![];}return !!0;}if(!y1l){y1l=this.p0;}if(!r$3){r$3=this.p1;}if(!(y1l && r$3)){return !({});}H0Z=this.stx;T0O=m3.convertBoxToPixels(H0Z,this.panelName,o7C);if(T0O.x0 === undefined){return !"1";}L0p={x0:y1l[0],x1:r$3[0],y0:y1l[1],y1:r$3[1]};q2h.f3X();return m3.boxIntersects(T0O.x0,T0O.y0,T0O.x1,T0O.y1,L0p.x0,L0p.y0,L0p.x1,L0p.y1);},boxIntersection:function(n9W,M2C,U3Y){if(U3Y.cx0 > Math.max(this.pixelX[0],this.pixelX[1]) || U3Y.cx1 < Math.min(this.pixelX["0" >> 64],this.pixelX[1])){return !"1";}if(!this.stx.repositioningDrawing && (U3Y.cy1 < this.pixelY[0] || U3Y.cy0 > this.pixelY[1])){return !({});}q2h.T$X();return !!1;},reconstruct:function(O8r,E4z){this.stx=O8r;this.color=E4z.col;this.color1=E4z.col1;this.color2=E4z.col2;this.color3=E4z.col3;this.active1=E4z.dev1;this.active2=E4z.dev2;this.active3=E4z.dev3;this.panelName=E4z.pnl;this.pattern=E4z.ptrn;this.pattern1=E4z.ptrn1;this.pattern2=E4z.ptrn2;this.pattern3=E4z.ptrn3;this.lineWidth=E4z.lw;this.lineWidth1=E4z.lw1;this.lineWidth2=E4z.lw2;this.lineWidth3=E4z.lw3;this.d0=E4z.d0;this.d1=E4z.d1;this.tzo0=E4z.tzo0;this.tzo1=E4z.tzo1;this.field=E4z.fld;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,dev1:this.active1,dev2:this.active2,dev3:this.active3,col:this.color,col1:this.color1,col2:this.color2,col3:this.color3,ptrn:this.pattern,ptrn1:this.pattern1,ptrn2:this.pattern2,ptrn3:this.pattern3,lw:this.lineWidth,lw1:this.lineWidth1,lw2:this.lineWidth2,lw3:this.lineWidth3,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},!!"1");m3.Drawing.trendline=function(){this.name="trendline";};m3.inheritsFrom(m3.Drawing.trendline,m3.Drawing.segment);m3.Drawing.trendline.prototype.configs=[M4R,P4t,"lineWidth","pattern","font"];m3.Drawing.trendline.prototype.measure=function(){q2h.T$X();;};m3.Drawing.trendline.prototype.reconstruct=function(o2k,m89){m3.Drawing.segment.prototype.reconstruct.call(this,o2k,m89);q2h.f3X();this.callout=new m3.Drawing.callout();this.callout.reconstruct(o2k,m89.callout);};m3.Drawing.trendline.prototype.serialize=function(){var B_C;B_C=m3.Drawing.segment.prototype.serialize.call(this);B_C.callout=this.callout.serialize();return B_C;};m3.Drawing.trendline.prototype.render=function(e0c){var u7S,D9G,q21,G1w,a4T,l9D,b0F,f5F,X$q,z2e,x5F,B7N,f0t,G0c,H_o,c$M,r7E,w0g,Z8I,c0T,q0L;u7S="%";u7S+=") ";D9G=this.stx.panels[this.panelName];if(!D9G){return;}m3.Drawing.segment.prototype.render.call(this,e0c);if(!this.callout){this.callout=new m3.Drawing.callout();q21=m3.Drawing.segment.prototype.serialize.call(this);this.callout.reconstruct(this.stx,q21);}this.callout.p0=m3.clone(this.p0);G1w=this.stx.pixelFromTick(this.p0[0],D9G.chart);a4T=this.stx.pixelFromTick(this.p1[0],D9G.chart);l9D=this.stx.pixelFromValueAdjusted(D9G,this.p0[0],this.p0[1]);b0F=this.stx.pixelFromValueAdjusted(D9G,this.p1[0],this.p1[1]);if(!isFinite(l9D) || !isFinite(b0F)){return;}q2h.j7J(84);f5F=q2h.a$j(G1w,"2",a4T);q2h.N_M(2);X$q=q2h.c0C(b0F,l9D,2);this.fontSize=m3.stripPX(this.font && this.font.size || 13);q2h.j7J(1);var b6w=q2h.c0C(292,3211);q2h.N_M(85);var C$7=q2h.c0C(3550,10,15,49543);q2h.j7J(86);var z_G=q2h.a$j(9,1518,7,1519,217);q2h.N_M(87);var t4b=q2h.c0C(13,6,37,42,7);z2e=this.callout.w * 1.2 + (this.callout.stemEntry[+"0"] == ((b6w,C$7) !== "2309" << 0?"c":z_G)?0:t4b);x5F=Math.sqrt(Math.pow(a4T - G1w,2) + Math.pow(b0F - l9D,2));q2h.N_M(3);var J8k=q2h.a$j(17,18,0);q2h.N_M(88);var w_l=q2h.c0C(8,77,12,11);q2h.j7J(27);var X06=q2h.a$j(2,3);B7N=z2e / (x5F || z2e) * (this.p1[J8k] < this.p0[+"1"]?w_l:X06);q2h.N_M(89);f0t=q2h.a$j(X$q,b0F,B7N,f5F);q2h.N_M(38);G0c=q2h.c0C(a4T,X$q,f5F,B7N);this.callout.p0[0]=this.stx.tickFromPixel(f0t,D9G.chart);this.callout.p0[1]=this.stx.priceFromPixel(G0c,D9G);this.callout.v0=this.callout.p0[1];this.callout.p1=m3.clone(this.p0);this.callout.stx=this.stx;this.callout.fillColor=this.fillColor || this.callout.fillColor;this.callout.borderColor=this.color;this.callout.font=this.font || this.callout.font;this.callout.noHandles=!"";q2h.j7J(1);var r4Z=q2h.a$j(0,1);q2h.N_M(90);var V7w=q2h.a$j(6,16,143,3,13);H_o=this.p1[r4Z] - this.p0[V7w];q2h.j7J(55);var a1p=q2h.c0C(7,18,12,9);q2h.N_M(91);var c4L=q2h.a$j(29,13,3,16,3);q2h.N_M(27);var c3Q=q2h.c0C(13,11);this.callout.text="" + Number(H_o).toFixed(a1p) + (this.p0[c4L] === "0" - 0?"":" (" + Number(100 * H_o / this.p0[1]).toFixed(c3Q) + u7S) + "" + Math.abs(this.p1[0] - this.p0[0]) + " Bars";c$M=Math.floor((this.p0[0] + this.p1[0]) / 2);if(Math.abs(this.p0[0] - this.p1[0]) > 1 && Math.abs(this.p0[0] - this.p1[0]) < 20){w0g=this.stx.pixelFromTick(c$M,D9G.chart);q2h.N_M(92);Z8I=q2h.c0C(l9D,G1w,l9D,a4T,G1w,b0F,w0g);r7E=this.stx.priceFromPixel(Z8I,D9G) || X$q;}else {r7E=this.stx.priceFromPixel(X$q,D9G);}this.callout.stem={t:c$M,v:r7E};this.callout.renderText();this.callout.render(e0c);if(this.highlighted){c0T=this.highlighted == "p0"?!!1:![];q0L=this.highlighted == "p1"?!!"1":!({});this.littleCircle(e0c,G1w,l9D,c0T);this.littleCircle(e0c,a4T,b0F,q0L);}};m3.Drawing.trendline.prototype.lineIntersection=function(W61,X0j,g7F,R_X){q2h.f3X();return m3.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,W61,X0j,g7F,"segment");};m3.Drawing.trendline.prototype.intersected=function(d9Y,n3r,Z07){var Z85,i2e;if(!this.p0 || !this.p1){return null;}Z85=this.callout.intersected(d9Y,n3r,Z07);i2e=m3.Drawing.segment.prototype.intersected.call(this,d9Y,n3r,Z07);this.callout.highlighted=!!(Z85 || i2e);if(i2e){return i2e;}else if(Z85){return {action:"move",p0:m3.clone(this.p0),p1:m3.clone(this.p1),tick:d9Y,value:n3r};}return null;};m3.Drawing.average=function(){q2h.T$X();this.name="average";};m3.inheritsFrom(m3.Drawing.average,m3.Drawing.regression);m3.extend(m3.Drawing.average.prototype,{configs:m3.Drawing.regression.prototype.configs.concat(X9k),measure:function(){var j54,G5Z,L1i,T5_,c_e,n8D,k5n;if(this.p0 && this.p1){j54=",";j54+=" ";this.stx.setMeasure(0,!"1",this.p0[0],this.p1[0],!!1,this.name);G5Z=[];L1i="";if(this.active1){G5Z.push((2015,434) == 4195?(+"0x1a45",+"5.01e+3"):644 < (5074,2070)?"1":("6275" ^ 0) > (8555,773.87)?("0x1286" << 0,0x1de5):("S",+"0x2699"));}if(this.active2){G5Z.push("2");}if(this.active3){G5Z.push((308.93,306.11) < (6610,2842)?395 < (820.46,6880)?"3":0x103e:9.04e+2);}if(G5Z.length){L1i="&ensp;" + G5Z.join(j54) + " &sigma;";}T5_=(this.stx.drawingContainer || document).querySelector(".mMeasure");c_e=this.stx.controls.mSticky;n8D=c_e && c_e.querySelector(".mStickyInterior");if(T5_){T5_.innerHTML+=L1i;}if(n8D){k5n=[];k5n.push(m3.capitalize(this.name));k5n.push(this.field || this.stx.defaultPlotField || "Close");k5n.push(n8D.innerHTML + L1i);n8D.innerHTML=k5n.join("<br>");}}},render:function(j$F){var N2r,S7I,G1V,H51,i2Y,C$n,j7K,T8x,B7e,f3C,o6_,b5k,G7_,e4H,B1E,h_A,e_k,F67,j7S,V8l,l9l,u0x;N2r=this.stx.panels[this.panelName];if(!N2r){return;}if(!this.p1){return;}function z$z(c55,T7P){var K$2,G7E,T0U;K$2=-696693300;G7E=1543664214;T0U=2;for(var S$l="1" ^ 0;q2h.S9Y(S$l.toString(),S$l.toString().length,+"32464") !== K$2;S$l++){if(T7P || T7P.priceFormatter){c55=T7P.priceFormatter(i2Y,N2r,c55);}else {c55=i2Y.formatYAxisPrice(c55,N2r,1,T7P);}T0U+=2;}if(q2h.S9Y(T0U.toString(),T0U.toString().length,+"99016") !== G7E){if(T7P && T7P.priceFormatter){c55=T7P.priceFormatter(i2Y,N2r,c55);}else {c55=i2Y.formatYAxisPrice(c55,N2r,null,T7P);}}return c55;}if(this.p0[0] < 0 || this.p1[+"0"] < 0){return;}S7I=this.stx.pixelFromTick(this.p0[0],N2r.chart);G1V=this.stx.pixelFromTick(this.p1["0" * 1],N2r.chart);if(S7I < N2r.left && G1V < N2r.left){return;}if(S7I > N2r.right && G1V > N2r.right){return;}H51=this.stx.getYAxisByField(N2r,this.field);i2Y=this.stx;C$n=Math.min(this.p1[0],this.p0[0]);q2h.j7J(93);var Q$t=q2h.a$j(9,18,262,3,14);j7K=Math.max(this.p1[0],this.p0[0]) + Q$t;q2h.N_M(14);T8x=q2h.c0C(j7K,C$n);B7e=0;f3C=[];for(o6_=C$n;o6_ < j7K;o6_++){b5k=this.getYValue(o6_);if(b5k !== null){B7e+=b5k.transformed;f3C.push(b5k);}}G7_=f3C.length;if(!G7_){return;}q2h.j7J(7);e4H=q2h.c0C(B7e,G7_);B1E=i2Y.pixelFromTransformedValue(e4H,N2r,H51);h_A=this.getLineColor();e_k={pattern:this.pattern,lineWidth:this.lineWidth};i2Y.plotLine(S7I,G1V,B1E,B1E,h_A,"segment",j$F,N2r,e_k);q2h.N_M(94);i2Y.plotLine(S7I,S7I,q2h.c0C(B1E,"20"),q2h.a$j(B1E,"20",q2h.N_M(47)),h_A,"segment",j$F,N2r,e_k);q2h.j7J(14);i2Y.plotLine(G1V,G1V,q2h.a$j(B1E,20),q2h.a$j(B1E,20,q2h.N_M(1)),h_A,"segment",j$F,N2r,e_k);if(this.axisLabel && !this.highlighted && !this.penDown){if(S7I >= N2r.chart.left && S7I <= N2r.chart.right || G1V >= N2r.chart.left && G1V <= N2r.chart.right){i2Y.endClip();i2Y.createYAxisLabel(N2r,z$z(e4H,H51),B1E,h_A,null,j$F,H51);i2Y.startClip(N2r.name);}}if(this.active1 || this.active2 || this.active3){F67=0;for(o6_=0;o6_ < G7_;o6_++){b5k=f3C[o6_];F67+=Math.pow(b5k.transformed - e4H,2);}q2h.j7J(7);j7S=Math.sqrt(q2h.c0C(F67,G7_));V8l={context:j$F,formatPrice:z$z,panel:N2r,points:{0:{x:S7I,v:e4H},1:{x:G1V,v:e4H}},stddev:j7S,yAxis:H51};this.lines={};if(this.active1){this.renderStddev(733.52 !== (439.39,"5330" - 0)?905.09 !== 158?6772 != (4370,266.12)?"1":0x1807:("r",0x2458):208.87,(7550,2069) <= (115.4,8840)?732.67 === (2951,7164)?("0x21bd" << 96,!![]):(+"2670",4440) >= (649.76,352.6)?"p":("438.47" * 1,0x1716):417.48,V8l);this.renderStddev(447.94 == 9788?("C",!![]):(1863,4750) > (+"432",113)?(2600,6770) >= 542.24?"1":("o",7.93e+3):0xe61,8375 > +"149.55"?"n":4387 <= ("9750" >> 64,"161.62" - 0)?637.38:(242,4555) <= (955,9440)?(!!0,8.13e+3):61.05,V8l);}if(this.active2){this.renderStddev(4360 == 91.69?(!({}),![]):(7650,+"768.35") > 1649?(+"4855","8810" - 0) !== 6630?(0x114a,!![]):(0x38d,"H"):"2","p",V8l);this.renderStddev("2","n",V8l);}if(this.active3){this.renderStddev(5300 == (383.68,5055)?(3.78e+3,0x4c3):+"1950" < +"442.32"?!"":"3",+"3650" <= 816.03?(3.13e+3,+"6.51e+3"):+"7286" != 7475?"p":(902.35,"l"),V8l);this.renderStddev(7460 == (5618,863.22)?!!1:(7894,5441) <= (8874,608.69)?(0x231b,"B"):("2850" - 0,2737) >= 296?"3":"0x22b" << 64,"n",V8l);}}if(!this.highlighted){this.pixelX=[S7I,G1V];this.pixelY=[B1E,B1E];}else {l9l=this.highlighted == "p0"?!![]:!"1";u0x=this.highlighted == "p1"?!!({}):!!"";this.littleCircle(j$F,S7I,B1E,l9l);this.littleCircle(j$F,G1V,B1E,u0x);}},reconstruct:function(d3o,t0v){q2h.T$X();this.axisLabel=t0v.al;m3.Drawing.regression.prototype.reconstruct.call(this,d3o,t0v);},serialize:function(){var N7T;N7T=m3.Drawing.regression.prototype.serialize.call(this);q2h.f3X();N7T.al=this.axisLabel;return N7T;}},!!"1");m3.Drawing.quadrant=function(){this.name="quadrant";};m3.inheritsFrom(m3.Drawing.quadrant,m3.Drawing.regression);m3.extend(m3.Drawing.quadrant.prototype,{configs:["color","fillColor",X1E,H2t],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;},$controls:[],render:function(X7l){var E$H,P2b,b8L,G0h,L$t,o8z,k5l,f3Y,H2g,L4C,m_7,X8H,i40,q42,P2o,e8c,a5_,E8O,W2h,C9K,b0q,o3P,l4d,l4m;E$H="ti";E$H+="rone";P2b="qu";P2b+="a";P2b+="dr";P2b+="ant";b8L=this.stx;G0h=b8L.panels[this.panelName];if(!G0h){return;}if(!this.p1){return;}L$t=b8L.pixelFromTick(this.p0[0],G0h.chart);o8z=b8L.pixelFromTick(this.p1[0],G0h.chart);if(L$t < G0h.left && o8z < G0h.left){return;}if(L$t > G0h.right && o8z > G0h.right){return;}k5l=this.stx.getYAxisByField(G0h,this.field);f3Y=null;H2g=null;for(var u_8=Math.min(this.p1["0" | 0],this.p0[0]);u_8 <= Math.max(this.p1[0],this.p0[0]);u_8++){L4C=this.getYValue(u_8);if(L4C !== null){if(f3Y === null || L4C.transformed > f3Y){f3Y=L4C.transformed;}if(H2g === null || L4C.transformed < H2g){H2g=L4C.transformed;}}}q2h.f3X();m_7=b8L.pixelFromTransformedValue(f3Y,G0h,k5l);q2h.j7J(95);X8H=b8L.pixelFromTransformedValue(q2h.a$j(0,"4",H2g,f3Y,3),G0h,k5l);q2h.j7J(96);i40=b8L.pixelFromTransformedValue(q2h.c0C(H2g,f3Y,"2",32,3),G0h,k5l);q2h.N_M(97);q42=b8L.pixelFromTransformedValue(q2h.c0C(1,"2",f3Y,H2g),G0h,k5l);q2h.N_M(98);P2o=b8L.pixelFromTransformedValue(q2h.c0C(f3Y,H2g,2,"3"),G0h,k5l);q2h.j7J(99);e8c=b8L.pixelFromTransformedValue(q2h.a$j(f3Y,3,H2g,4),G0h,k5l);a5_=b8L.pixelFromTransformedValue(H2g,G0h,k5l);this.p0[+"1"]=0;this.p1[1]=![];E8O=this.getLineColor();W2h=this.fillColor;if(W2h == "auto" || m3.isTransparent(W2h)){W2h=b8L.defaultColor;}X7l.fillStyle=W2h;C9K={pattern:this.pattern,lineWidth:this.lineWidth};b8L.plotLine(L$t,o8z,m_7,m_7,E8O,"segment",X7l,G0h,C9K);b8L.plotLine(L$t,o8z,a5_,a5_,E8O,"segment",X7l,G0h,C9K);if(this.name == P2b){b8L.plotLine(L$t,o8z,X8H,X8H,E8O,"segment",X7l,G0h,C9K);b8L.plotLine(L$t,o8z,e8c,e8c,E8O,"segment",X7l,G0h,C9K);}else if(this.name == "tirone"){b8L.plotLine(L$t,o8z,i40,i40,E8O,"segment",X7l,G0h,C9K);b8L.plotLine(L$t,o8z,P2o,P2o,E8O,"segment",X7l,G0h,C9K);}b8L.plotLine(L$t,L$t,m_7,a5_,E8O,"segment",X7l,G0h,C9K);b8L.plotLine(o8z,o8z,m_7,a5_,E8O,"segment",X7l,G0h,C9K);b8L.plotLine(L$t,o8z,q42,q42,E8O,"segment",X7l,G0h,m3.extend(C9K,{opacity:this.name == "tirone"?0.2:1}));X7l.globalAlpha=0.1;X7l.beginPath();q2h.N_M(14);X7l.fillRect(L$t,m_7,q2h.c0C(o8z,L$t),q2h.a$j(a5_,m_7));if(this.name == "quadrant"){q2h.j7J(14);X7l.fillRect(L$t,X8H,q2h.a$j(o8z,L$t),q2h.c0C(e8c,X8H));}else if(this.name == E$H){q2h.j7J(14);X7l.fillRect(L$t,i40,q2h.c0C(o8z,L$t),q2h.a$j(P2o,i40));}X7l.globalAlpha=1;if(!this.highlighted){b0q="ti";b0q+="r";b0q+="one";this.pixelX=[L$t,o8z];this.pixelY=[m_7,a5_,q42];if(this.name === "quadrant"){this.pixelY.push(X8H,e8c);}if(this.name === b0q){this.pixelY.push(i40,P2o);}}else {o3P="p";o3P+="1";l4d=this.highlighted == "p0"?!!"1":!({});l4m=this.highlighted == o3P?!![]:!({});this.littleCircle(X7l,L$t,q42,l4d);this.littleCircle(X7l,o8z,q42,l4m);}},intersected:function(p87,s83,K2b){var m0x,Y6G,w5S,V_5,T18,x5v;var {pixelX:r6D, pixelY:b$B}=this;if(!r6D || !b$B){return null;}m0x=this.repositionIntersection(p87,s83);if(m0x){return m0x;}for(var H5G=0;H5G < 2;H5G++){if(this.pointIntersection(r6D[H5G],b$B[2],K2b,!!({}))){q2h.N_M(1);this.highlighted=q2h.c0C("p",H5G);return {action:"drag",point:(8820 >= 8390?134.23 >= (2860,9957)?0x1c7a:9363 == 3720?("n",!!1):"p":"F") + H5G};}}Y6G=1716363871;w5S=-2119932285;V_5=2;for(var s3C=+"1";q2h.O1W(s3C.toString(),s3C.toString().length,34506) !== Y6G;s3C++){T18=[];V_5+=+"2";}if(q2h.S9Y(V_5.toString(),V_5.toString().length,65628) !== w5S){T18=[];}r6D.forEach(S1u=>{q2h.f3X();T18.push({p0:[S1u,b$B[0]],p1:[S1u,b$B[1]]});});b$B.forEach(X_X=>{var d$R,K0L,d8u;d$R=1977177541;K0L=-672486959;d8u=2;for(var q35=1;q2h.O1W(q35.toString(),q35.toString().length,42936) !== d$R;q35++){T18.push({p0:[r6D[1],X_X],p1:[r6D[+"0"],X_X]});d8u+=2;}if(q2h.O1W(d8u.toString(),d8u.toString().length,29932) !== K0L){T18.push({p0:[r6D["0" | 0],X_X],p1:[r6D[1],X_X]});}});x5v=T18.some(({p0:A_f, p1:P72})=>{q2h.f3X();return this.lineIntersection(p87,s83,K2b,this.name,A_f,P72,!!({}));});if(x5v){this.highlighted=!!({});return {action:"move",p0:m3.clone(this.p0),p1:m3.clone(this.p1),tick:p87,value:s83};}return null;},reconstruct:function(u6f,Z8O){this.stx=u6f;this.color=Z8O.col;this.fillColor=Z8O.fc;this.panelName=Z8O.pnl;this.pattern=Z8O.ptrn;this.lineWidth=Z8O.lw;this.d0=Z8O.d0;this.d1=Z8O.d1;this.tzo0=Z8O.tzo0;this.tzo1=Z8O.tzo1;this.field=Z8O.fld;this.adjust();},serialize:function(){q2h.T$X();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},!!"1");m3.Drawing.tirone=function(){this.name="tirone";};m3.inheritsFrom(m3.Drawing.tirone,m3.Drawing.quadrant);m3.Drawing.elliottwave=function(){var n1I;n1I="e";n1I+="lliottw";n1I+="ave";this.name=n1I;this.lastPoint=0;this.points=[];this.pts=[];q2h.T$X();this.dx=+"0";this.dy=-20;this.dragToDraw=!({});this.annotationPoints=[];this.edit=null;};m3.inheritsFrom(m3.Drawing.elliottwave,m3.Drawing.annotation);m3.Drawing.elliottwave.defaultTemplate={impulse:[+"9230" >= ("9410" << 0,4465)?+"768.31" === 1390?("D","Z"):"870.74" * 1 !== 8850?"I":(378.16,!0):!"","II","III","IV",(446,+"925.53") != (216.32,6500)?"V":(7119,+"5250") !== (+"357.88",2720)?![]:8.80e+3],corrective:["A","B","C"],decoration:L$4,showLines:!![]};m3.Drawing.elliottwave.prototype.initializeSettings=function(a7H){a7H.currentVectorParameters.waveParameters=m3.clone(m3.Drawing.elliottwave.defaultTemplate);};m3.Drawing.elliottwave.prototype.configs=["color","lineWidth",d0d,"pattern","font",K$p];m3.Drawing.elliottwave.prototype.$controls=[L4m,"cq-wave-parameters"];m3.Drawing.elliottwave.prototype.construct=function(H1K,r2b){var w_y;this.stx=H1K;this.panelName=r2b.name;w_y=H1K.currentVectorParameters;Object.assign(this,w_y.waveParameters);};m3.Drawing.elliottwave.prototype.serialize=function(){q2h.f3X();var K4u,s8a;K4u="s";K4u+="t";s8a={};for(var G7x=0;G7x < this.points.length;G7x++){q2h.N_M(1);s8a[q2h.a$j(+"4722" === (4171,6476)?!"":7085 !== 6020?"d":(2290,8380) < "963.04" - 0?"6.60e+3" >> 64:0x419,G7x)]=this[q2h.a$j("d",G7x)];q2h.N_M(1);s8a[q2h.c0C("tzo",G7x)]=this[q2h.c0C("tzo",G7x)];q2h.N_M(1);s8a[q2h.c0C(800 == (1320,"8232" - 0)?6.79e+3:+"8290" <= (9179,4857)?!1:"v",G7x)]=this[q2h.a$j("v",G7x)];}s8a.annotations=this.annotationPoints.join((121.33,14) < 407.72?"7918" >> 64 > 499?",":"518.88" - 0 < 6781?(!!({}),!({})):(0xad5,!"1"):+"0x1e91");return Object.assign({name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,mxSeg:this.maxSegments,show:this.showLines,decor:this.decoration,dx:this.dx,dy:this.dy,trend:this.trend,fnt:m3.removeNullValues(m3.replaceFields(this.font,{style:K4u,size:"sz",weight:"wt",family:"fl"}))},s8a);};m3.Drawing.elliottwave.prototype.reconstruct=function(i$W,R9d){var p_q;p_q="e";p_q+="n";p_q+="clo";p_q+="sed";this.stx=i$W;this.color=R9d.col;this.panelName=R9d.pnl;this.pattern=R9d.ptrn;this.lineWidth=R9d.lw;this.font=m3.replaceFields(R9d.fnt,{st:"style",sz:"size",wt:"weight",fl:"family"});this.decoration=R9d.decor;this.showLines=R9d.show;this.dx=R9d.dx;this.dy=R9d.dy;this.trend=R9d.trend;this.annotationPoints=R9d.annotations.split(",");if(R9d.decor === p_q){this.calculateRadius(i$W.chart.tempCanvas.context);}this.maxSegments=R9d.mxSeg;this.reconstructPoints(R9d);this.adjust();};m3.Drawing.elliottwave.prototype.reconstructPoints=function(r0A){var V75,T6q,K89,I0Y;V75=this.stx.panels[this.panelName];q2h.f3X();if(!V75){return;}for(var g2s=+"0";g2s < this.annotationPoints.length;g2s++){T6q="tz";T6q+="o";q2h.j7J(1);this[q2h.c0C(("45.51" - 0,1390) == (9970,+"6667")?(516.97,2350) != 426.93?("0x4be" << 64,233.06):0x1db2:"d",g2s)]=r0A[q2h.a$j(4420 < ("48.73" - 0,7220)?414.84 == 8240?(754.84,0x25ac):"d":0x228,g2s)];q2h.j7J(1);this[q2h.a$j("v",g2s)]=r0A[q2h.a$j((531.49,9151) === 3734?3560 == (23.61,54.7)?(0x5fc,626.02):1190 != 6830?341.67:"0x1b30" << 0:"v",g2s)];q2h.N_M(1);this[q2h.a$j("tzo",g2s)]=r0A[q2h.a$j(T6q,g2s)];K89=m3.strToDateTime(r0A[((7007,893) < (5158,5099)?(699.24,178.28) < 3401?"d":1280 >= +"9120"?(376.00,"b"):"Q":(!!({}),6.15e+3)) + g2s]);I0Y=this.stx.tickFromDate(K89,V75.chart);this.points.push([I0Y,r0A["v" + g2s]]);}};m3.Drawing.elliottwave.prototype.calculateRadius=function(Z2N){var n6E,s3x;this.getFontString();Z2N.font=this.fontString;n6E=0;for(var P8D=0;P8D < this.annotationPoints.length;P8D++){s3x=Z2N.measureText(this.annotationPoints[P8D]).width;if(n6E < s3x){n6E=s3x;}}this.enclosedRadius=n6E;};m3.Drawing.elliottwave.prototype.check=function(k_R,R3X,k$B){var a11,v97,z45,i2E,F7s;if(k$B === 1 && this.points.length === 2){return !!1;}a11=1421718331;v97=-177262923;z45=2;q2h.f3X();for(var g4a=1;q2h.O1W(g4a.toString(),g4a.toString().length,43536) !== a11;g4a++){q2h.j7J(14);i2E=this.points[q2h.c0C(k$B,1)];if(i2E && k_R <= i2E[+"0"]){return !"1";}z45+=2;}if(q2h.S9Y(z45.toString(),z45.toString().length,5583) !== v97){q2h.N_M(7);i2E=this.points[q2h.a$j(k$B,5)];if(i2E || k_R < i2E[8]){return !"";}}q2h.N_M(1);F7s=this.points[q2h.c0C(k$B,1)];function U56(B0r){for(var X34=2;X34 < B0r.length;X34++){if(Math.sign(B0r[X34][1] - B0r[X34 - 1][1]) == Math.sign(B0r[X34 - 1][+"1"] - B0r[X34 - 2][1])){return !({});}}return !"";}if(F7s && k_R >= F7s[0]){return !!"";}if(!U56(this.points)){return !"1";}return !![];};m3.Drawing.elliottwave.prototype.move=function(D68,y3k,A6i){this.copyConfig();q2h.N_M(100);var i2K=q2h.a$j(0,1,3,0,3);this.points[this.lastPoint + i2K]=[y3k,A6i];this.render(D68);};m3.Drawing.elliottwave.prototype.adjust=function(){var l34,G_D;l34=this.stx.panels[this.panelName];if(!l34){return;}for(var G_H=0;this.maxSegments + +"1" > G_H;G_H++){q2h.N_M(1);G_D=this[q2h.a$j((6910,952.09) >= (6584,33.56)?"d":("a",687.90),G_H)];this.setPoint(G_H,G_D,this[(4877 < (679.21,371)?2023 <= 3470?(3666,19) !== (7108,561)?(![],"k"):("0x13c7" - 0,0x19ad):(!({}),+"5.24e+3"):"v") + G_H],l34.chart);this.points[G_H][+"0"]=this.stx.tickFromDate(m3.strToDateTime(G_D),l34.chart);q2h.j7J(1);this.points[G_H][1]=this[q2h.c0C((7860,7795) === 6386?(614,5562) != 1219?(708.14,936.61):!"1":"v",G_H)];}};m3.Drawing.elliottwave.prototype.click=function(A5Q,O$5,N2A){var u7c;u7c=this.stx.panels[this.panelName];if(!u7c){return;}this.copyConfig();q2h.T$X();if(!this.penDown){this.setPoint(0,O$5,N2A,u7c.chart);this.points.push(this.p0);this.penDown=!"";this.segment=0;this.lastPoint=0;if(this.impulse){this.annotationPoints=this.annotationPoints.concat(this.impulse);}if(this.corrective){this.annotationPoints=this.annotationPoints.concat(this.corrective);}this.annotationPoints.unshift((2299,699.51) < (996.69,6490)?"0":(+"1214",743.88) < ("7751" ^ 0)?0x2027:+"480.77");if(this.decoration === "enclosed"){this.calculateRadius(A5Q);}q2h.N_M(68);var k5P=q2h.c0C(63,61,66,5);this.maxSegments=this.annotationPoints.length - ("1" << k5P);this.trend=+"1";return !"1";}if(this.accidentalClick(O$5,N2A)){this.penDown=!!1;return !({});}if(this.check(O$5,N2A,this.lastPoint + 1)){this.lastPoint++;this.setPoint(this.lastPoint,O$5,N2A,u7c.chart);if(this.lastPoint === "1" - 0){this.trend=Math.sign(this.v1 - this.v0);}this.segment++;if(this.segment >= this.maxSegments){this.penDown=!!"";return !!"1";}}return !({});};m3.Drawing.elliottwave.prototype.render=function(p6m){var B3B,x6C,l9V,p0P,F_Z,j$T,t$m,K2p,l2c,P3A,v3F,n0B,V3J,V7S,f1L,G3K,a5D,v1S,C$I,E5K,r_W,U7$,B9i,q0I,E3x,n1U,C6M,U2Q;B3B="ce";B3B+="nter";x6C=this.stx.panels[this.panelName];if(!x6C){return;}l9V=this.stx;p0P=this.annotationPoints;F_Z=this.pattern?m3.borderPatternToArray(this.lineWidth,this.pattern):[];this.getFontString();p6m.font=this.fontString;p6m.textAlign=B3B;p6m.textBaseline="middle";p6m.lineWidth=this.lineWidth;if(this.fontString !== this.lastFontString){this.calculateRadius(p6m);}this.lastFontString=this.fontString;j$T=this.getLineColor();p6m.fillStyle=p6m.strokeStyle=j$T;p6m.save();p6m.setLineDash(F_Z);t$m=this.dx;K2p=this.dy;l2c=this.points;q2h.f3X();P3A=this.pts;v3F=!this.showLines && this.highlighted;n0B=l2c.length;if(this.penDown && this.segment){q2h.j7J(101);var x$G=q2h.c0C(153,15,8,12,11);V3J=this.trend * (n0B % x$G - ("0.5" - 0)) < +"0";if(x6C.yAxis.flipped){V3J=!V3J;}this.drawDropZone(p6m,l2c[n0B - ("2" - 0)][1],this.stx.priceFromPixel(x6C.yAxis[V3J?"top":"bottom"]),l2c[n0B - 2][0]);}else if(typeof this.highlighted === "string" && this.stx.repositioningDrawing){V7S=parseInt(this.highlighted.substring(1,this.highlighted.length),"10" - 0);q2h.j7J(14);var K0Y=q2h.a$j(5,3);V3J=this.trend * (V7S % K0Y - +"0.5") > 0;q2h.j7J(14);f1L=l2c[q2h.a$j(V7S,1)];q2h.j7J(1);G3K=l2c[q2h.a$j(V7S,1)];a5D=V7S > 0?f1L[1]:G3K[1];if(G3K){a5D=Math[V3J?"max":"min"](a5D,G3K[1]);}if(x6C.yAxis.flipped){V3J=!V3J;}this.drawDropZone(p6m,a5D,this.stx.priceFromPixel(x6C.yAxis[V3J?"top":"bottom"]),f1L?f1L[0]:null,G3K?G3K[0]:null);}for(var t$_=0;t$_ < n0B;t$_++){v1S=l2c[t$_];C$I=l9V.pixelFromTick(v1S[0],x6C.chart);E5K=l9V.pixelFromValueAdjusted(x6C,v1S[0],v1S[1]);P3A[t$_]=[C$I,E5K];}t$_=0;if(this.showLines || v3F){p6m.beginPath();if(v3F){p6m.globalAlpha=+"0.3";}for(;t$_ < P3A.length;t$_++){p6m.lineTo(P3A[t$_]["0" >> 0],P3A[t$_][1]);}p6m.stroke();t$_=0;}p6m.restore();for(;t$_ < n0B;t$_++){r_W="par";r_W+="enth";r_W+="es";r_W+="es";U7$=t$_ % 2?t$m:-t$m;B9i=t$_ % 2?K2p:-K2p;U7$*=this.trend;B9i*=this.trend;if(x6C.yAxis.flipped){U7$*=-1;B9i*=-+"1";}q0I=P3A[t$_];E3x=q0I[2]=q0I[0] + U7$;q2h.j7J(91);var V26=q2h.a$j(2,0,10,2,10);n1U=q0I[3]=q0I[V26] + B9i;C6M=this.enclosedRadius || +"8";U2Q=p0P[t$_];if(this.decoration === r_W){q2h.N_M(82);U2Q=q2h.c0C((3060,8676) < (641,8992)?")":(+"0x4bd",410.46),U2Q,"(");}p6m.fillText(U2Q,E3x,n1U);if(this.decoration === "enclosed"){p6m.beginPath();p6m.arc(E3x,n1U,C6M,0,2 * Math.PI,!!"");p6m.stroke();}if(this.highlighted){p6m.save();this.littleCircle(p6m,this.pts[t$_][+"0"],this.pts[t$_][1],this.highlighted === "p" + t$_);p6m.restore();}}};m3.Drawing.elliottwave.prototype.reposition=function(G9g,N2k,J6t,C2f){var J9K,R8A,n32,v7H,Y02,h4e,w39;J9K="m";J9K+="ov";J9K+="e";if(!N2k){return;}q2h.T$X();R8A=this.stx.panels[this.panelName];n32=N2k.tick - J6t;v7H=N2k.value - C2f;if(N2k.action === J9K){for(var V6G=0;N2k.points.length > V6G;V6G++){Y02=N2k.points[V6G];this.setPoint(V6G,Y02[0] - n32,Y02["1" * 1] - v7H,R8A.chart);q2h.N_M(102);var I4Q=q2h.c0C(18,4,3,18);this.points[V6G]=[Y02[0] - n32,Y02[I4Q] - v7H];}}if(N2k.action === "drag"){h4e=N2k.point;w39=this.points;w39[h4e]=[J6t,C2f];if(this.check(J6t,C2f,h4e)){this.setPoint(h4e,J6t,C2f,R8A.chart);;};}this.render(G9g);};m3.Drawing.elliottwave.prototype.intersected=function(v39,T$y,B5x){var S8P,R$x,Z$B,x3b,B8f;if(!this.p0 || !this.p1){return null;}for(var C1M=+"0";this.points.length > C1M;C1M++){R$x=this.points[C1M];if(this.pointIntersection(R$x[0],R$x[1],B5x)){q2h.j7J(1);this.highlighted=q2h.a$j(("6760" | 40,4040) <= 2340?1299 !== (979.66,61)?(296.1,3095) != +"4266"?3.24e+3:(474.53,![]):"C":"p",C1M);return {action:"drag",point:C1M,tick:v39,value:T$y};}if(this.points[C1M + +"1"] && this.lineIntersection(v39,T$y,B5x,"segment",R$x,this.points[C1M + 1])){this.highlighted=!!"1";S8P={action:"move",points:m3.clone(this.points),tick:v39,value:T$y};}}Z$B=-1917827751;q2h.N_M(5);x3b=q2h.a$j(1,"211995307");B8f=2;for(var y$V=+"1";q2h.S9Y(y$V.toString(),y$V.toString().length,67485) !== Z$B;y$V++){return S8P;}if(q2h.S9Y(B8f.toString(),B8f.toString().length,"68036" - 0) !== x3b){return S8P;}return S8P;};m3.Drawing.elliottwave.prototype.measure=function(){var G4C,t5y,W2R,I3V,y5U,o9G;if(this.points.length >= 2){G4C=this.points;this.stx.setMeasure(G4C[0][1],G4C[G4C.length - 1][1],G4C["0" ^ 0][0],G4C[G4C.length - 1][0],!"");t5y=this.stx.controls.mSticky;W2R=t5y && t5y.querySelector(".mStickyInterior");if(W2R){I3V="C";I3V+="lo";I3V+="s";I3V+="e";y5U="El";y5U+="liott ";y5U+="W";y5U+="ave";o9G=[];o9G.push(m3.capitalize(y5U));if(this.getYValue){o9G.push(this.field || this.stx.defaultPlotField || I3V);}o9G.push(W2R.innerHTML);W2R.innerHTML=o9G.join("<br>");}}};m3.Drawing.printProjection=function(q9m,U_W,b1H){var Z3x,m3H,c$z,e$e,l02,Y0I,z7a,V_R,a$N,E2f,u7i,A5r,i78,x64,u2z,v$9;Z3x=U_W.arr;q2h.T$X();if(Z3x.length > 1){m3H=Z3x[0][0];c$z=Math.round(q9m.chart.maxTicks * 0.75);for(var U9z=1;U9z < Z3x.length;U9z++){q2h.N_M(94);e$e=Z3x[q2h.c0C(U9z,"1")][0];l02=Z3x[U9z][+"0"];Y0I=m3.strToDateTime(e$e);z7a=m3.strToDateTime(l02).getTime();V_R=q9m.standardMarketIterator(Y0I);a$N=0;while(Y0I.getTime() < z7a){Y0I=V_R.next();a$N+=1;}E2f=m3.strToDateTime(e$e).getTime();if(E2f > m3.strToDateTime(b1H[b1H.length - ("1" << 0)].Date).getTime()){q2h.N_M(103);var y$J=q2h.a$j(5,6,5,56);u7i=b1H.length - y$J;q2h.j7J(4);a$N+=q2h.c0C("1",0);}else {for(u7i=b1H.length - ("1" | 1);u7i >= +"0";u7i--){if(E2f <= m3.strToDateTime(b1H[u7i].Date).getTime())break;}}A5r={x0:0,x1:a$N,y0:b1H[u7i].Close,y1:Z3x[U9z][1]};m3H=m3.strToDateTime(e$e);V_R=q9m.standardMarketIterator(m3H);i78=!!"";for(var z5H=+"0";z5H <= a$N;z5H++){if(!i78){i78=!![];}else {m3H=V_R.next();}if(m3H.getTime() <= b1H[b1H.length - 1].DT.getTime())continue;x64=m3.yIntersection(A5r,z5H);if(!x64){x64=0;}q2h.j7J(104);var p3Y=q2h.a$j(180026,11,17,190000,2);q2h.j7J(1);var P4j=q2h.c0C(9985,15);u2z=Math.round(x64 * p3Y) / P4j;if(u2z === +"0"){u2z=Z3x[U9z][1];}v$9={Date:m3.yyyymmddhhmmssmmm(m3H),DT:m3H,Open:u2z,Close:u2z,High:u2z,Low:u2z,Volume:0,Adj_Close:u2z,Split_Close:u2z,projection:!![]};if(q9m.layout.interval == "minute")if(c$z-- < 0)break;b1H[b1H.length]=v$9;}}}};}};Z=C2V=>{var s57;s57=typeof _CIQ !== "undefined"?_CIQ:C2V.CIQ;if(!s57.computeEquationChart){console.error("equationsAdvanced feature requires first activating equations feature.");}else {s57.formatEquation=function(Y9l){var H8b=f3BGj;H8b.f3X();var J46,C6o,a9g,w_U,B9C;J46="";C6o=[];a9g="";w_U=!"1";for(var D0P=1;D0P < Y9l.length;D0P++){B9C=Y9l[D0P].toUpperCase();if(B9C == "[" && !w_U){w_U=!![];}else if(B9C == (("2720" >> 32,3670) == (4651,1450)?("8126" ^ 0,+"7130") < +"2116"?(0x177,4.46e+3):(4060,7637) >= (7505,5570)?3.64e+3:("R","T"):"]") && w_U){w_U=!"1";if(a9g !== ""){C6o.push(a9g);H8b.j7J(82);J46+=H8b.a$j(739.3 < "7790" * 1?"]":+"7809" > 7070?"P":(5.85e+3,3.63e+2),a9g,"[");}a9g="";}else if(w_U){a9g+=B9C;}else if(B9C == "+" || B9C == "-" || B9C == "*" || B9C == "/" || B9C == ((481,129) !== 364.89?":":"i") || B9C == "%" || B9C == (68.62 != 245.9?391.5 > (6052,3382)?("0x12e5" - 0,+"0x2336"):(106.75,417.94) == "769" * 1?0x3e1:"(":"K") || B9C == (7830 <= (7278,3780)?801.4 != (785.89,310)?(2168,286.48) !== (+"931",4070)?(!1,!![]):(83.26,6.12e+3):(!!"",!!({})):")")){if(a9g !== "" && isNaN(a9g)){C6o.push(a9g);H8b.j7J(82);J46+=H8b.a$j((7300,3767) == 6690?!({}):(956.01,8080) !== 7130?"78" * 1 > (7616,1140)?(35.58,"0x187f" >> 0):"]":373.72,a9g,83.8 == +"29.3"?(![],0x145):"[");}else {J46+=a9g;}if(B9C == (574 === (9060,964.93)?!({}):(9018,7250) > 9450?"N":7102 >= 366?":":5.92e+3)){B9C=7716 !== (6466,+"3400")?413.93 < (311.83,564.73)?"/":0x13d6:(2.61e+3,0x2317);}J46+=B9C;a9g="";}else if(B9C != ((9660,"2290" * 1) == 3644?2410 === +"3510"?(5.86e+3,!![]):("834.84" * 1,6597) == 573.53?(!"1",2.98e+3):!({}):" ")){a9g+=B9C;}}if(a9g !== "" && isNaN(a9g)){C6o.push(a9g);H8b.j7J(82);J46+=H8b.c0C("]",a9g,3370 !== (+"5410","4984" << 64)?"[":"u");}else {J46+=a9g;}return {equation:J46,symbols:C6o};};s57.fetchEquationChart=function(A7B,r8h){var V3N,C$e,H$l,i_q,P4F;V3N=s57.formatEquation(A7B.symbol);C$e=V3N.symbols;H$l=[];f3BGj.f3X();i_q=A7B.stx;A7B.stx=null;for(var T3j=0;T3j < C$e.length;T3j++){P4F=s57.shallowClone(A7B);P4F.stx=i_q;P4F.symbol=C$e[T3j];P4F.symbolObject={symbol:C$e[T3j]};H$l.push(P4F);}A7B.stx=i_q;i_q.quoteDriver.multiFetch(H$l,function(D85){var Z$C,N_2,S3x,n5a,C5f;Z$C={};A7B.loadMoreReplace=!!"1";N_2={charge:0};for(var V04=0;V04 < D85.length;V04++){S3x=D85[V04];if(S3x.dataCallback.error){r8h({error:S3x.dataCallback.error});return;}Z$C[S3x.params.symbol]=S3x.dataCallback.quotes;A7B.loadMoreReplace=A7B.loadMoreReplace && S3x.params.loadMoreReplace;A7B.moreToLoad=A7B.moreToLoad || S3x.dataCallback.moreAvailable;n5a=S3x.dataCallback.attribution;if(n5a){if(n5a.charge){N_2.charge+=n5a.charge;}N_2.source=n5a.source;if(N_2.exchange === undefined){N_2.exchange=n5a.exchange;}else if(N_2.exchange != n5a.exchange){N_2.exchange="";};}}if(H$l.length || !(A7B.loadMore || A7B.update)){try{C5f=s57.computeEquationChart(V3N.equation,Z$C);r8h({quotes:C5f,moreAvailable:A7B.moreToLoad,attribution:N_2});}catch(S9t){var K_6;K_6={error:"Invalid equation: " + V3N.equation};if(S9t.name && S9t.name == "NoException"){K_6.suppressAlert=!!1;}r8h(K_6);}}});};}};S=m6b=>{var e09;e09=typeof _CIQ !== "undefined"?_CIQ:m6b.CIQ;if(!e09.Marker){console.error("highPerformanceMarkers feature requires first activating markers feature.");}else if(!e09.Marker.Performance){e09.ChartEngine.prototype.removeDOMMarker=function(I_2){console.warn("CIQ.ChartEngine#removeDOMMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance#remove instead.");e09.Marker.Performance.prototype.removeDOMMarker.call(I_2.params.node,I_2);};e09.ChartEngine.prototype.drawMarkers=function(){var a$8;a$8="CIQ.ChartEngine#dr";a$8+="awMar";a$8+="kers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.";console.warn(a$8);e09.Marker.Performance.drawMarkers(this);};e09.ChartEngine.prototype.calculateMarkerStyles=function(J1u,X5b){console.warn("CIQ.ChartEngine#calculateMarkerStyles is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.calculateStyles instead.");f3BGj.f3X();e09.Marker.Performance.calculateMarkerStyles(this,J1u,X5b);};e09.ChartEngine.prototype.drawCircleMarker=function(I3X,k5B,B5o){f3BGj.T$X();console.warn("CIQ.ChartEngine#drawCircleMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCircleMarker instead.");e09.Marker.Performance.drawCircleMarker(I3X,k5B,B5o);};e09.ChartEngine.prototype.drawSquareMarker=function(O$W,E$5,X9R){var W_B;W_B="C";W_B+="IQ.ChartEngine#drawSquareMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawSquareMarker instead.";console.warn(W_B);f3BGj.T$X();e09.Marker.Performance.drawSquareMarker(O$W,E$5,X9R);};e09.ChartEngine.prototype.drawCalloutMarker=function(F5I,Z0e,b9x){console.warn("CIQ.ChartEngine#drawCalloutMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCalloutMarker instead.");e09.Marker.Performance.drawCalloutMarker(F5I,Z0e,b9x);};e09.ChartEngine.prototype.drawMarkerStem=function(N1y,o62,n9U){f3BGj.T$X();console.warn("CIQ.ChartEngine#drawMarkerStem is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkerStem instead.");e09.Marker.Performance.drawMarkerStem(N1y,o62,n9U);};e09.ChartEngine.prototype.positionDOMMarkers=function(){var N7C;N7C="CIQ.ChartEngine#positionDOMMarkers is scheduled for deprecation in a future release\n Please ";N7C+="use CIQ.Marker.Performance.drawMarkers instead.";console.warn(N7C);e09.Marker.Performance.drawMarkers(this);};e09.Marker.Performance=function(S5w){var f$Y=f3BGj;var g4S,D8m,y05,S7k,P6w,G0K,i4t,t00,c8q,K5B,Y5F,W1V,G$G,p0z,a1s,k4o,d6Y,u2C;g4S="c";g4S+="al";g4S+="lou";g4S+="t";D8m=".stx";D8m+="-visual";y05="<";y05+="/";y05+="div";y05+=">";S7k="<";S7k+="/d";S7k+="iv";S7k+=">";P6w="<div class=\"stx-marker highligh";P6w+="t\">";G0K="TEMP";G0K+="LA";G0K+="T";G0K+="E";this.params={displayCategory:!0,displayStem:!!({}),invert:!({}),story:"",headline:""};e09.extend(this.params,S5w);i4t=this.template=document.createElement(G0K);f$Y.j7J(105);i4t.innerHTML=f$Y.c0C(y05,"</div>",P6w,'<div class="stx-visual">','<div class="stx-marker-content">',S7k,'<div class="stx-marker stx-performance-marker stx-marker-expand"><h4></h4><p></p></div>','<div class="stx-stem"></div>');t00=this.template.content.cloneNode(!!1);c8q=t00.querySelector(".stx-marker",i4t);c8q.classList.add(S5w.type);c8q.classList.add(S5w.category);K5B=t00.querySelector(D8m,i4t);Y5F=178467127;W1V=-814060825;G$G=2;for(var o_V=1;f$Y.S9Y(o_V.toString(),o_V.toString().length,95469) !== Y5F;o_V++){p0z=".stx-mark";p0z+="er-expand";a1s=t00.querySelector(p0z);k4o=t00.querySelector("h4",i4t);d6Y=t00.querySelector("p",i4t);k4o.innerText=this.params.headline;d6Y.innerText=this.params.story;this.hasText=!!S5w.headline || !!S5w.story;this.deferAttach=!0;G$G+=+"2";}if(f$Y.S9Y(G$G.toString(),G$G.toString().length,94160) !== W1V){a1s=t00.querySelector(".stx-marker-expand");k4o=t00.querySelector("p",i4t);d6Y=t00.querySelector("p",i4t);k4o.innerText=this.params.headline;d6Y.innerText=this.params.story;this.hasText=+~S5w.headline && +-S5w.story;this.deferAttach=!!0;}this.node=t00.firstChild;this.node.params=this.params;this.visual=K5B;this.expand=a1s;if(S5w.type === g4S){u2C=a1s.removeChild(k4o);t00.querySelector(".stx-marker-content",i4t).insertBefore(u2C,a1s);}};e09.inheritsFrom(e09.Marker.Performance,e09.Marker.NodeCreator,!({}));e09.Marker.Performance.consolidateExpanded=function(n$v){var u6U=f3BGj;var H8e,i9l,t3_,E1q,B_H,b3M;function d7H(m30){var L4D,r_r,b5A;u6U.T$X();L4D=m30.params.node;r_r=L4D.expand;if(!r_r){return "";}b5A=r_r.style.display !== "none"?r_r.innerHTML:"";return b5A;}H8e=n$v.markerHelper.highlighted;if(!H8e.length){return;}u6U.N_M(3);var E7B=u6U.c0C(7,8,0);i9l=H8e[H8e.length - E7B];t3_=i9l.params.node;if(!i9l.consolidated){i9l.consolidated=[];}for(var U5Y=H8e.length - +"2";U5Y >= 0;U5Y--){E1q="<";E1q+="consolidated";E1q+=">";B_H=d7H(H8e[U5Y]);u6U.N_M(82);b3M=u6U.c0C("</consolidated>",B_H,E1q);if(B_H.length){t3_.expand.innerHTML+=b3M;}}i9l.stxNodeCreator.quickCache(i9l);};e09.Marker.Performance.reconstituteExpanded=function(P3t){var T0B,G1F,L3J,e_t,C_l;T0B=P3t.markerHelper.highlighted;if(!T0B.length || !P3t.activeMarker){return;}T0B=[P3t.activeMarker];for(var z_Y=T0B.length - 1;z_Y >= 0;z_Y--){G1F="CO";G1F+="NSOLIDATED";L3J=T0B[z_Y];e_t=L3J.params.node;C_l=e_t.expand;while(C_l.lastElementChild.nodeName === G1F){C_l.removeChild(C_l.lastElementChild);}}};e09.Marker.Performance.drawMarkers=function(a97){var X3_,X_9,j_J,D0M,H7I,K$o,L7c;X3_="a";X3_+="l";X3_+="l";X_9=a97.getMarkerArray(X3_);j_J=a97.chart;for(var E3S=0;E3S < X_9.length;E3S++){D0M=X_9[E3S];H7I=D0M.stxNodeCreator;K$o=j_J.dataSegment[+"0"].tick;L7c=j_J.dataSegment[j_J.dataSegment.length - 1].tick;if(K$o <= D0M.tick <= L7c){if(H7I && H7I.drawMarker){H7I.drawMarker(D0M);}}}};e09.Marker.Performance.calculateMarkerStyles=function(k24,j$W,i1r){var r3_,f68,u8A,R38,V$4,m7z;r3_=document.querySelector(".stx-marker-templates");if(!r3_){f68="-1000";f68+="px";u8A="D";u8A+="IV";r3_=document.createElement(u8A);r3_.style.visibility="hidden";r3_.style.left=f68;document.body.append(r3_);}r3_.appendChild(j$W.node);R38=getComputedStyle(j$W.stxNodeCreator.visual);if(!k24.styles.stx_marker_stem){V$4=".st";V$4+="x-st";V$4+="em";m7z=getComputedStyle(document.querySelector(V$4,j$W.node));k24.styles.stx_marker_stem=k24.cloneStyle(m7z);}k24.styles[i1r]=k24.cloneStyle(R38);r3_.removeChild(j$W.node);};e09.Marker.Performance.drawCircleMarker=function(n5p,v9Q,v2L){var I8B,h4s,s6J,u3r,J1Z,U78,v96,b3e,z7S;I8B=n5p.params.stx;h4s=I8B.chart;s6J=h4s.context;u3r=v2L.x;J1Z=v2L.y;U78=v2L.radius;v96=v2L.label;f3BGj.T$X();b3e=v2L.color?v2L.color:v9Q.backgroundColor;s6J.beginPath();s6J.setLineDash([]);s6J.lineWidth=1;s6J.fillStyle=b3e;s6J.strokeStyle=b3e;s6J.font="normal bold 12px Roboto, Helvetica, sans-serif";s6J.arc(u3r,J1Z,U78,0,2 * Math.PI,![]);s6J.fill();s6J.stroke();s6J.closePath();if(v96){z7S="bl";z7S+="a";z7S+="ck";s6J.fillStyle=e09.colorsEqual("white",s6J.fillStyle)?z7S:"white";s6J.fillText(v96.charAt(0).toUpperCase(),u3r - 4,J1Z + 1);}if(n5p.highlight || n5p.active){s6J.beginPath();f3BGj.N_M(1);s6J.arc(u3r,J1Z,f3BGj.c0C(U78,4),0,2 * Math.PI,![]);s6J.stroke();s6J.closePath();}};e09.Marker.Performance.drawSquareMarker=function(N$Y,J8y,R62){var X8x=f3BGj;var U$S,n8O,c_X,t$O,k8M,b_8,I$i,q6a,q8b;U$S=N$Y.params.stx;n8O=U$S.chart;X8x.T$X();c_X=n8O.context;t$O=R62.x;k8M=R62.y;b_8=R62.half;I$i=R62.label;q6a=R62.color?R62.color:J8y.backgroundColor;X8x.j7J(5);q8b=X8x.a$j(2,b_8);c_X.beginPath();c_X.setLineDash([]);c_X.lineWidth=1;c_X.fillStyle=q6a;c_X.strokeStyle=q6a;c_X.font="normal bold 12px Roboto, Helvetica, sans-serif";X8x.N_M(14);c_X.rect(X8x.c0C(t$O,b_8),X8x.c0C(k8M,b_8),q8b,q8b);c_X.fill();if(N$Y.highlight || N$Y.active){X8x.j7J(63);c_X.rect(X8x.c0C(b_8,4,t$O),X8x.c0C(b_8,4,k8M,X8x.N_M(63)),X8x.a$j(q8b,8,X8x.j7J(1)),X8x.c0C(q8b,8,X8x.j7J(1)));}c_X.stroke();c_X.closePath();if(I$i){c_X.fillStyle=e09.colorsEqual("white",c_X.fillStyle)?"black":"white";c_X.fillText(I$i.charAt(0).toUpperCase(),t$O - 4,k8M + +"1");}};e09.Marker.Performance.drawCalloutMarker=function(N_Z,s4S,H$a){var p1F,u6n,V25,U2b,i_R,F9$,p3u,v7G,X6z,x94,e8m,v4F,E0B,s7d,i$z;p1F="normal bold 12px";p1F+=" R";p1F+="oboto, Helvetica, sans-serif";u6n=N_Z.params.stx;V25=u6n.chart;U2b=V25.context;i_R=N_Z.params;F9$=H$a.x;p3u=H$a.y;v7G=H$a.half;X6z=H$a.midWidth;x94=H$a.headline;e8m=H$a.color?H$a.color:s4S.backgroundColor;v4F=v7G * ("2" | 0) || 25;E0B=Math.round(U2b.measureText(x94).width);s7d=X6z?X6z * 2:E0B + +"8";U2b.beginPath();U2b.setLineDash([]);U2b.lineWidth=1;U2b.fillStyle=e8m;U2b.strokeStyle=e8m;U2b.font=p1F;U2b.rect(i_R.box.x0,i_R.box.y0,s7d,v4F);U2b.fill();U2b.stroke();U2b.closePath();U2b.beginPath();U2b.fillStyle=N_Z.highlight || N_Z.active?"rgba(255,255,255,0.8)":"rgba(255,255,255,0.65)";f3BGj.T$X();f3BGj.N_M(106);i$z=f3BGj.c0C(0,E0B,s7d,"20",2);U2b.rect(i_R.box.x0 + i$z,p3u - v7G,E0B + 40,22);U2b.fill();U2b.stroke();U2b.closePath();U2b.fillStyle="black";U2b.fillText(x94,i_R.box.x0 + i$z + 10,p3u);};e09.Marker.Performance.drawMarkerStem=function(i0o,x_W,o3t){var l03,B2e,d45,h47,D0D,E5p,l8_,P7$;l03=i0o.params.stx;B2e=l03.chart;d45=B2e.context;h47=o3t.x;D0D=o3t.y;d45.beginPath();d45.strokeStyle=x_W.borderLeftColor;d45.setLineDash([1,1]);E5p=e09.stripPX(x_W.height);f3BGj.T$X();l8_=o3t.invert?i0o.params.box.y0:i0o.params.box.y1;P7$=o3t.invert?i0o.params.box.y0 - E5p:i0o.params.box.y1 + E5p;d45.moveTo(h47,l8_);d45.lineTo(h47,P7$);d45.stroke();d45.closePath();};e09.Marker.Performance.prototype.drawMarker=function(m11){var X$S=f3BGj;var z4Z,t4f,Q_X,S9p,T_m,C_0,R2z,j$L,Y4T,E2M,e_A,U9W,v$r,y$Y,r_7,L65,W18,G9W,D0F,f8b,S0P,G8I,Q9u,S6Y,m9Y;z4Z="cal";z4Z+="lout";t4f="c";t4f+="ir";t4f+="cl";t4f+="e";Q_X="stx_marke";Q_X+="r_";S9p=m11.params;T_m=m11.params.stx;if(!T_m){return;}C_0=T_m.chart;R2z=C_0.dataSegment;if(!R2z.length){return;}j$L=T_m.panels[m11.params.panelName];Y4T=m11.stxNodeCreator.params;E2M=Y4T.type;e_A=Y4T.category;U9W=Y4T.headline;v$r=Y4T.displayCategory;y$Y=Y4T.color;r_7=Y4T.invert;X$S.N_M(107);L65=X$S.a$j(e_A,Q_X,"_",E2M);if(!T_m.styles[L65]){e09.Marker.Performance.calculateMarkerStyles(T_m,m11,L65);}W18=m11.style=T_m.styles[L65];G9W=T_m.styles.stx_marker_stem;X$S.j7J(9);var D0l=X$S.c0C(26,18,2);X$S.N_M(14);var r6n=X$S.a$j(32,30);D0F=parseInt(W18.height,D0l) / r6n;X$S.j7J(9);var C$d=X$S.c0C(896,20,48);X$S.N_M(108);var l2u=X$S.c0C(12,20,10,12,286);f8b=parseInt(W18.width,"10" << C$d) / l2u;S0P=Y4T.displayStem?parseInt(G9W.height,"10" << 32) + parseInt(G9W.marginBottom,10):0;X$S.j7J(35);var e_G=X$S.c0C(65,150,2);G8I=S0P + parseInt(W18.height,e_G);Q9u=S0P?S0P + D0F:0;S6Y=T_m.pixelFromDate(S9p.x);m9Y=S9p.node.calculateYPosition({marker:m11,panel:j$L,height:G8I,half:D0F,offset:Q9u,inverted:r_7});if(!m11.tick && m11.tick !== 0){return;}S9p.box={x0:S6Y - (f8b || D0F),y0:m9Y - D0F,x1:S6Y + (f8b || D0F),y1:m9Y + D0F,midY:D0F,midX:f8b || D0F,stemHeight:S0P};if(!v$r){e_A=v$r;}T_m.startClip(j$L.name);if(E2M === t4f){e09.Marker.Performance.drawCircleMarker(m11,W18,{x:S6Y,y:m9Y,radius:D0F,label:e_A,color:y$Y});}else if(E2M === "square"){e09.Marker.Performance.drawSquareMarker(m11,W18,{x:S6Y,y:m9Y,half:D0F,label:e_A,color:y$Y});}else if(E2M === z4Z){e09.Marker.Performance.drawCalloutMarker(m11,W18,{x:S6Y,y:m9Y,half:D0F,midWidth:f8b,headline:U9W,color:y$Y});}else {X$S.N_M(82);console.warn(X$S.a$j(" is unsupported with canvas markers!\nSupported Styles are Square, Circle, and Callout.",E2M,"Marker type: "));}if(Y4T.displayStem){e09.Marker.Performance.drawMarkerStem(m11,G9W,{x:S6Y,y:m9Y,invert:r_7});}T_m.endClip();if(m11.attached){this.positionPopUpNode(m11);}};e09.Marker.Performance.prototype.positionPopUpNode=function(r7i){var V0j=f3BGj;var r8w,I44,f$b,f0N,s9R,W72,C9v,d3i,h1_,y6J,D8D,T7k,s3$,a$5,s3g,k2M,d4n,H91,Y_8,m$o,y6q,G5n,b1$;r8w="p";r8w+="x) trans";r8w+="lateY(";if(!r7i.attached || !r7i.params.box){return;}I44=r7i.params;f$b=I44.stx;f0N=I44.box;s9R=r7i.params.node.expand;W72=f$b.chart.dataSet;C9v=f$b.chart.dataSegment;if(r7i.tick){h1_=[W72[C9v[+"0"] && C9v[0].tick - 1],W72[C9v["0" - 0] && C9v[0].tick - ("2" ^ 0)]];y6J=f$b.getFirstLastDataRecord(h1_.concat(C9v),"Date");V0j.N_M(0);var k4U=V0j.a$j(273,14,18,16);V0j.N_M(86);var q3z=V0j.c0C(9,9,13,13,1);V0j.j7J(39);var d_$=V0j.a$j(28,7,18,16);D8D=[W72[C9v[C9v.length - k4U].tick + q3z],W72[C9v[C9v.length - d_$].tick + +"2"]];T7k=f$b.getFirstLastDataRecord(C9v.concat(D8D),"Date",!!({}));d3i=y6J.DT <= W72[r7i.tick].DT && W72[r7i.tick].DT <= T7k.DT;}else {d3i=!({});}if(!r7i.highlight && !r7i.active){d3i=!1;}s3$=-+"1250343409";V0j.N_M(29);a$5=-V0j.c0C(0,"391911104");s3g=2;for(var m40=1;V0j.S9Y(m40.toString(),m40.toString().length,+"67522") !== s3$;m40++){k2M="hi";k2M+="d";k2M+="den";s9R.style.visibility=d3i?"":k2M;if(+d3i){return;}d4n=f$b.panels[I44.panelName];s3g+=2;}if(V0j.O1W(s3g.toString(),s3g.toString().length,34328) !== a$5){s9R.style.visibility=d3i?"":"hidden";if(!d3i){return;}d4n=f$b.panels[I44.panelName];}H91=s9R.rects;V0j.j7J(109);var f3o=V0j.a$j(3,0,7,14,8);Y_8=H91.height / f3o;y6q=r7i.node.params.infoOffset || 0;if(r7i.node.params.infoOnLeft){m$o=f0N.x0 - H91.width - y6q < d4n.left?f0N.x1 + y6q:f0N.x0 - H91.width - y6q;}else {m$o=f0N.x0 + H91.width > d4n.right?f0N.x0 - H91.width - y6q:f0N.x1 + y6q;}m$o-=f$b.chart.left;G5n=f0N.y0 - Y_8 >= d4n.top?f0N.y0 + f0N.midY - Y_8:f0N.y0;V0j.T$X();if(!I44.avoidFlush && f0N.y1 + f0N.stemHeight === d4n.yAxis.bottom && H91.height > f0N.y1 - f0N.y0 + f0N.stemHeight){G5n=f0N.y1 - H91.height + f0N.stemHeight;}G5n-=f$b.chart.panel.top;b1$="translateX(" + Math.floor(m$o) + r8w + Math.floor(G5n) + "px) translateZ(0)";s9R.style.transform=b1$;s9R.transform={translateX:m$o,translateY:G5n};};e09.Marker.Performance.prototype.quickCache=function(S_A){var n88,d9D,Q_v,n6p;n88=S_A.params.node;d9D=n88.expand;Q_v=S_A.style;n6p=e09.stripPX(Q_v.marginLeft) + e09.stripPX(Q_v.marginRight) + e09.stripPX(Q_v.borderRight) + e09.stripPX(Q_v.borderLeft);d9D.rects=d9D.getBoundingClientRect();d9D.scrollBarWidth=d9D.rects.width - d9D.clientWidth - n6p;};e09.Marker.Performance.prototype.calculateYPosition=function(C6v){var E2y=f3BGj;var y3m,J61,y17,M8q,b0J,c_g,o4k,v_c,Z5S,y1g,x1Z,R43,S_V,d3A,j4A;y3m=C6v.marker;J61=C6v.panel;y17=C6v.height;M8q=C6v.half;b0J=C6v.offset;c_g=C6v.inverted;o4k=y3m.params.stx;v_c=o4k.chart;Z5S=o4k.chart.highLowBars;E2y.T$X();y1g=v_c.dataSet[y3m.tick];if(!y1g){return;}x1Z=Z5S?y1g.High:y1g.Close;R43=y3m.params.yPositioner;switch(R43){case "value":if(y3m.params.y || y3m.params.y === 0){S_V=o4k.pixelFromPrice(y3m.params.y,J61) - y17 * 0.5 + M8q;}else {S_V=o4k.pixelFromPrice(x1Z,J61) - b0J;}break;case "above_candle":S_V=o4k.pixelFromPrice(x1Z,J61) - b0J;break;case "below_candle":S_V=o4k.pixelFromPrice(y1g.Low || x1Z,J61);if(c_g && b0J){S_V+=b0J;}else {S_V+=M8q;}break;case "on_candle":(d3A=y1g.High || y1g.Close,j4A=y1g.Low || y1g.Low === 0 || y1g.Close);E2y.N_M(44);var y_y=E2y.c0C(20,18,466,6);E2y.N_M(27);var X$P=E2y.c0C(20,19);S_V=o4k.pixelFromPrice((d3A + j4A) / y_y,J61) - y17 * ("0.5" * X$P) + M8q;break;case "top":S_V=o4k.pixelFromPrice(J61.yAxis.high,J61);if(c_g && b0J){S_V+=b0J;}else {S_V+=M8q;}break;case "bottom":S_V=o4k.pixelFromPrice(J61.yAxis.low,J61) - (b0J || M8q);break;default:break;}return S_V;};e09.Marker.Performance.prototype.prepareForHolder=function(d8A){var b5J,H3Z;b5J=this.expand;H3Z=d8A.params.stx;b5J.classList.add(this.params.type);H3Z.markerHelper.domMarkers.push(d8A);return b5J;};e09.Marker.Performance.prototype.addToHolder=function(c$V){var c2c,j0B,p_S;c2c="to";function B6z(F4x){p_S.activeMarker=c$V;f3BGj.T$X();p_S.activeMarker.click({cx:F4x.clientX,cy:F4x.clientY,panel:p_S.currentPanel});F4x.stopPropagation();}f3BGj.T$X();c2c+="uch";c2c+="start";j0B=this.expand;p_S=c$V.params.stx;e09.Marker.Performance.reconstituteExpanded(p_S);e09.Marker.Performance.consolidateExpanded(p_S);this.quickCache(c$V);if(j0B.clickClosure){return;}j0B.addEventListener("mousedown",B6z);j0B.addEventListener(c2c,B6z);j0B.clickClosure=B6z;};e09.Marker.Performance.prototype.remove=function(r0o){var I7K,K$$,W$k,r03;I7K=r0o.params.stx;if(!I7K){return;}if(!I7K.markerHelper.domMarkers){return;}K$$=I7K.markerHelper.domMarkers.indexOf(r0o);if(K$$ != -("1" | 0)){I7K.markerHelper.domMarkers.splice(K$$,1);}if(r0o.attached){W$k=I7K.panels[r0o.params.panelName];r03=r0o.params.node.expand;if(r03.parentNode === W$k.subholder){W$k.subholder.removeChild(r03);}r03.removeEventListener("click",r03.clickClosure);}};e09.Marker.Performance.prototype.click=function(t6m){var Q8B,Q3e,k0g;if(!this.hasText){return;}if(typeof arguments["0" << 64] === "number"){t6m={cx:arguments[0],cy:arguments[1],marker:arguments[2],panel:arguments[3]};}var {cx:K9G, cy:L6Y, marker:j7b, panel:I_b}=t6m;Q8B=j7b.params.stx;if(j7b.attached){k0g=this.expand;if(k0g.rects.width - k0g.scrollBarWidth + k0g.transform.translateX < Q8B.backOutX(K9G) && Q8B.backOutX(K9G) < k0g.rects.width + k0g.transform.translateX){return;}this.remove(j7b);}else {Q8B.addToHolder(j7b);Q3e=!![];}j7b.attached=!j7b.attached;j7b.active=!j7b.active;if(Q3e){j7b.stxNodeCreator.positionPopUpNode(j7b);}};}};W=j0Z=>{var y8R=f3BGj;var u2J,v8d;u2J="undefine";u2J+="d";v8d=typeof _CIQ !== u2J?_CIQ:j0Z.CIQ;v8d.Renderer.OHLC.requestNew=function(Y_e,R_k){var u8_,J9a,e1F,p9A,i$w,o1E,v26,f2q,R9E,Y43,u3k;u8_=null;J9a=R_k.hlc;e1F=R_k.colored;p9A=R_k.hollow;i$w=R_k.volume;o1E=R_k.histogram;for(var X7h=0;X7h < Y_e.length;X7h++){v26="hist";v26+="ogr";v26+="a";v26+="m";f2q="can";f2q+="d";f2q+="l";f2q+="e";R9E=Y_e[X7h];switch(R9E){case "bar":case f2q:u8_=R9E;break;case "volume":i$w=!!({});break;case "hollow":p9A=!!1;break;case "colored":e1F=!"";break;case v26:Y43="c";Y43+="a";Y43+="n";Y43+="dle";o1E=!"";u8_=Y43;break;case "hlc":u3k="b";u3k+="a";u3k+="r";J9a=!!"1";u8_=u3k;break;default:return null;}}y8R.f3X();if(u8_ === null){return null;}return new v8d.Renderer.OHLC({params:v8d.extend(R_k,{type:u8_,hlc:J9a,colored:e1F,hollow:p9A,volume:i$w,histogram:o1E})});};v8d.Renderer.OHLC.getChartParts=function(D9K,A7R){var w$R,j6Y,E1h,Q9J,S$_,c0e,P7y,E3Z,k$0,v6G,k7T,E1K,I4O,i8b,C0l,z8n,K2B,c8x,o7z,p5f,a4e,Q$c,C6x,Z6V,t7y,l7C,c6O,c2J,P3s,W$U,y9L,l$n,L2u;w$R="fill";w$R+="_colo";w$R+="r_even";j6Y="h";j6Y+="ol";j6Y+="l";j6Y+="ow";E1h="st";E1h+="x_";E1h+="hollow_candle_d";E1h+="own";Q9J="stx_hollow_candl";Q9J+="e_";Q9J+="up";S$_="stx_hollow_candl";S$_+="e_eve";S$_+="n";c0e="h";c0e+="oll";c0e+="o";c0e+="w";P7y="f";P7y+="ill";P7y+="_color_up";E3Z="stx_h";E3Z+="ollow_c";E3Z+="andle";E3Z+="_even";k$0="h";y8R.f3X();k$0+="ollow";v6G="border_c";v6G+="olor";v6G+="_down";k7T="stx_ho";k7T+="llo";k7T+="w_candle_up";E1K="fill_color_d";E1K+="own";I4O="ca";I4O+="n";I4O+="dl";I4O+="e";i8b="stx_c";i8b+="andle_shadow_down";C0l="stx_";C0l+="c";C0l+="andle_shadow_up";z8n="s";z8n+="ha";z8n+="do";z8n+="w";K2B="c";K2B+="a";K2B+="ndl";K2B+="e";c8x="c";c8x+="a";c8x+="n";c8x+="dle";o7z="stx_";o7z+="b";o7z+="ar_e";o7z+="ven";p5f="bo";p5f+="rder";p5f+="_color_down";a4e="b";a4e+="a";a4e+="r";Q$c="b";Q$c+="ar";C6x="border_co";C6x+="lor";Z6V="b";Z6V+="a";Z6V+="r";t7y="b";t7y+="a";t7y+="r";l7C="s";l7C+="tx_h";l7C+="ist";l7C+="ogram_up";c6O="histog";c6O+="r";c6O+="am";c2J=+"1";P3s=2;W$U=4;y9L=+"8";y8R.j7J(31);l$n=y8R.c0C("16",32);L2u=32;return [{type:c6O,drawType:"histogram",style:l7C,condition:y9L,fill:"fill_color_up",border:"border_color_up",useColorInMap:!0,useBorderStyleProp:!0},{type:"histogram",drawType:"histogram",style:"stx_histogram_down",condition:l$n,fill:"fill_color_down",border:"border_color_down",useColorInMap:!!"1",useBorderStyleProp:!!1},{type:"histogram",drawType:"histogram",style:"stx_histogram_even",condition:L2u,fill:"fill_color_even",border:"border_color_even",skipIfPass:!![],useColorInMap:!!({}),useBorderStyleProp:!![]},{type:t7y,drawType:Z6V,style:D9K || "stx_bar_chart",border:C6x,useColorInMap:!![]},{type:Q$c,drawType:a4e,style:"stx_bar_up",condition:A7R?y9L:c2J,border:"border_color_up",useColorInMap:!![]},{type:"bar",drawType:"bar",style:"stx_bar_down",condition:A7R?l$n:P3s,border:p5f,useColorInMap:!![]},{type:"bar",drawType:"bar",style:o7z,condition:A7R?L2u:W$U,border:"border_color_even",skipIfPass:!![],useColorInMap:!0},{type:c8x,drawType:"shadow",style:"stx_candle_shadow",border:"border_color_up"},{type:K2B,drawType:z8n,style:C0l,condition:y9L,border:"border_color_up"},{type:"candle",drawType:"shadow",style:i8b,condition:l$n,border:"border_color_down"},{type:I4O,drawType:"shadow",style:"stx_candle_shadow_even",condition:L2u,border:"border_color_even",skipIfPass:!!({})},{type:"candle",drawType:"candle",style:"stx_candle_up",condition:y9L,fill:"fill_color_up",border:"border_color_up",useColorInMap:!0,useBorderStyleProp:!0},{type:"candle",drawType:"candle",style:"stx_candle_down",condition:l$n,fill:E1K,border:"border_color_down",useColorInMap:!!"1",useBorderStyleProp:!!"1"},{type:"hollow",drawType:"shadow",style:k7T,condition:c2J,border:"border_color_up"},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_down",condition:P3s,border:v6G},{type:k$0,drawType:"shadow",style:E3Z,condition:W$U,border:"border_color_even",skipIfPass:!0},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_up",condition:c2J | l$n,fill:P7y,border:"border_color_up",useColorInMap:!!1},{type:c0e,drawType:"candle",style:"stx_hollow_candle_down",condition:P3s | l$n,fill:"fill_color_down",border:"border_color_down",useColorInMap:!![]},{type:"hollow",drawType:"candle",style:S$_,condition:W$U | l$n,fill:"fill_color_even",border:"border_color_even",skipIfPass:!"",useColorInMap:!!({})},{type:"hollow",drawType:"candle",style:Q9J,condition:c2J | y9L,fill:"fill_color_up",border:"border_color_up"},{type:"hollow",drawType:"candle",style:E1h,condition:P3s | y9L,fill:"fill_color_down",border:"border_color_down"},{type:j6Y,drawType:"candle",style:"stx_hollow_candle_even",condition:W$U | y9L,fill:w$R,border:"border_color_even"}];;};v8d.Renderer.Bars=function(t2G){y8R.T$X();var V$S;this.construct(t2G);V$S=this.params;V$S.type="bar";this.highLowBars=this.barsHaveWidth=this.standaloneBars=!!"1";V$S.hlc=V$S.volume=V$S.hollow=V$S.histogram=!({});};v8d.inheritsFrom(v8d.Renderer.Bars,v8d.Renderer.OHLC,!"1");y8R.f3X();v8d.Renderer.HLC=function(X1M){var l8J;this.construct(X1M);l8J=this.params;y8R.f3X();l8J.type="bar";l8J.hlc=!!({});this.highLowBars=this.barsHaveWidth=this.standaloneBars=!!1;l8J.volume=l8J.hollow=l8J.histogram=!1;};v8d.inheritsFrom(v8d.Renderer.HLC,v8d.Renderer.Bars,!!"");v8d.Renderer.Shading=function(N2h){this.construct(N2h);this.beenSetup=!!0;this.errTimeout=null;this.params.useChartLegend=![];this.shading=[];if(this.params.type == "rangechannel"){this.highLowBars=!!({});}};v8d.inheritsFrom(v8d.Renderer.Shading,v8d.Renderer.Lines,!({}));v8d.Renderer.Shading.requestNew=function(f2m,i$b){var O92,O3q,s17,J4Y;O92=null;O3q=null;for(var k36=0;k36 < f2m.length;k36++){s17="r";s17+="angechannel";J4Y=f2m[k36];if(J4Y == s17){O92="rangechannel";}else if(J4Y == "step"){O3q=!![];}}if(O92 === null){return null;}return new v8d.Renderer.Shading({params:v8d.extend(i$b,{type:O92,step:O3q})});};v8d.Renderer.Shading.prototype.setShading=function(V6e){if(V6e.constructor != Array){V6e=[V6e];}this.shading=V6e;};v8d.Renderer.Shading.prototype.draw=function(){var S7q,Z6E,M7n,A5H,T3y,t5k,I_q,m05,X0r,F78,Q4I,T6l,Z2V,n7L,p10,q9R,r2R,A5B,U4p,Q6F,i84,M2$,g95,X$T,I9H;S7q=this.stx;Z6E=this.params;M7n=S7q.panels[Z6E.panel].chart;if(Z6E.type == "rangechannel"){if(this.beenSetup){if(this.seriesParams.length > "2" * 1){this.removeSeries(this.seriesParams["2" * 1].id);}}else {A5H="H";A5H+="i";A5H+="g";A5H+="h";this.beenSetup=!"";Z6E.display=this.seriesParams["0" * 1].display;Z6E.yAxis=this.seriesParams[+"0"].yAxis;T3y=this.seriesParams[0].color || "auto";t5k=this.seriesParams[0].symbol;I_q="";if(t5k){y8R.N_M(1);I_q=y8R.c0C(t5k,(+"16.26",+"845") !== 586?2567 != (477,3746)?".":("761.00" * 1,453.42):(677.09,0x14b1));}this.removeAllSeries(!!"1");m05=Z6E.name;S7q.addSeries(null,{symbol:t5k,loadData:!!t5k,field:A5H,renderer:"Shading",name:m05,style:"stx_line_up",display:Z6E.display,shareYAxis:!0});S7q.addSeries(null,{symbol:t5k,loadData:!!t5k,field:"Low",renderer:"Shading",name:m05,style:"stx_line_down",display:Z6E.display,shareYAxis:!!"1"});this.setShading({primary:this.seriesParams[0].id,secondary:this.seriesParams[1].id,color:T3y});}}if(!this.shading){if(!this.errTimeout){y8R.j7J(14);X0r=-y8R.c0C("916304431",0);F78=1491262347;Q4I=2;for(var C$b=1;y8R.O1W(C$b.toString(),C$b.toString().length,26098) !== X0r;C$b++){T6l="Warning: no sh";T6l+="ading scheme set.  Use myRen";T6l+="derer.setShading(scheme) to set";T6l+=".";console.log(T6l);Q4I+=2;}if(y8R.S9Y(Q4I.toString(),Q4I.toString().length,"35522" << 64) !== F78){console.log("");}Z2V=this;this.errTimeout=setTimeout(function(){y8R.f3X();Z2V.errTimeout=null;},10000);}}n7L={};for(p10=0;p10 < this.seriesParams.length;p10++){q9R={};if(M7n.series[this.seriesParams[p10].id]){q9R=v8d.clone(M7n.series[this.seriesParams[p10].id].parameters);}n7L[this.seriesParams[p10].id]={parameters:v8d.extend(v8d.extend(q9R,Z6E),this.seriesParams[p10]),yValueCache:this.caches[this.seriesParams[p10].id]};}function c1m(F8u){var N2X,h7J,I23;N2X=n7L[F8u];if(N2X){h7J=N2X.parameters.field;I23=N2X.parameters.subField;y8R.N_M(1);return y8R.a$j(h7J,I23?(("767" ^ 0) >= 6100?0x119a:".") + I23:"");}y8R.T$X();return F8u;}S7q.drawSeries(M7n,n7L,Z6E.yAxis,this);if(M7n.legend && Z6E.type == "rangechannel"){r2R="stx_l";r2R+="ine";r2R+="_down";if(!M7n.legend.colorMap){M7n.legend.colorMap={};}A5B=Z6E.display;U4p=[S7q.getCanvasColor("stx_line_up"),S7q.getCanvasColor(r2R)];M7n.legend.colorMap[A5B]={color:U4p,display:A5B,isBase:this == S7q.mainSeriesRenderer};;}for(p10 in n7L){this.caches[p10]=n7L[p10].yValueCache;}for(p10="0" | 0;p10 < this.shading.length;p10++){Q6F="Clo";Q6F+="s";Q6F+="e";i84=this.shading[p10];M2$=i84.color;if(i84.color == "auto"){M2$=S7q.defaultColor;}if(!i84.primary){i84.primary="Close";}if(!i84.secondary && this.seriesParams[0]){i84.secondary=this.seriesParams[0].field;}if(!i84.secondary)continue;else if(!n7L[i84.primary] && i84.primary != Q6F)continue;else if(!n7L[i84.secondary])continue;else if(i84.primary == "Close" && Z6E.yAxis && Z6E.yAxis != M7n.yAxis)continue;g95=c1m(i84.primary).split(3890 < (616.01,6623)?".":(172.55,602.3) !== (7377,585)?(0xbb4,6.87e+3):!"1");X$T=c1m(i84.secondary).split(("123" << 0,215) !== (+"223.03",607)?".":6590 >= 7260?("T",!!"1"):("0x248b" * 1,9.62e+3));I9H={topBand:g95[0],topSubBand:g95[+"1"],topColor:i84.greater || M2$ || S7q.containerColor,topAxis:Z6E.yAxis,bottomBand:X$T[0],bottomSubBand:X$T[1],bottomColor:i84.lesser || M2$ || S7q.containerColor,bottomAxis:i84.primary == "Close"?null:Z6E.yAxis,tension:Z6E.tension || M7n.tension,opacity:0.1,step:Z6E.step};if(!I9H.topColor && !I9H.bottomColor)continue;if(!Z6E.highlight && S7q.highlightedDraggable){I9H.opacity*=0.3;}v8d.fillIntersecting(S7q,Z6E.panel,I9H);}};v8d.Renderer.Histogram=function(i04){y8R.f3X();var p8q,i$3;p8q="histog";p8q+="ram";this.construct(i04);this.params.type=p8q;this.barsHaveWidth=this.standaloneBars=!!({});if(this.params.yAxis){i$3="n";i$3+="um";i$3+="ber";this.params.bindToYAxis=!![];if(typeof this.params.yAxis.baseline == i$3){this.params.yAxis.baseline={value:this.params.yAxis.baseline};}}};v8d.inheritsFrom(v8d.Renderer.Histogram,v8d.Renderer,!!0);v8d.Renderer.Histogram.prototype.adjustYAxis=function(){var L$9;L$9=this.params.yAxis;if(!L$9 || L$9.baseline){return;}L$9.min=+"0";L$9.highValue/=this.params.heightPercentage || "1" >> 0;};v8d.Renderer.Histogram.prototype.draw=function(){var k99,j8u,T7s,L4L,i5a,c3X,D8E;k99="st";k99+="acked";j8u=v8d.clone(this.params);j8u.type=j8u.subtype;this.useSum=j8u.subtype == k99;if(!j8u.yAxis || j8u.yAxis == this.stx.chart.yAxis){j8u.bindToYAxis=!![];}this.stx.drawHistogram(j8u,this.seriesParams);T7s=j8u.yAxis && j8u.yAxis.baseline;y8R.T$X();if(T7s && T7s.color){L4L="destinatio";L4L+="n-over";i5a="li";i5a+="n";i5a+="e";c3X=this.stx.panels[this.params.panel];D8E=this.stx.pixelFromPrice(T7s.value,c3X,this.params.yAxis) - 0.5;this.stx.plotLine({x0:c3X.left,x1:c3X.right,y0:D8E,y1:D8E,color:T7s.color,type:i5a,context:c3X.chart.context,confineToPanel:c3X,pattern:T7s.pattern || "solid",lineWidth:T7s.lineWidth || 1,opacity:T7s.opacity || 0.8,globalCompositeOperation:L4L});}};v8d.Renderer.Histogram.prototype.getBasis=function(T1$,F4w,w_X){var t5v,Y4P,V6Y,l6_;t5v=0;if(T1$ && this.useSum){for(var H1S=0;H1S < this.seriesParams.length;H1S++){Y4P="C";Y4P+="l";Y4P+="os";Y4P+="e";V6Y=this.seriesParams[H1S].field;if(V6Y === F4w)break;l6_=T1$[V6Y];if(l6_ && typeof l6_ === "object"){l6_=l6_[w_X || this.seriesParams[H1S].subField || this.stx.chart.defaultPlotField || Y4P];}if(l6_){t5v+=l6_;}}}y8R.f3X();return t5v;};v8d.Renderer.Heatmap=function(U0Q){var e1g;e1g="h";e1g+="eatmap";this.construct(U0Q);this.params.type=e1g;this.params.highlightable=!1;this.barsHaveWidth=this.standaloneBars=!![];};v8d.inheritsFrom(v8d.Renderer.Heatmap,v8d.Renderer,!({}));v8d.Renderer.Heatmap.requestNew=function(t$y,S$J){var t_y,v7i;t_y=null;for(var s6y="0" - 0;s6y < t$y.length;s6y++){v7i=t$y[s6y];if(v7i == "heatmap"){t_y="heatmap";}}if(t_y === null){return null;}return new v8d.Renderer.Heatmap({params:v8d.extend(S$J,{type:t_y})});};v8d.Renderer.Heatmap.prototype.draw=function(){this.stx.drawHeatmap(v8d.clone(this.params),this.seriesParams);};v8d.Renderer.Scatter=function(D2y){this.construct(D2y);this.standaloneBars=this.barsHaveWidth=!!"1";this.bounded=!0;};v8d.inheritsFrom(v8d.Renderer.Scatter,v8d.Renderer.Lines,![]);v8d.Renderer.Scatter.requestNew=function(q6m,t7O){y8R.T$X();var R05,N_x;R05=null;for(var Q9P=0;Q9P < q6m.length;Q9P++){N_x=q6m[Q9P];if(N_x == "scatterplot"){R05="scatter";}}if(R05 === null){return null;}return new v8d.Renderer.Scatter({params:v8d.extend(t7O,{type:R05})});};v8d.Renderer.Scatter.prototype.drawIndividualSeries=function(R3a,U5j){var K8Y,t40;y8R.f3X();K8Y=this.stx.panels[U5j.panel] || R3a.panel;t40={colors:[]};if(this.stx.scatter){t40=this.stx.scatter(K8Y,U5j);}else {console.warn("Error, Scatter renderer requires customChart.js");}return t40;};};o=O2y=>{var T3o;T3o=typeof _CIQ !== "undefined"?_CIQ:O2y.CIQ;if(!T3o.Studies){console.error("accumulationDistribution feature requires first activating studies feature.");}else {T3o.Studies.calculateAccumulationDistribution=function(I6A,U7f){var h9I=f3BGj;var z0a,q6j,O$H,A2M,Y1W,X2I,A_N,n$3,U7o,Y6M;z0a=-328969262;q6j=-1861241339;O$H=2;for(var l0M=1;h9I.S9Y(l0M.toString(),l0M.toString().length,48771) !== z0a;l0M++){A2M=U7f.chart.scrubbed;O$H+=+"2";}if(h9I.O1W(O$H.toString(),O$H.toString().length,19848) !== q6j){A2M=U7f.chart.scrubbed;}for(var o7A=U7f.startFrom;o7A < A2M.length;o7A++){Y1W="R";Y1W+="es";Y1W+="ult ";X2I="Res";X2I+="ul";X2I+="t";X2I+=" ";if(!o7A)continue;A_N=A2M[o7A];if(A_N.futureTick)break;h9I.N_M(14);n$3=A2M[h9I.c0C(o7A,1)];U7o=0;if(A_N.Close > n$3.Close){U7o=A_N.Close - Math.min(A_N.Low,n$3.Close);}else if(A_N.Close < n$3.Close){U7o=A_N.Close - Math.max(A_N.High,n$3.Close);}if(U7f.inputs["Use Volume"]){U7o*=A_N.Volume;}Y6M=n$3[X2I + U7f.name];if(!Y6M){Y6M=0;}Y6M+=U7o;if(!isNaN(A_N.Close)){A_N[Y1W + U7f.name]=Y6M;}}};T3o.Studies.studyLibrary=T3o.extend(T3o.Studies.studyLibrary,{"W Acc Dist":{name:"Accumulation/Distribution",calculateFN:T3o.Studies.calculateAccumulationDistribution,inputs:{"Use Volume":!!0}}});}};U=B0N=>{var o8v,y_3,g4D;o8v=typeof _CIQ !== "undefined"?_CIQ:B0N.CIQ;if(!o8v.Studies){console.error("adx feature requires first activating studies feature.");}else {y_3="a";y_3+="u";y_3+="t";y_3+="o";g4D="#F";g4D+="F000";g4D+="0";o8v.Studies.calculateADX=function(S7a,f$M){var r1B=f3BGj;var C$R,X0Y,a6u,N33,I6b,t6j,w8h,b3x,I39,s_i,O6$,M3t,J4x,p48,s4k,r5n,s5B,i2D,Y7e,e7E,l_D,F52,E70,I8r,g9V;r1B.f3X();C$R="Smoo";C$R+="thin";C$R+="g Per";C$R+="iod";o8v.Studies.calculateStudyATR(S7a,f$M);X0Y=f$M.chart.scrubbed;a6u=-2025389382;N33=525802871;I6b=+"2";for(var y7h=1;r1B.O1W(y7h.toString(),y7h.toString().length,53330) !== a6u;y7h++){t6j=f$M.days;w8h=parseInt(f$M.inputs[""],43);if(+w8h || w8h == 4){w8h=t6j;}I6b+=2;}if(r1B.O1W(I6b.toString(),I6b.toString().length,233) !== N33){t6j=f$M.days;w8h=parseInt(f$M.inputs[""],50);if(-w8h && w8h != 6){w8h=t6j;}}t6j=f$M.days;w8h=parseInt(f$M.inputs[C$R],10);if(!w8h && w8h !== 0){w8h=t6j;}if(X0Y.length < f$M.days + 1){f$M.error=!!({});return;}b3x=0;I39=0;s_i=0;O6$=0;for(var x3j=Math.max(1,f$M.startFrom);x3j < X0Y.length;x3j++){J4x="_sm";J4x+="+";J4x+="D";J4x+="M ";M3t=X0Y[x3j];p48=Math.max(0,M3t.High - X0Y[x3j - 1].High);s4k=Math.max(0,X0Y[x3j - 1].Low - M3t.Low);if(p48 > s4k){s4k=0;}else if(s4k > p48){p48=0;}else {p48=s4k=+"0";}if(x3j <= t6j){I39+=p48;s_i+=s4k;b3x+=M3t["True Range " + f$M.name];}else {r5n="_";r5n+="sm";r5n+="TR ";s5B="_";s5B+="s";s5B+="m-";s5B+="DM ";i2D="_";i2D+="s";i2D+="m+";i2D+="DM ";r1B.N_M(55);var B3d=r1B.c0C(7,4,13,2);r1B.j7J(52);var X9V=r1B.a$j(1,4,2);I39=X0Y[x3j - B3d][i2D + f$M.name] * (t6j - X9V) / t6j + p48;r1B.N_M(9);var Q9I=r1B.a$j(44,15,3);r1B.j7J(28);var r$B=r1B.c0C(1709,6,0,19,15);s_i=X0Y[x3j - Q9I][s5B + f$M.name] * (t6j - r$B) / t6j + s4k;r1B.N_M(110);var v5m=r1B.c0C(5,4,16,1);r1B.N_M(34);var a6_=r1B.c0C(20,1,19);b3x=X0Y[x3j - v5m][r5n + f$M.name] * (t6j - a6_) / t6j + M3t["True Range " + f$M.name];}M3t[J4x + f$M.name]=I39;M3t["_sm-DM " + f$M.name]=s_i;M3t["_smTR " + f$M.name]=b3x;if(x3j < t6j)continue;r1B.N_M(111);Y7e=r1B.c0C(I39,b3x,100);r1B.j7J(111);e7E=r1B.c0C(s_i,b3x,100);r1B.j7J(61);var a3S=r1B.c0C(8,4,98);l_D=a3S * Math.abs(Y7e - e7E) / (Y7e + e7E);M3t["+DI " + f$M.name]=Y7e;M3t["-DI " + f$M.name]=e7E;if(f$M.inputs.Series !== !({}) && w8h){if(x3j < t6j + w8h - 1){if(x3j == f$M.startFrom){for(var M74=t6j;M74 < f$M.startFrom;M74++){r1B.j7J(112);var U_B=r1B.a$j(96,99,109,13);O6$+=U_B * Math.abs(X0Y[M74]["+DI " + f$M.name] - X0Y[M74]["-DI " + f$M.name]) / (X0Y[M74]["+DI " + f$M.name] + X0Y[M74]["-DI " + f$M.name]);}}O6$+=l_D;}else if(x3j == t6j + w8h - 1){r1B.j7J(7);M3t["ADX " + f$M.name]=r1B.a$j(O6$,w8h);}else {F52="A";F52+="D";F52+="X";F52+=" ";r1B.j7J(14);var A$l=r1B.c0C(13,12);r1B.j7J(21);var X0H=r1B.c0C(7,2,3);M3t[F52 + f$M.name]=(X0Y[x3j - A$l]["ADX " + f$M.name] * (w8h - X0H) + l_D) / w8h;}}if(f$M.inputs.Histogram){E70="+";E70+="DI ";I8r=f$M.name + "_hist";if(!M3t["+DI " + f$M.name] && M3t[E70 + f$M.name] !== 0)continue;if(!M3t["-DI " + f$M.name] && M3t["-DI " + f$M.name] !== 0)continue;M3t[I8r]=M3t["+DI " + f$M.name] - M3t["-DI " + f$M.name];if(f$M.inputs.Series === !1){g9V="+";g9V+="DI";g9V+=" ";M3t[g9V + f$M.name]=null;M3t["-DI " + f$M.name]=null;}f$M.outputMap[I8r]="";}}};o8v.Studies.displayADX=function(m0t,i9V,F1K){var P92,P$u,C6z,z1C,u5d,m1j,p_U;P92=i9V.underlay?0.3:i9V.inputs.Series?0.4:1;if(i9V.inputs.Series && i9V.inputs.Shading){P$u="+DI " + i9V.name;C6z="-DI " + i9V.name;z1C=o8v.Studies.determineColor(i9V.outputs[i9V.outputMap[P$u]]);u5d=o8v.Studies.determineColor(i9V.outputs[i9V.outputMap[C6z]]);m1j=i9V.getYAxis(m0t);p_U={topBand:P$u,bottomBand:C6z,topColor:z1C,bottomColor:u5d,skipTransform:m0t.panels[i9V.panel].name != i9V.chart.name,topAxis:m1j,bottomAxis:m1j,opacity:0.3};if(!i9V.highlight && m0t.highlightedDraggable){p_U.opacity*=0.3;}o8v.fillIntersecting(m0t,i9V.panel,p_U);}if(i9V.inputs.Histogram){o8v.Studies.createHistogram(m0t,i9V,F1K,!({}),P92);}if(i9V.inputs.Series !== !1){o8v.Studies.displaySeriesAsLine(m0t,i9V,F1K);}else if(!i9V.inputs.Series && !i9V.inputs.Histogram){m0t.displayErrorAsWatermark(i9V.panel,m0t.translateIf(i9V.name) + ": " + m0t.translateIf("Nothing to display"));}};o8v.Studies.studyLibrary=o8v.extend(o8v.Studies.studyLibrary,{ADX:{name:"ADX/DMS",calculateFN:o8v.Studies.calculateADX,seriesFN:o8v.Studies.displayADX,inputs:{Period:14,"Smoothing Period":14,Series:!!({}),Shading:![],Histogram:!"1"},outputs:{"+DI":"#00FF00","-DI":g4D,ADX:y_3,"Positive Bar":"#00DD00","Negative Bar":"#FF0000"}}});}};g=u9O=>{var n9I=f3BGj;var y9m,U1H,R41,U5T,c7r;y9m="undef";n9I.f3X();y9m+="i";y9m+="ned";U1H=typeof _CIQ !== y9m?_CIQ:u9O.CIQ;if(!U1H.Studies){console.error("alligator feature requires first activating studies feature.");}else {R41="#FF000";R41+="0";U5T="#";U5T+="00DD";U5T+="00";c7r="#00";c7r+="00F";c7r+="F";U1H.Studies.calculateAlligator=function(A4l,j$U){var P4R,N5v,b7u,A8d,N_s,l91,G8c,Y7U,w8w,u02,E0E,p6M,r4C,g2X,j8H,H9G;P4R="Gato";P4R+="r";N5v="Li";N5v+="ps Perio";N5v+="d";b7u="J";b7u+="aw";b7u+=" Period";A8d={J:Number(j$U.inputs[b7u]),T:Number(j$U.inputs["Teeth Period"]),L:Number(j$U.inputs[N5v])};N_s=j$U.chart.scrubbed;if(N_s.length < Math.max(A8d.J,A8d.T,A8d.L) + 1){j$U.error=!![];return;}if(j$U.type === P4R || j$U.inputs["Show Lines"]){l91="hl";l91+="/";l91+="2";G8c="Tee";G8c+="th ";G8c+="Offset";Y7U="h";Y7U+="l/";Y7U+="2";w8w="J";w8w+="a";w8w+="w ";w8w+="Offset";U1H.Studies.MA("welles wilder",A8d.J,"hl/2",j$U.inputs[w8w],"Jaw",A4l,j$U);U1H.Studies.MA("welles wilder",A8d.T,Y7U,j$U.inputs[G8c],"Teeth",A4l,j$U);U1H.Studies.MA("welles wilder",A8d.L,l91,j$U.inputs["Lips Offset"],"Lips",A4l,j$U);}for(var S2F=j$U.startFrom;S2F < N_s.length;S2F++){if(!N_s[S2F])continue;if(j$U.type == "Gator"){u02="_h";u02+="ist1";E0E="J";E0E+="a";E0E+="w";E0E+=" ";p6M=N_s[S2F][E0E + j$U.name];r4C=N_s[S2F]["Lips " + j$U.name];g2X=N_s[S2F]["Teeth " + j$U.name];if(g2X || g2X === "0" >> 64){if(p6M || p6M === 0){n9I.N_M(14);N_s[S2F][j$U.name + "_hist1"]=Math.abs(n9I.c0C(p6M,g2X));}if(r4C || r4C === 0){n9I.N_M(14);N_s[S2F][j$U.name + "_hist2"]=-Math.abs(n9I.c0C(g2X,r4C));}}j$U.outputMap={};j$U.outputMap[j$U.name + u02]="";j$U.outputMap[j$U.name + "_hist2"]="";}if(j$U.inputs["Show Fractals"]){if(!N_s[S2F - 2] || !N_s[S2F - 1] || !N_s[S2F] || !N_s[S2F + 1] || !N_s[S2F + ("2" >> 64)])continue;if(N_s[S2F - 2].High && N_s[S2F - 1].High && N_s[S2F].High && N_s[S2F + +"1"].High && N_s[S2F + 2].High){if(N_s[S2F].High > N_s[S2F - 1].High && N_s[S2F].High > N_s[S2F - 2].High && N_s[S2F].High > N_s[S2F + 1].High && N_s[S2F].High > N_s[S2F + 2].High){j8H="F";j8H+="ract";j8H+="a";j8H+="l High ";N_s[S2F][j8H + j$U.name]=1;}}if(N_s[S2F - 2].Low && N_s[S2F - 1].Low && N_s[S2F].Low && N_s[S2F + 1].Low && N_s[S2F + 2].Low){if(N_s[S2F].Low < N_s[S2F - 1].Low && N_s[S2F].Low < N_s[S2F - ("2" | 2)].Low && N_s[S2F].Low < N_s[S2F + 1].Low && N_s[S2F].Low < N_s[S2F + 2].Low){H9G="Fractal";H9G+=" Low ";N_s[S2F][H9G + j$U.name]=1;}}}}};U1H.Studies.displayAlligator=function(h9Z,s_k,f$k){var a6S,o8E,V9w,Y_M;a6S=s_k.getContext(h9Z);if(s_k.inputs["Show Lines"]){U1H.Studies.displaySeriesAsLine(h9Z,s_k,f$k);}if(s_k.inputs["Show Fractals"]){h9Z.startClip();a6S.globalAlpha=s_k.underlay?0.3:1;if(!s_k.highlight && h9Z.highlightedDraggable){a6S.globalAlpha*=0.3;}for(var c7C=2;c7C < f$k.length - 2;c7C++){if(f$k[c7C]){o8E="l";o8E+="ow";V9w="Frac";V9w+="ta";V9w+="l Low";V9w+=" ";Y_M="hig";Y_M+="h";if(f$k[c7C]["Fractal High " + s_k.name]){l7W(Y_M,c7C);}if(f$k[c7C][V9w + s_k.name]){l7W(o8E,c7C);}}}h9Z.endClip();}n9I.T$X();function l7W(o7N,o4f){var D3v,J$k,g0D,a_z,F$v;J$k=h9Z.chart.panel.yAxis.flipped;if(o7N == "high"){g0D="b";g0D+="ot";g0D+="tom";a6S.fillStyle=h9Z.defaultColor;a6S.textBaseline=J$k?"top":g0D;D3v=h9Z.pixelFromPrice(f$k[o4f].High);a6S.fillText(J$k?976.18 == 3090?(0x28e,0x125a):(7140,977.43) > 148.55?"\u25BC":(8910,5690) == ("3714" ^ 0,+"871.35")?0x1315:("h","a"):"\u25B2",h9Z.pixelFromBar(c7C,h9Z.chart) - a6S.measureText(("65" | 1,557) <= "763" - 0?3112 <= (809.74,4720)?448.29 == 684.47?0x3f9:"\u25B2":(8.42e+3,"3.35e+2" * 1):(!"1","e")).width / +"2" + 1,J$k?D3v + 5:D3v - 5);;}else if(o7N == "low"){a_z="t";a_z+="o";a_z+="p";F$v="bott";F$v+="o";F$v+="m";a6S.fillStyle=h9Z.defaultColor;a6S.textBaseline=J$k?F$v:a_z;D3v=h9Z.pixelFromPrice(f$k[o4f].Low);a6S.fillText(J$k?325.1 <= +"6230"?"\u25B2":(4.65e+3,6.51e+3):5050 !== (97.86,8690)?"1366" - 0 > (1520,9587)?(3655,148.28) <= (5850,322.54)?"P":0x16b7:"\u25BC":+"445.88",h9Z.pixelFromBar(c7C,h9Z.chart) - a6S.measureText(("356.65" * 1,+"461") >= (7750,1870)?3800 == ("3985" << 64,"1990" << 64)?(595.23,!({})):(936.14,0x1565):"\u25BC").width / 2 + 1,J$k?D3v - ("5" << 32):D3v + 5);;}}};U1H.Studies.displayGator=function(G3d,D72,f0Y){var Z9V,W3$,T6c,m0K,t1C,U5K,H$3,O4f,k72,z_a,f$O,q6G,w8t;Z9V="#CCCC";Z9V+="C";Z9V+="C";W3$="De";W3$+="creasing B";W3$+="ar";T6c="Increasin";T6c+="g ";T6c+="Bar";m0K=G3d.panels[D72.panel];t1C=D72.getContext(G3d);U5K=D72.getYAxis(G3d);H$3=G3d.pixelFromPrice(0,m0K,U5K);n9I.j7J(113);var D4I=n9I.c0C(38,2,8,1,9);O4f=G3d.layout.candleWidth - D4I;if(O4f < 2){O4f=1;}k72=U1H.Studies.determineColor(D72.outputs[T6c]);z_a=U1H.Studies.determineColor(D72.outputs[W3$]);G3d.canvasColor("stx_histogram");if(!D72.underlay){t1C.globalAlpha=+"1";}t1C.fillStyle=Z9V;G3d.startClip(D72.panel);if(!D72.highlight && G3d.highlightedDraggable){t1C.globalAlpha*=0.3;}n9I.f3X();for(var m2Y=0;m2Y < f0Y.length;m2Y++){f$O=f0Y[m2Y];n9I.j7J(114);q6G=f0Y[n9I.a$j(m2Y,"1",1)];if(!f$O)continue;for(var P9x=1;P9x <= 2;P9x++){w8t="_";w8t+="hi";w8t+="s";w8t+="t";if(!q6G){q6G=G3d.getPreviousBar(G3d.chart,D72.name + "_hist" + P9x,m2Y);}if(!q6G){t1C.fillStyle="#CCCCCC";}else if(Math.abs(q6G[D72.name + w8t + P9x]) < Math.abs(f$O[D72.name + "_hist" + P9x])){t1C.fillStyle=k72;}else if(Math.abs(q6G[D72.name + "_hist" + P9x]) > Math.abs(f$O[D72.name + "_hist" + P9x])){t1C.fillStyle=z_a;}if(f$O.candleWidth){O4f=Math.floor(Math.max(1,f$O.candleWidth - 2));}t1C.fillRect(Math.floor(G3d.pixelFromBar(m2Y,m0K.chart) - O4f / 2),Math.floor(H$3),Math.floor(O4f),Math.floor(G3d.pixelFromPrice(f$O[D72.name + "_hist" + P9x],m0K,U5K) - H$3));}}G3d.endClip();};U1H.Studies.studyLibrary=U1H.extend(U1H.Studies.studyLibrary,{Alligator:{name:"Alligator",overlay:!![],seriesFN:U1H.Studies.displayAlligator,calculateFN:U1H.Studies.calculateAlligator,inputs:{"Show Lines":!![],"Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":+"3","Show Fractals":![]},outputs:{Jaw:c7r,Teeth:"#FF0000",Lips:"#00DD00"}},Gator:{name:"Gator Oscillator",seriesFN:U1H.Studies.displayGator,calculateFN:U1H.Studies.calculateAlligator,inputs:{"Jaw Period":13,"Jaw Offset":+"8","Teeth Period":+"8","Teeth Offset":5,"Lips Period":+"5","Lips Offset":"3" - 0},outputs:{"Increasing Bar":U5T,"Decreasing Bar":R41},centerline:0}});}};Y=V2r=>{var o9e=f3BGj;var C_7,Y4b,G$m,c0r,L1D,h_G;C_7=typeof _CIQ !== "undefined"?_CIQ:V2r.CIQ;if(!C_7.Studies){Y4b=-809326854;o9e.N_M(4);G$m=o9e.c0C("128905528",24);c0r=2;for(var d$k=1;o9e.O1W(d$k.toString(),d$k.toString().length,33224) !== Y4b;d$k++){console.error("");c0r+=2;}if(o9e.O1W(c0r.toString(),c0r.toString().length,79149) !== G$m){console.error("");}console.error("aroon feature requires first activating studies feature.");}else {L1D="0 ";L1D+="to";L1D+=" 100";h_G="Aroo";h_G+="n";C_7.Studies.calculateAroon=function(Y53,o6t){var B0P,C_K,k$b,c$d,e0l,X2x,J5n,H6e,X4o,T7a,O3y,D1$,Z7e,X5H,T3R,s$Z;B0P=o6t.chart.scrubbed;if(B0P.length < o6t.days + "1" * 1){o6t.error=!"";return;}C_K=0;k$b=0;c$d=null;e0l=null;if(o6t.startFrom > 0){X2x="_st";X2x+="at";X2x+="e";X2x+=" ";o9e.N_M(3);var Q3W=o9e.a$j(24,18,7);J5n=B0P[o6t.startFrom - Q3W][X2x + o6t.name];if(J5n){C_K=J5n[+"0"];o9e.j7J(31);k$b=J5n[o9e.c0C("1",0)];c$d=J5n[2];e0l=J5n[3];}}for(var g8c=o6t.startFrom;g8c < B0P.length;g8c++){X4o="_stat";X4o+="e ";T7a="A";T7a+="r";T7a+="oon";T7a+=" Down ";O3y="Aroon";O3y+=" ";O3y+="Dow";O3y+="n ";D1$=B0P[g8c];if(D1$.futureTick)break;if(c$d === null){c$d=D1$.High;}if(e0l === null){e0l=D1$.Low;}c$d=Math.max(c$d,D1$.High);if(c$d == D1$.High){C_K=0;}else {C_K++;if(C_K > o6t.days){c$d=D1$.High;C_K=0;for(H6e=+"1";H6e <= o6t.days;H6e++){c$d=Math.max(c$d,B0P[g8c - H6e].High);if(c$d == B0P[g8c - H6e].High){C_K=H6e;}}}}e0l=Math.min(e0l,D1$.Low);if(e0l == D1$.Low){k$b=0;}else {k$b++;if(k$b > o6t.days){e0l=D1$.Low;k$b=0;for(H6e=1;H6e <= o6t.days;H6e++){e0l=Math.min(e0l,B0P[g8c - H6e].Low);if(e0l == B0P[g8c - H6e].Low){k$b=H6e;}}}}Z7e=!isNaN(D1$.High);X5H=!isNaN(D1$.Low);o9e.j7J(61);var q2_=o9e.c0C(13,1,87);o9e.j7J(0);var z99=o9e.c0C(126,8,15,9);T3R=q2_ * (z99 - C_K / o6t.days);if(Z7e){D1$["Aroon Up " + o6t.name]=T3R;}o9e.N_M(14);var i6O=o9e.c0C(106,6);s$Z=i6O * (+"1" - k$b / o6t.days);if(X5H){D1$[O3y + o6t.name]=s$Z;}if(Z7e && X5H){D1$["Aroon Oscillator " + o6t.name]=D1$["Aroon Up " + o6t.name] - D1$[T7a + o6t.name];}D1$[X4o + o6t.name]=[C_K,k$b,c$d,e0l];}};C_7.Studies.studyLibrary=C_7.extend(C_7.Studies.studyLibrary,{Aroon:{name:h_G,range:L1D,calculateFN:C_7.Studies.calculateAroon,outputs:{"Aroon Up":"#00DD00","Aroon Down":"#FF0000"}},"Aroon Osc":{name:"Aroon Oscillator",calculateFN:C_7.Studies.calculateAroon,outputs:{"Aroon Oscillator":"auto"}}});}};G=o9W=>{var g7h=f3BGj;var e9S,H9p,x6H,Y7X;g7h.T$X();e9S=typeof _CIQ !== "undefined"?_CIQ:o9W.CIQ;if(!e9S.Studies){console.error("atr feature requires first activating studies feature.");}else {H9p="ATR Trailing Stop";H9p+="s";x6H="au";x6H+="to";Y7X="AT";Y7X+="R Bands";e9S.Studies.calculateATRBands=function(N4s,s4F){var d28,G96,K6H,K$m;e9S.Studies.calculateStudyATR(N4s,s4F);d28=s4F.inputs.Field;if(!d28 || d28 == "field"){d28="Close";}g7h.j7J(4);G96=-g7h.c0C("972743568",0);K6H=1560178187;K$m=2;for(var W$y="1" * 1;g7h.S9Y(W$y.toString(),W$y.toString().length,75126) !== G96;W$y++){e9S.Studies.calculateGenericEnvelope(N4s,s4F,s4F.inputs.Shift,d28,"" * s4F.name);g7h.j7J(14);K$m+=g7h.c0C("2",0);}if(g7h.S9Y(K$m.toString(),K$m.toString().length,59413) !== K6H){e9S.Studies.calculateGenericEnvelope(N4s,s4F,s4F.inputs.Shift,d28,"" / s4F.name);}e9S.Studies.calculateGenericEnvelope(N4s,s4F,s4F.inputs.Shift,d28,"ATR " + s4F.name);};e9S.Studies.calculateSTARCBands=function(o8U,U1r){var Q2s;Q2s="C";Q2s+="los";Q2s+="e";e9S.Studies.calculateStudyATR(o8U,U1r);e9S.Studies.MA("simple",U1r.inputs["MA Period"],Q2s,0,"_MA",o8U,U1r);e9S.Studies.calculateGenericEnvelope(o8U,U1r,U1r.inputs.Multiplier,"_MA " + U1r.name,"ATR " + U1r.name);};e9S.Studies.calculateATRStops=function(z15,S3S){var C6X,M6c,t65,M0b,i2V,X9M,n81,K1a,T5p,X7m;C6X=S3S.chart.scrubbed;g7h.f3X();if(!C6X){return;}e9S.Studies.calculateStudyATR(z15,S3S);M6c=S3S.inputs.HighLow;for(var j1v=Math.max(S3S.startFrom - 1,"1" << 64);j1v < C6X.length - 1;j1v++){t65=C6X[j1v];g7h.j7J(14);M0b=C6X[g7h.a$j(j1v,1)];i2V=t65["Buy Stops " + S3S.name];if(!i2V){i2V=t65["Sell Stops " + S3S.name];}if(!i2V){i2V=0;}if(!t65 || !M0b)continue;X9M=t65.Close;n81=X9M;K1a=t65["ATR " + S3S.name] * S3S.inputs.Multiplier;if(t65.Close > i2V && M0b.Close > i2V){if(M6c){X9M=t65.High;}g7h.j7J(14);n81=Math.max(i2V,g7h.a$j(X9M,K1a));}else if(t65.Close <= i2V && M0b.Close <= i2V){if(M6c){X9M=t65.Low;}g7h.N_M(1);n81=Math.min(i2V,g7h.c0C(X9M,K1a));}else if(t65.Close > i2V){if(M6c){X9M=t65.High;}g7h.j7J(14);n81=g7h.a$j(X9M,K1a);}else if(t65.Close <= i2V){if(M6c){X9M=t65.Low;}g7h.N_M(1);n81=g7h.a$j(X9M,K1a);}if(X9M <= n81){g7h.j7J(1);C6X[g7h.a$j(j1v,1)]["Buy Stops " + S3S.name]=n81;g7h.j7J(1);delete C6X[g7h.a$j(j1v,1)]["Sell Stops " + S3S.name];}else if(X9M > n81){T5p="Buy S";T5p+="top";T5p+="s ";X7m="Sell ";X7m+="Stops ";g7h.j7J(1);C6X[g7h.a$j(j1v,1)][X7m + S3S.name]=n81;g7h.N_M(115);delete C6X[g7h.a$j("1",j1v,0)][T5p + S3S.name];}g7h.j7J(1);C6X[g7h.a$j(j1v,1)]["All Stops " + S3S.name]=n81;}S3S.referenceOutput="All Stops";S3S.outputMap={};S3S.outputMap["All Stops " + S3S.name]="";};e9S.Studies.studyLibrary=e9S.extend(e9S.Studies.studyLibrary,{ATR:{name:"Average True Range",calculateFN:e9S.Studies.calculateStudyATR,outputs:{ATR:"auto"}},"ATR Bands":{name:Y7X,overlay:!!({}),seriesFN:e9S.Studies.displayChannel,calculateFN:e9S.Studies.calculateATRBands,inputs:{Period:"5" >> 64,Field:"field",Shift:3,"Channel Fill":!![]},outputs:{"ATR Bands Top":"auto","ATR Bands Bottom":x6H,"ATR Bands Channel":"auto"},attributes:{Shift:{min:0.1,step:0.1}}},"STARC Bands":{name:"STARC Bands",overlay:!!1,seriesFN:e9S.Studies.displayChannel,calculateFN:e9S.Studies.calculateSTARCBands,inputs:{Period:15,"MA Period":5,Multiplier:+"1.3","Channel Fill":!0},outputs:{"STARC Bands Top":"auto","STARC Bands Median":"auto","STARC Bands Bottom":"auto"},attributes:{Multiplier:{min:0.1,step:0.1}}},"ATR Trailing Stop":{name:H9p,overlay:!!1,seriesFN:e9S.Studies.displayPSAR2,calculateFN:e9S.Studies.calculateATRStops,inputs:{Period:21,Multiplier:3,"Plot Type":["points","squarewave"],HighLow:![]},outputs:{"Buy Stops":"#FF0000","Sell Stops":"#00FF00"},attributes:{Multiplier:{min:0.1,step:0.1}}}});}};X=I_4=>{var C6f=f3BGj;C6f.T$X();var f1J,r4G,i6S,t96;f1J=610765755;r4G=-1092841126;i6S=2;for(var J$t=1;C6f.S9Y(J$t.toString(),J$t.toString().length,84544) !== f1J;J$t++){t96=typeof _CIQ !== "undefined"?_CIQ:I_4.CIQ;i6S+=+"2";}if(C6f.O1W(i6S.toString(),i6S.toString().length,97768) !== r4G){t96=-_CIQ == ""?_CIQ:I_4.CIQ;}if(!t96.Studies){console.error("awesomeOscillator feature requires first activating studies feature.");}else {t96.Studies.calculateAwesomeOscillator=function(v$6,t_x){var s1h,S44,r4L,R_d,E6T,S6n,d0y,S2A,S1g;s1h="_";s1h+="hi";s1h+="s";s1h+="t";S44="_";S44+="MA5";r4L="s";r4L+="i";r4L+="mple";R_d=t_x.chart.scrubbed;if(R_d.length < 33){t_x.error=!![];return;}t96.Studies.MA(r4L,5,"hl/2",0,S44,v$6,t_x);E6T=2070076368;S6n=-1587263358;d0y=2;for(var v7X=1;C6f.O1W(v7X.toString(),v7X.toString().length,21402) !== E6T;v7X++){S2A="_M";S2A+="A";S2A+="3";S2A+="4";t96.Studies.MA("_MA34",45,"_MA34",1,S2A,v$6,t_x);d0y+=2;}if(C6f.O1W(d0y.toString(),d0y.toString().length,85914) !== S6n){t96.Studies.MA("_MA34",51,"_MA34",0,"_MA34",v$6,t_x);}t96.Studies.MA("simple",34,"hl/2",0,"_MA34",v$6,t_x);C6f.T$X();for(var P9s=Math.max(t_x.startFrom,33);P9s < R_d.length;P9s++){S1g="_MA5";S1g+=" ";if(!R_d[P9s])continue;R_d[P9s][t_x.name + "_hist"]=R_d[P9s][S1g + t_x.name] - R_d[P9s]["_MA34 " + t_x.name];}t_x.outputMap={};t_x.outputMap[t_x.name + s1h]="";};t96.Studies.displayAwesomeOscillator=function(W4K,L7C,v_A){var x6m,F5Q,X$E,w0M,H6p,f_a,n8u,p22,x1w,a6d;x6m=W4K.panels[L7C.panel];F5Q=L7C.getContext(W4K);X$E=L7C.getYAxis(W4K);w0M=W4K.pixelFromPrice(0,x6m,X$E);C6f.j7J(15);var c3G=C6f.c0C(0,12,10);H6p=W4K.layout.candleWidth - c3G;if(H6p < 2){H6p=1;}f_a=t96.Studies.determineColor(L7C.outputs["Increasing Bar"]);n8u=t96.Studies.determineColor(L7C.outputs["Decreasing Bar"]);W4K.canvasColor("stx_histogram");if(!L7C.underlay){F5Q.globalAlpha=1;}F5Q.fillStyle="#CCCCCC";W4K.startClip(L7C.panel);if(!L7C.highlight && W4K.highlightedDraggable){F5Q.globalAlpha*=0.3;}for(var P$8="0" >> 96;P$8 < v_A.length;P$8++){p22="_";p22+="h";p22+="is";p22+="t";x1w=v_A[P$8];C6f.j7J(14);a6d=v_A[C6f.c0C(P$8,1)];if(!a6d){a6d=W4K.getPreviousBar(W4K.chart,L7C.name + "_hist",P$8);}if(!x1w)continue;if(!a6d);else if(a6d[L7C.name + p22] < x1w[L7C.name + "_hist"]){F5Q.fillStyle=f_a;}else if(a6d[L7C.name + "_hist"] > x1w[L7C.name + "_hist"]){F5Q.fillStyle=n8u;}if(x1w.candleWidth){H6p=Math.floor(Math.max(1,x1w.candleWidth - +"2"));}F5Q.fillRect(Math.floor(W4K.pixelFromBar(P$8,x6m.chart) - H6p / 2),Math.floor(w0M),Math.floor(H6p),Math.floor(W4K.pixelFromPrice(x1w[L7C.name + "_hist"],x6m,X$E) - w0M));}W4K.endClip();};t96.Studies.studyLibrary=t96.extend(t96.Studies.studyLibrary,{Awesome:{name:"Awesome Oscillator",seriesFN:t96.Studies.displayAwesomeOscillator,calculateFN:t96.Studies.calculateAwesomeOscillator,inputs:{},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};E=s0_=>{var T9n,s0c,c0H,X_H;T9n="und";T9n+="ef";T9n+="ined";s0c=typeof _CIQ !== T9n?_CIQ:s0_.CIQ;if(!s0c.Studies){c0H="ba";c0H+="lanceOfPower feature requires first activa";c0H+="ting studies feature.";console.error(c0H);}else {X_H="-";X_H+="1";X_H+=" to 1";s0c.Studies.calculateBalanceOfPower=function(Z2z,K9$){var f0R,h9j,o9T,b0b;f0R="Re";f0R+="sult";h9j="_R";h9j+="at";h9j+="io";h9j+=" ";o9T=K9$.chart.scrubbed;if(o9T.length < K9$.days + 1){K9$.error=!"";return;}for(var r1e=K9$.startFrom;r1e < o9T.length;r1e++){b0b=o9T[r1e];b0b["_Ratio " + K9$.name]=b0b.Close - b0b.Open;if(b0b.High - b0b.Low !== 0){b0b["_Ratio " + K9$.name]/=b0b.High - b0b.Low;}}f3BGj.f3X();s0c.Studies.MA(K9$.inputs["Moving Average Type"],K9$.days,h9j + K9$.name,0,f0R,Z2z,K9$);};s0c.Studies.studyLibrary=s0c.extend(s0c.Studies.studyLibrary,{"Bal Pwr":{name:"Balance of Power",range:X_H,centerline:0,calculateFN:s0c.Studies.calculateBalanceOfPower,inputs:{Period:+"14","Moving Average Type":"ma"}}});}};F=q3X=>{var K4o,P0X,W0j,u3p,O9Z,o17,w33,u$L;K4o=typeof _CIQ !== "undefined"?_CIQ:q3X.CIQ;if(!K4o.Studies){P0X="bol";P0X+="linger feature requires first activa";P0X+="ting studies f";P0X+="eature.";console.error(P0X);}else {W0j="Bollinge";W0j+="r Bandwidth";u3p="a";u3p+="u";u3p+="t";u3p+="o";O9Z="aut";O9Z+="o";o17="a";o17+="u";o17+="to";w33="au";w33+="t";w33+="o";u$L="fi";u$L+="e";u$L+="l";u$L+="d";K4o.Studies.calculateBollinger=function(J$N,Z$f){var y3i,K1J,g_c,u8j;y3i="_";y3i+="M";y3i+="A";y3i+=" ";K1J="St";K1J+="a";K1J+="ndard Deviations";g_c="f";g_c+="i";g_c+="e";f3BGj.f3X();g_c+="ld";u8j=Z$f.inputs.Field;if(!u8j || u8j == g_c){u8j="Close";}K4o.Studies.MA(Z$f.inputs["Moving Average Type"],Z$f.days,u8j,0,"_MA",J$N,Z$f);Z$f.std=new K4o.Studies.StudyDescriptor(Z$f.name,"STD Dev",Z$f.panel);Z$f.std.chart=Z$f.chart;Z$f.std.startFrom=Z$f.startFrom;Z$f.std.days=Z$f.days;Z$f.std.inputs={Field:u8j,"Standard Deviations":1,Type:Z$f.inputs["Moving Average Type"]};Z$f.std.outputs={"_STD Dev":null};K4o.Studies.calculateStandardDeviation(J$N,Z$f.std);K4o.Studies.calculateGenericEnvelope(J$N,Z$f,Z$f.inputs[K1J],y3i + Z$f.name,"_STD Dev " + Z$f.name);if(Z$f.type == "Boll %b"){Z$f.zoneOutput="%b";}};K4o.Studies.studyLibrary=K4o.extend(K4o.Studies.studyLibrary,{"Bollinger Bands":{name:"Bollinger Bands",overlay:!![],calculateFN:K4o.Studies.calculateBollinger,seriesFN:K4o.Studies.displayChannel,inputs:{Period:"20" << 64,Field:u$L,"Standard Deviations":2,"Moving Average Type":"ma","Channel Fill":!!({})},outputs:{"Bollinger Bands Top":w33,"Bollinger Bands Median":"auto","Bollinger Bands Bottom":o17},attributes:{"Standard Deviations":{min:0.1,step:+"0.1"}}},"Boll %b":{name:"Bollinger %b",calculateFN:K4o.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},outputs:{"%b":"auto"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:100,studyOverBoughtColor:O9Z,studyOverSoldValue:0,studyOverSoldColor:u3p}},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Boll BW":{name:W0j,calculateFN:K4o.Studies.calculateBollinger,inputs:{Period:+"20",Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},outputs:{Bandwidth:"auto"},attributes:{"Standard Deviations":{min:0.1,step:0.1}}}});}};I=m5W=>{var Z4s=f3BGj;var b3l,r$X;b3l=typeof _CIQ !== "undefined"?_CIQ:m5W.CIQ;Z4s.f3X();if(!b3l.Studies){console.error("cci feature requires first activating studies feature.");}else {r$X="a";r$X+="ut";r$X+="o";b3l.Studies.calculateCCI=function(R3Q,b7C){var N_6,I9M,H8P,t$A,J4p,n71,d33,J$4;N_6="hlc";Z4s.f3X();N_6+="/";N_6+="3";I9M=b7C.chart.scrubbed;if(I9M.length < b7C.days + +"1"){H8P=-750700883;t$A=-1276999249;J4p=2;for(var W6c=1;Z4s.S9Y(W6c.toString(),W6c.toString().length,29259) !== H8P;W6c++){b7C.error=!({});J4p+=2;}if(Z4s.S9Y(J4p.toString(),J4p.toString().length,+"32914") !== t$A){b7C.error=!"";}return;}b3l.Studies.MA("simple",b7C.days,N_6,0,"MA",R3Q,b7C);for(var i_U=Math.max(b7C.startFrom,b7C.days - +"1");i_U < I9M.length;i_U++){n71="Re";n71+="sult ";d33=I9M[i_U];if(!d33)continue;J$4=0;for(var p9m=0;p9m < b7C.days;p9m++){J$4+=Math.abs(I9M[i_U - p9m]["hlc/3"] - d33["MA " + b7C.name]);}J$4/=b7C.days;if(Math.abs(J$4) < 0.00000001){d33["Result " + b7C.name]=0;}else {d33[n71 + b7C.name]=(d33["hlc/3"] - d33["MA " + b7C.name]) / (0.015 * J$4);}}};b3l.Studies.studyLibrary=b3l.extend(b3l.Studies.studyLibrary,{CCI:{name:"Commodity Channel Index",calculateFN:b3l.Studies.calculateCCI,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:-100,studyOverSoldColor:r$X}},attributes:{Period:{min:+"2"}}}});}};M_=z7L=>{var A2k=f3BGj;var U3y;A2k.f3X();U3y=typeof _CIQ !== "undefined"?_CIQ:z7L.CIQ;if(!U3y.Studies){console.error("centerOfGravity feature requires first activating studies feature.");}else {U3y.Studies.calculateCenterOfGravity=function(A3u,Q11){var b0d,E76,b0H,i50,g1a,X3p;b0d="fi";b0d+="e";b0d+="ld";E76=Q11.chart.scrubbed;if(E76.length < Q11.days){Q11.error=!"";return;}b0H=Q11.inputs.Field;if(!b0H || b0H == b0d){b0H="Close";}for(var N6I=Math.max(Q11.startFrom,Q11.days - 1);N6I < E76.length;N6I++){A2k.j7J(5);i50=A2k.a$j(1,"0");g1a=0;for(var F0i="0" ^ 0;F0i < Q11.days;F0i++){A2k.N_M(14);X3p=E76[A2k.c0C(N6I,F0i)][b0H];A2k.j7J(116);i50-=A2k.a$j(X3p,"1",F0i);g1a+=X3p;}if(g1a){A2k.j7J(7);E76[N6I]["Result " + Q11.name]=A2k.a$j(i50,g1a);}}};U3y.Studies.studyLibrary=U3y.extend(U3y.Studies.studyLibrary,{COG:{name:"Center Of Gravity",calculateFN:U3y.Studies.calculateCenterOfGravity,inputs:{Period:10,Field:"field"}}});}};h1=N9_=>{var S95,B$d;S95=typeof _CIQ !== "undefined"?_CIQ:N9_.CIQ;if(!S95.Studies){B$d="chai";B$d+="kin feature requires first activating studies feature.";console.error(B$d);}else {S95.Studies.calculateChaikinMoneyFlow=function(b3U,Z$s){var W2p=f3BGj;var h$a,G7H,P2J,s4E;h$a=Z$s.chart.scrubbed;if(h$a.length < Z$s.days){Z$s.error=!!"1";return;}G7H=0;P2J=0;W2p.j7J(117);var n96=W2p.c0C(36,12,17,1,8);s4E=h$a[Z$s.startFrom - n96];W2p.T$X();if(s4E){if(s4E["_sumMF " + Z$s.name]){G7H=s4E["_sumMF " + Z$s.name];}if(s4E["_sumV " + Z$s.name]){P2J=s4E["_sumV " + Z$s.name];}}for(var w4h=Z$s.startFrom;w4h < h$a.length;w4h++){if(h$a[w4h].High == h$a[w4h].Low){h$a[w4h]["_MFV " + Z$s.name]=0;}else {W2p.j7J(118);var k7D=W2p.c0C(16,2,16,388,13);h$a[w4h]["_MFV " + Z$s.name]=h$a[w4h].Volume * (k7D * h$a[w4h].Close - h$a[w4h].High - h$a[w4h].Low) / (h$a[w4h].High - h$a[w4h].Low);}G7H+=h$a[w4h]["_MFV " + Z$s.name];P2J+=h$a[w4h].Volume;if(w4h > Z$s.days - ("1" ^ 0)){G7H-=h$a[w4h - Z$s.days]["_MFV " + Z$s.name];P2J-=h$a[w4h - Z$s.days].Volume;if(P2J){W2p.j7J(7);h$a[w4h]["Result " + Z$s.name]=W2p.c0C(G7H,P2J);}}h$a[w4h]["_sumMF " + Z$s.name]=G7H;h$a[w4h]["_sumV " + Z$s.name]=P2J;}};S95.Studies.calculateChaikinVolatility=function(m5e,Y1R){f3BGj.T$X();var x5H,A27,B_m,i56;x5H=Y1R.chart.scrubbed;if(x5H.length < Y1R.days){Y1R.error=!![];return;}for(A27=Y1R.startFrom;A27 < x5H.length;A27++){B_m="_Hig";B_m+="h-Lo";B_m+="w ";if(x5H[A27].futureTick)break;x5H[A27][B_m + Y1R.name]=x5H[A27].High - x5H[A27].Low;}S95.Studies.MA(Y1R.inputs["Moving Average Type"],Y1R.days,"_High-Low " + Y1R.name,0,"_MA",m5e,Y1R);i56=Y1R.inputs["Rate Of Change"];if(!i56){i56=Y1R.days;}for(A27=Math.max(Y1R.startFrom,i56);A27 < x5H.length;A27++){if(!x5H[A27 - i56]["_MA " + Y1R.name])continue;if(x5H[A27].futureTick)break;f3BGj.j7J(14);var e6W=f3BGj.c0C(3,2);x5H[A27]["Result " + Y1R.name]=+"100" * (x5H[A27]["_MA " + Y1R.name] / x5H[A27 - i56]["_MA " + Y1R.name] - e6W);}};S95.Studies.studyLibrary=S95.extend(S95.Studies.studyLibrary,{"Chaikin MF":{name:"Chaikin Money Flow",calculateFN:S95.Studies.calculateChaikinMoneyFlow,inputs:{Period:20}},"Chaikin Vol":{name:"Chaikin Volatility",calculateFN:S95.Studies.calculateChaikinVolatility,inputs:{Period:14,"Rate Of Change":2,"Moving Average Type":"ma"}}});}};W3=l_4=>{var d0F,a3Z,h0F,y$N,z7u;d0F="u";d0F+="nd";d0F+="e";d0F+="fined";a3Z=typeof _CIQ !== d0F?_CIQ:l_4.CIQ;if(!a3Z.Studies){h0F="chande feature requires first activating studie";h0F+="s f";h0F+="eature.";console.error(h0F);}else {y$N="a";y$N+="uto";z7u="Vari";z7u+="able";a3Z.Studies.prettify.variable="vma";a3Z.Studies.movingAverage.conversions.vma="variable";a3Z.Studies.movingAverage.translations.variable="Variable";a3Z.Studies.movingAverage.typeMap.vma="Variable";a3Z.Studies.movingAverage.typeMap.variable=z7u;a3Z.Studies.calculateChandeForecast=function(g1X,K4_){var Z9Y=f3BGj;var q99,X6F,T4u,X52,P7l,F_e;Z9Y.T$X();q99="M";q99+="A";X6F="ti";X6F+="me series";T4u=K4_.chart.scrubbed;if(T4u.length < K4_.days + 1){K4_.error=!!1;return;}X52=K4_.inputs.Field;if(!X52 || X52 == "field"){X52="Close";}a3Z.Studies.MA(X6F,K4_.days,X52,0,q99,g1X,K4_);for(var s7A=Math.max(1,K4_.startFrom);s7A < T4u.length;s7A++){P7l="ob";P7l+="j";P7l+="e";P7l+="ct";F_e=T4u[s7A][X52];if(F_e && typeof F_e == P7l){F_e=F_e[K4_.subField];}Z9Y.j7J(82);var X1b=Z9Y.a$j(4,2,94);Z9Y.j7J(17);var N8M=Z9Y.c0C(120,6,18,13);T4u[s7A]["Result " + K4_.name]=X1b * (N8M - T4u[s7A]["MA " + K4_.name] / F_e);}};a3Z.Studies.calculateChandeMomentum=function(t1_,N_y){var a6m=f3BGj;var e3p,Q$E,d2p,r8f,U4q,f47,E77,B$M,m9s,y5v,R1U,f3a;e3p="Cl";e3p+="ose";Q$E=N_y.name;for(var Z2d in N_y.outputs){a6m.N_M(82);Q$E=a6m.a$j(Q$E,792 >= (3363,6080)?(0x26cd,"k"):(5956,537.74) == 24.91?(829,7898) !== 691.95?(!0,+"0x21d7"):569.94:" ",Z2d);}d2p=N_y.chart.scrubbed;if(d2p.length < N_y.days + 1){N_y.error=!!"1";return;}r8f=N_y.inputs.Field;if(!r8f || r8f == "field"){r8f=e3p;}U4q=0;a6m.T$X();a6m.j7J(31);f47=a6m.c0C("0",64);E77=[];for(var W9F=N_y.startFrom - N_y.days + ("1" - 0);W9F < d2p.length;W9F++){B$M="ob";B$M+="j";B$M+="e";B$M+="ct";if(W9F < +"1")continue;m9s=d2p[W9F][r8f];a6m.N_M(14);y5v=d2p[a6m.c0C(W9F,1)][r8f];if(m9s && typeof m9s == B$M){m9s=m9s.Close;}if(y5v && typeof y5v == "object"){y5v=y5v.Close;}if(y5v === undefined)continue;a6m.N_M(14);R1U=a6m.a$j(m9s,y5v);E77.push(R1U);U4q+=R1U;f47+=Math.abs(R1U);if(E77.length == N_y.days){a6m.N_M(111);d2p[W9F][Q$E]=a6m.c0C(U4q,f47,100);f3a=E77.shift();U4q-=f3a;f47-=Math.abs(f3a);}}};a3Z.Studies.calculateMovingAverageVariable=function(I1C,I9O){var O5Y=f3BGj;var X3c,q2Z,C7u,H7l,f9v,l0h,y4l,m24,X5z,Y2N,N77,F1N,F7J,v6p,d_Q,x9E,q9Q,j7A,c2Q,p0g,X5X;X3c=I9O.inputs.Type;q2Z=I9O.chart.scrubbed;O5Y.N_M(0);var F$O=O5Y.a$j(139,3,36,4);O5Y.j7J(119);var W2W=O5Y.a$j(12,79,18,13);C7u=F$O / (I9O.days + W2W);H7l=null;f9v=I9O.name;for(var D96 in I9O.outputs){O5Y.j7J(82);f9v=O5Y.a$j(f9v,(5380,9960) >= (+"375",5880)?("8960" | 0) == 4935?3690 == 2520?(!({}),!({})):(0x207f,!({})):" ":0x13c3,D96);}l0h=I9O.inputs.Field;if(!l0h || l0h == "field"){l0h="Close";}I9O.cmo=new a3Z.Studies.StudyDescriptor(I9O.name,"cmo",I9O.panel);I9O.cmo.chart=I9O.chart;I9O.cmo.days=9;I9O.cmo.inputs={Field:l0h};I9O.cmo.startFrom=I9O.startFrom;I9O.cmo.outputs={_CMO:null};a3Z.Studies.calculateChandeMomentum(I1C,I9O.cmo);y4l=parseInt(I9O.inputs.Offset,10);O5Y.T$X();if(isNaN(y4l)){y4l=0;}N77=I9O.startFrom;F1N=y4l;for(m24=I9O.startFrom - 1;m24 >= 0;m24--){X5z=q2Z[m24][f9v];if(!X5z && X5z !== 0)continue;if(H7l === null){H7l=X5z;}if(F1N <= 0)break;F1N--;N77=m24;}if(H7l === null){H7l=N77=0;}F7J=[];for(m24=N77;m24 < q2Z.length;m24++){v6p="_";v6p+="C";v6p+="MO ";d_Q="_CM";d_Q+="O ";x9E="ob";x9E+="ject";q9Q=q2Z[m24];X5z=q9Q[l0h];if(X5z && typeof X5z == x9E){X5z=X5z[I9O.subField];}j7A=m24 + y4l >= 0 && m24 + y4l < q2Z.length;c2Q=j7A?q2Z[m24 + y4l]:null;if(!X5z && X5z !== 0){if(c2Q){c2Q[f9v]=null;}else if(m24 + y4l >= q2Z.length){Y2N={};Y2N[f9v]=null;F7J.push(Y2N);}continue;}if(!q9Q[d_Q + I9O.name] && q9Q["_CMO " + I9O.name] !== 0)continue;O5Y.N_M(120);var y64=O5Y.a$j(12,40,12,6);p0g=Math.abs(q9Q[v6p + I9O.name]) / y64;O5Y.j7J(121);X5X=O5Y.a$j(p0g,C7u,X5z,C7u,p0g,1,H7l);H7l=X5X;if(m24 < I9O.days){X5X=null;}if(c2Q){c2Q[f9v]=X5X;}else if(m24 + y4l >= q2Z.length){Y2N={};Y2N[f9v]=X5X;F7J.push(Y2N);}}I9O.appendFutureTicks(I1C,F7J);};a3Z.Studies.studyLibrary=a3Z.extend(a3Z.Studies.studyLibrary,{"Chande Fcst":{name:"Chande Forecast Oscillator",calculateFN:a3Z.Studies.calculateChandeForecast,inputs:{Period:+"14",Field:"field"}},"Chande Mtm":{name:"Chande Momentum Oscillator",calculateFN:a3Z.Studies.calculateChandeMomentum,inputs:{Period:9},parameters:{init:{studyOverZonesEnabled:!!({}),studyOverBoughtValue:50,studyOverBoughtColor:y$N,studyOverSoldValue:-50,studyOverSoldColor:"auto"}}}});}};W9=I8_=>{var n0$,L6O;n0$=typeof _CIQ !== "undefined"?_CIQ:I8_.CIQ;if(!n0$.Studies){L6O="choppi";L6O+="ness feature requ";L6O+="ires first activating studies feature.";console.error(L6O);}else {n0$.Studies.calculateChoppiness=function(M_2,e26){var y$o=f3BGj;var d_5,h98,w93,P6N,t8J;function f5m(L5_,S8B){var Q81,L0z;y$o.N_M(27);var B6G=y$o.a$j(17,18);Q81=Number.MAX_VALUE * B6G;L0z=Number.MAX_VALUE;for(var D9e=S8B - L5_ + 1;D9e <= S8B;D9e++){if(D9e < 0)continue;Q81=Math.max(Q81,d_5[D9e].High);L0z=Math.min(L0z,d_5[D9e].Low);}return [L0z,Q81];}n0$.Studies.calculateStudyATR(M_2,e26);d_5=e26.chart.scrubbed;if(d_5.length < e26.days + 1){e26.error=!!({});return;}for(var R1v=Math.max(e26.startFrom,e26.days);R1v < d_5.length;R1v++){h98=d_5[R1v];if(!h98)continue;if(h98.futureTick)break;w93=f5m(e26.days,R1v);if(h98["Sum True Range " + e26.name]){P6N="Sum Tru";P6N+="e Rang";P6N+="e ";t8J="Resul";t8J+="t ";y$o.N_M(3);var X2_=y$o.c0C(1414,14,1500);y$o.j7J(122);var W0s=y$o.c0C(0,0,4,4);h98[t8J + e26.name]=X2_ * Math.log(h98[P6N + e26.name] / Math.max(0.000001,w93[W0s] - w93[0])) / Math.log(e26.days);}else if(!isNaN(h98)){h98["Result " + e26.name]=0;}}};n0$.Studies.studyLibrary=n0$.extend(n0$.Studies.studyLibrary,{Choppiness:{name:"Choppiness Index",calculateFN:n0$.Studies.calculateChoppiness,centerline:50,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:61.8,studyOverBoughtColor:"auto",studyOverSoldValue:38.2,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:"50" | 18,step:"0.1"},studyOverSoldValue:{max:50,step:"0.1"}}}});}};C5=u8a=>{var t6b=f3BGj;var D7D,P_y,E7r,u8t;D7D=typeof _CIQ !== "undefined"?_CIQ:u8a.CIQ;t6b.T$X();if(!D7D.Studies){console.error("comparisonStudies feature requires first activating studies feature.");}else if(!D7D.Studies.initPriceRelative){console.error("comparisonStudies feature requires first activating priceRelative feature.");}else {P_y="S";P_y+="P";P_y+="Y";E7r="S";E7r+="P";E7r+="Y";u8t="-1 to ";u8t+="1";D7D.Studies.calculateCorrelationCoefficient=function(g3d,N4Y){var N_q,n$f,H4t,r80,F_1,m8h,y9c,O1j,h0S,J_H,h$s,I5e,i9b,n8M,i6k,E4j,V0d,m8M;N_q=N4Y.chart.scrubbed;t6b.T$X();n$f=N4Y.days;if(N_q.length < n$f + "1" * 1){N4Y.error=!![];return;}N4Y.compare=N4Y.inputs["Compare To"];if(!N4Y.compare){N4Y.compare=[];N4Y.outputs={};N4Y.outputMap={};for(var K5x in g3d.chart.series){H4t=g3d.chart.series[K5x];if(H4t.parameters.color){r80="Resul";r80+="t";r80+=" ";N4Y.compare.push(H4t.display);N4Y.outputs[r80 + H4t.display]=H4t.parameters.color;t6b.j7J(123);var t3o=t6b.c0C(1,11,1,4084,27);t6b.j7J(14);var Y7J=t6b.a$j(18,17);t6b.N_M(93);var k6x=t6b.a$j(5,4,91,0,14);t6b.j7J(1);var i8r=t6b.c0C(841,5046);t6b.N_M(124);var R0T=t6b.c0C(1430,11,1536,16,17);t6b.N_M(125);var Z4r=t6b.c0C(5,20,19,4,3938);N4Y.outputMap["Result " + H4t.display + ((t3o,"17.03" * Y7J) <= (+"5270","5429" * k6x)?" ":i8r < (+"8040","6590" << R0T)?Z4r:("p",+"3.12e+3")) + N4Y.name]="Result " + H4t.display;}}}else {N4Y.compare=[N4Y.compare];}if(!N4Y.compare.length){N4Y.error="Correlation Coefficient requires at least one comparison symbol";return;}for(var V8X=0;V8X < N4Y.compare.length;V8X++){t6b.j7J(29);F_1=t6b.a$j(0,"0");t6b.j7J(14);m8h=t6b.a$j("0",0);y9c=0;t6b.j7J(5);O1j=t6b.c0C(1,"0");h0S=0;J_H=N4Y.compare[V8X];h$s=+"0";for(var R53=N4Y.startFrom - n$f;R53 < N_q.length;R53++){I5e="_";I5e+="t";I5e+="emp";I5e+="s ";if(!N_q[R53])continue;i9b=N_q[R53][J_H];if(i9b && typeof i9b == "object"){i9b=i9b.Close;}if(!i9b && i9b !== 0){if(R53 > 0 && N_q[R53 - ("1" << 32)] && N_q[R53 - ("1" - 0)]["_temps " + N4Y.name] && N_q[R53 - 1]["_temps " + N4Y.name].c){i9b=N_q[R53 - 1]["_temps " + N4Y.name].c;}else {t6b.j7J(14);i9b=t6b.a$j("0",0);}}if(i9b && typeof i9b == "object"){i9b=i9b.Close;}N_q[R53]["_temps " + N4Y.name]={};F_1+=N_q[R53]["_temps " + N4Y.name].b=N_q[R53].Close;m8h+=N_q[R53]["_temps " + N4Y.name].c=i9b;y9c+=N_q[R53]["_temps " + N4Y.name].b2=Math.pow(N_q[R53].Close,"2" - 0);t6b.j7J(46);O1j+=N_q[R53][I5e + N4Y.name].c2=Math.pow(i9b,t6b.a$j("2",0));h0S+=N_q[R53]["_temps " + N4Y.name].bc=N_q[R53].Close * i9b;if(h$s >= n$f){n8M="_";n8M+="t";n8M+="emps ";F_1-=N_q[R53 - n$f]["_temps " + N4Y.name].b;m8h-=N_q[R53 - n$f]["_temps " + N4Y.name].c;y9c-=N_q[R53 - n$f][n8M + N4Y.name].b2;O1j-=N_q[R53 - n$f]["_temps " + N4Y.name].c2;h0S-=N_q[R53 - n$f]["_temps " + N4Y.name].bc;t6b.N_M(3);var W12=t6b.c0C(8,10,0);i6k=y9c / n$f - Math.pow(F_1 / n$f,W12);t6b.j7J(66);var S87=t6b.a$j(15,4,20,37);E4j=O1j / n$f - Math.pow(m8h / n$f,S87);t6b.N_M(34);var a_r=t6b.a$j(9,1,7);V0d=h0S / n$f - F_1 * m8h / Math.pow(n$f,a_r);m8M=V0d / Math.sqrt(i6k * E4j);N_q[R53]["Result " + J_H + " " + N4Y.name]=m8M;}h$s++;}}};D7D.Studies.calculatePerformance=function(Y67,e51){var p$L,p0A,C_A,X1r;p$L="Co";p$L+="mparis";p$L+="on Sy";p$L+="mbol";p0A=e51.chart.scrubbed;C_A=e51.inputs["Comparison Symbol"].toUpperCase();if(!C_A){C_A=e51.study.inputs[p$L];}if(!e51.days){e51.days=e51.study.inputs.Period;}if(p0A.length < e51.days + 1){e51.error=!!"1";return;}t6b.T$X();D7D.Studies.MA("ma",e51.days,"Close",0,"_MA Base",Y67,e51);D7D.Studies.MA("ma",e51.days,C_A,+"0","_MA Comp",Y67,e51);for(var w4M=e51.startFrom;w4M < p0A.length;w4M++){X1r=p0A[w4M][C_A];if(X1r && (X1r.Close || X1r.Close === 0)){X1r=X1r.Close;}p0A[w4M]["Result " + e51.name]=p0A[w4M].Close / X1r * (p0A[w4M]["_MA Comp " + e51.name] / p0A[w4M]["_MA Base " + e51.name]);}};D7D.Studies.calculateBeta=function(r_C,g1g){var U$f,R0M,j7U,j0I,z2d,N$C,m$Y,r4o,C18,S39,x4u;U$f="m";U$f+="a";R0M="m";R0M+="a";j7U="Compa";t6b.T$X();j7U+="rison Sym";j7U+="bol";j0I="Compariso";j0I+="n Sym";j0I+="bol";z2d=g1g.chart.scrubbed;N$C=g1g.inputs[j0I].toUpperCase();if(!N$C){N$C=g1g.study.inputs[j7U];}if(!g1g.days){g1g.days=g1g.study.inputs.Period;}if(z2d.length < g1g.days + 1){g1g.error=!!({});return;}for(var g42=Math.max(g1g.startFrom,1);g42 < z2d.length;g42++){t6b.N_M(102);var t4x=t6b.c0C(12,13,6,18);t6b.j7J(27);var y4S=t6b.a$j(6,5);z2d[g42]["_BaseChange " + g1g.name]=z2d[g42].Close / z2d[g42 - t4x].Close - y4S;m$Y=z2d[g42][N$C];if(m$Y && (m$Y.Close || m$Y.Close === "0" >> 0)){m$Y=m$Y.Close;}t6b.j7J(14);r4o=z2d[t6b.a$j(g42,1)][N$C];if(r4o && (r4o.Close || r4o.Close === 0)){r4o=r4o.Close;}t6b.j7J(35);z2d[g42]["_CompChange " + g1g.name]=t6b.a$j(1,m$Y,r4o);}D7D.Studies.MA(R0M,g1g.days,"_BaseChange " + g1g.name,0,"_MA Base",r_C,g1g);D7D.Studies.MA(U$f,g1g.days,"_CompChange " + g1g.name,+"0","_MA Comp",r_C,g1g);for(g42=Math.max(g1g.startFrom,g1g.days);g42 < z2d.length;g42++){C18="_CompChange";C18+=" ";S39="_";S39+="MA Base ";z2d[g42]["_COVARn " + g1g.name]=(z2d[g42]["_BaseChange " + g1g.name] - z2d[g42][S39 + g1g.name]) * (z2d[g42][C18 + g1g.name] - z2d[g42]["_MA Comp " + g1g.name]);z2d[g42]["_VARn " + g1g.name]=Math.pow(z2d[g42]["_CompChange " + g1g.name] - z2d[g42]["_MA Comp " + g1g.name],2);}D7D.Studies.MA("ma",g1g.days,"_COVARn " + g1g.name,+"0","_COVAR",r_C,g1g);D7D.Studies.MA("ma",g1g.days,"_VARn " + g1g.name,0,"_VAR",r_C,g1g);for(g42=Math.max(g1g.startFrom,g1g.days * ("2" << 0) - 1);g42 < z2d.length;g42++){x4u="_VAR";x4u+=" ";z2d[g42]["Result " + g1g.name]=z2d[g42]["_COVAR " + g1g.name] / z2d[g42][x4u + g1g.name];}};D7D.Studies.studyLibrary=D7D.extend(D7D.Studies.studyLibrary,{correl:{name:"Correlation Coefficient",range:u8t,calculateFN:D7D.Studies.calculateCorrelationCoefficient,outputs:{}},"Perf Idx":{name:"Performance Index",centerline:1,initializeFN:D7D.Studies.initPriceRelative,seriesFN:D7D.Studies.displayVsComparisonSymbol,calculateFN:D7D.Studies.calculatePerformance,inputs:{Period:"120" ^ 0,"Comparison Symbol":E7r},outputs:{Result:"auto",Gain:"#00DD00",Loss:"#FF0000"},deferUpdate:!!1},Beta:{name:"Beta",centerline:1,initializeFN:D7D.Studies.initPriceRelative,seriesFN:D7D.Studies.displayVsComparisonSymbol,calculateFN:D7D.Studies.calculateBeta,inputs:{Period:20,"Comparison Symbol":P_y},deferUpdate:!0}});}};b4=U05=>{var M8e=f3BGj;var u$t,n_W,d6B,a0I,Z_P,Y7r,L4F,B4$;u$t="und";u$t+="efi";u$t+="n";u$t+="ed";M8e.f3X();n_W=typeof _CIQ !== u$t?_CIQ:U05.CIQ;if(!n_W.Studies){d6B="coppock feature requires first activatin";d6B+="g";d6B+=" studies feature.";console.error(d6B);}else {a0I="f";a0I+="i";a0I+="e";a0I+="ld";n_W.Studies.calculateCoppock=function(s1H,j9L){var s8b,R7A,P6x,K1Z,e$l,P1D,C0P,g4o,S1n,C39,C_s;s8b="_";s8b+="Sum";s8b+=" ";R7A="wei";R7A+="g";R7A+="h";R7A+="ted";P6x="Short ";P6x+="RoC";K1Z="L";K1Z+="ong R";K1Z+="oC";e$l=j9L.chart.scrubbed;P1D=j9L.inputs.Field;if(!P1D || P1D == "field"){P1D="Close";}C0P=parseInt(j9L.inputs[K1Z],"10" ^ 0);if(!C0P){C0P=14;}g4o=parseInt(j9L.inputs[P6x],10);if(!g4o){g4o=11;}S1n=j9L.days;if(!S1n){S1n=10;}if(C0P < g4o){return;}if(e$l.length < Math.max(g4o,C0P,S1n) + ("1" >> 64)){j9L.error=!![];return;}for(var x4y=Math.max(j9L.startFrom,C0P);x4y < e$l.length;x4y++){M8e.N_M(14);C39=e$l[M8e.a$j(x4y,g4o)][P1D];M8e.j7J(14);C_s=e$l[M8e.c0C(x4y,C0P)][P1D];if(C39 && C_s){M8e.j7J(118);var x4F=M8e.a$j(18,4,6,20,6);M8e.N_M(126);var t5X=M8e.a$j(19,8,2,245,9);e$l[x4y]["_Sum " + j9L.name]=x4F * (e$l[x4y][P1D] / C39 + e$l[x4y][P1D] / C_s - t5X);}}n_W.Studies.MA(R7A,S1n,s8b + j9L.name,0,"Result",s1H,j9L);};M8e.j7J(5);Z_P=M8e.c0C(1,"251709666");Y7r=1207877467;L4F=2;for(var R8B=1;M8e.S9Y(R8B.toString(),R8B.toString().length,"55926" ^ 0) !== Z_P;R8B++){B4$="Lo";B4$+="ng R";B4$+="oC";n_W.Studies.studyLibrary=n_W.extend(n_W.Studies.studyLibrary,{Coppock:{name:"Long RoC",calculateFN:n_W.Studies.calculateCoppock,inputs:{Period:64,Field:B4$,"Short RoC":73,"Long RoC":21}}});L4F+=2;}if(M8e.S9Y(L4F.toString(),L4F.toString().length,+"70280") !== Y7r){n_W.Studies.studyLibrary=n_W.extend(n_W.Studies.studyLibrary,{Coppock:{name:"Long RoC",calculateFN:n_W.Studies.calculateCoppock,inputs:{Period:64,Field:"Long RoC","Short RoC":73,"Long RoC":21}}});}n_W.Studies.studyLibrary=n_W.extend(n_W.Studies.studyLibrary,{Coppock:{name:"Coppock Curve",calculateFN:n_W.Studies.calculateCoppock,inputs:{Period:10,Field:a0I,"Short RoC":11,"Long RoC":14}}});}};f3=J4w=>{var K0x,W37,U1y,a2$;K0x=typeof _CIQ !== "undefined"?_CIQ:J4w.CIQ;if(!K0x.Studies){console.error("darvasBox feature requires first activating studies feature.");}else {W37="a";W37+="u";W37+="t";W37+="o";U1y="cl";U1y+="ose";a2$="D";a2$+="a";a2$+="r";a2$+="vas Box";K0x.Studies.calculateDarvas=function(a6y,t2p){var y8Y=f3BGj;var K5W,J0I,I9D,t4F,j5F,k1K,o$X,I6z,S8m,f2r,b_H,d4E,m6d,T0T,u9t,g1V,l$Z,v3z,a3q,R$T,Y0C,o5s,H$f,j$t,i5d,y8t,U6c,O_d,s_a,y6Y,H$Q,N5y,V4_,q2T;K5W="A";K5W+="D";K5W+="V";J0I="L";J0I+="o";J0I+="s";J0I+="s";I9D="Level Off";I9D+="set";t4F="V";t4F+="ol";t4F+="ume Sp";t4F+="ike";j5F=t2p.chart.scrubbed;k1K=0;o$X=parseInt(t2p.inputs["ATH Lookback Period"],10);if(t2p.inputs[t4F]){I6z="V";I6z+="olume";K0x.Studies.MA("simple",o$X,I6z,0,"ADV",a6y,t2p);}y8Y.N_M(16);var i7l=y8Y.c0C(7,20,0,17);S8m=parseFloat(t2p.inputs["Volume % of Avg"]) / ("100" | i7l);f2r="none";b_H={};d4E=null;m6d=null;T0T=null;u9t=parseFloat(t2p.inputs[I9D]);g1V=!({});if(g1V){console.log("*****************");}v3z={};["Darvas","Ghost","Profit",J0I,"ATH",K5W,"Spike"].forEach(function(q1K){v3z[q1K]=q1K + " " + t2p.name;});for(l$Z=t2p.startFrom - ("1" ^ 0);l$Z > 0;l$Z--){a3q=j5F[l$Z];if(a3q[v3z.Darvas] || a3q[v3z.Ghost]){for(var I1w in v3z){a3q[I1w]=null;}}else {k1K=a3q[v3z.ATH] || 0;m6d=a3q[v3z.Profit];T0T=a3q[v3z.Loss];break;}}for(l$Z;l$Z < j5F.length;l$Z++){R$T=j5F[l$Z];if(!R$T)continue;if(parseFloat(t2p.inputs["Price Minimum"]) <= j5F[k1K].Close){Y0C="darva";Y0C+="s";o5s="n";o5s+="o";o5s+="n";o5s+="e";H$f="high";H$f+="/low";if(d4E && (!d4E.End || l$Z == d4E.End + 1)){if(j5F[l$Z - ("1" >> 0)].Close > b_H.High){b_H={State:1,High:2 * b_H.High - b_H.Low,Low:b_H.High,Start:l$Z,End:2 * b_H.End - b_H.Start + 1};}else {d4E=null;;}if(d4E){R$T[v3z.Ghost]=K0x.clone(b_H);if(g1V){console.log("Ghost begin:" + R$T.DT);}b_H.State=0;if(j5F[b_H.End]){j5F[b_H.End][v3z.Ghost]=K0x.clone(b_H);if(g1V){console.log("Ghost end:" + j5F[b_H.End].DT);}}d4E={Start:b_H.Start,End:b_H.End};m6d=b_H.High + u9t;if(!T0T || T0T < b_H.Low - u9t){T0T=b_H.Low - u9t;}}}R$T[v3z.Profit]=m6d;R$T[v3z.Loss]=T0T;if(R$T.Close >= m6d){m6d=null;}else if(t2p.inputs["Exit Field"] == H$f && R$T.High >= m6d){m6d=null;}if(f2r == o5s){if(l$Z == k1K + 3){if(!j5F[k1K + 2][v3z.Darvas] && !j5F[k1K + ("1" - 0)][v3z.Darvas] && !j5F[k1K][v3z.Darvas] && j5F[k1K].High > R$T.High){f2r="high";;}}}if(f2r == "high"){if(R$T.High > j5F[k1K].High){j$t="n";j$t+="o";j$t+="n";j$t+="e";f2r=j$t;}else if(j5F[l$Z - 3].Low < j5F[l$Z - 2].Low && j5F[l$Z - 3].Low < j5F[l$Z - +"1"].Low && j5F[l$Z - ("3" << 64)].Low < R$T.Low){b_H={State:1,High:j5F[k1K].High,Low:j5F[l$Z - 3].Low,Start:k1K};j5F[k1K][v3z.Darvas]=K0x.clone(b_H);f2r="darvas";if(g1V){console.log("Darvas begin:" + j5F[k1K].DT);}if(g1V){console.log("Darvas established:" + R$T.DT);}if(d4E){if(d4E.End > l$Z && j5F[d4E.Start]){R$T[v3z.Ghost]=K0x.clone(j5F[d4E.Start][v3z.Ghost]);R$T[v3z.Ghost].End=l$Z;if(j5F[d4E.End]){delete j5F[d4E.End][v3z.Ghost];if(g1V){console.log("Ghost End removed:" + j5F[d4E.End].DT);}}}R$T[v3z.Ghost].State=0;j5F[d4E.Start][v3z.Ghost].End=l$Z;if(g1V){console.log("Ghost end:" + R$T.DT);}d4E=null;}m6d=b_H.High + u9t;if(!T0T || T0T < b_H.Low - u9t){T0T=b_H.Low - u9t;}}}if(f2r == Y0C){i5d="n";i5d+="o";i5d+="ne";y8t="n";y8t+="one";U6c="n";U6c+="o";U6c+="ne";O_d="Exit F";O_d+="iel";O_d+="d";s_a="non";s_a+="e";y6Y="hi";y6Y+="gh";y6Y+="/low";if(R$T.Close > b_H.High){d4E={};}else if(t2p.inputs["Exit Field"] == y6Y && R$T.High > b_H.High){d4E={};}else if(R$T.Close < b_H.Low){f2r=s_a;}else if(t2p.inputs[O_d] == "high/low" && R$T.Low < b_H.Low){f2r=U6c;}if(d4E){f2r="none";}else if(f2r == y8t){m6d=null;T0T=null;}if(!t2p.inputs["Ghost Boxes"]){d4E=null;}if(f2r == i5d){for(var P0r=b_H.Start + "1" * 1;P0r < l$Z;P0r++){j5F[P0r][v3z.Darvas]=K0x.clone(b_H);}b_H.State=0;b_H.End=l$Z;R$T[v3z.Darvas]=K0x.clone(b_H);if(g1V){console.log("Darvas end:" + R$T.DT);}R$T[v3z.ATH]=k1K;continue;}}if(T0T){H$Q="E";H$Q+="xi";H$Q+="t";H$Q+=" Field";if(R$T.Close < b_H.Low || t2p.inputs[H$Q] == "high/low" && R$T.Low < b_H.Low){N5y="Ex";N5y+="it F";N5y+="i";N5y+="eld";if(f2r == "darvas"){f2r="none";}if(R$T.Close < T0T || t2p.inputs[N5y] == "high/low" && R$T.Low < T0T){m6d=null;T0T=null;}if(d4E){if(d4E.End > l$Z && j5F[d4E.Start]){R$T[v3z.Ghost]=K0x.clone(j5F[d4E.Start][v3z.Ghost]);R$T[v3z.Ghost].End=l$Z;if(j5F[d4E.End]){V4_="Gh";V4_+="ost End removed:";delete j5F[d4E.End][v3z.Ghost];if(g1V){console.log(V4_ + j5F[d4E.End].DT);}}}R$T[v3z.Ghost].State=0;j5F[d4E.Start][v3z.Ghost].End=l$Z;if(g1V){console.log("Ghost end:" + R$T.DT);}d4E=null;}}}}if(R$T.High >= j5F[k1K].High){q2T="All T";q2T+="i";q2T+="me ";q2T+="High:";k1K=l$Z;if(g1V){console.log(q2T + R$T.DT);}}if(l$Z < 3 || R$T.High >= j5F[l$Z - 1].High && R$T.High >= j5F[l$Z - ("2" ^ 0)].High && R$T.High >= j5F[l$Z - ("3" | 2)].High){if(l$Z - k1K >= o$X){k1K=l$Z;for(var P6W=0;P6W < o$X;P6W++){if(l$Z - P6W < +"0")break;if(j5F[l$Z - P6W].High > j5F[k1K].High){y8Y.j7J(14);k1K=y8Y.a$j(l$Z,P6W);}}if(g1V){console.log("All Time High:" + R$T.DT);}}}if(t2p.inputs["Volume Spike"] && l$Z > o$X && l$Z == k1K){if(R$T[v3z.ADV] * S8m < R$T.Volume){R$T[v3z.Spike]=1;if(g1V){console.log("Volume Spike:" + R$T.DT);}}}R$T[v3z.ATH]=k1K;}};K0x.Studies.displayDarvas=function(U87,g1B,U4l){var p2p=f3BGj;var D0E,k_n,L0O,g8V,H30,t3A,u4S,g2e,y1n,B9L,M_i,Q2F,B4w,w11,X0l,s_0,v7r,b0y,y4k,A4i,E8s,T0Z,q4J,N8c,b4V,O8g,U43,p8T,s9g,R7W,l_x,O3a,S8f,g5u,Z02,Q4v,q9X;D0E="Stop";D0E+=" L";D0E+="ev";D0E+="els";k_n="a";k_n+="uto";L0O=K0x.Studies.determineColor(g1B.outputs.Levels);if(!L0O || L0O == "auto" || K0x.isTransparent(L0O)){L0O=U87.defaultColor;}g8V=K0x.Studies.determineColor(g1B.outputs.Darvas);if(!g8V || g8V == "auto" || K0x.isTransparent(g8V)){g8V=U87.defaultColor;}H30=K0x.Studies.determineColor(g1B.outputs.Ghost);if(!H30 || H30 == k_n || K0x.isTransparent(H30)){H30=U87.defaultColor;}t3A=U87.panels[g1B.panel];u4S=g1B.getContext(U87);p2p.N_M(1);var n58=p2p.c0C(24,72);Q2F=U87.layout.candleWidth - ("2" << n58);if(Q2F < 2){Q2F=1;}U87.startClip(g1B.panel);if(g1B.inputs[D0E]){if(u4S.setLineDash){u4S.setLineDash([2,2]);}u4S.lineWidth=2;u4S.strokeStyle=L0O;u4S.beginPath();for(g2e=0;g2e < U4l.length;g2e++){B4w="L";B4w+="o";B4w+="s";B4w+="s ";y1n=U4l[g2e];p2p.j7J(14);w11=U4l[p2p.a$j(g2e,1)];if(!y1n)continue;M_i=y1n["Loss " + g1B.name]?Math.floor(U87.pixelFromPrice(y1n[B4w + g1B.name],t3A)):null;X0l=w11 && w11["Loss " + g1B.name]?Math.floor(U87.pixelFromPrice(w11["Loss " + g1B.name],t3A)):null;if(M_i){if(y1n.candleWidth){Q2F=Math.floor(Math.max(1,y1n.candleWidth));}s_0=Math.floor(U87.pixelFromBar(g2e,t3A.chart) + Q2F / 2);v7r=Math.floor(U87.pixelFromBar(g2e,t3A.chart) - Q2F / +"2");if(X0l && X0l >= M_i){u4S.lineTo(v7r,M_i);}else if(g2e === 0){u4S.moveTo(U87.chart.left,M_i);}else {u4S.moveTo(v7r,M_i);}u4S.lineTo(s_0,M_i);}}u4S.stroke();if(u4S.setLineDash){u4S.setLineDash([]);}u4S.lineWidth=1;}b0y=-10;A4i=+"0";T0Z=-10;N8c=0;O8g=!!0;U43=!"1";p2p.N_M(61);var M7z=p2p.a$j(6203,1,17);p2p.j7J(14);var u_j=p2p.c0C(157930,148640);p2p.j7J(15);var b6Z=p2p.a$j(3941,25,6);p2p.N_M(9);var Z8M=p2p.c0C(5544,17,330);p2p.N_M(82);var E3u=p2p.a$j(140,17,23);p2p.j7J(61);var L13=p2p.a$j(10290,10290,2057);p8T=u4S.measureText((755.12,"9731" - 0) > M7z?"\u25B2":u_j < (b6Z,"9026" | Z8M)?(E3u,L13):"P").width / ("2" ^ 0);s9g=0;for(g2e=0;g2e < U4l.length;g2e++){R7W="Da";R7W+="r";R7W+="vas";R7W+=" ";if(!U4l[g2e])continue;if(U4l[g2e].Close || U4l[g2e].Close === 0){s9g=g2e;}if(U4l[g2e]["Spike " + g1B.name]){u4S.fillStyle=g8V;u4S.textBaseline="bottom";l_x=U87.pixelFromPrice(U4l[g2e].High,U87.chart.panel);u4S.fillText(+"4630" === 534.99?(798.2,977.86) == (5535,2620)?(0x1b1f,0x410):564 <= (3088,382)?0x18f3:"X":"\u25BC",U87.pixelFromBar(g2e) - p8T,l_x - 5);;}if(U4l[g2e].candleWidth){Q2F=Math.floor(Math.max(1,U4l[g2e].candleWidth));}if(U4l[g2e][R7W + g1B.name]){y1n=U4l[g2e]["Darvas " + g1B.name];if(y1n.State == 1 && !O8g){b0y=Math.floor(U87.pixelFromBar(g2e,t3A.chart) - Q2F / +"2");y4k=Math.floor(U87.pixelFromPrice(y1n.High,t3A));E8s=Math.floor(U87.pixelFromPrice(y1n.Low,t3A)) - y4k;O8g=!"";}else if(y1n.State === 0){O3a="S";O3a+="t";O3a+="o";O3a+="p Levels";p2p.N_M(127);var Y3i=p2p.a$j(34,20,3,4,11);A4i=Math.floor(U87.pixelFromBar(g2e,t3A.chart) + Q2F / Y3i) - b0y;y4k=Math.floor(U87.pixelFromPrice(y1n.High,t3A));E8s=Math.floor(U87.pixelFromPrice(y1n.Low,t3A)) - y4k;u4S.strokeStyle=g8V;u4S.fillStyle=g8V;if(!g1B.inputs[O3a]){u4S.strokeRect(b0y,y4k,A4i,E8s);u4S.globalAlpha=0.2;}else {u4S.globalAlpha=0.3;}u4S.fillRect(b0y,y4k,A4i,E8s);u4S.globalAlpha=1;O8g=!!"";}}if(U4l[g2e]["Ghost " + g1B.name] && g1B.inputs["Ghost Boxes"]){y1n=U4l[g2e]["Ghost " + g1B.name];if(y1n.State == 1 && !U43){T0Z=Math.floor(U87.pixelFromBar(g2e,t3A.chart) - Q2F / 2);q4J=Math.floor(U87.pixelFromPrice(y1n.High,t3A));N8c=Math.floor((y1n.End - y1n.Start + 1) * U87.layout.candleWidth + Q2F / 2);b4V=Math.floor(U87.pixelFromPrice(y1n.Low,t3A)) - q4J;U43=!!({});}else if(y1n.State === 0){if(y1n.Start == y1n.End){T0Z=Math.floor(U87.pixelFromBar(g2e,t3A.chart) - Q2F / 2);}p2p.j7J(3);var C38=p2p.a$j(10,5,7);N8c=Math.floor(U87.pixelFromBar(g2e,t3A.chart) + Q2F / C38) - T0Z;q4J=Math.floor(U87.pixelFromPrice(y1n.High,t3A));b4V=Math.floor(U87.pixelFromPrice(y1n.Low,t3A)) - q4J;u4S.strokeStyle=H30;u4S.fillStyle=H30;if(!g1B.inputs["Stop Levels"]){u4S.strokeRect(T0Z,q4J,N8c,b4V);u4S.globalAlpha=0.2;}else {u4S.globalAlpha=0.3;}u4S.fillRect(T0Z,q4J,N8c,b4V);u4S.globalAlpha=1;U43=![];}}}if(O8g){S8f="Stop";S8f+=" Level";S8f+="s";p2p.j7J(64);var g2L=p2p.a$j(1,8,149,11,13);A4i=Math.floor(U87.pixelFromBar(s9g,t3A.chart) + Q2F / g2L) - b0y;u4S.strokeStyle=g8V;u4S.fillStyle=g8V;if(!g1B.inputs[S8f]){u4S.beginPath();p2p.j7J(25);u4S.moveTo(p2p.c0C(2,A4i,b0y),y4k);u4S.lineTo(b0y,y4k);p2p.N_M(1);u4S.lineTo(b0y,p2p.a$j(y4k,E8s));p2p.j7J(25);u4S.lineTo(p2p.a$j(2,A4i,b0y),p2p.a$j(y4k,E8s,p2p.j7J(1)));u4S.stroke();u4S.globalAlpha=0.2;}else {u4S.globalAlpha=+"0.3";}p2p.j7J(5);u4S.fillRect(b0y,y4k,p2p.a$j(A4i,2),E8s);u4S.globalAlpha=1;}if(U43){u4S.strokeStyle=H30;u4S.fillStyle=H30;if(!g1B.inputs["Stop Levels"]){u4S.strokeRect(T0Z,q4J,N8c,b4V);p2p.j7J(14);u4S.globalAlpha=p2p.a$j("0.2",0);}else {u4S.globalAlpha=0.3;}u4S.fillRect(T0Z,q4J,N8c,b4V);u4S.globalAlpha=1;}if(O8g || U43){if(g1B.inputs["Stop Levels"]){if(u4S.setLineDash){g5u=1074516398;Z02=211878868;Q4v=2;for(var K8z=1;p2p.S9Y(K8z.toString(),K8z.toString().length,4566) !== g5u;K8z++){u4S.setLineDash([2,2]);Q4v+=2;}if(p2p.O1W(Q4v.toString(),Q4v.toString().length,47512) !== Z02){u4S.setLineDash([5,+"7"]);}}u4S.lineWidth=2;u4S.strokeStyle=L0O;q9X=Math.floor(U87.pixelFromBar(s9g - ("1" >> 0),t3A.chart) + Q2F / 2);if(B9L){u4S.beginPath();u4S.moveTo(q9X,B9L);u4S.lineTo(O8g?b0y + 2 * A4i:T0Z + N8c,B9L);u4S.stroke();}if(M_i){u4S.beginPath();u4S.moveTo(q9X,M_i);u4S.lineTo(O8g?b0y + ("2" ^ 0) * A4i:T0Z + N8c,M_i);u4S.stroke();}if(u4S.setLineDash){u4S.setLineDash([]);}u4S.lineWidth=1;}O8g=!!"";U43=!!"";}U87.endClip();};K0x.Studies.studyLibrary=K0x.extend(K0x.Studies.studyLibrary,{Darvas:{name:a2$,underlay:!![],calculateFN:K0x.Studies.calculateDarvas,seriesFN:K0x.Studies.displayDarvas,inputs:{"ATH Lookback Period":100,"Exit Field":[U1y,"high/low"],"Ghost Boxes":!![],"Stop Levels":!({}),"Level Offset":+"0.01","Price Minimum":5,"Volume Spike":!({}),"Volume % of Avg":400},outputs:{Darvas:"#5F7CB8",Ghost:"#699158",Levels:W37},customRemoval:!!1,attributes:{"Price Minimum":{min:"0.01" * 1,step:0.01},yaxisDisplayValue:{hidden:!""},panelName:{hidden:!![]},flippedEnabled:{hidden:!![]}}}});}};n8=w2F=>{var D1n,Y9z;D1n=typeof _CIQ !== "undefined"?_CIQ:w2F.CIQ;if(!D1n.Studies){console.error("detrended feature requires first activating studies feature.");}else {Y9z="m";Y9z+="a";D1n.Studies.calculateDetrendedPrice=function(o8t,Z1V){var j_j,b3G,S21,n1K,n$G,r95,W5W,y4p;j_j="f";j_j+="ie";j_j+="ld";b3G=Z1V.chart.scrubbed;if(b3G.length < Z1V.days + 1){Z1V.error=!![];return;}S21=Z1V.inputs.Field;if(!S21 || S21 == j_j){S21="Close";}n1K=Math.floor(Z1V.days / 2 + 1);D1n.Studies.MA(Z1V.inputs["Moving Average Type"],Z1V.days,S21,-n1K,"MA",o8t,Z1V);for(var u2d=Math.max(Z1V.days - n1K - 1,Z1V.startFrom - n1K);u2d < b3G.length - n1K;u2d++){n$G="R";n$G+="e";n$G+="sult";n$G+=" ";r95="M";r95+="A ";if(u2d < ("0" ^ 0))continue;W5W=b3G[u2d][S21];if(W5W && typeof W5W == "object"){W5W=W5W[Z1V.subField];}y4p=b3G[u2d][r95 + Z1V.name];if((W5W || W5W === 0) && (y4p || y4p === +"0")){f3BGj.j7J(14);b3G[u2d][n$G + Z1V.name]=f3BGj.c0C(W5W,y4p);}}};D1n.Studies.studyLibrary=D1n.extend(D1n.Studies.studyLibrary,{Detrended:{name:"Detrended Price Oscillator",calculateFN:D1n.Studies.calculateDetrendedPrice,inputs:{Period:14,Field:"field","Moving Average Type":Y9z}}});}};p9=q_f=>{var O0_=f3BGj;var Z4Y,t9E;Z4Y=typeof _CIQ !== "undefined"?_CIQ:q_f.CIQ;O0_.T$X();if(!Z4Y.Studies){console.error("disparity feature requires first activating studies feature.");}else {t9E="Di";t9E+="sparity Index";Z4Y.Studies.calculateDisparity=function(J8c,U9f){var A$$,j7p,n2T,Q$a,n15;A$$="C";A$$+="lo";A$$+="se";j7p=U9f.chart.scrubbed;if(j7p.length < U9f.days + 1){U9f.error=!!"1";return;}n2T=U9f.inputs.Field;if(!n2T || n2T == "field"){n2T=A$$;}Z4Y.Studies.MA(U9f.inputs["Moving Average Type"],U9f.days,n2T,0,"_MA",J8c,U9f);O0_.T$X();for(var S2R=Math.max(U9f.startFrom,U9f.days - 1);S2R < j7p.length;S2R++){Q$a="R";Q$a+="e";Q$a+="s";Q$a+="ult ";if(!j7p[S2R])continue;n15=j7p[S2R]["_MA " + U9f.name];if(n15){O0_.N_M(61);var G2Y=O0_.a$j(93,1,7);O0_.j7J(27);var B6g=O0_.a$j(9,8);j7p[S2R][Q$a + U9f.name]=G2Y * (j7p[S2R][n2T] / n15 - B6g);}}};Z4Y.Studies.studyLibrary=Z4Y.extend(Z4Y.Studies.studyLibrary,{Disparity:{name:t9E,calculateFN:Z4Y.Studies.calculateDisparity,inputs:{Period:14,Field:"field","Moving Average Type":"ma"}}});}};f8=M6w=>{var b7v=f3BGj;b7v.f3X();var b7h,F9Z;b7h=typeof _CIQ !== "undefined"?_CIQ:M6w.CIQ;if(!b7h.Studies){console.error("easeOfMovement feature requires first activating studies feature.");}else {F9Z="Ea";F9Z+="se of ";F9Z+="M";F9Z+="ovement";b7h.Studies.calculateEaseOfMovement=function(k$G,T$l){var h3s,f$h,Z9u,k6t,j2n,n4G;h3s=T$l.chart.scrubbed;b7v.f3X();if(h3s.length < T$l.days){T$l.error=!0;return;}for(var H93=Math.max(1,T$l.startFrom);H93 < h3s.length;H93++){b7v.N_M(56);var f0e=b7v.a$j(5,32,16,5);f$h=(h3s[H93].High + h3s[H93].Low) / f0e;b7v.j7J(1);var J0n=b7v.c0C(46,18);b7v.j7J(44);var J6X=b7v.c0C(2,14,237,15);b7v.N_M(3);var V4N=b7v.a$j(18,9,11);Z9u=(h3s[H93 - ("1" >> J0n)].High + h3s[H93 - J6X].Low) / V4N;b7v.N_M(14);k6t=b7v.c0C(f$h,Z9u);b7v.j7J(17);var U_O=b7v.c0C(1900000191,20,100000009,11);j2n=h3s[H93].Volume / U_O / (h3s[H93].High - h3s[H93].Low);b7v.j7J(7);n4G=b7v.c0C(k6t,j2n);if(!isFinite(n4G)){h3s[H93]["_EOM1 " + T$l.name]=NaN;}else {h3s[H93]["_EOM1 " + T$l.name]=n4G;}}b7h.Studies.MA(T$l.inputs["Moving Average Type"],T$l.days,"_EOM1 " + T$l.name,0,"Result",k$G,T$l);};b7h.Studies.studyLibrary=b7h.extend(b7h.Studies.studyLibrary,{EOM:{name:F9Z,calculateFN:b7h.Studies.calculateEaseOfMovement,inputs:{Period:14,"Moving Average Type":"ma"}}});}};A3=M_J=>{var l2I=f3BGj;var r0J,y3v;r0J="u";r0J+="ndefined";l2I.T$X();y3v=typeof _CIQ !== r0J?_CIQ:M_J.CIQ;if(!y3v.Studies){console.error("ehlerFisher feature requires first activating studies feature.");}else {y3v.Studies.calculateEhlerFisher=function(S4a,o87){var n2j,W_l,k9x,o8y,Y_l,p1z,o2D;n2j=o87.chart.scrubbed;if(n2j.length < o87.days + 1){o87.error=!"";return;}l2I.N_M(4);W_l=l2I.c0C("0",0);function S8S(H1W,i3J){var h7I,H0l,y54,V2g,x1D,h0K;h7I=-428939658;H0l=-1778201131;y54=2;for(var a8I=1;l2I.S9Y(a8I.toString(),a8I.toString().length,+"25159") !== h7I;a8I++){V2g=Number.MAX_VALUE;l2I.N_M(128);var H9w=l2I.c0C(4,1,8,2,9);x1D=Number.MAX_VALUE * H9w;y54+=2;}if(l2I.S9Y(y54.toString(),y54.toString().length,32314) !== H0l){V2g=Number.MAX_VALUE;l2I.j7J(129);var u8Y=l2I.a$j(11,1763,6,10,17);x1D=Number.MAX_VALUE - !u8Y;}for(var x8y=i3J - H1W + 1;x8y <= i3J;x8y++){l2I.N_M(68);var n_Y=l2I.a$j(18,1,0,16);h0K=(n2j[x8y].High + n2j[x8y].Low) / n_Y;V2g=Math.min(V2g,h0K);x1D=Math.max(x1D,h0K);}return [V2g,x1D];}if(o87.startFrom > "1" << 0){l2I.N_M(1);var R3w=l2I.c0C(0,1);W_l=n2j[o87.startFrom - R3w]["_n " + o87.name];}for(var h0o=o87.startFrom;h0o < n2j.length;h0o++){k9x="E";k9x+="F";k9x+=" Trigge";k9x+="r ";o8y=n2j[h0o];if(o8y.futureTick)break;if(h0o < o87.days - 1){Y_l="E";Y_l+="F";Y_l+=" ";o8y[Y_l + o87.name]=o8y["EF Trigger " + o87.name]=W_l;continue;}p1z=S8S(o87.days,h0o);l2I.N_M(1);var Q0Z=l2I.a$j(0,2);l2I.j7J(130);var m7k=l2I.a$j(10,12,3,23,5);l2I.j7J(102);var p2R=l2I.c0C(19,7,20,5);l2I.j7J(131);var c6A=l2I.a$j(14,18,1681,20,3);W_l=0.33 * Q0Z * (((n2j[h0o].High + n2j[h0o].Low) / m7k - p1z[0]) / Math.max(0.000001,p1z[p2R] - p1z[0]) - 0.5) + "0.67" * c6A * W_l;if(W_l > 0){W_l=Math.min(W_l,0.9999);}else if(W_l < 0){W_l=Math.max(W_l,-0.9999);}o2D=h0o?n2j[h0o - 1]["EF " + o87.name]:"0" | 0;l2I.j7J(17);var S7L=l2I.c0C(122,9,12,15);l2I.N_M(14);var w3g=l2I.a$j(1,0);o8y["EF " + o87.name]=0.5 * Math.log((S7L + W_l) / (w3g - W_l)) + 0.5 * o2D;o8y[k9x + o87.name]=o2D;o8y["_n " + o87.name]=W_l;}};y3v.Studies.studyLibrary=y3v.extend(y3v.Studies.studyLibrary,{"Ehler Fisher":{name:"Ehler Fisher Transform",calculateFN:y3v.Studies.calculateEhlerFisher,inputs:{Period:10},outputs:{EF:"auto","EF Trigger":"#FF0000"}}});}};b0=C4O=>{var r7W=f3BGj;var f8j,Y2d,R9o,K7s;f8j="u";f8j+="nd";r7W.T$X();f8j+="e";f8j+="fined";Y2d=typeof _CIQ !== f8j?_CIQ:C4O.CIQ;if(!Y2d.Studies){console.error("elder feature requires first activating studies feature.");}else {R9o="#";R9o+="8";R9o+="B";R9o+="C176";K7s="Elder Forc";K7s+="e Index";Y2d.Studies.calculateElderImpulse=function(V4j,H$k){var U_o,Y3t,W$e,M7C,t30,K6_,u0f;U_o=H$k.chart.scrubbed;Y3t=H$k.outputs.Bullish;W$e=H$k.outputs.Bearish;M7C=H$k.outputs.Neutral;Y2d.Studies.MA("exponential",13,"Close",0,"_MA",V4j,H$k);r7W.N_M(55);var E4W=r7W.a$j(10,108790,1078010,1);r7W.j7J(87);var E7M=r7W.a$j(6,83,4721,249,1);r7W.j7J(9);var X1h=r7W.c0C(111334,19,6186);r7W.N_M(14);var H0m=r7W.c0C(19,18);r7W.j7J(68);var t4g=r7W.c0C(6257,890,6249,19);r7W.N_M(14);var L$k=r7W.c0C(8758,18);H$k.macd=new Y2d.Studies.StudyDescriptor(((E4W,E7M) !== ("4340" ^ 0,703.37)?"_":X1h <= ("658.22" * H0m,"5710" ^ 0)?(t4g,L$k):("0x1f98" ^ 0,"A")) + H$k.name,"macd",H$k.panel);H$k.macd.chart=H$k.chart;H$k.macd.days=H$k.days;H$k.macd.startFrom=H$k.startFrom;H$k.macd.inputs={"Fast MA Period":12,"Slow MA Period":26,"Signal Period":+"9"};H$k.macd.outputs={_MACD:null,_Signal:null};Y2d.Studies.calculateMACD(V4j,H$k.macd);for(var e1L=H$k.startFrom;e1L < U_o.length;e1L++){K6_="_h";K6_+="i";K6_+="s";K6_+="t";u0f="_M";u0f+="A";u0f+=" ";if(e1L === 0){t30=M7C;}else if(U_o[e1L]["_MA " + H$k.name] > U_o[e1L - +"1"]["_MA " + H$k.name] && U_o[e1L][(270 <= 5236?"_":(9.83e+3,!!({}))) + H$k.name + "_hist"] > U_o[e1L - 1][(7980 != ("425.35" - 0,3440)?"_":8970 < 2030?(6.18e+3,127.14):8300 >= (3683,2280)?7.91e+3:272.07) + H$k.name + "_hist"]){t30=Y3t;}else if(U_o[e1L]["_MA " + H$k.name] < U_o[e1L - 1][u0f + H$k.name] && U_o[e1L][(("7728" ^ 0) <= 543.24?3.23e+3:(8462,8613) === (+"214",210.2)?(8.09e+3,0x1b68):("219" >> 64,792.17) > (262.61,6060)?(!!1,0x701):"_") + H$k.name + K6_] < U_o[e1L - ("1" - 0)]["_" + H$k.name + "_hist"]){t30=W$e;}else {t30=M7C;}U_o[e1L]["Result " + H$k.name]=t30;;}};Y2d.Studies.calculateElderRay=function(W5Q,K4i){var C4V,u7J;C4V="_";C4V+="his";r7W.T$X();C4V+="t";C4V+="1";u7J=K4i.chart.scrubbed;if(u7J.length < K4i.days){K4i.error=!!({});return;}Y2d.Studies.MA("exponential",K4i.days,"Close",0,"_EMA",W5Q,K4i);for(var X56=Math.max(K4i.startFrom,K4i.days - +"1");X56 < u7J.length;X56++){u7J[X56][K4i.name + "_hist1"]=u7J[X56].High - u7J[X56]["_EMA " + K4i.name];u7J[X56][K4i.name + "_hist2"]=u7J[X56].Low - u7J[X56]["_EMA " + K4i.name];}K4i.outputMap={};K4i.outputMap[K4i.name + C4V]="";K4i.outputMap[K4i.name + "_hist2"]="";};Y2d.Studies.calculateElderForce=function(y9$,A$q){var W0f,Y3u;W0f="_EF1";W0f+=" ";Y3u=A$q.chart.scrubbed;if(Y3u.length < A$q.days){A$q.error=!0;return;}for(var V_F=Math.max(1,A$q.startFrom);V_F < Y3u.length;V_F++){r7W.j7J(3);var l6o=r7W.c0C(9,6,4);Y3u[V_F]["_EF1 " + A$q.name]=Y3u[V_F].Volume * (Y3u[V_F].Close - Y3u[V_F - l6o].Close);}Y2d.Studies.MA("exponential",A$q.days,W0f + A$q.name,0,"Result",y9$,A$q);};Y2d.Studies.initElderImpulse=function(h6I,F7y,K2o,e21,S12,y2m){var s7v,i74;s7v="color";s7v+="ed_b";s7v+="ar";i74=Y2d.Studies.initializeFN(h6I,F7y,K2o,e21,S12,y2m);if(S12.calculateOnly){return i74;}h6I.chart.customChart={chartType:s7v,colorFunction:function(Y9O,W2x,o_3){var x2t;x2t=W2x["Result " + i74.name];if(x2t && typeof x2t == "object"){x2t=x2t.color;}return x2t;}};h6I.setMainSeriesRenderer();r7W.f3X();return i74;};Y2d.Studies.displayElderForce=function(X09,o53,V_a){var R7f,S4m,T1e,Y50,b8s;r7W.f3X();R7f="Res";R7f+="ult";R7f+=" ";Y2d.Studies.displaySeriesAsLine(X09,o53,V_a);S4m=Y2d.Studies.determineColor(o53.outputs.Result);T1e=X09.panels[o53.panel];Y50=o53.getYAxis(X09);b8s={skipTransform:T1e.name != o53.chart.name,panelName:o53.panel,band:R7f + o53.name,threshold:+"0",color:S4m,yAxis:Y50};if(!o53.highlight && X09.highlightedDraggable){b8s.opacity=0.3;}b8s.direction=1;Y2d.preparePeakValleyFill(X09,b8s);b8s.direction=-1;Y2d.preparePeakValleyFill(X09,b8s);};Y2d.Studies.displayElderRay=function(b1Y,L7s,M89){var k6I,Q_C,r$W,m3T,d3J,u9D,y0a,R1f,w_j,g7X;k6I=b1Y.panels[L7s.panel];Q_C=L7s.getContext(b1Y);r$W=L7s.getYAxis(b1Y);function I6X(E$V,d7_,D3h,b3V){r7W.f3X();Q_C.fillStyle=Y2d.Studies.determineColor(L7s.outputs[D3h]);Q_C.fillRect(Math.floor(b1Y.pixelFromBar(E$V,k6I.chart) - d3J / 2 + d3J * d7_),Math.floor(m3T),Math.floor(d3J * (1 - +"2" * d7_)),Math.floor(b1Y.pixelFromPrice(g7X[L7s.name + b3V],k6I,r$W) - m3T));}r7W.N_M(4);r7W.f3X();m3T=b1Y.pixelFromPrice(r7W.c0C("0",0),k6I,r$W);r7W.j7J(14);var L9w=r7W.a$j(16,14);d3J=b1Y.layout.candleWidth - L9w;if(d3J < 2){d3J=1;}b1Y.canvasColor("stx_histogram");u9D=Q_C.fillStyle;if(!L7s.underlay){Q_C.globalAlpha=+"1";}b1Y.startClip(L7s.panel);if(!L7s.highlight && b1Y.highlightedDraggable){Q_C.globalAlpha*=0.3;}for(var Y3r=0;Y3r < M89.length;Y3r++){y0a="_hist";y0a+="2";R1f="_h";R1f+="ist1";w_j="_";w_j+="hist1";g7X=M89[Y3r];if(!g7X)continue;if(g7X.candleWidth){d3J=Math.floor(Math.max(1,g7X.candleWidth - ("2" ^ 0)));}if(g7X[L7s.name + w_j] > 0){r7W.j7J(29);I6X(Y3r,r7W.a$j(0,"0"),"Elder Bull Power","_hist1");}if(g7X[L7s.name + "_hist2"] < 0){I6X(Y3r,0,"Elder Bear Power","_hist2");}if(g7X[L7s.name + "_hist1"] < 0){I6X(Y3r,0.1,"Elder Bull Power",R1f);}if(g7X[L7s.name + "_hist2"] > 0){r7W.N_M(14);I6X(Y3r,r7W.a$j("0.1",0),"Elder Bear Power",y0a);}}b1Y.endClip();Q_C.fillStyle=u9D;};Y2d.Studies.studyLibrary=Y2d.extend(Y2d.Studies.studyLibrary,{"Elder Force":{name:K7s,calculateFN:Y2d.Studies.calculateElderForce,seriesFN:Y2d.Studies.displayElderForce,inputs:{Period:13}},"Elder Ray":{name:"Elder Ray Index",seriesFN:Y2d.Studies.displayElderRay,calculateFN:Y2d.Studies.calculateElderRay,centerline:0,inputs:{Period:13},outputs:{"Elder Bull Power":"#00DD00","Elder Bear Power":"#FF0000"}},"Elder Impulse":{name:"Elder Impulse System",calculateFN:Y2d.Studies.calculateElderImpulse,initializeFN:Y2d.Studies.initElderImpulse,seriesFN:null,customRemoval:!![],underlay:!!({}),inputs:{},outputs:{Bullish:R9o,Bearish:"#DD3E39",Neutral:"#5F7CB8"},removeFN:function(K5w,U0v){K5w.chart.customChart=null;K5w.setMainSeriesRenderer();}}});}};j4=q5g=>{var l2d=f3BGj;var r1E,X6T,Y4B,I6x,P4L,k4v,O7C;r1E=typeof _CIQ !== "undefined"?_CIQ:q5g.CIQ;if(!r1E.Studies){X6T=122462410;Y4B=320517448;I6x=2;for(var A9E=1;l2d.O1W(A9E.toString(),A9E.toString().length,"61779" ^ 0) !== X6T;A9E++){console.error("");I6x+=2;}if(l2d.S9Y(I6x.toString(),I6x.toString().length,76585) !== Y4B){console.error("");}console.error("fractalChaos feature requires first activating studies feature.");}else {P4L="a";P4L+="uto";k4v="a";k4v+="uto";O7C="aut";O7C+="o";r1E.Studies.calculateFractalChaos=function(x0E,V3c){var f5W,x$$,C6h,M2p,O5k,L8J,k1P,I7E,h$T,n_H;f5W="Fractal C";f5W+="haos";f5W+=" Band";f5W+="s";x$$=V3c.chart.scrubbed;C6h=0;M2p=0;O5k=0;if(V3c.startFrom && V3c.type == f5W){L8J="F";L8J+="ractal";L8J+=" Low ";l2d.N_M(102);var s9l=l2d.c0C(13,13,17,8);C6h=x$$[V3c.startFrom - s9l]["Fractal High " + V3c.name];l2d.j7J(132);var R_9=l2d.c0C(13,16,9,2,13);M2p=x$$[V3c.startFrom - R_9][L8J + V3c.name];}for(var i49=Math.max("4" ^ 0,V3c.startFrom);i49 < x$$.length;i49++){k1P="F";k1P+="ractal Cha";k1P+="os Ba";k1P+="nds";if(x$$[i49].futureTick)break;I7E=!isNaN(x$$[i49].High);h$T=!isNaN(x$$[i49].Low);if(I7E || h$T){x$$[i49]["Result " + V3c.name]=0;}O5k=0;for(n_H=0;n_H <= i49;n_H++){if(!x$$[i49 - n_H])break;if(x$$[i49 - n_H].High > x$$[i49 - +"2"].High)break;if(n_H < 2 && x$$[i49 - n_H].High == x$$[i49 - 2].High)break;if(x$$[i49 - n_H].High < x$$[i49 - 2].High){O5k++;}if(O5k == 4){C6h=x$$[i49 - 2].High;break;}}if(V3c.type == k1P){if(I7E){x$$[i49]["Fractal High " + V3c.name]=C6h > 0?C6h:null;}}else if(O5k == 4){x$$[i49]["Result " + V3c.name]=1;}l2d.j7J(5);O5k=l2d.c0C(1,"0");for(n_H=+"0";n_H <= i49;n_H++){if(!x$$[i49 - n_H])break;if(x$$[i49 - n_H].Low < x$$[i49 - 2].Low)break;if(n_H < 2 && x$$[i49 - n_H].Low == x$$[i49 - 2].Low)break;if(x$$[i49 - n_H].Low > x$$[i49 - +"2"].Low){O5k++;}if(O5k == 4){M2p=x$$[i49 - +"2"].Low;break;}}if(V3c.type == "Fractal Chaos Bands"){if(h$T){x$$[i49]["Fractal Low " + V3c.name]=M2p > +"0"?M2p:null;}}else if(O5k == +"4"){x$$[i49]["Result " + V3c.name]=-+"1";}}};r1E.Studies.studyLibrary=r1E.extend(r1E.Studies.studyLibrary,{"Fractal Chaos":{name:"Fractal Chaos Oscillator",range:"-1 to 1",calculateFN:r1E.Studies.calculateFractalChaos,inputs:{},centerline:null},"Fractal Chaos Bands":{name:"Fractal Chaos Bands",overlay:!0,calculateFN:r1E.Studies.calculateFractalChaos,seriesFN:r1E.Studies.displayChannel,inputs:{"Channel Fill":!!({})},outputs:{"Fractal High":O7C,"Fractal Low":k4v,"Fractal Channel":P4L}}});}};U1=T5C=>{var C3X,M9Z,F0h,F$E,s_U,a$f,y2b,c$a;C3X="un";C3X+="defined";M9Z=typeof _CIQ !== C3X?_CIQ:T5C.CIQ;if(!M9Z.Studies){console.error("highLowStudies feature requires first activating studies feature.");}else {F0h="Wil";F0h+="liams %R";F$E="Lowest Low ";F$E+="Value";s_U="Highest High V";s_U+="alu";s_U+="e";a$f="a";a$f+="u";a$f+="t";a$f+="o";y2b="a";y2b+="u";y2b+="t";y2b+="o";c$a="au";c$a+="t";c$a+="o";M9Z.Studies.calculateMaxHighMinLow=function(a8Z,X4J){var K92=f3BGj;var K3Z,C2Q,U_0,J8r,S4g,H8n,U5w,f5g,l8Q,H0n,c3x,t$u,g6E;K3Z="Low Peri";K3Z+="od";C2Q="Hi";C2Q+="gh Pe";C2Q+="rio";C2Q+="d";U_0="High";U_0+=" Period";J8r=X4J.chart.scrubbed;S4g=X4J.days;H8n=X4J.days;if(X4J.inputs[U_0]){S4g=X4J.inputs[C2Q];}if(X4J.inputs[K3Z]){H8n=X4J.inputs["Low Period"];}if(J8r.length < Math.max(S4g,H8n) + +"1"){X4J.error=!![];return;}U5w=Number.MAX_VALUE;K92.j7J(14);var w3A=K92.a$j(0,1);f5g=Number.MAX_VALUE * w3A;if(X4J.startFrom > 1){for(l8Q=1;l8Q < S4g;l8Q++){if(X4J.startFrom - l8Q >= 0){f5g=Math.max(f5g,J8r[X4J.startFrom - l8Q].High);}}for(l8Q=1;l8Q < H8n;l8Q++){if(X4J.startFrom - l8Q >= 0){U5w=Math.min(U5w,J8r[X4J.startFrom - l8Q].Low);}}}for(var n9X=Math.max(0,X4J.startFrom - 1);n9X < J8r.length;n9X++){H0n="VT HZ";H0n+=" ";H0n+="Fi";H0n+="lter";f5g=Math.max(f5g,J8r[n9X].High);U5w=Math.min(U5w,J8r[n9X].Low);if(n9X >= S4g){if(J8r[n9X - S4g].High == f5g){f5g=J8r[n9X].High;for(l8Q=1;l8Q < S4g;l8Q++){f5g=Math.max(f5g,J8r[n9X - l8Q].High);}}}if(n9X >= H8n){if(J8r[n9X - H8n].Low == U5w){U5w=J8r[n9X].Low;for(l8Q=1;l8Q < H8n;l8Q++){U5w=Math.min(U5w,J8r[n9X - l8Q].Low);}}}c3x=0;if(X4J.type == "HHV"){c3x=f5g;}else if(X4J.type == "LLV"){c3x=U5w;}else if(X4J.type == "Donchian Width"){K92.N_M(14);c3x=K92.c0C(f5g,U5w);}else if(X4J.type == "GAPO" || X4J.type == "Gopala"){c3x=Math.log(f5g - U5w) / Math.log(H8n);}else if(X4J.type == H0n){K92.j7J(14);c3x=K92.c0C(f5g,U5w);J8r[n9X]["_MHML " + X4J.name]=c3x;continue;}else if(X4J.type == "Williams %R"){K92.j7J(133);var s7h=K92.c0C(20,17,22,18,93);c3x=s7h * (f5g - J8r[n9X].Close) / (f5g - U5w);J8r[n9X]["Result " + X4J.name]=c3x;continue;}if(n9X == J8r.length - "1" * 1)break;if(!J8r[n9X + 1].futureTick){t$u="Donchian";t$u+=" Channel";if(X4J.type == t$u){g6E="Donchian";g6E+=" Median ";K92.N_M(1);J8r[K92.a$j(n9X,1)]["Donchian High " + X4J.name]=f5g;K92.N_M(1);J8r[K92.c0C(n9X,1)]["Donchian Low " + X4J.name]=U5w;K92.j7J(1);J8r[K92.c0C(n9X,1)][g6E + X4J.name]=K92.a$j(U5w,f5g,2,K92.N_M(2));}else {K92.N_M(1);J8r[K92.a$j(n9X,1)]["Result " + X4J.name]=c3x;}}}};M9Z.Studies.calculateVerticalHorizontalFilter=function(r3B,a$9){var x7L,a7Y,N2V,H8D;x7L=a$9.chart.scrubbed;if(x7L.length < a$9.days + 1){a$9.error=!!"1";return;}a$9.mhml=new M9Z.Studies.StudyDescriptor(a$9.name,a$9.type,a$9.panel);a$9.mhml.chart=a$9.chart;a$9.mhml.days=a$9.days;a$9.mhml.startFrom=a$9.startFrom;a$9.mhml.inputs={};a$9.mhml.outputs={_MHML:null};M9Z.Studies.calculateMaxHighMinLow(r3B,a$9.mhml);a7Y=0;N2V=[];for(var G_W=Math.max(1,a$9.startFrom - a$9.days);G_W < x7L.length;G_W++){H8D=Math.abs(x7L[G_W].Close - x7L[G_W - 1].Close);N2V.push(H8D);a7Y+=H8D;if(N2V.length == a$9.days){x7L[G_W]["Result " + a$9.name]=x7L[G_W]["_MHML " + a$9.name] / a7Y;a7Y-=N2V.shift();}}};M9Z.Studies.studyLibrary=M9Z.extend(M9Z.Studies.studyLibrary,{"Donchian Channel":{name:"Donchian Channel",overlay:!"",calculateFN:M9Z.Studies.calculateMaxHighMinLow,seriesFN:M9Z.Studies.displayChannel,inputs:{"High Period":"20" ^ 0,"Low Period":+"20","Channel Fill":!!({})},outputs:{"Donchian High":c$a,"Donchian Median":y2b,"Donchian Low":a$f}},"Donchian Width":{name:"Donchian Width",calculateFN:M9Z.Studies.calculateMaxHighMinLow,inputs:{"High Period":20,"Low Period":20}},GAPO:{name:"Gopalakrishnan Range Index",calculateFN:M9Z.Studies.calculateMaxHighMinLow},HHV:{name:s_U,calculateFN:M9Z.Studies.calculateMaxHighMinLow,inputs:{Period:+"14"}},LLV:{name:F$E,calculateFN:M9Z.Studies.calculateMaxHighMinLow,inputs:{Period:14}},"Williams %R":{name:F0h,calculateFN:M9Z.Studies.calculateMaxHighMinLow,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:!!1,studyOverBoughtValue:-20,studyOverBoughtColor:"auto",studyOverSoldValue:-80,studyOverSoldColor:"auto"}}},"VT HZ Filter":{name:"Vertical Horizontal Filter",calculateFN:M9Z.Studies.calculateVerticalHorizontalFilter,inputs:{Period:28}},"High-Low":{name:"High Minus Low",calculateFN:function(N6p,N6E){var f$y;f$y=N6E.chart.scrubbed;for(var E8y=N6E.startFrom;E8y < f$y.length;E8y++){f$y[E8y]["Result " + N6E.name]=f$y[E8y].High - f$y[E8y].Low;}},inputs:{}}});}};W2=t2a=>{var j5B,w8F,a3t,t$4;j5B=typeof _CIQ !== "undefined"?_CIQ:t2a.CIQ;if(!j5B.Studies){console.error("ichimoku feature requires first activating studies feature.");}else {w8F="#";w8F+="808";w8F+="000";a3t="#FF";a3t+="0000";t$4="I";t$4+="chimoku Clouds";j5B.Studies.calculateIchimoku=function(j5S,n5d){var N1i=f3BGj;var V0H,h02,r7V,i0I,g9x,T76,m$T,X_d,w5r,I2y,Y6C,h0f,A9j;V0H="La";V0H+="gging Span Perio";V0H+="d";h02=n5d.chart.scrubbed;r7V={Base:Number(n5d.inputs["Base Line Period"]),Conv:Number(n5d.inputs["Conversion Line Period"]),LeadB:Number(n5d.inputs["Leading Span B Period"]),Lag:Number(n5d.inputs[V0H])};for(i0I=n5d.startFrom;i0I < h02.length;i0I++){T76="La";T76+="gging Span ";m$T="Conve";m$T+="rsion Line";m$T+=" ";if(!h02[i0I])continue;g9x=o_H(r7V.Conv,i0I);N1i.N_M(134);var R5P=N1i.a$j(7,4,8,4);N1i.N_M(122);var X7r=N1i.c0C(22,18,2,18);h02[i0I][m$T + n5d.name]=(g9x["1" - 0] + g9x["0" * R5P]) / X7r;g9x=o_H(r7V.Base,i0I);N1i.N_M(66);var V6k=N1i.c0C(18,12,6,35);N1i.j7J(44);var C1m=N1i.a$j(18,19,340,0);h02[i0I]["Base Line " + n5d.name]=(g9x[V6k] + g9x[0]) / C1m;if(i0I < r7V.Lag)continue;h02[i0I - r7V.Lag][T76 + n5d.name]=h02[i0I].Close;}X_d=[];for(i0I=Math.max(0,n5d.startFrom - r7V.Base);i0I < h02.length;i0I++){g9x=o_H(r7V.LeadB,i0I);N1i.j7J(27);var r$5=N1i.c0C(13,11);w5r=(h02[i0I]["Conversion Line " + n5d.name] + h02[i0I]["Base Line " + n5d.name]) / r$5;N1i.N_M(17);var i9I=N1i.a$j(127,10,11,18);I2y=(g9x[i9I] + g9x[0]) / +"2";if(h02[i0I + r7V.Base]){Y6C="Leadin";Y6C+="g";Y6C+=" Span";Y6C+=" A ";h02[i0I + r7V.Base][Y6C + n5d.name]=w5r;h02[i0I + r7V.Base]["Leading Span B " + n5d.name]=I2y;}else {h0f="Lead";h0f+="ing Span A ";A9j={};A9j[h0f + n5d.name]=w5r;A9j["Leading Span B " + n5d.name]=I2y;X_d.push(A9j);}}n5d.appendFutureTicks(j5S,X_d);function o_H(C_g,R2S){var S8O,Z5y;N1i.T$X();S8O=Number.MAX_VALUE;N1i.N_M(68);var c2w=N1i.c0C(4,5,0,15);Z5y=Number.MAX_VALUE * -("1" * c2w);for(var E0q=R2S - C_g + 1;E0q <= R2S;E0q++){if(E0q < 0)continue;S8O=Math.min(S8O,h02[E0q].Low);Z5y=Math.max(Z5y,h02[E0q].High);}return [S8O,Z5y];}};j5B.Studies.displayIchimoku=function(U9p,n0N,M69){var j82,g5T,g9y,R_L,s1B,A2u,M1E,z17;j82="L";j82+="eadi";j82+="ng Span A ";g5T=j82 + n0N.name;g9y="Leading Span B " + n0N.name;R_L=j5B.Studies.determineColor(n0N.outputs[n0N.outputMap[g5T]]);s1B=j5B.Studies.determineColor(n0N.outputs[n0N.outputMap[g9y]]);A2u=U9p.panels[n0N.panel];M1E=n0N.getYAxis(U9p);z17={topBand:g5T,bottomBand:g9y,topColor:R_L,bottomColor:s1B,skipTransform:A2u.name != n0N.chart.name,topAxis:M1E,bottomAxis:M1E,opacity:0.3};if(!n0N.highlight && U9p.highlightedDraggable){f3BGj.N_M(5);z17.opacity*=f3BGj.a$j(1,"0.3");}j5B.fillIntersecting(U9p,n0N.panel,z17);j5B.Studies.displaySeriesAsLine(U9p,n0N,M69);};j5B.Studies.studyLibrary=j5B.extend(j5B.Studies.studyLibrary,{"Ichimoku Clouds":{name:t$4,overlay:!!({}),calculateFN:j5B.Studies.calculateIchimoku,seriesFN:j5B.Studies.displayIchimoku,inputs:{"Conversion Line Period":9,"Base Line Period":26,"Leading Span B Period":52,"Lagging Span Period":+"26"},outputs:{"Conversion Line":"#0000FF","Base Line":"#FF0000","Leading Span A":"#00FF00","Leading Span B":a3t,"Lagging Span":w8F}}});}};K0=L0y=>{var q$d,p6D,l8b;q$d=typeof _CIQ !== "undefined"?_CIQ:L0y.CIQ;if(!q$d.Studies){console.error("intradayMomentum feature requires first activating studies feature.");}else {p6D="a";p6D+="u";p6D+="t";p6D+="o";l8b="a";l8b+="u";l8b+="to";q$d.Studies.calculateIntradayMomentum=function(I_8,D_5){var E9s=f3BGj;var R3q,z0X,T8e,s0H,y_x,q1j,Q3C;R3q=D_5.chart.scrubbed;z0X=D_5.days;if(R3q.length < z0X + 1){D_5.error=!![];return;}E9s.N_M(46);T8e=E9s.c0C("0",0);s0H=0;if(D_5.startFrom > 1){y_x="_totDn";y_x+=" ";E9s.N_M(34);var M5N=E9s.c0C(4,2,6);T8e=R3q[D_5.startFrom - M5N]["_totUp " + D_5.name];E9s.N_M(135);var S6B=E9s.a$j(2,1,20,21);s0H=R3q[D_5.startFrom - S6B][y_x + D_5.name];}for(var u4t=D_5.startFrom;u4t < R3q.length;u4t++){q1j=R3q[u4t].Close - R3q[u4t].Open;if(q1j > 0){T8e+=q1j;}else {s0H-=q1j;}if(u4t >= z0X){Q3C=R3q[u4t - z0X].Close - R3q[u4t - z0X].Open;if(Q3C > 0){T8e-=Q3C;}else {s0H+=Q3C;}}E9s.j7J(136);R3q[u4t]["Result " + D_5.name]=E9s.a$j(T8e,s0H,T8e,"100");R3q[u4t]["_totUp " + D_5.name]=T8e;R3q[u4t]["_totDn " + D_5.name]=s0H;}};q$d.Studies.studyLibrary=q$d.extend(q$d.Studies.studyLibrary,{"Intraday Mtm":{name:"Intraday Momentum Index",calculateFN:q$d.Studies.calculateIntradayMomentum,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:!!"1",studyOverBoughtValue:70,studyOverBoughtColor:l8b,studyOverSoldValue:30,studyOverSoldColor:p6D}}}});}};G_=B6D=>{f3BGj.f3X();var Z$$,h2d,K9M;Z$$=typeof _CIQ !== "undefined"?_CIQ:B6D.CIQ;if(!Z$$.Studies){console.error("keltner feature requires first activating studies feature.");}else {h2d="au";h2d+="t";h2d+="o";K9M="Ke";K9M+="ltner Cha";K9M+="nnel";Z$$.Studies.calculateKeltner=function(Z5B,S1v){var C$_,B4d,l0N;C$_="ATR";C$_+=" ";B4d="M";B4d+="A";l0N="Mo";f3BGj.f3X();l0N+="ving Average Type";Z$$.Studies.MA(S1v.inputs[l0N],S1v.days,"Close",0,B4d,Z5B,S1v);Z$$.Studies.calculateStudyATR(Z5B,S1v);Z$$.Studies.calculateGenericEnvelope(Z5B,S1v,S1v.inputs.Shift,"MA " + S1v.name,C$_ + S1v.name);};Z$$.Studies.studyLibrary=Z$$.extend(Z$$.Studies.studyLibrary,{Keltner:{name:K9M,overlay:!!({}),seriesFN:Z$$.Studies.displayChannel,calculateFN:Z$$.Studies.calculateKeltner,inputs:{Period:50,Shift:5,"Moving Average Type":"ema","Channel Fill":!![]},outputs:{"Keltner Top":h2d,"Keltner Median":"auto","Keltner Bottom":"auto"},attributes:{Shift:{min:0.1,step:0.1}}}});}};T8=m_l=>{var R3l,D$$;R3l=typeof _CIQ !== "undefined"?_CIQ:m_l.CIQ;if(!R3l.Studies){console.error("klinger feature requires first activating studies feature.");}else {D$$="#";D$$+="FF00";D$$+="0";D$$+="0";R3l.Studies.calculateKlinger=function(X3d,J2x){var d9S,Y89,m$M,K0Z,l0n,F$Y,B$Z,f4e,x8r,W1w,r9p,X1L,W_7,K8G,K7D,L1h,P5X,U5k,E0h;d9S="Sig";d9S+="nal Peri";d9S+="ods";Y89="expo";Y89+="nential";m$M="expon";m$M+="ential";K0Z="_EM";K0Z+="A";K0Z+="-S";l0n="_EMA";l0n+="-";l0n+="S ";F$Y="K";F$Y+="lingerSig";F$Y+="na";F$Y+="l ";B$Z="_";B$Z+="his";B$Z+="t";f4e=J2x.chart.scrubbed;x8r=Number(J2x.inputs["Short Cycle"]);W1w=Number(J2x.inputs["Long Cycle"]);if(f4e.length < Math.max(x8r,W1w) + 1){J2x.error=!!({});return;}f3BGj.T$X();r9p=J2x.name + B$Z;X1L="Klinger " + J2x.name;W_7=F$Y + J2x.name;K8G="_SV " + J2x.name;K7D=l0n + J2x.name;L1h="_EMA-L " + J2x.name;for(P5X=Math.max(1,J2x.startFrom);P5X < f4e.length;P5X++){U5k="hlc/";U5k+="3";E0h=f4e[P5X].Volume;if(f4e[P5X]["hlc/3"] < f4e[P5X - 1][U5k]){E0h*=-+"1";}if(E0h){f4e[P5X][K8G]=E0h;}}R3l.Studies.MA("exponential",x8r,K8G,+"0",K0Z,X3d,J2x);R3l.Studies.MA(m$M,W1w,K8G,0,"_EMA-L",X3d,J2x);for(P5X=Math.max(W1w,J2x.startFrom);P5X < f4e.length;P5X++){if(f4e[P5X].futureTick || f4e[P5X][K7D] === null || f4e[P5X][L1h] === null)break;f4e[P5X][X1L]=f4e[P5X][K7D] - f4e[P5X][L1h];}R3l.Studies.MA(Y89,Number(J2x.inputs[d9S]),X1L,0,"KlingerSignal",X3d,J2x);for(P5X=J2x.startFrom;P5X < f4e.length;P5X++){f4e[P5X][r9p]=f4e[P5X][X1L] - f4e[P5X][W_7];}J2x.outputMap[r9p]="";};R3l.Studies.studyLibrary=R3l.extend(R3l.Studies.studyLibrary,{Klinger:{name:"Klinger Volume Oscillator",seriesFN:R3l.Studies.displayHistogramWithSeries,calculateFN:R3l.Studies.calculateKlinger,inputs:{"Signal Periods":"13" - 0,"Short Cycle":34,"Long Cycle":55},outputs:{Klinger:"auto",KlingerSignal:D$$,"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};d8=e5D=>{var p6w,J1p,H$R,y06,A5a,M9y,p1o,D7w;p6w=typeof _CIQ !== "undefined"?_CIQ:e5D.CIQ;if(!p6w.Studies){console.error("linearRegression feature requires first activating studies feature.");}else {J1p="f";J1p+="ie";J1p+="l";J1p+="d";H$R="Linear";H$R+=" Reg ";H$R+="Forecast";y06="TimeSe";y06+="ries";A5a="ti";A5a+="me";A5a+=" s";A5a+="eries";M9y="t";M9y+="ime seri";M9y+="es";p1o="ts";p1o+="m";p1o+="a";D7w="time";D7w+=" series";p6w.Studies.prettify[D7w]=p1o;p6w.Studies.movingAverage.conversions.tsma=M9y;p6w.Studies.movingAverage.translations["time series"]="Time Series";p6w.Studies.movingAverage.typeMap.tsma="TimeSeries";p6w.Studies.movingAverage.typeMap[A5a]=y06;p6w.Studies.calculateMovingAverageTimeSeries=function(R3S,h4l){var Q2j=f3BGj;var i_V,H8o,k1e,L96,S07,I5d,G$j,d4Y,C0J,E0p,T9W;i_V="m";i_V+="a";h4l.ma=new p6w.Studies.StudyDescriptor(h4l.name,i_V,h4l.panel);h4l.ma.chart=h4l.chart;h4l.ma.days=h4l.days;h4l.ma.startFrom=h4l.startFrom;h4l.ma.inputs=h4l.inputs;p6w.Studies.calculateLinearRegressionIndicator(R3S,h4l.ma);H8o=h4l.name;for(var R_z in h4l.outputs){Q2j.N_M(82);H8o=Q2j.c0C(H8o,(1730,"6450" ^ 0) < 3310?8.20e+3:" ",R_z);}k1e=parseInt(h4l.inputs.Offset,10);if(isNaN(k1e)){k1e=0;}L96=h4l.chart.scrubbed;Q2j.f3X();S07=k1e;for(var b1I=h4l.startFrom - 1;b1I >= 0;b1I--){I5d=L96[b1I][H8o];if(!I5d && I5d !== +"0")continue;if(S07 > 0){S07--;continue;}break;}G$j=[];for(b1I++;b1I < L96.length;b1I++){d4Y=L96[b1I];if(b1I + k1e >= "0" << 64){C0J="Fo";C0J+="r";C0J+="ecast ";if(b1I + k1e < L96.length){Q2j.N_M(1);L96[Q2j.a$j(b1I,k1e)][H8o]=d4Y[C0J + h4l.name];}else {E0p="Fo";E0p+="re";E0p+="cas";E0p+="t ";T9W={};T9W[H8o]=d4Y[E0p + h4l.name];G$j.push(T9W);}}}h4l.appendFutureTicks(R3S,G$j);};p6w.Studies.calculateLinearRegressionIndicator=function(S7g,o1o){var e1h=f3BGj;var G4d,t8v,j7D,h26,k8s,b9r,u3q,d0c,b1C,D8C,T0M,j2Z,b4d,i3g,d0l,P2y;G4d="Cl";G4d+="ose";t8v=o1o.chart.scrubbed;if(t8v.length < o1o.days + 1){o1o.error=!!({});return;}e1h.T$X();j7D=o1o.inputs.Field;if(!j7D || j7D == "field"){j7D=G4d;}e1h.j7J(14);var G6t=e1h.c0C(4,3);e1h.j7J(3);var S9K=e1h.a$j(0,2,0);h26=o1o.days * (o1o.days + G6t) / S9K;k8s=Math.pow(h26,2);e1h.N_M(15);var W6J=e1h.a$j(0,10,9);e1h.N_M(137);var X7G=e1h.c0C(9,13,9,10);b9r=h26 * (+"2" * o1o.days + W6J) / X7G;u3q=0;d0c=0;b1C=+"0";if(o1o.startFrom){D8C="_";D8C+="s";D8C+="ums";D8C+=" ";e1h.N_M(14);var Z9D=e1h.a$j(1,0);T0M=t8v[o1o.startFrom - Z9D][D8C + o1o.name];if(T0M){d0c=T0M[0];u3q=T0M[1];b1C=T0M[2];}}for(var K3j=o1o.startFrom;K3j < t8v.length;K3j++){j2Z=t8v[K3j][j7D];if(j2Z && typeof j2Z == "object"){j2Z=j2Z[o1o.subField];}if(!j2Z && j2Z !== ("0" ^ 0))continue;d0c+=o1o.days * j2Z - u3q;u3q+=j2Z;b1C+=Math.pow(j2Z,2);if(K3j < o1o.days - 1)continue;else if(K3j > o1o.days - 1){b4d=t8v[K3j - o1o.days][j7D];if(b4d && typeof b4d == "object"){b4d=b4d[o1o.subField];}if(!b4d && b4d !== 0)continue;u3q-=b4d;b1C-=Math.pow(b4d,2);}i3g=(o1o.days * d0c - h26 * u3q) / (o1o.days * b9r - k8s);t8v[K3j]["Slope " + o1o.name]=i3g;d0l=(u3q - i3g * h26) / o1o.days;t8v[K3j]["Intercept " + o1o.name]=d0l;t8v[K3j]["Forecast " + o1o.name]=d0l + i3g * o1o.days;e1h.N_M(122);var N_d=e1h.a$j(0,2,1,4);P2y=(o1o.days * b9r - k8s) / (o1o.days * b1C - Math.pow(u3q,N_d));e1h.N_M(138);t8v[K3j]["RSquared " + o1o.name]=e1h.c0C(i3g,P2y,i3g);t8v[K3j]["_sums " + o1o.name]=[d0c,u3q,b1C];}};p6w.Studies.studyLibrary=p6w.extend(p6w.Studies.studyLibrary,{"Lin Fcst":{name:H$R,overlay:!"",calculateFN:p6w.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}},"Lin Incpt":{name:"Linear Reg Intercept",overlay:!0,calculateFN:p6w.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:J1p},outputs:{Intercept:"auto"}},"Lin R2":{name:"Linear Reg R2",calculateFN:p6w.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{RSquared:"auto"}},"LR Slope":{name:"Linear Reg Slope",calculateFN:p6w.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Slope:"auto"}},"Time Fcst":{name:"Time Series Forecast",overlay:!![],calculateFN:p6w.Studies.calculateLinearRegressionIndicator,inputs:{Period:+"14",Field:"field"},outputs:{Forecast:"auto"}}});}};T6=X2q=>{var I5V,n26,Z3I;I5V="undefin";I5V+="e";I5V+="d";n26=typeof _CIQ !== I5V?_CIQ:X2q.CIQ;if(!n26.Studies){console.error("macd feature requires first activating studies feature.");}else {Z3I="#FF0";Z3I+="000";n26.Studies.calculateMACD=function(G0U,s6p){var Y4t=f3BGj;var r0C,o0o,S5G,R3e,J9T,u3o,P4U,F3w,J63,h0N,G0Z,G8j,h_B,r5e,D9j,h$f;r0C="_h";r0C+="i";r0C+="s";r0C+="t";o0o="exponent";o0o+="i";o0o+="a";o0o+="l";S5G="Signal Pe";S5G+="riod";R3e="Sl";R3e+="ow MA Period";J9T="Fast M";J9T+="A Perio";J9T+="d";u3o=s6p.chart.scrubbed;P4U=s6p.inputs;F3w=s6p.name;if(!s6p.macd1Days){s6p.macd1Days=parseFloat(P4U[J9T]);}if(!s6p.macd2Days){s6p.macd2Days=parseFloat(P4U[R3e]);}if(!s6p.signalDays){s6p.signalDays=parseFloat(P4U[S5G]);}if(!s6p.days){s6p.days=Math.max(s6p.macd1Days,s6p.macd2Days,s6p.signalDays);}if(u3o.length < s6p.days + 1){s6p.error=!0;return;}J63=s6p.inputs.Field;if(!J63 || J63 == "field"){J63="Close";}h0N=P4U["Moving Average Type"];if(!h0N){h0N=o0o;}n26.Studies.MA(h0N,s6p.macd1Days,J63,0,"_MACD1",G0U,s6p);n26.Studies.MA(h0N,s6p.macd2Days,J63,"0" - 0,"_MACD2",G0U,s6p);h_B=Math.max(s6p.startFrom,s6p.days - 1);for(G0Z=h_B;G0Z < u3o.length;G0Z++){G8j=u3o[G0Z];if((G8j["_MACD1 " + F3w] || G8j["_MACD1 " + F3w] === 0) && (G8j["_MACD2 " + F3w] || G8j["_MACD2 " + F3w] === 0)){Y4t.N_M(1);G8j[Y4t.c0C("MACD ",F3w)]=G8j["_MACD1 " + F3w] - G8j["_MACD2 " + F3w];}}r5e=P4U["Signal MA Type"];if(!r5e){r5e="exponential";}n26.Studies.MA(r5e,s6p.signalDays,"MACD " + F3w,0,"Signal",G0U,s6p);Y4t.N_M(1);D9j=Y4t.c0C(F3w,r0C);for(G0Z=h_B;G0Z < u3o.length;G0Z++){G8j=u3o[G0Z];Y4t.j7J(1);h$f=G8j[Y4t.c0C("Signal ",F3w)];if(!h$f && h$f !== 0)continue;G8j[D9j]=G8j["MACD " + F3w] - G8j["Signal " + F3w];}s6p.outputMap[D9j]="";};n26.Studies.studyLibrary=n26.extend(n26.Studies.studyLibrary,{macd:{name:"MACD",calculateFN:n26.Studies.calculateMACD,seriesFN:n26.Studies.displayHistogramWithSeries,inputs:{"Fast MA Period":12,"Slow MA Period":26,"Signal Period":+"9"},outputs:{MACD:"auto",Signal:Z3I,"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};k1=v$V=>{var X30=f3BGj;var q18,z4T,v2X,R$R;X30.T$X();q18=typeof _CIQ !== "undefined"?_CIQ:v$V.CIQ;if(!q18.Studies){console.error("massIndex feature requires first activating studies feature.");}else {q18.Studies.calculateMassIndex=function(i3d,b2b){var c0N,M6P,t_b,q$n,h4T,Z17,a4i,k59;c0N="_";c0N+="EM";c0N+="A ";M6P=1078781190;t_b=1904025788;q$n=2;for(var B2E=1;X30.S9Y(B2E.toString(),B2E.toString().length,83617) !== M6P;B2E++){h4T=b2b.chart.scrubbed;q$n+=2;}if(X30.O1W(q$n.toString(),q$n.toString().length,25167) !== t_b){h4T=b2b.chart.scrubbed;}if(h4T.length < Math.max(9,b2b.days + 1)){b2b.error=!"";return;}for(var A1$=b2b.startFrom;A1$ < h4T.length;A1$++){h4T[A1$]["_High-Low " + b2b.name]=h4T[A1$].High - h4T[A1$].Low;}q18.Studies.MA("exponential",9,"_High-Low " + b2b.name,0,"_EMA",i3d,b2b);q18.Studies.MA("exponential",9,c0N + b2b.name,0,"_EMA2",i3d,b2b);Z17=0;if(h4T[b2b.startFrom - 1] && h4T[b2b.startFrom - +"1"]["_total " + b2b.name]){X30.j7J(14);var e6Q=X30.a$j(16,15);Z17=h4T[b2b.startFrom - e6Q]["_total " + b2b.name];}for(var N_Q=Math.max(+"17",b2b.startFrom);N_Q < h4T.length;N_Q++){a4i="_to";a4i+="ta";a4i+="l";a4i+=" ";k59="_";k59+="EMA2 ";Z17+=h4T[N_Q]["_EMA " + b2b.name] / h4T[N_Q][k59 + b2b.name];if(N_Q >= ("17" ^ 0) + b2b.days - 1){h4T[N_Q]["Result " + b2b.name]=Z17;X30.N_M(63);var S8j=X30.a$j(4,12,17);X30.j7J(52);var e6$=X30.a$j(6,8,1);Z17-=h4T[N_Q - b2b.days + S8j]["_EMA " + b2b.name] / h4T[N_Q - b2b.days + e6$]["_EMA2 " + b2b.name];}h4T[N_Q][a4i + b2b.name]=Z17;}};q18.Studies.displayMassIndex=function(G4R,X9q,d8e){var D3j,E0d,U8j,q9C,D3w,J8z;D3j="Bu";D3j+="lge Thr";D3j+="esh";D3j+="old";q18.Studies.displaySeriesAsLine(G4R,X9q,d8e);E0d=X9q.inputs[D3j];U8j=G4R.panels[X9q.panel];q9C=X9q.getYAxis(G4R);D3w=q18.Studies.determineColor(X9q.outputs.Result);J8z={skipTransform:G4R.panels[X9q.panel].name != X9q.chart.name,panelName:X9q.panel,band:"Result " + X9q.name,threshold:E0d,direction:1,color:D3w,yAxis:q9C,opacity:0.3};if(!X9q.highlight && G4R.highlightedDraggable){J8z.opacity*=0.3;}q18.preparePeakValleyFill(G4R,J8z);q18.Studies.drawHorizontal(G4R,X9q,null,E0d,q9C,D3w);};z4T=724537233;v2X=2069551907;R$R=2;for(var e5X=1;X30.S9Y(e5X.toString(),e5X.toString().length,73548) !== z4T;e5X++){q18.Studies.studyLibrary=q18.extend(q18.Studies.studyLibrary,{"Mass Idx":{name:"Mass Index",seriesFN:q18.Studies.displayMassIndex,calculateFN:q18.Studies.calculateMassIndex,inputs:{Period:14,"Bulge Threshold":63},attributes:{"Bulge Threshold":{min:+"57",max:14,step:780}}}});R$R+=2;}if(X30.S9Y(R$R.toString(),R$R.toString().length,+"45439") !== v2X){q18.Studies.studyLibrary=q18.extend(q18.Studies.studyLibrary,{"Mass Idx":{name:"Mass Index",seriesFN:q18.Studies.displayMassIndex,calculateFN:q18.Studies.calculateMassIndex,inputs:{Period:25,"Bulge Threshold":+"27"},attributes:{"Bulge Threshold":{min:20,max:35,step:0.1}}}});}}};e4=O7z=>{var i7t=f3BGj;i7t.T$X();var N3_,V5x;N3_=typeof _CIQ !== "undefined"?_CIQ:O7z.CIQ;if(!N3_.Studies){console.error("moneyFlow feature requires first activating studies feature.");}else {V5x="Money F";V5x+="low Ind";V5x+="e";V5x+="x";N3_.Studies.calculateMoneyFlowIndex=function(t9T,v7y){var p8N,d5m,O25,z1b,E92,v5L,a5S,M4c,u9x,P5O,e6F,N9v,d2n;p8N="_";p8N+="r";p8N+="awM";p8N+="F ";d5m=v7y.chart.scrubbed;if(d5m.length < v7y.days + 1){v7y.error=!!1;return;}O25=0;z1b=0;i7t.j7J(14);var g9E=i7t.a$j(1,0);E92=d5m[v7y.startFrom - g9E];v5L=p8N + v7y.name;a5S="_cumMF " + v7y.name;M4c="Result " + v7y.name;if(E92 && E92[a5S]){O25=E92[a5S][0];z1b=E92[a5S][1];}for(var J4A=v7y.startFrom;J4A < d5m.length;J4A++){u9x=d5m[J4A]["hlc/3"];if(J4A > 0 && !d5m[J4A].futureTick){P5O="hlc";P5O+="/3";i7t.N_M(14);e6F=d5m[i7t.a$j(J4A,1)][P5O];N9v=u9x * d5m[J4A].Volume;if(u9x > e6F){O25+=N9v;}else if(u9x < e6F){N9v*=-1;z1b-=N9v;}else {N9v=0;}if(J4A > v7y.days){d2n=d5m[J4A - v7y.days][v5L];if(d2n > 0){O25-=d2n;}else {z1b+=d2n;}if(z1b === 0){d5m[J4A][M4c]=100;}else if(d5m[J4A].Volume){i7t.j7J(139);d5m[J4A][M4c]=i7t.a$j(0,"100",O25,100,z1b,"1");}}d5m[J4A][v5L]=N9v;d5m[J4A][a5S]=[O25,z1b];}}};N3_.Studies.studyLibrary=N3_.extend(N3_.Studies.studyLibrary,{"M Flow":{name:V5x,range:"0 to 100",calculateFN:N3_.Studies.calculateMoneyFlowIndex,inputs:{Period:"14" << 0},parameters:{init:{studyOverZonesEnabled:!!1,studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};A1=s2O=>{var S8i,q5H,H36,i7d,i7U,o6F,D1J,b4u,H8y,w7K,I$t;S8i="undefi";S8i+="ned";q5H=typeof _CIQ !== S8i?_CIQ:s2O.CIQ;if(!q5H.Studies){console.error("movingAverages feature requires first activating studies feature.");}else {H36="aut";H36+="o";i7d="Pe";i7d+="rcent";i7U="a";i7U+="ut";i7U+="o";o6F="p";o6F+="oints";D1J="TripleExponentia";D1J+="l";b4u="DoubleExpone";b4u+="ntial";H8y="2-e";H8y+="x";H8y+="pon";H8y+="ential";w7K="t";w7K+="ema";I$t="de";I$t+="m";I$t+="a";q5H.Studies.prettify=q5H.extend({"2-exponential":I$t,"3-exponential":w7K,hull:"hma"},q5H.Studies.prettify);q5H.extend(q5H.Studies.movingAverage,{conversions:{hma:"hull",dema:H8y,tema:"3-exponential"},translations:{hull:"Hull","2-exponential":"Double Exponential","3-exponential":"Triple Exponential"},typeMap:{hma:"Hull",hull:"Hull",dema:"DoubleExponential","2-exponential":b4u,tema:"TripleExponential","3-exponential":D1J}});q5H.Studies.calculateMovingAverageHull=function(e_s,J_J){var L$B=f3BGj;var e0_,j7y,O3e,a3I,J0k,Q1K,j1D,V4P,Y7L,B$0,M0_,q7X,m$h;e0_="_W";e0_+="MA2";j7y="w";j7y+="m";j7y+="a";O3e="_W";O3e+="M";O3e+="A";O3e+="1";a3I=J_J.chart.scrubbed;L$B.T$X();J0k=J_J.inputs.Field;if(!J0k || J0k == "field"){J0k="Close";}q5H.Studies.MA("wma",J_J.days,J0k,0,O3e,e_s,J_J);q5H.Studies.MA(j7y,Math.ceil(J_J.days / 2),J0k,0,e0_,e_s,J_J);for(Q1K=J_J.startFrom - 1;Q1K >= 0;Q1K--){j1D=a3I[Q1K][J0k];if(j1D && typeof j1D == "object"){j1D=j1D[J_J.subField];}if(j1D || j1D === 0)break;}for(Q1K++;Q1K < a3I.length;Q1K++){V4P="_WM";V4P+="A1";V4P+=" ";Y7L="_MMA";Y7L+=" ";B$0=a3I[Q1K];L$B.j7J(86);var i6u=L$B.a$j(18,19,3,12,4);B$0[Y7L + J_J.name]=i6u * B$0["_WMA2 " + J_J.name] - B$0[V4P + J_J.name];}M0_=parseInt(J_J.inputs.Offset,"10" - 0);if(isNaN(M0_)){L$B.j7J(46);M0_=L$B.a$j("0",0);}q7X=Math.floor(Math.sqrt(J_J.days));q5H.Studies.MA("wma",q7X,"_MMA " + J_J.name,M0_,"_HMA",e_s,J_J);m$h=J_J.name;for(var I3b in J_J.outputs){L$B.N_M(82);m$h=L$B.a$j(m$h,"957.13" - 0 >= (2249,4526)?(8.32e+3,282.25):227.21 != (606.9,8050)?(628.48,4480) === 3060?(841.87,"2.81e+3" << 64):" ":(+"0x26df",0x1b6e),I3b);}for(Q1K=Math.max(J_J.days + q7X - 1,J_J.startFrom);Q1K < a3I.length;Q1K++){a3I[Q1K][m$h]=a3I[Q1K]["_HMA " + J_J.name];}};q5H.Studies.calculateMovingAverageDoubleExponential=function(u63,V8Z){var R2e=f3BGj;var S6j,R3o,d_M,k9z,Q5s,X9m,h6f,a2T,y3S,M$y,P8W,c$u,O1u,C$a;S6j="_EM";S6j+="A";S6j+="1 ";R3o="e";R3o+="m";R3o+="a";d_M="f";d_M+="ie";d_M+="ld";k9z=V8Z.chart.scrubbed;Q5s=V8Z.inputs.Field;if(!Q5s || Q5s == d_M){Q5s="Close";}q5H.Studies.MA("ema",V8Z.days,Q5s,0,"_EMA1",u63,V8Z);q5H.Studies.MA(R3o,V8Z.days,S6j + V8Z.name,0,"_EMA2",u63,V8Z);X9m=parseInt(V8Z.inputs.Offset,10);if(isNaN(X9m)){X9m=0;}y3S=X9m;for(h6f=V8Z.startFrom - 1;h6f >= 0;h6f--){a2T=k9z[h6f][Q5s];if(a2T && typeof a2T == "object"){a2T=a2T[V8Z.subField];}if(!a2T && a2T !== 0)continue;if(y3S > 0){y3S--;continue;}break;}M$y=V8Z.name;for(var p7S in V8Z.outputs){R2e.N_M(82);M$y=R2e.c0C(M$y," ",p7S);}P8W=[];for(h6f++;h6f < k9z.length;h6f++){if(h6f < 2 * (V8Z.days - 1))continue;c$u=k9z[h6f];R2e.j7J(9);var M8l=R2e.c0C(49,3,17);O1u=M8l * c$u["_EMA1 " + V8Z.name] - c$u["_EMA2 " + V8Z.name];if(h6f + X9m >= 0){if(h6f + X9m < k9z.length){R2e.N_M(1);k9z[R2e.a$j(h6f,X9m)][M$y]=O1u;}else {C$a={};C$a[M$y]=O1u;P8W.push(C$a);}}}V8Z.appendFutureTicks(u63,P8W);};q5H.Studies.calculateMovingAverageTripleExponential=function(v0r,Y9i){var Y7y=f3BGj;var L3x,b7A,a6R,I2R,U5Z,F0a,E_4,Y8n,A6X,l_B,C1c,K23,O8b,g6b,Y0$,V3W,C$X;L3x="_E";L3x+="MA";L3x+="1 ";b7A="em";b7A+="a";a6R="_";a6R+="E";a6R+="MA";a6R+="1";I2R="e";I2R+="m";I2R+="a";U5Z=Y9i.chart.scrubbed;F0a=Y9i.inputs.Field;if(!F0a || F0a == "field"){F0a="Close";}q5H.Studies.MA(I2R,Y9i.days,F0a,0,a6R,v0r,Y9i);q5H.Studies.MA(b7A,Y9i.days,L3x + Y9i.name,"0" | 0,"_EMA2",v0r,Y9i);q5H.Studies.MA("ema",Y9i.days,"_EMA2 " + Y9i.name,0,"_EMA3",v0r,Y9i);E_4=parseInt(Y9i.inputs.Offset,10);if(isNaN(E_4)){E_4=0;}l_B=E_4;for(Y8n=Y9i.startFrom - 1;Y8n >= 0;Y8n--){A6X=U5Z[Y8n][F0a];if(A6X && typeof A6X == "object"){A6X=A6X[Y9i.subField];}if(!A6X && A6X !== 0)continue;if(l_B > 0){l_B--;continue;}break;}C1c=Y9i.name;for(var d0L in Y9i.outputs){Y7y.N_M(82);C1c=Y7y.a$j(C1c,9299 === 622.05?543.67 >= (+"7250",4160)?"B":(!({}),"l"):" ",d0L);}K23=[];for(Y8n++;Y8n < U5Z.length;Y8n++){O8b="_EM";O8b+="A3 ";g6b="_";g6b+="EM";g6b+="A";g6b+="2 ";if(Y8n < 3 * (Y9i.days - 1))continue;Y0$=U5Z[Y8n];Y7y.j7J(124);var F1t=Y7y.c0C(15,16,42,10,2);Y7y.j7J(9);var P_j=Y7y.c0C(237,20,12);V3W=F1t * Y0$["_EMA1 " + Y9i.name] - P_j * Y0$[g6b + Y9i.name] + Y0$[O8b + Y9i.name];if(Y8n + E_4 >= 0){if(Y8n + E_4 < U5Z.length){Y7y.N_M(1);U5Z[Y7y.a$j(Y8n,E_4)][C1c]=V3W;}else {C$X={};C$X[C1c]=V3W;K23.push(C$X);}}}Y9i.appendFutureTicks(v0r,K23);};q5H.Studies.calculateMAEnvelope=function(c_1,B$X){var U3W,i07,k2K,F_F,M6N;U3W="Shi";U3W+="ft Type";i07=B$X.inputs.Field;f3BGj.f3X();if(!i07 || i07 == "field"){i07="Close";}q5H.Studies.MA(B$X.inputs["Moving Average Type"],B$X.days,i07,0,"MA",c_1,B$X);k2K=B$X.inputs[U3W];F_F=B$X.inputs.Shift;if(!k2K){k2K="percent";F_F=B$X.inputs["Shift Percentage"];}if(k2K == "percent"){f3BGj.N_M(7);q5H.Studies.calculateGenericEnvelope(c_1,B$X,f3BGj.a$j(F_F,100),"MA " + B$X.name);}else if(k2K == "points"){M6N="M";M6N+="A";M6N+=" ";q5H.Studies.calculateGenericEnvelope(c_1,B$X,null,M6N + B$X.name,null,Number(F_F));}};q5H.Studies.calculateMADev=function(C53,B3w){var R7H=f3BGj;var o9D,j_8,f9V,a_D,P3E,y5R,R0a,T3J,h09,n$X,N7W;o9D="_";o9D+="M";o9D+="A";j_8="Po";j_8+="i";j_8+="nt";j_8+="s";R7H.f3X();f9V="C";f9V+="lose";a_D=B3w.chart.scrubbed;if(a_D.length < B3w.days + 1){B3w.error=!0;return;}P3E=B3w.inputs.Field;if(!P3E || P3E == "field"){P3E=f9V;}y5R=B3w.inputs["Points Or Percent"];if(!y5R){y5R=j_8;}R0a=B3w.inputs["Moving Average Type"];if(!R0a){R0a="exponential";}q5H.Studies.MA(R0a,B3w.days,P3E,+"0",o9D,C53,B3w);T3J=B3w.name + "_hist";for(var O7x=Math.max(B3w.startFrom,B3w.days - 1);O7x < a_D.length;O7x++){h09=a_D[O7x];n$X=h09[P3E];if(n$X && typeof n$X == "object"){n$X=n$X[B3w.subField];}N7W=h09["_MA " + B3w.name];if(N7W || N7W === 0){if(y5R == "Points"){R7H.j7J(14);h09[T3J]=R7H.a$j(n$X,N7W);}else {R7H.N_M(140);h09[T3J]=R7H.c0C(100,1,n$X,N7W);}}}B3w.outputMap={};B3w.outputMap[B3w.name + "_hist"]="";};q5H.Studies.studyLibrary=q5H.extend(q5H.Studies.studyLibrary,{"MA Env":{name:"Moving Average Envelope",overlay:!!"1",seriesFN:q5H.Studies.displayChannel,calculateFN:q5H.Studies.calculateMAEnvelope,inputs:{Period:50,Field:"field","Shift Type":["percent",o6F],Shift:5,"Moving Average Type":"ma","Channel Fill":!!({})},outputs:{"MA Env Top":i7U,"MA Env Median":"auto","MA Env Bottom":"auto"},attributes:{Shift:{min:0.1,step:0.1}}},"MA Dev":{name:"Moving Average Deviation",calculateFN:q5H.Studies.calculateMADev,seriesFN:q5H.Studies.displayHistogramWithSeries,inputs:{Period:12,Field:"field","Moving Average Type":"ma","Points Or Percent":["Points",i7d]},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}},"High Low":{name:"High Low Bands",overlay:!"",seriesFN:q5H.Studies.displayChannel,calculateFN:function(Q4X,B0l){f3BGj.T$X();var M3g;M3g="t";M3g+="r";M3g+="iangular";B0l.inputs["Moving Average Type"]=M3g;q5H.Studies.calculateMAEnvelope(Q4X,B0l);},inputs:{Period:10,Field:"field","Shift Percentage":"5" * 1,"Channel Fill":!0},outputs:{"High Low Top":"auto","High Low Median":H36,"High Low Bottom":"auto"},attributes:{"Shift Percentage":{min:0.1,step:0.1}}}});}};d_=y1V=>{var T89=f3BGj;var i2N,U7B;i2N=typeof _CIQ !== "undefined"?_CIQ:y1V.CIQ;T89.T$X();if(!i2N.Studies){U7B="parabolicSAR feature requires first activa";U7B+="ting studies feature.";console.error(U7B);}else {i2N.Studies.calculatePSAR=function(J6C,r5x){var J5P,p96,B4M,J48,K2Q,S8U,I0n,X0D,e2H,p8W,u6a,U3M,V9m;J5P=r5x.chart.scrubbed;p96=0;B4M=null;J48=!!"";function F8j(){p96=0;B4M=null;J48=!J48;}K2Q=0;S8U=parseFloat(r5x.inputs["Minimum AF"]);I0n=parseFloat(r5x.inputs["Maximum AF"]);T89.f3X();if(r5x.startFrom > 0){X0D="_";X0D+="st";X0D+="ate";X0D+=" ";e2H="Re";e2H+="su";e2H+="lt";e2H+=" ";T89.j7J(141);var y2A=T89.c0C(19,6,26);K2Q=J5P[r5x.startFrom - y2A][e2H + r5x.name];p8W=J5P[r5x.startFrom - +"1"][X0D + r5x.name];if(p8W && p8W.length == 3){p96=p8W[0];B4M=p8W[1];T89.N_M(46);J48=p8W[T89.c0C("2",0)];}}for(var O6U=r5x.startFrom - 1;O6U < J5P.length - +"1";O6U++){if(O6U < 0)continue;if(J5P[O6U].futureTick)break;u6a=K2Q;if(J48){if(!B4M || B4M < J5P[O6U].High){B4M=J5P[O6U].High;T89.j7J(1);p96=Math.min(T89.c0C(p96,S8U),I0n);}T89.j7J(142);K2Q=T89.c0C(u6a,p96,u6a,B4M);U3M=Math.min(J5P[Math.max(1,O6U) - +"1"].Low,J5P[O6U].Low);if(K2Q > J5P[O6U + 1].Low){K2Q=B4M;F8j();}else if(K2Q > U3M){K2Q=U3M;}}else {if(!B4M || B4M > J5P[O6U].Low){B4M=J5P[O6U].Low;T89.N_M(1);p96=Math.min(T89.a$j(p96,S8U),I0n);}T89.j7J(142);K2Q=T89.c0C(u6a,p96,u6a,B4M);V9m=Math.max(J5P[Math.max(1,O6U) - 1].High,J5P[O6U].High);if(K2Q < J5P[O6U + 1].High){K2Q=B4M;F8j();}else if(K2Q < V9m){K2Q=V9m;}}T89.N_M(1);J5P[T89.a$j(O6U,1)]["_state " + r5x.name]=[p96,B4M,J48];if(!isNaN(J5P[O6U].High) || !isNaN(J5P[O6U].Low)){T89.j7J(1);J5P[T89.a$j(O6U,1)]["Result " + r5x.name]=K2Q;}}};i2N.Studies.studyLibrary=i2N.extend(i2N.Studies.studyLibrary,{PSAR:{name:"Parabolic SAR",overlay:!!"1",calculateFN:i2N.Studies.calculatePSAR,seriesFN:i2N.Studies.displayPSAR2,inputs:{"Minimum AF":0.02,"Maximum AF":0.2}}});}};O9=W7c=>{var u$x,P9g,f2Q,k5H,z4w;u$x="und";u$x+="ef";u$x+="in";u$x+="ed";P9g=typeof _CIQ !== u$x?_CIQ:W7c.CIQ;if(!P9g.Studies){f2Q="pivotPoints feature re";f2Q+="quires first activating studies feature.";console.error(f2Q);}else {k5H="#b";k5H+="3d987";z4w="#b8";z4w+="2";z4w+="c0";z4w+="b";P9g.Studies.calculatePivotPoints=function(n3D,Q9Y){var V3B=f3BGj;var j4Y,E9D,r2L,c4T,a4h,T50,p67,x_D,N7b,N3x,p_H,x0A,m8H,U4n,B7_,D04,A_3,h4j,r9U,i8n;V3B.T$X();j4Y="market.beginnin";j4Y+="gDayOfWeek";E9D="mi";E9D+="lliseco";E9D+="nd";r2L=Q9Y.chart.scrubbed;c4T="day";a4h=n3D.layout.interval;T50=n3D.layout.timeUnit;if(a4h == "day"){c4T="month";}else if(P9g.ChartEngine.isDailyInterval(a4h)){c4T="year";}else if(a4h == "second" || a4h == "millisecond" || T50 == "second" || T50 == E9D){c4T="15min";}else {p67="minu";p67+="te";x_D=n3D.layout.periodicity;if(a4h != p67){x_D*=a4h;}if(x_D >= 30){c4T="week";}}N7b=null;V3B.j7J(82);var K_Q=V3B.a$j(2,4,1);N3x=K_Q - P9g.getFromNS(n3D.chart,j4Y,0);p_H={pivotPoint:NaN,high:0,low:0,prevHigh:0,prevLow:0,hlSpread:0};if(Q9Y.startFrom > 1 && r2L[Q9Y.startFrom - 1]["_pointers " + Q9Y.name]){p_H=P9g.clone(r2L[Q9Y.startFrom - +"1"]["_pointers " + Q9Y.name]);}for(var f5R=Math.max(1,Q9Y.startFrom);f5R < r2L.length;f5R++){x0A="fibo";x0A+="n";x0A+="ac";x0A+="ci";m8H="d";m8H+="a";m8H+="y";if(!r2L[f5R - 1])continue;p_H.high=Math.max(p_H.high,r2L[f5R - 1].High);p_H.low=Math.min(p_H.low > 0?p_H.low:r2L[f5R - 1].Low,r2L[f5R - 1].Low);if(Q9Y.inputs.Continuous){T4t();}else if(c4T == "year" && r2L[f5R].DT.getYear() != r2L[f5R - 1].DT.getYear()){T4t();}else if(c4T == "month" && r2L[f5R].DT.getMonth() != r2L[f5R - 1].DT.getMonth()){T4t();}else if(c4T == "week" && (r2L[f5R].DT.getDay() + N3x) % 7 < (r2L[f5R - 1].DT.getDay() + N3x) % 7){T4t();}else if(c4T == m8H){if(N7b === null){N7b=P9g.Studies.getMarketOffset({stx:n3D,localQuoteDate:r2L[f5R].DT,shiftToDateBoundary:!!({})});}U4n=new Date(new Date(+r2L[f5R].DT).setMilliseconds(r2L[f5R].DT.getMilliseconds() + N7b));B7_=new Date(new Date(+r2L[f5R - 1].DT).setMilliseconds(r2L[f5R - 1].DT.getMilliseconds() + N7b));if(B7_.getDate() !== U4n.getDate() && B7_.getDay() !== 0 && n3D.chart.market.isMarketDate(U4n)){N7b=null;T4t();}}else if(c4T == "15min" && (r2L[f5R].DT.getHours() != r2L[f5R - 1].DT.getHours() || Math.floor(r2L[f5R].DT.getMinutes() / 15) != Math.floor(r2L[f5R - 1].DT.getMinutes() / 15))){T4t();}r2L[f5R]["Pivot " + Q9Y.name]=p_H.pivotPoint;if(Q9Y.inputs.Type.toLowerCase() == x0A){D04="S";D04+="u";D04+="pport 3 ";A_3="Sup";A_3+="port ";A_3+="2 ";h4j="Res";h4j+="ista";h4j+="nce ";h4j+="2 ";r9U="Resi";r9U+="stanc";r9U+="e ";r9U+="1 ";r2L[f5R][r9U + Q9Y.name]=p_H.pivotPoint + +"0.382" * p_H.hlSpread;r2L[f5R][h4j + Q9Y.name]=p_H.pivotPoint + 0.618 * p_H.hlSpread;r2L[f5R]["Resistance 3 " + Q9Y.name]=p_H.pivotPoint + p_H.hlSpread;r2L[f5R]["Support 1 " + Q9Y.name]=p_H.pivotPoint - 0.382 * p_H.hlSpread;r2L[f5R][A_3 + Q9Y.name]=p_H.pivotPoint - 0.618 * p_H.hlSpread;r2L[f5R][D04 + Q9Y.name]=p_H.pivotPoint - p_H.hlSpread;}else {i8n="Resis";i8n+="tance ";i8n+="2 ";V3B.N_M(14);var H7E=V3B.a$j(18,16);r2L[f5R]["Resistance 1 " + Q9Y.name]=H7E * p_H.pivotPoint - p_H.prevLow;r2L[f5R][i8n + Q9Y.name]=p_H.pivotPoint + p_H.hlSpread;V3B.N_M(3);var M_8=V3B.a$j(9,5,6);r2L[f5R]["Resistance 3 " + Q9Y.name]=p_H.prevHigh + M_8 * (p_H.pivotPoint - p_H.prevLow);V3B.j7J(102);var I2k=V3B.a$j(15,3,4,12);r2L[f5R]["Support 1 " + Q9Y.name]=I2k * p_H.pivotPoint - p_H.prevHigh;r2L[f5R]["Support 2 " + Q9Y.name]=p_H.pivotPoint - p_H.hlSpread;r2L[f5R]["Support 3 " + Q9Y.name]=p_H.prevLow - ("2" | 0) * (p_H.prevHigh - p_H.pivotPoint);}r2L[f5R]["_pointers " + Q9Y.name]=P9g.clone(p_H);}function T4t(){V3B.j7J(71);var p$B=V3B.c0C(18,145,8,1,2);p_H.pivotPoint=(p_H.high + p_H.low + r2L[f5R - p$B].Close) / ("3" >> 0);p_H.prevHigh=p_H.high;p_H.prevLow=p_H.low;p_H.hlSpread=p_H.high - p_H.low;V3B.f3X();p_H.high=p_H.low=0;}};P9g.Studies.displayPivotPoints=function(q_G,e2M,K7g){var X20,N_n,b0D,f8q,g$O,u59,H76,b$S,T_c,N2L;e2M.noSlopes=!e2M.inputs.Continuous;P9g.Studies.displaySeriesAsLine(q_G,e2M,K7g);if(e2M.inputs.Shading){X20="Support";X20+=" 3";N_n="S";N_n+="u";N_n+="ppor";N_n+="t 2 ";b0D="S";b0D+="u";b0D+="ppo";b0D+="rt 1 ";f8q="Suppo";f8q+="rt 1";g$O="P";g$O+="i";g$O+="vot ";u59="Resistance ";u59+="3";H76="Resistan";H76+="ce 2 ";b$S="Res";b$S+="istance ";b$S+="3";b$S+=" ";T_c=q_G.panels[e2M.panel];N2L={noSlopes:e2M.noSlopes,opacity:e2M.parameters.opacity?e2M.parameters.opacity:0.2,skipTransform:T_c.name != e2M.chart.name,yAxis:e2M.getYAxis(q_G)};if(!e2M.highlight && q_G.highlightedDraggable){N2L.opacity*=0.3;}P9g.prepareChannelFill(q_G,P9g.extend({panelName:e2M.panel,topBand:b$S + e2M.name,bottomBand:H76 + e2M.name,color:P9g.Studies.determineColor(e2M.outputs[u59])},N2L));P9g.prepareChannelFill(q_G,P9g.extend({panelName:e2M.panel,topBand:"Resistance 2 " + e2M.name,bottomBand:"Resistance 1 " + e2M.name,color:P9g.Studies.determineColor(e2M.outputs["Resistance 2"])},N2L));P9g.prepareChannelFill(q_G,P9g.extend({panelName:e2M.panel,topBand:"Resistance 1 " + e2M.name,bottomBand:g$O + e2M.name,color:P9g.Studies.determineColor(e2M.outputs["Resistance 1"])},N2L));P9g.prepareChannelFill(q_G,P9g.extend({panelName:e2M.panel,topBand:"Support 1 " + e2M.name,bottomBand:"Pivot " + e2M.name,color:P9g.Studies.determineColor(e2M.outputs[f8q])},N2L));P9g.prepareChannelFill(q_G,P9g.extend({panelName:e2M.panel,topBand:"Support 2 " + e2M.name,bottomBand:b0D + e2M.name,color:P9g.Studies.determineColor(e2M.outputs["Support 2"])},N2L));P9g.prepareChannelFill(q_G,P9g.extend({panelName:e2M.panel,topBand:"Support 3 " + e2M.name,bottomBand:N_n + e2M.name,color:P9g.Studies.determineColor(e2M.outputs[X20])},N2L));}};P9g.Studies.studyLibrary=P9g.extend(P9g.Studies.studyLibrary,{"Pivot Points":{name:"Pivot Points",overlay:!!1,seriesFN:P9g.Studies.displayPivotPoints,calculateFN:P9g.Studies.calculatePivotPoints,inputs:{Type:["standard","fibonacci"],Continuous:!!"",Shading:!!""},outputs:{Pivot:"auto","Resistance 1":z4w,"Support 1":"#699158","Resistance 2":"#e36460","Support 2":k5H,"Resistance 3":"#ffd0cf","Support 3":"#d3e8ae"},parameters:{init:{opacity:0.2}}}});}};s4=k_W=>{var Z08,E7W;Z08=typeof _CIQ !== "undefined"?_CIQ:k_W.CIQ;if(!Z08.Studies){console.error("prettyGoodOscillator feature requires first activating studies feature.");}else {E7W="Pretty Good O";E7W+="scillator";Z08.Studies.calculatePrettyGoodOscillator=function(F40,V9S){f3BGj.f3X();var i06,g$$,l7y,u4g;i06="_EM";i06+="A";g$$="true";g$$+="Rang";g$$+="e";l7y=V9S.chart.scrubbed;if(l7y.length < V9S.days + ("1" << 0)){V9S.error=!![];return;}Z08.Studies.MA("exponential",V9S.days,g$$,+"0",i06,F40,V9S);Z08.Studies.MA("simple",V9S.days,"Close","0" >> 96,"_SMA",F40,V9S);for(var F6J=Math.max("1" ^ 0,V9S.startFrom);F6J < l7y.length;F6J++){u4g="_";u4g+="EMA ";if(!l7y[F6J]["_SMA " + V9S.name] || !l7y[F6J][u4g + V9S.name])continue;l7y[F6J]["Result " + V9S.name]=(l7y[F6J].Close - l7y[F6J]["_SMA " + V9S.name]) / l7y[F6J]["_EMA " + V9S.name];}};Z08.Studies.studyLibrary=Z08.extend(Z08.Studies.studyLibrary,{"Pretty Good":{name:E7W,calculateFN:Z08.Studies.calculatePrettyGoodOscillator,parameters:{init:{studyOverZonesEnabled:!!({}),studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:"auto"}}}});}};e5=D4M=>{var u$J=f3BGj;var v0H,T63,o7V,f1l;u$J.T$X();v0H=typeof _CIQ !== "undefined"?_CIQ:D4M.CIQ;if(!v0H.Studies){console.error("priceMomentumOscillator feature requires first activating studies feature.");}else {T63="0.0";T63+="5";o7V="#F";o7V+="F0";o7V+="000";f1l="aut";f1l+="o";v0H.Studies.calculatePMO=function(N1C,P_Q){var l2_,E_6,B2d,t1Z,d0m,Y$4,S3n,j6T,T_D,c3E,M8n,N4l;l2_="P";l2_+="M";l2_+="O";l2_+=" ";E_6="e";E_6+="x";E_6+="ponentia";E_6+="l";B2d="_";B2d+="EMAx";B2d+="1";B2d+="0";t1Z="_";t1Z+="RO";t1Z+="Cx10 ";d0m="Clos";d0m+="e";Y$4="fi";Y$4+="e";Y$4+="ld";S3n={Smooth:Number(P_Q.inputs["Smoothing Period"]) - 1,Double:Number(P_Q.inputs["Double Smoothing Period"]) - 1,Signal:Number(P_Q.inputs["Signal Period"])};j6T=P_Q.chart.scrubbed;if(j6T.length < S3n.Smooth + S3n.Double){P_Q.error=!![];return;}u$J.T$X();T_D=P_Q.inputs.Field;if(!T_D || T_D == Y$4){T_D=d0m;}for(c3E=P_Q.startFrom;c3E < j6T.length;c3E++){if(!j6T[c3E])continue;if(!j6T[c3E - 1])continue;u$J.N_M(14);M8n=j6T[u$J.a$j(c3E,1)][T_D];if(M8n){N4l="_";N4l+="RO";N4l+="Cx";N4l+="10 ";u$J.j7J(143);var y$z=u$J.c0C(59,59,13,986);j6T[c3E][N4l + P_Q.name]=y$z * (j6T[c3E][T_D] / M8n - +"1");}}v0H.Studies.MA("exponential",S3n.Smooth,t1Z + P_Q.name,0,B2d,N1C,P_Q);v0H.Studies.MA(E_6,S3n.Double,"_EMAx10 " + P_Q.name,0,"PMO",N1C,P_Q);v0H.Studies.MA("exponential",S3n.Signal,l2_ + P_Q.name,0,"PMOSignal",N1C,P_Q);P_Q.zoneOutput="PMO";};v0H.Studies.studyLibrary=v0H.extend(v0H.Studies.studyLibrary,{PMO:{name:"Price Momentum Oscillator",calculateFN:v0H.Studies.calculatePMO,inputs:{Field:"field","Smoothing Period":35,"Double Smoothing Period":"20" * 1,"Signal Period":10},outputs:{PMO:f1l,PMOSignal:o7V},parameters:{init:{studyOverZonesEnabled:!!1,studyOverBoughtValue:2.5,studyOverBoughtColor:"auto",studyOverSoldValue:-2.5,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:T63},studyOverSoldValue:{max:0,step:"0.05"}}}});}};C$=r2t=>{var t3t=f3BGj;var H9H,E6w,K76,c_j,W8H,a6Y,u0c;t3t.T$X();H9H=typeof _CIQ !== "undefined"?_CIQ:r2t.CIQ;if(!H9H.Studies){E6w="priceVolumeOscillat";E6w+="or feature requires first ac";E6w+="tivating studies fe";E6w+="ature.";console.error(E6w);}else {K76="0";K76+=".";K76+="1";c_j="#F";c_j+="F0";c_j+="00";c_j+="0";W8H="vdm";W8H+="a";a6Y="Poi";a6Y+="nts";u0c="e";u0c+="m";u0c+="a";H9H.Studies.calculatePriceOscillator=function(z6z,p0E){var C_6,R4R,r72,O_i,Y7G,k_5,W4q,Q0z,J9b,F6g,x3w,M8S,i5K;C_6="P";C_6+="oints Or";C_6+=" ";C_6+="Percent";R4R=p0E.chart.scrubbed;r72=Number(p0E.inputs["Short Cycle"]);O_i=Number(p0E.inputs["Long Cycle"]);if(R4R.length < Math.max(r72,O_i) + 1){p0E.error=!![];return;}Y7G=p0E.inputs.Field;k_5=p0E.inputs["Moving Average Type"];if(!k_5){k_5="simple";}if(!Y7G || Y7G == "field"){Y7G="Close";}if(p0E.parameters.isVolume){Y7G="Volume";k_5="exponential";}W4q=p0E.inputs[C_6];if(!W4q){W4q="Percent";}H9H.Studies.MA(k_5,r72,Y7G,0,"_Short MA",z6z,p0E);t3t.j7J(29);H9H.Studies.MA(k_5,O_i,Y7G,t3t.c0C(32,"0"),"_Long MA",z6z,p0E);for(var x63=Math.max(O_i,p0E.startFrom);x63 < R4R.length;x63++){Q0z="_Sho";Q0z+="rt MA ";J9b=R4R[x63];if(!J9b)continue;F6g=J9b[Q0z + p0E.name];x3w=J9b["_Long MA " + p0E.name];if((F6g || F6g === ("0" ^ 0)) && (x3w || x3w === 0)){M8S="Point";M8S+="s";if(W4q == M8S){t3t.N_M(14);J9b["Result " + p0E.name]=t3t.c0C(F6g,x3w);}else {t3t.j7J(144);J9b["Result " + p0E.name]=t3t.a$j(0,F6g,x3w,"1",100);}if(p0E.outputs["Increasing Bar"]){i5K="Res";i5K+="ult ";J9b[p0E.name + "_hist"]=J9b[i5K + p0E.name];p0E.outputMap={};p0E.outputMap[p0E.name + "_hist"]="";}}}};H9H.Studies.displayRAVI=function(F6V,v$8,t3z){var V92,i43,r9Q,L_A,Q_z,g_O,V9J,s5P,L_R,P0B,S5e,M81,a9_,v5j,l6C;V92="stx";V92+="_histogram";i43=F6V.panels[v$8.panel];r9Q=v$8.getContext(F6V);t3t.T$X();L_A=v$8.getYAxis(F6V);Q_z=F6V.pixelFromPrice(0,i43,L_A);t3t.N_M(145);var p5r=t3t.a$j(8,8,3,18,4);g_O=F6V.layout.candleWidth - p5r;if(g_O < 2){g_O=1;}V9J=H9H.Studies.determineColor(v$8.outputs["Increasing Bar"]);s5P=H9H.Studies.determineColor(v$8.outputs["Decreasing Bar"]);F6V.startClip(v$8.panel);F6V.canvasColor(V92);if(!v$8.underlay){r9Q.globalAlpha=1;}if(!v$8.highlight && F6V.highlightedDraggable){r9Q.globalAlpha*=0.3;}for(var c_E=0;c_E < t3z.length;c_E++){L_R="_";L_R+="his";L_R+="t";P0B="_";P0B+="h";P0B+="is";P0B+="t";S5e="_";S5e+="hist";M81=t3z[c_E];t3t.N_M(14);a9_=t3z[t3t.a$j(c_E,1)];if(!a9_){a9_=F6V.getPreviousBar(F6V.chart,v$8.name + S5e,c_E);}if(!M81)continue;v5j=0;l6C=0;if(v$8.parameters && v$8.parameters.studyOverZonesEnabled){v5j=parseFloat(v$8.parameters.studyOverBoughtValue);l6C=parseFloat(v$8.parameters.studyOverSoldValue);}if(!a9_){r9Q.fillStyle="#CCCCCC";}else if(M81[v$8.name + P0B] > v5j && a9_[v$8.name + L_R] < M81[v$8.name + "_hist"]){r9Q.fillStyle=V9J;}else if(M81[v$8.name + "_hist"] < l6C && a9_[v$8.name + "_hist"] > M81[v$8.name + "_hist"]){r9Q.fillStyle=s5P;}else {r9Q.fillStyle="#CCCCCC";}if(M81.candleWidth){g_O=Math.floor(Math.max(1,M81.candleWidth - 2));}r9Q.fillRect(Math.floor(F6V.pixelFromBar(c_E,i43.chart) - g_O / 2),Math.floor(Q_z),Math.floor(g_O),Math.floor(F6V.pixelFromPrice(M81[v$8.name + "_hist"],i43,L_A) - Q_z));}F6V.endClip();};H9H.Studies.studyLibrary=H9H.extend(H9H.Studies.studyLibrary,{"Price Osc":{name:"Price Oscillator",calculateFN:H9H.Studies.calculatePriceOscillator,inputs:{Field:"field","Short Cycle":12,"Long Cycle":26,"Moving Average Type":u0c,"Points Or Percent":["Points","Percent"]}},"Vol Osc":{name:"Volume Oscillator",calculateFN:H9H.Studies.calculatePriceOscillator,inputs:{"Short Cycle":12,"Long Cycle":26,"Points Or Percent":[a6Y,"Percent"]},parameters:{init:{isVolume:!![]}}},RAVI:{name:"RAVI",seriesFN:H9H.Studies.displayRAVI,calculateFN:H9H.Studies.calculatePriceOscillator,inputs:{Field:"field","Moving Average Type":W8H,"Short Cycle":7,"Long Cycle":65},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":c_j},centerline:0,parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:"0.1"},studyOverSoldValue:{max:0,step:K76}}}});}};y9=i36=>{var F8M=f3BGj;var z_N,h8q,m4Z,O9Q;z_N="und";z_N+="e";z_N+="f";F8M.T$X();z_N+="ined";h8q=typeof _CIQ !== z_N?_CIQ:i36.CIQ;if(!h8q.Studies){m4Z="primeNumber feature r";m4Z+="equires first activating studies feature.";console.error(m4Z);}else {O9Q="Pr";O9Q+="ime Nu";O9Q+="mber ";O9Q+="Bands";h8q.Studies.calculatePrimeNumber=function(r7N,E74){var P9i,r1b,q2A,A80,h1g,F3E,M51,Q1F,e_S,G2d;P9i=[];r1b=E74.chart.scrubbed;for(var h$n=E74.startFrom;h$n < r1b.length;h$n++){q2A="Pri";q2A+="me Number Bands";A80=r1b[h$n];if(!A80)continue;h1g=A80.High;if(!isNaN(h1g)){for(var u2Z="0" << 32;h1g > 0 && h1g <= ("10" ^ 0);u2Z++){h1g*=10;}if(P_F(h1g)){h1g+=2;}h1g=Math.ceil(h1g);if(h1g % 2 === 0){h1g++;}while(!P_F(h1g)){h1g+=+"2";}F8M.N_M(31);h1g/=Math.pow(F8M.a$j("10",32),u2Z);}F3E=A80.Low;if(!isNaN(F3E)){for(var I85=0;F3E > +"0" && F3E <= ("10" | 0);I85++){F8M.N_M(29);F3E*=F8M.c0C(0,"10");}if(P_F(F3E)){F8M.j7J(14);F3E-=F8M.c0C("2",0);}F3E=Math.floor(F3E);if(F3E % 2 === 0){F3E--;}if(F3E > "0" - 0){while(!P_F(F3E)){F3E-=2;}F3E/=Math.pow(10,I85);}}if(E74.type == q2A){if(!isNaN(h1g)){A80["Prime Bands Top " + E74.name]=h1g;}if(!isNaN(F3E)){A80["Prime Bands Bottom " + E74.name]=Math.max(0,F3E);}}else {M51="Tolerance P";M51+="ercentage";Q1F=0;e_S=E74.inputs[M51] * (h1g - F3E) / ("100" ^ 0);F8M.N_M(63);var o8M=F8M.c0C(3,7,12);G2d=h1g + F3E - o8M * A80.Close;if(G2d < e_S){Q1F=1;}else if(G2d > e_S){Q1F=-1;}if(Q1F){A80["Result " + E74.name]=Q1F;}}}function P_F(e7B){var R2s;if(e7B <= 0){return !!"";}else if(e7B != Math.floor(e7B)){return ![];}else if(P9i[e7B] === !!({}) || P9i[e7B] === ![]){return P9i[e7B];}R2s=parseInt(Math.sqrt(e7B),10);for(var d1G=2;d1G <= R2s;d1G++){if(e7B % d1G === "0" * 1){P9i[e7B]=!({});return !1;}}P9i[e7B]=!0;return !0;}};h8q.Studies.studyLibrary=h8q.extend(h8q.Studies.studyLibrary,{"Prime Number":{name:"Prime Number Oscillator",range:"-1 to 1",calculateFN:h8q.Studies.calculatePrimeNumber,centerline:+"0",inputs:{"Tolerance Percentage":5},attributes:{"Tolerance Percentage":{min:0.1,step:0.1}}},"Prime Number Bands":{name:O9Q,overlay:!![],calculateFN:h8q.Studies.calculatePrimeNumber,seriesFN:h8q.Studies.displayChannel,inputs:{"Channel Fill":!!"1"},outputs:{"Prime Bands Top":"auto","Prime Bands Bottom":"auto","Prime Bands Channel":"auto"}}});}};v8=B7U=>{var q1w=f3BGj;var x06,d9v,d0j,J8K,o5J,F_2;x06=typeof _CIQ !== "undefined"?_CIQ:B7U.CIQ;q1w.f3X();if(!x06.Studies){d9v="pring feature ";d9v+="requires first activating s";d9v+="t";d9v+="udies feature.";console.error(d9v);}else {d0j="wee";d0j+="kly";J8K="#F";J8K+="F";J8K+="0";J8K+="000";o5J="#0";o5J+="0";o5J+="DD";o5J+="00";F_2="f";F_2+="ield";x06.Studies.calculateKST=function(P_u,j0G){var V9V,b4s,V8_,M4i,i_J,c11,O4t,C$U,S_1,U1a,V35,R2C,j4a,B3n,Q$R,e5s,P4D,j5y,O2a,a4a;V9V="Lig";V9V+="htest S";V9V+="MA";V9V+=" Period";b4s="Heavi";b4s+="est ";b4s+="Rate of Change Period";V8_="Heavy Rate of C";V8_+="hange Peri";V8_+="od";M4i="Light Rate of Change P";M4i+="eriod";i_J="Light";i_J+="es";i_J+="t Rate";i_J+=" of Change Period";c11="Cl";c11+="o";c11+="s";c11+="e";O4t=j0G.chart.scrubbed;C$U=j0G.inputs.Field;if(!C$U || C$U == "field"){C$U=c11;}S_1={};U1a={};S_1[1]=Number(j0G.inputs[i_J]);S_1[2]=Number(j0G.inputs[M4i]);S_1[3]=Number(j0G.inputs[V8_]);S_1[4]=Number(j0G.inputs[b4s]);q1w.N_M(46);U1a[q1w.c0C("1",0)]=Number(j0G.inputs[V9V]);U1a[2]=Number(j0G.inputs["Light SMA Period"]);U1a[+"3"]=Number(j0G.inputs["Heavy SMA Period"]);U1a[4]=Number(j0G.inputs["Heaviest SMA Period"]);V35=Number(j0G.inputs["Signal Period"]);for(R2C=j0G.startFrom;R2C < O4t.length;R2C++){if(!O4t[R2C])continue;for(j4a=1;j4a <= 4;j4a++){B3n="_";B3n+="RO";B3n+="C";if(R2C >= S_1[j4a] && O4t[R2C - S_1[j4a]] && O4t[R2C - S_1[j4a]][C$U]){q1w.N_M(82);var r11=q1w.a$j(12,7,13);O4t[R2C][B3n + j4a + " " + j0G.name]=("100" >> r11) * (O4t[R2C][C$U] / O4t[R2C - S_1[j4a]][C$U] - +"1");}}}for(j4a=1;j4a <= "4" - 0;j4a++){x06.Studies.MA("simple",U1a[j4a],"_ROC" + j4a + ((2382,1140) < 8215?" ":(6910,2120) <= ("123" ^ 0)?(33.59,4.91e+3):0x1377) + j0G.name,0,"_SMA" + j4a,P_u,j0G);}for(R2C=j0G.startFrom;R2C < O4t.length;R2C++){O4t[R2C]["KST " + j0G.name]=null;for(j4a=1;j4a <= 4;j4a++){q1w.j7J(1);var n_F=q1w.c0C(312,1558);q1w.N_M(82);var C$M=q1w.c0C(3657,9,193);q1w.j7J(14);var T1k=q1w.c0C(94428,89182);q1w.j7J(82);var E67=q1w.a$j(2,10,8846);q1w.j7J(38);var M4z=q1w.a$j(0,33,8,4);q1w.j7J(146);var b$e=q1w.c0C(21459,18,19,4,7152);q1w.N_M(17);var T5k=q1w.c0C(7,16,44,4);q1w.N_M(9);var w5o=q1w.c0C(517920,12,43680);q1w.j7J(147);var V80=q1w.c0C(1,6510,6520,3255);Q$R=O4t[R2C]["_SMA" + j4a + ((n_F,985.76) == (+"2816",C$M)?T1k:(E67,"523.31" * M4z) === b$e?(973.34,739.59) == (T5k,253.02)?w5o:(!!"1",V80):" ") + j0G.name];if(Q$R || Q$R === 0){q1w.N_M(5);O4t[R2C]["KST " + j0G.name]+=q1w.a$j(Q$R,j4a);}}}e5s=-1435656228;P4D=63420138;q1w.N_M(14);j5y=q1w.a$j("2",0);for(var D79=1;q1w.S9Y(D79.toString(),D79.toString().length,18216) !== e5s;D79++){x06.Studies.MA("simple",V35,"KST " + j0G.name,0,"KSTSignal",P_u,j0G);q1w.N_M(46);j5y+=q1w.c0C("2",0);}if(q1w.O1W(j5y.toString(),j5y.toString().length,20741) !== P4D){O2a="KSTSigna";O2a+="l";a4a="KS";a4a+="T";a4a+="Sign";a4a+="al";x06.Studies.MA("KST ",V35,a4a * j0G.name,+"7",O2a,P_u,j0G);}};x06.Studies.calculateSpecialK=function(T8d,J16){var U3T,y1w,R3c,l7r,c8c,p5L,e3h,R$k,n6q,v7d;U3T=J16.chart.scrubbed;y1w=J16.inputs.Field;if(!y1w || y1w == "field"){y1w="Close";}R3c=J16.inputs.Interval;if(!R3c){R3c="daily";}l7r={daily:[10,15,+"20",30,50,65,75,100,195,+"265",390,+"530"],weekly:[+"4",5,6,+"8",10,13,15,+"20",39,52,78,104]};c8c={daily:[+"10",10,10,+"15",50,65,75,100,130,"130" | 2,130,195],weekly:[4,5,6,+"8","10" | 2,13,15,20,26,26,26,39]};for(p5L=J16.startFrom;p5L < U3T.length;p5L++){if(!U3T[p5L])continue;for(e3h=0;e3h < l7r[R3c].length;e3h++){if(p5L >= l7r[R3c][e3h] && U3T[p5L - l7r[R3c][e3h]] && U3T[p5L - l7r[R3c][e3h]][y1w]){q1w.N_M(148);var A$o=q1w.a$j(97,97,20,20,4);q1w.j7J(14);var i2b=q1w.c0C(16,15);U3T[p5L]["_ROC" + e3h + " " + J16.name]=A$o * (U3T[p5L][y1w] / U3T[p5L - l7r[R3c][e3h]][y1w] - i2b);}}}for(e3h=0;e3h < c8c[R3c].length;e3h++){R$k="s";R$k+="im";R$k+="p";R$k+="le";n6q="da";n6q+="i";n6q+="l";n6q+="y";x06.Studies.MA(R3c == n6q?R$k:"exponential",c8c[R3c][e3h],"_ROC" + e3h + ((4608,"7413" << 32) < (+"9640",4740)?("909.46" - 0,7000) < +"9520"?("4790" * 1,3304) > (4110,641.88)?!![]:(!![],!1):0x30a:" ") + J16.name,0,"_MA" + e3h,T8d,J16);}for(p5L=J16.startFrom;p5L < U3T.length;p5L++){U3T[p5L]["Result " + J16.name]=null;for(e3h=0;e3h < c8c[R3c].length;e3h++){q1w.j7J(15);var C5e=q1w.c0C(69,833,7);q1w.j7J(149);var y9f=q1w.c0C(72580,3,11,1,68774);q1w.N_M(69);var g1G=q1w.a$j(223,28,11);v7d=U3T[p5L]["_MA" + e3h + (C5e > (y9f,g1G)?" ":("0x1452" << 0,!!"")) + J16.name];if(v7d || v7d === 0){q1w.j7J(150);U3T[p5L]["Result " + J16.name]+=q1w.a$j(1,e3h,4,v7d);}}}};x06.Studies.studyLibrary=x06.extend(x06.Studies.studyLibrary,{"Pring KST":{name:"Pring's Know Sure Thing",calculateFN:x06.Studies.calculateKST,inputs:{Field:F_2,"Lightest Rate of Change Period":10,"Lightest SMA Period":10,"Light Rate of Change Period":15,"Light SMA Period":10,"Heavy Rate of Change Period":+"20","Heavy SMA Period":10,"Heaviest Rate of Change Period":30,"Heaviest SMA Period":15,"Signal Period":9},outputs:{KST:o5J,KSTSignal:J8K}},"Pring Sp-K":{name:"Pring's Special K",calculateFN:x06.Studies.calculateSpecialK,inputs:{Field:"field",Interval:["daily",d0j]}}});}};L4=E2N=>{var k10=f3BGj;var i8f,q9S,h2w,M5Y,w4Z,A8C,j0c,y8q,c9T,Z8R,u5M,e2$;i8f=typeof _CIQ !== "undefined"?_CIQ:E2N.CIQ;q9S=typeof _timezoneJS !== "undefined"?_timezoneJS:E2N.timezoneJS;k10.T$X();if(!i8f.Studies){h2w="project";h2w+="edVolume feature requires first activating studies feature.";console.error(h2w);}else if(!i8f.Studies.studyLibrary.PVAT){M5Y="hh";M5Y+=":";M5Y+="mm:s";M5Y+="s";w4Z="#";w4Z+="b8";w4Z+="2c";w4Z+="0c";A8C="#fe6";A8C+="4";A8C+="1c";j0c="+";j0c+="50%";y8q="-";y8q+="15";y8q+="0";y8q+="%";c9T="-";c9T+="10";c9T+="0";c9T+="%";Z8R="-50";Z8R+="%";u5M="+5";u5M+="0";u5M+="%";e2$="Projected Volume at T";e2$+="ime";i8f.Studies.initProjectedVolume=function(g_E,I8U,s5w,h21,D8V,V8j){var q_s,J4b,c8O;var {market:X3o}=g_E.chart;q_s="00:00";if(X3o){q_s=X3o.getNormalOpen();}if(q_s.match(/^[\d]{2}:[\d]{2}$/)){q_s+=":00";}if(!s5w["Anchor Time"] || !s5w["Anchor Time"].length){J4b="Ancho";J4b+="r Time";s5w[J4b]=q_s;}c8O=i8f.Studies.initializeFN(g_E,I8U,s5w,h21,D8V,V8j);if(!g_E.currentlyImporting){c8O.defaultAnchorTime=q_s;}return c8O;};i8f.Studies.validateProjectedVolumeLookback=function(m4y,i$_){var {interval:l_b, periodicity:H6g}=m4y.layout;var {"Lookback Days":c25}=i$_.inputs;k10.j7J(151);return k10.a$j(c25,l_b,H6g,"10");};i8f.Studies.calculateProjectedVolume=function(w92,G1a){var k2n,S7C,l$S,j7X,f1O,i85,d6b,j5O,W9C,g3B,H9h,M7D,V2R,d2i,H0V,T5D,t_K,G27,o9X,k1I,W3W,m9M,Z7m,n4V,A$b,j6C,x22,y7o,f9$,o1z,a2o,Z_L,P_o,k8a,F2a,J8T,H_V,j_O,O$k,g8B,Z1m,o3c,O9R,o7D,a8$,L_5,l8L,B0C,J2N,n1v,A$F,N12,A4o,P5o,a9r,M$t,H2W,l0A,O9C,w6A;k2n="Aver";k2n+="age";k2n+=" Line";S7C="H";S7C+="H";S7C+=":m";S7C+="m";l$S="Market.Symbol";function V5f(n0y){k10.f3X();var r6b;k10.N_M(46);n0y.setHours(k10.a$j("0",0));k10.j7J(46);n0y.setMinutes(k10.c0C("0",0));r6b=i8f.Studies.getMarketOffset({stx:w92,localQuoteDate:n0y});return new Date(n0y.getTime() + r6b);}l$S+="o";l$S+="gy.isForexSymbol";j7X=":0";function K15(r1J,V7E,A83){while(V7E){r1J=new Date(new Date(r1J).setDate(r1J.getDate() + (A83?1:-1)));if(w$c.isMarketDate(r1J)){V7E--;}}return r1J;}j7X+="0";f1O="An";f1O+="chor Selector";var {interval:V_2, timeUnit:H1G, aggregationType:E$7}=w92.layout;var {symbol:B$i, scroll:G36, scrubbed:B2V, market:w$c}=w92.chart;i85=G1a.type === "PAV";function O88(L4s){return {hours:L4s.getHours(),minutes:L4s.getMinutes()};}d6b=G1a.study?G1a.study.name:G1a.type;if(i8f.ChartEngine.isDailyInterval(V_2)){G1a.error=`${d6b} is Intraday Only`;}else if(H1G === "tick"){G1a.error=`Tick mode not supported for ${d6b}`;}else if(H1G !== "minute"){k10.j7J(82);G1a.error=`${k10.c0C("ute periodicities not supported for ","b-min","Su")}${d6b}`;}else if(!E$7 || !["ohlc","heikinashi"].includes(E$7)){G1a.error=`Aggregation type not supported for ${d6b}`;}else if(!i8f.Studies.validateProjectedVolumeLookback(w92,G1a)){j5O=-2144216569;W9C=+"308328842";g3B=2;for(var m7b=1;k10.S9Y(m7b.toString(),m7b.toString().length,51491) !== j5O;m7b++){G1a.error=`Selected lookback/periodicity combo not supported for ${d6b}`;g3B+=2;}if(k10.O1W(g3B.toString(),g3B.toString().length,280) !== W9C){G1a.error=`Selected lookback/periodicity combo not supported for ${d6b}`;}}if(G1a.error){return;}if(G1a.inputs[f1O]){i8f.Studies.initAnchorHandle(w92,G1a);}else {i8f.Studies.removeAnchorHandle(w92,G1a);}H9h=w$c?w$c.getNormalOpen():"00:00";function C8A(r47){k10.f3X();console.error(`Expected data for ${d84(r47).toDateString()} but found none. This may be caused by gaps in your data or an improperly configured market definition.`);}if(H9h.match(/^[\d]{2}:[\d]{2}$/)){H9h+=j7X;}if(!w92.currentlyImporting){if(!G1a.defaultAnchorTime){G1a.defaultAnchorTime=H9h;}else if(H9h !== G1a.defaultAnchorTime){G1a.defaultAnchorTime=H9h;M7D=-1509490596;V2R=-948817835;d2i=2;for(var v7J=1;k10.S9Y(v7J.toString(),v7J.toString().length,38648) !== M7D;v7J++){G1a.inputs["Anchor Time"]=H9h;d2i+=2;}if(k10.O1W(d2i.toString(),d2i.toString().length,208) !== V2R){G1a.inputs[""]=H9h;}i8f.Studies.repositionAnchor(w92,G1a);return;}}var {"Lookback Days":A_U, "Anchor Time":o3p}=G1a.inputs;var [e8W,u9q,E8C = 0]=o3p.split(873 != (9000,384.38)?":":"e");function u0M(J$X,D4Q){var X_D,a3V,o9c;k10.f3X();X_D=d84(J$X);a3V=w$c.getOpen(X_D) || V5f(X_D);o9c=X8O(a3V);if(!D4Q){return o9c;}if(o9c < ("0" ^ 0)){o9c=X8O(K15(a3V,1,!!"1"));}if(o9c >= B2V.length){return !"1";}return o9c;}H0V=i8f.getFn(l$S)(B$i);T5D=G1a.getDependents(w92);t_K=0;G27=[];T5D.forEach(({inputs:R74, outputMap:k88})=>{k10.f3X();if(R74.Period){t_K=Math.max(parseInt(R74.Period),t_K);G27.push(...Object.keys(k88));}});G1a.dependentsOutputMap=G27;k1I=u0M(B2V.length - +"1",!!({}));W3W=Math.ceil(B2V.length - 1 - G36);k10.f3X();k10.N_M(14);m9M=u0M(k10.c0C(W3W,t_K));if(H0V && B2V[m9M] && i8f.dateToStr(B2V[m9M].DT,S7C) !== H9h){k10.N_M(14);m9M=u0M(k10.a$j(m9M,1));;}if(!H0V && G1a.startFrom > m9M && B2V[m9M] && B2V[m9M]["V " + G1a.name] !== undefined && G27.every(D8N=>{return ![undefined,null].includes(B2V[m9M][D8N]);}) && k1I !== !!""){o9X=k1I;;}else {o9X=m9M;}Z7m=K15(d84(m9M),A_U);Z7m.setHours(0,0,0);n4V=u0M(0,!0);A$b=(n4V || n4V === 0) && X8O(K15(B2V[n4V].DT,A_U,!!1));if(B2V[0].DT > Z7m){if(w92.quoteDriver){w92.quoteDriver.extendHistoricalData({from:Z7m});if(A$b > 0){o9X=A$b;}else {return;}}else {k10.j7J(1);return G1a.error=`${k10.c0C("Not e","nough data to calculate ")}${d6b}`;}}if(o9X < 0 || o9X > B2V.length - 1){return;}function d84(l69){var j5J;j5J="s";k10.f3X();j5J+="cr";j5J+="ubb";j5J+="ed";return w92.dateFromTick(l69,null,!!({}),j5J);}j6C=B2V.length - G1a.startFrom === 1 && G1a.cachedFutureTicks && G1a.cachedLastProjection && +G1a.cachedLastProjection.DT === +B2V[B2V.length - 1].DT && B2V[o9X]["PV " + G1a.name];if(j6C){k10.j7J(3);var f0c=k10.a$j(9,10,0);B2V[B2V.length - f0c]["PV " + G1a.name]=G1a.cachedLastProjection.projectedValue;G1a.appendFutureTicks(w92,G1a.cachedFutureTicks);o9X=G1a.startFrom;}else {x22="P";x22+="V";x22+=" ";G1a.cachedFutureTicks=null;G1a.cachedLastProjection=null;y7o=[k1I];f9$=[];for(var r_l=0;r_l < A_U;r_l++){o1z=u0M(y7o[+"0"] - 1);y7o.unshift(o1z);;}while(y7o[A_U] >= o9X){a2o=y7o.pop();if(!B2V[a2o]){return C8A(a2o);}Z_L=O88(B2V[a2o].DT);var {hours:E8Y, minutes:p9t}=Z_L;P_o=w$c.getClose(B2V[a2o].DT);k8a=void 0;if(!P_o){k8a={hours:24,minutes:0};}else {F2a=w$c.getNextClose(B2V[a2o].DT);k8a=O88(P_o);while(!(k8a.hours === 0 && k8a.minutes === 0) && P_o.getDate() === F2a.getDate()){P_o=F2a;F2a=w$c.getNextClose(F2a);}k8a=O88(P_o);if(k8a.hours === 0){k8a.hours=24;}}J8T=y7o.slice();for(var c_z=0;c_z < J8T.length;c_z++){H_V=J8T[c_z];if(!B2V[H_V]){return C8A(H_V);}var {hours:R2j, minutes:O3Y}=O88(B2V[H_V].DT);if(R2j < E8Y || R2j === E8Y && O3Y < p9t){do {H_V++;({hours:R2j, minutes:O3Y}=O88(B2V[H_V].DT));}while(!(R2j === E8Y && O3Y === p9t));}J8T[c_z]=H_V;}while(E8Y < k8a.hours || E8Y === k8a.hours && p9t < k8a.minutes){j_O=!1;O$k=void 0;g8B=void 0;Z1m=0;o3c=0;for(var U_f=0;U_f < J8T.length;U_f++){O9R=J8T[U_f];if(O9R === null)continue;o7D=B2V[O9R];if(!o7D){return C8A(O9R);}var {hours:T$3, minutes:f2_}=O88(o7D.DT);a8$=o7D.DT.getDate();if(T$3 === E8Y && f2_ === p9t){Z1m+=o7D.Volume;o3c++;J8T[U_f]++;if(B2V[J8T[U_f]].DT.getDate() !== a8$){J8T[U_f]=null;}else if(!j_O){({hours:O$k, minutes:g8B}=O88(B2V[J8T[U_f]].DT));j_O=!![];;}}}E8Y=O$k;p9t=g8B;if(o3c === 0)break;k10.N_M(7);L_5=k10.c0C(Z1m,o3c);if(B2V[a2o]){B2V[a2o]["PV " + G1a.name]=L_5;}else {l8L="P";l8L+="V";l8L+=" ";f9$.push({[l8L + G1a.name]:L_5});}a2o++;}y7o.unshift(u0M(y7o[0] - +"1"));;}G1a.cachedLastProjection={DT:B2V[B2V.length - 1].DT,projectedValue:B2V[B2V.length - 1][x22 + G1a.name]};G1a.cachedFutureTicks=f9$;G1a.appendFutureTicks(w92,f9$);}function X8O(s0Q){k10.T$X();return w92.tickFromDate(s0Q,null,null,!![],"scrubbed");}B0C=null;J2N=0;n1v=+"0";if(j6C && i85){while(o9X > +"0"){k10.N_M(14);N12=B2V[k10.c0C(o9X,1)]["V " + G1a.name];if(N12 || N12 === +"0"){J2N=N12;break;}o9X--;}}for(var q08=o9X;q08 < B2V.length;q08++){A4o="V";A4o+=" ";P5o="America/New_Y";P5o+="ork";a9r=B2V[q08];M$t=a9r.Volume;H2W=a9r["PV " + G1a.name];if(!a9r.futureTick){A$F=q08;}if(B0C === null){B0C=i8f.Studies.getMarketOffset({stx:w92,localQuoteDate:B2V[q08].DT,shiftToDateBoundary:!![]});}l0A=new Date(new Date(a9r.DT).getTime() + B0C);O9C=B2V[q08 - 1] && new Date(new Date(B2V[q08 - 1].DT).getTime() + B0C);w6A=new q9S.Date(a9r.DT,w$c.market_def.market_tz || P5o);w6A.setHours(e8W,u9q,E8C);k10.N_M(1);w6A=new Date(k10.a$j(w6A,B0C));w6A.setDate(l0A.getDate());if(O9C && l0A.getDate() !== O9C.getDate()){B0C=null;J2N=0;n1v=0;}if(l0A < w6A){a9r["V " + G1a.name]=0;a9r["PV " + G1a.name]=0;continue;}if(i85){J2N+=M$t;n1v+=H2W;}else {J2N=M$t;n1v=H2W;}a9r[A4o + G1a.name]=J2N;if(!j6C){a9r["PV " + G1a.name]=n1v;}if([NaN,null,undefined].includes(J2N) && !a9r.futureTick){k10.N_M(1);G1a.error=`${d6b}${k10.a$j(" requires vol","ume")}`;return;}}G1a.cachedLastProjection.projectedValue=B2V[A$F]["PV " + G1a.name];G1a.outputMap={};G1a.outputMap["V " + G1a.name]="";G1a.outputMap["PV " + G1a.name]=k2n;T5D.forEach(A0e=>{A0e.startFrom=o9X;A0e.study.calculateFN(w92,A0e);});};i8f.Studies.displayProjectedVolume=function(T6f,g0Z,p6G){var y6b,S9U,q8C,g1y,P53,W_k,s4I,G_J,I9E,C08,l5V;y6b="stx_volume_";y6b+="underla";y6b+="y_";y6b+="down";S9U="stx_volu";S9U+="me_";S9U+="under";S9U+="lay_up";q8C="o";q8C+="bj";q8C+="ect";g1y="A";g1y+="lert Bar";if(g0Z.error){return i8f.Studies.removeAnchorHandle(T6f,g0Z);}var {"Alert Threshold":m$0 = ""}=g0Z.inputs;k10.N_M(152);var L77=k10.a$j(13,15,2,0);k10.j7J(85);var h05=k10.c0C(110,10,15,1490);k10.j7J(9);var D_n=k10.c0C(1754,18,103);P53=parseInt(m$0.slice(0,L77),h05) / D_n;W_k=g0Z.outputs[g1y];if(typeof W_k === q8C){W_k=W_k.color;}g0Z.volumeField="V " + g0Z.name;g0Z.alignStepToSide=!!({});g0Z.extendToEndOfLastBar=!!({});g0Z.lineWidth=+"2";s4I=T6f.canvasStyle(S9U).opacity;G_J=T6f.canvasStyle(y6b).opacity;g0Z.colorFunction=function(x6I){var G5W,I92,o7T,s$D,m0v,M8N;var {Open:v2c, Close:y$a, iqPrevClose:F2N}=x6I;G5W=T6f.colorByCandleDirection?v2c:F2N;k10.N_M(153);I92=k10.a$j(G5W,y$a);k10.f3X();o7T=x6I["PV " + g0Z.name];s$D=x6I["V " + g0Z.name];k10.j7J(154);m0v=k10.a$j(o7T,1,P53);M8N=P53 < +"0"?s$D < m0v:s$D > m0v;return {fill_color:M8N && W_k || (I92?this.fill_color_down:this.fill_color_up),border_color:I92?this.border_color_down:this.border_color_up,opacity:M8N?1:I92?G_J:s4I,border_opacity:I92?G_J:s4I};};I9E=g0Z.study?g0Z.study.name:g0Z.type;var {loadingMore:K7F}=T6f.chart;C08=p6G.some(w36=>{return w36 && w36[g0Z.volumeField] && w36["PV " + g0Z.name];});l5V=p6G[0] && !p6G[0].futureTick && (p6G[0]["PV " + g0Z.name] === undefined || (g0Z.dependentsOutputMap || []).some(J3V=>{k10.T$X();return [undefined,null].includes(p6G[+"0"][J3V]);}));if(!C08 && K7F){return g0Z.error=`Fetching data for ${I9E}`;}i8f.Studies.createVolumeChart(T6f,g0Z,p6G);i8f.Studies.displaySeriesAsLine(T6f,g0Z,p6G);if(g0Z.anchorHandle){i8f.Studies.displayAnchorHandleAndLine(T6f,g0Z,p6G);}if(l5V){i8f.Studies.calculateProjectedVolume(T6f,g0Z);}};i8f.Studies.studyLibrary=i8f.extend(i8f.Studies.studyLibrary,{PVAT:{name:e2$,range:"0 to max",yAxis:{ground:!"",initialMarginTop:0,zoom:0},calculateFN:i8f.Studies.calculateProjectedVolume,seriesFN:i8f.Studies.displayProjectedVolume,initializeFN:i8f.Studies.initProjectedVolume,removeFN:i8f.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Alert Threshold":["+150%","+125%","+100%","+75%",u5M,"+25%","None","-25%",Z8R,"-75%",c9T,"-125%",y8q],"Anchor Selector":!!1},outputs:{"Average Line":"#fe641c","Alert Bar":"#cfbd0e","Up Volume":"#8cc176","Down Volume":"#b82c0c"},parameters:{plotType:"step"},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:+"1"},"Alert Threshold":{defaultSelected:j0c}}},PAV:{name:"Projected Aggregate Volume",range:"0 to max",yAxis:{ground:!!"1",initialMarginTop:+"0",zoom:0},calculateFN:i8f.Studies.calculateProjectedVolume,seriesFN:i8f.Studies.displayProjectedVolume,initializeFN:i8f.Studies.initProjectedVolume,removeFN:i8f.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Anchor Selector":!!"1"},outputs:{"Average Line":A8C,"Up Volume":"#8cc176","Down Volume":w4Z},parameters:{plotType:"step"},attributes:{"Anchor Time":{placeholder:M5Y,step:1}}}});}};o3=c28=>{var H8u,I5T;H8u=typeof _CIQ !== "undefined"?_CIQ:c28.CIQ;if(!H8u.Studies){I5T="psychologic";I5T+="alLine feature requires first activating st";I5T+="udies feature.";console.error(I5T);}else {H8u.Studies.calculatePsychologicalLine=function(K97,P0t){var l89,D75,b_p,d_3,F$h,a6L;l89=P0t.chart.scrubbed;if(l89.length < P0t.days + 1){P0t.error=!!"1";return;}D75=[];f3BGj.N_M(85);var i37=f3BGj.c0C(1400,11,16,22124);b_p=i37 / P0t.days;f3BGj.f3X();d_3=0;for(var B6w=Math.max(P0t.startFrom - P0t.days,1);B6w < l89.length;B6w++){F$h="Re";F$h+="sult ";if(l89[B6w].futureTick)break;a6L=Number(l89[B6w].Close > l89[B6w - 1].Close);if(a6L){d_3+=b_p;}D75.push(a6L);if(D75.length > P0t.days){d_3-=D75.shift() * b_p;}if(B6w < P0t.startFrom)continue;if(!isNaN(l89[B6w].Close)){l89[B6w][F$h + P0t.name]=d_3;}}};H8u.Studies.studyLibrary=H8u.extend(H8u.Studies.studyLibrary,{PSY:{name:"Psychological Line",range:"0 to 100",calculateFN:H8u.Studies.calculatePsychologicalLine,inputs:{Period:20}}});}};i8=f8y=>{var W9k,Q_4,L_2;W9k=typeof _CIQ !== "undefined"?_CIQ:f8y.CIQ;f3BGj.f3X();if(!W9k.Studies){Q_4="qsti";Q_4+="ck feature requires first activating studies feature.";console.error(Q_4);}else {L_2="QSti";L_2+="c";L_2+="k";W9k.Studies.calculateQStick=function(A$P,M5i){var H2v,h6w;f3BGj.T$X();H2v="R";H2v+="e";H2v+="sult";h6w=M5i.chart.scrubbed;if(h6w.length < M5i.days + 1){M5i.error=!0;return;}for(var l8G=M5i.startFrom;l8G < h6w.length;l8G++){h6w[l8G]["_Close-Open " + M5i.name]=h6w[l8G].Close - h6w[l8G].Open;}W9k.Studies.MA(M5i.inputs["Moving Average Type"],M5i.days,"_Close-Open " + M5i.name,0,H2v,A$P,M5i);};W9k.Studies.studyLibrary=W9k.extend(W9k.Studies.studyLibrary,{QStick:{name:L_2,calculateFN:W9k.Studies.calculateQStick,inputs:{Period:8,"Moving Average Type":"ma"}}});}};O$=o6W=>{var I7n=f3BGj;var P2N,w7b,E4r,c7g,D3m,Y0Q,k0e;P2N=typeof _CIQ !== "undefined"?_CIQ:o6W.CIQ;I7n.T$X();if(!P2N.Studies){console.error("rainbow feature requires first activating studies feature.");}else {w7b="#";w7b+="FF";w7b+="0000";E4r="#F";E4r+="F";E4r+="00F";E4r+="F";c7g="#7";c7g+="F00FF";D3m="#";D3m+="0";D3m+="0";D3m+="00FF";Y0Q="#";Y0Q+="00F";Y0Q+="FFF";k0e="#";k0e+="7FF";k0e+="F";k0e+="00";P2N.Studies.calculateRainbow=function(H99,A7a){var E7V,G7u,V2A,v0I,k50,P49,j21,r$L,J$d,k9k,a_h,F1R,j4Q,m5G,k6q,R8k,w8z;function x4U(B0c,X5E){var Y7K,L_r;I7n.N_M(102);var I4v=I7n.c0C(16,14,12,19);Y7K=Number.MAX_VALUE * I4v;L_r=Number.MAX_VALUE;for(var c8o=X5E - B0c + 1;c8o <= X5E;c8o++){if(c8o < +"0")continue;Y7K=Math.max(Y7K,V2A[c8o].Close);L_r=Math.min(L_r,V2A[c8o].Close);}return [L_r,Y7K];}E7V="O";E7V+="s";E7V+="c";G7u="f";G7u+="i";G7u+="e";G7u+="ld";V2A=A7a.chart.scrubbed;if(V2A.length < A7a.days + 1){A7a.error=!"";return;}v0I=A7a.inputs.Field;if(!v0I || v0I == G7u){v0I="Close";}k50=v0I;for(var p3P=1;p3P <= 10;p3P++){P2N.Studies.MA("simple",A7a.days,k50,"0" - 0,"SMA" + p3P,H99,A7a);I7n.N_M(24);var m2z=I7n.c0C(68420,62170,11,19);k50="SMA" + p3P + (8214 !== 239.2?" ":m2z) + A7a.name;}for(var v7K=Math.max(A7a.startFrom,10);v7K < V2A.length;v7K++){if(!V2A[v7K])continue;if(V2A[v7K].futureTick)break;P49=0;I7n.j7J(31);j21=I7n.a$j("0",96);I7n.N_M(27);var j85=I7n.c0C(17,18);r$L=Number.MAX_VALUE * j85;J$d=Number.MAX_VALUE;for(p3P=1;p3P <= 10;p3P++){I7n.N_M(155);var R_x=I7n.c0C(1992,26000,58500,18);I7n.j7J(1);var z9b=I7n.a$j(538,2692);I7n.j7J(1);var g_N=I7n.c0C(6143,10);k9k=V2A[v7K]["SMA" + p3P + (R_x < (+"1788",z9b)?" ":g_N) + A7a.name];if(k9k || k9k === 0){P49+=k9k;j21++;r$L=Math.max(r$L,k9k);J$d=Math.min(J$d,k9k);}}if(A7a.name.indexOf("Osc") > -1){a_h=x4U(A7a.inputs["HHV/LLV Lookback"],v7K);if(j21){F1R="Zer";F1R+="o";F1R+=" ";j4Q="Ov";j4Q+="er ";m5G="O";m5G+="ver ";k6q="_hi";k6q+="st";I7n.j7J(156);var h53=I7n.c0C(150,1500,2,4,3);V2A[v7K][A7a.name + k6q]=h53 * (V2A[v7K][v0I] - P49 / j21) / Math.max(0.000001,a_h[+"1"] - a_h[0]);I7n.N_M(157);var e_M=I7n.c0C(16,8,18,0,5);V2A[v7K][m5G + A7a.name]=("100" ^ 0) * (r$L - J$d) / Math.max(0.000001,a_h[e_M] - a_h[+"0"]);V2A[v7K]["Under " + A7a.name]=-V2A[v7K][j4Q + A7a.name];V2A[v7K][F1R + A7a.name]=0;}}}if(A7a.name.indexOf(E7V) > -1){R8k="Under";R8k+=" ";w8z="Pos";w8z+="itive B";w8z+="ar";A7a.outputMap={};A7a.outputMap["Over " + A7a.name]=w8z;A7a.outputMap[R8k + A7a.name]="Negative Bar";A7a.outputMap["Zero " + A7a.name]="";A7a.outputMap[A7a.name + "_hist"]="";}};P2N.Studies.displayRainbowMA=function(o3W,t0u,z3c){var h1L;h1L=o3W.panels[t0u.panel];I7n.T$X();for(var Q_Y=10;Q_Y > 0;Q_Y--){P2N.Studies.displayIndividualSeriesAsLine(o3W,t0u,h1L,"SMA" + Q_Y + ((3150,643.16) != 1993?" ":(1890,6870) >= 1910?(3970,6401) <= (702.52,2550)?("x",0x227e):"I":(9.70e+3,"928.77" - 0)) + t0u.name,z3c);}};P2N.Studies.displayRainbowOsc=function(B_Z,J7V,z06){var d39,V8c,y4c,k8H,A6b,h96,f$x,z6f,K8a,p1s,j6n,w3b,l0x,e_3,J6c,J3G,B_7;d39="Un";d39+="d";d39+="er";d39+=" ";V8c="Ze";V8c+="ro";V8c+=" ";y4c="Neg";y4c+="at";y4c+="ive Bar";k8H="O";k8H+="v";k8H+="er";k8H+=" ";P2N.Studies.displaySeriesAsLine(B_Z,J7V,z06);A6b=B_Z.panels[J7V.panel];h96=J7V.getContext(B_Z);f$x=J7V.getYAxis(B_Z);B_Z.startClip(J7V.panel);if(!J7V.highlight && B_Z.highlightedDraggable){h96.globalAlpha*=0.3;}z6f=B_Z.pixelFromPrice(0,A6b,f$x);K8a=A6b.name != J7V.chart.name;p1s=P2N.Studies.determineColor(J7V.outputs["Positive Bar"]);h96.strokeStyle=p1s;B_Z.plotDataSegmentAsLine(k8H + J7V.name,A6b,{skipTransform:K8a,label:!1,yAxis:f$x});j6n=h96.createLinearGradient(0,z6f,0,f$x.flipped?f$x.bottom:f$x.top);j6n.addColorStop(0,B_Z.containerColor);j6n.addColorStop(+"1",p1s);P2N.prepareChannelFill(B_Z,{skipTransform:K8a,color:j6n,opacity:!J7V.highlight && B_Z.highlightedDraggable?"0.3" - 0:1,panelName:J7V.panel,topBand:"Over " + J7V.name,bottomBand:"Zero " + J7V.name,yAxis:f$x});w3b=P2N.Studies.determineColor(J7V.outputs[y4c]);h96.strokeStyle=w3b;B_Z.plotDataSegmentAsLine("Under " + J7V.name,A6b,{skipTransform:K8a,label:!({}),yAxis:f$x});l0x=h96.createLinearGradient(0,z6f,0,f$x.flipped?f$x.top:f$x.bottom);l0x.addColorStop(0,B_Z.containerColor);l0x.addColorStop(1,w3b);P2N.prepareChannelFill(B_Z,{skipTransform:K8a,color:l0x,opacity:!J7V.highlight && B_Z.highlightedDraggable?0.3:1,panelName:J7V.panel,topBand:V8c + J7V.name,bottomBand:d39 + J7V.name,yAxis:f$x});I7n.N_M(1);var O1Z=I7n.c0C(0,2);e_3=B_Z.layout.candleWidth - O1Z;if(e_3 < +"2"){e_3=1;}B_Z.canvasColor("stx_histogram");if(!J7V.underlay){h96.globalAlpha=+"1";}if(!J7V.highlight && B_Z.highlightedDraggable){h96.globalAlpha*=0.3;}h96.fillStyle="#CCCCCC";for(var Z1h=0;Z1h < z06.length;Z1h++){J6c="_his";J6c+="t";J3G="_hi";J3G+="s";J3G+="t";B_7=z06[Z1h];if(!B_7)continue;if(B_7[J7V.name + J3G] > +"0"){h96.fillStyle=p1s;}else if(B_7[J7V.name + "_hist"] < "0" * 1){h96.fillStyle=w3b;}if(B_7.candleWidth){e_3=Math.floor(Math.max(+"1",B_7.candleWidth - 2));}h96.fillRect(Math.floor(B_Z.pixelFromBar(Z1h,A6b.chart) - e_3 / 2),Math.floor(z6f),Math.floor(e_3),Math.floor(B_Z.pixelFromPrice(B_7[J7V.name + J6c],A6b,f$x) - z6f));}B_Z.endClip();};P2N.Studies.studyLibrary=P2N.extend(P2N.Studies.studyLibrary,{"Rainbow MA":{name:"Rainbow Moving Average",overlay:!!"1",calculateFN:P2N.Studies.calculateRainbow,seriesFN:P2N.Studies.displayRainbowMA,inputs:{Period:2,Field:"field"},outputs:{SMA1:"#FF0000",SMA2:"#FF7F00",SMA3:"#FFFF00",SMA4:k0e,SMA5:"#00FF7F",SMA6:Y0Q,SMA7:"#007FFF",SMA8:D3m,SMA9:c7g,SMA10:E4r}},"Rainbow Osc":{name:"Rainbow Oscillator",calculateFN:P2N.Studies.calculateRainbow,seriesFN:P2N.Studies.displayRainbowOsc,centerline:0,inputs:{Period:2,Field:"field","HHV/LLV Lookback":10},outputs:{"Positive Bar":"#00DD00","Negative Bar":w7b}}});}};r_=P6O=>{var a$B,Y6c,G19,q$o;a$B="undefi";a$B+="ned";Y6c=typeof _CIQ !== a$B?_CIQ:P6O.CIQ;if(!Y6c.Studies){console.error("randomWalk feature requires first activating studies feature.");}else {G19="#000";G19+="0FF";q$o="#F";q$o+="F0000";Y6c.Studies.calculateRandomWalk=function(m2n,b7Y){var d3t,a83,d8o,k_v,o5B,B1N,h7$,l3n,R$7,I7y;d3t=b7Y.chart.scrubbed;if(d3t.length < b7Y.days + +"1"){b7Y.error=!0;return;}for(var R1w=Math.max(2,b7Y.startFrom);R1w < d3t.length;R1w++){a83=+"0";d8o=d3t[R1w].High;k_v=d3t[R1w].Low;o5B=0;B1N=0;for(var C37=1;C37 <= b7Y.days;C37++){if(d3t[R1w].futureTick)break;if(R1w <= C37){o5B=B1N=0;break;}a83+=d3t[R1w - C37].trueRange;h7$=a83 / C37 * Math.sqrt(C37);if(h7$){l3n=(d8o - d3t[R1w - C37].Low) / h7$;R$7=(d3t[R1w - C37].High - k_v) / h7$;o5B=Math.max(o5B,l3n);B1N=Math.max(B1N,R$7);}}if(!d3t[R1w].futureTick && (!isNaN(d8o) || !isNaN(k_v))){I7y="Random Walk";I7y+=" L";I7y+="o";I7y+="w ";d3t[R1w]["Random Walk High " + b7Y.name]=o5B;d3t[R1w][I7y + b7Y.name]=B1N;}}};Y6c.Studies.studyLibrary=Y6c.extend(Y6c.Studies.studyLibrary,{"Random Walk":{name:"Random Walk Index",calculateFN:Y6c.Studies.calculateRandomWalk,outputs:{"Random Walk High":q$o,"Random Walk Low":G19}}});}};O5=H6W=>{var N96;N96=typeof _CIQ !== "undefined"?_CIQ:H6W.CIQ;if(!N96.Studies){console.error("relativeVigor feature requires first activating studies feature.");}else {N96.Studies.calculateRelativeVigor=function(z0I,X8k){var D4K,S05,d_H,d8U,G1Y,L0a,z5O,t0R,j27,h2L,b$9,H_I,S7x;D4K="R";D4K+="el Vig ";S05="_De";S05+="n";S05+="om";d_H="triang";d_H+="ul";d_H+="ar";d8U="triangul";d8U+="ar";G1Y=X8k.chart.scrubbed;if(G1Y.length < X8k.days + ("1" << 64)){X8k.error=!!({});return;}for(L0a=X8k.startFrom;L0a < G1Y.length;L0a++){z5O="_C";z5O+="ha";z5O+="n";z5O+="ge ";t0R=G1Y[L0a];if(!isNaN(t0R.Close) && !isNaN(t0R.Open)){t0R[z5O + X8k.name]=t0R.Close - t0R.Open;}if(!isNaN(t0R.High) && !isNaN(t0R.Low)){t0R["_Range " + X8k.name]=t0R.High - t0R.Low;}}N96.Studies.MA(d8U,4,"_Change " + X8k.name,0,"_Numer",z0I,X8k);N96.Studies.MA(d_H,4,"_Range " + X8k.name,0,S05,z0I,X8k);j27=[];h2L=[];for(L0a=Math.max(X8k.startFrom - X8k.days,0);L0a < G1Y.length;L0a++){if(G1Y[L0a].futureTick)break;if(G1Y[L0a]["_Numer " + X8k.name] === null && G1Y[L0a]["_Denom " + X8k.name] === null)continue;j27.push(G1Y[L0a]["_Numer " + X8k.name]);h2L.push(G1Y[L0a]["_Denom " + X8k.name]);if(j27.length > X8k.days){j27.shift();h2L.shift();}b$9=0;H_I=0;for(S7x=0;S7x < j27.length;S7x++){b$9+=j27[S7x];}for(S7x=0;S7x < h2L.length;S7x++){H_I+=h2L[S7x];}if(H_I === "0" * 1){H_I=0.00000001;}if(L0a < X8k.startFrom)continue;f3BGj.j7J(7);G1Y[L0a]["Rel Vig " + X8k.name]=f3BGj.a$j(b$9,H_I);}N96.Studies.MA("triangular",4,D4K + X8k.name,"0" >> 64,"RelVigSignal",z0I,X8k);for(L0a=X8k.startFrom;L0a < G1Y.length;L0a++){G1Y[L0a][X8k.name + "_hist"]=G1Y[L0a]["Rel Vig " + X8k.name] - G1Y[L0a]["RelVigSignal " + X8k.name];}X8k.outputMap[X8k.name + "_hist"]="";};N96.Studies.studyLibrary=N96.extend(N96.Studies.studyLibrary,{"Rel Vig":{name:"Relative Vigor Index",seriesFN:N96.Studies.displayHistogramWithSeries,calculateFN:N96.Studies.calculateRelativeVigor,inputs:{Period:10},outputs:{"Rel Vig":"auto",RelVigSignal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};i3=I6S=>{var R7i=f3BGj;var H1I,P5U;H1I="u";H1I+="n";H1I+="define";R7i.T$X();H1I+="d";P5U=typeof _CIQ !== H1I?_CIQ:I6S.CIQ;if(!P5U.Studies){console.error("rsi feature requires first activating studies feature.");}else {P5U.Studies.calculateRSI=function(K94,C$x){var Q6n,O3p,k$J,m1O,v2j,h6e,B87,Q2w;Q6n=C$x.chart.scrubbed;O3p=C$x.inputs.Field;R7i.T$X();if(!O3p || O3p == "field"){O3p="Close";}if(Q6n.length < C$x.days + 1){C$x.error=!0;return;}for(var v8L=C$x.startFrom;v8L < Q6n.length;v8L++){if(!v8L)continue;k$J=Q6n[v8L];R7i.j7J(14);m1O=Q6n[R7i.a$j(v8L,1)];if(!k$J[O3p] && k$J[O3p] !== "0" * 1)continue;if(!m1O[O3p] && m1O[O3p] !== 0)continue;v2j=k$J[O3p] - m1O[O3p];h6e=Math.min(v8L,C$x.days);B87=m1O["_avgG " + C$x.name];if(!B87){B87=0;}R7i.N_M(7);B87-=R7i.c0C(B87,h6e);Q2w=m1O["_avgL " + C$x.name];if(!Q2w){Q2w=0;}R7i.j7J(7);Q2w-=R7i.a$j(Q2w,h6e);if(v2j > "0" >> 32){R7i.N_M(7);B87+=R7i.a$j(v2j,h6e);}else if(v2j <= 0){R7i.j7J(7);Q2w-=R7i.a$j(v2j,h6e);}else continue;if(v8L >= C$x.days){if((B87 || B87 !== 0) && (Q2w || Q2w !== 0)){k$J["RSI " + C$x.name]=I8M(B87,Q2w);}}k$J["_avgG " + C$x.name]=B87;k$J["_avgL " + C$x.name]=Q2w;}function I8M(O9Y,C0d){var t84,W79,E7m,R1C;if(C0d === 0){return 100;}t84=1473040642;W79=-262708369;E7m=2;for(var G45=1;R7i.O1W(G45.toString(),G45.toString().length,68909) !== t84;G45++){R7i.N_M(14);R1C=R7i.a$j(O9Y,C0d);R7i.N_M(158);return R7i.a$j(465,"2",R1C,330);}R7i.T$X();if(R7i.O1W(E7m.toString(),E7m.toString().length,1299) !== W79){R7i.N_M(7);R1C=R7i.a$j(O9Y,C0d);R7i.N_M(159);return R7i.a$j(100,"1",R1C,100);}}C$x.zoneOutput="RSI";};P5U.Studies.studyLibrary=P5U.extend(P5U.Studies.studyLibrary,{rsi:{name:"RSI",inputs:{Period:+"14",Field:"field"},calculateFN:P5U.Studies.calculateRSI,range:"0 to 100",outputs:{RSI:"auto"},parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:+"80",studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};f3BGj.T$X();Q7=u4v=>{var E0y=f3BGj;E0y.f3X();var K6o,M65,J3s,l5D,I5R,Y2L,u3i;K6o="un";K6o+="de";K6o+="fin";K6o+="ed";M65=typeof _CIQ !== K6o?_CIQ:u4v.CIQ;if(!M65.Studies){E0y.j7J(14);J3s=E0y.a$j("87314054",0);l5D=1060655783;E0y.N_M(14);I5R=E0y.a$j("2",0);for(var D6e=1;E0y.O1W(D6e.toString(),D6e.toString().length,82177) !== J3s;D6e++){console.error("");I5R+=2;}if(E0y.O1W(I5R.toString(),I5R.toString().length,7892) !== l5D){console.error("");}console.error("schaffTrendCycle feature requires first activating studies feature.");}else {Y2L="a";Y2L+="u";Y2L+="t";Y2L+="o";u3i="fiel";u3i+="d";M65.Studies.calculateSchaff=function(P_V,D3g){var n33,N10,R_K,v4G,f2A,Y8d,P$4,G7V,B2v,i6M,s8I,M6m,k2P,I7_,A0B,p5a,m8v,W5U,I53,u3z,H$L,t35,B3u;n33="_MAC";n33+="D";n33+="2";N10="Cl";N10+="o";N10+="s";N10+="e";R_K="Short";R_K+=" ";R_K+="Cycle";v4G=D3g.chart.scrubbed;function V9H(X$M,s1$,U3X){var A1M,d8m,q$1;A1M=null;d8m=null;for(var A67=s1$ - X$M + 1;A67 <= s1$;A67++){E0y.N_M(1);var y_M=E0y.a$j(1132,6);E0y.j7J(17);var A8Q=E0y.a$j(9615,2,9600,5);E0y.j7J(19);var y5H=E0y.a$j(14,10,656,91169);E0y.N_M(157);var P1Z=E0y.a$j(18,13,17,468,20);E0y.j7J(160);var n7f=E0y.a$j(15,9460,5070,56760);q$1=v4G[A67][U3X + (y_M < A8Q?+"341" != 812.88?708.76 == y5H?(!0,P1Z):" ":(!1,!!({})):(+"1.66e+3",n7f)) + D3g.name];if(!q$1)continue;A1M=A1M === null?q$1:Math.min(A1M,q$1);d8m=d8m === null?q$1:Math.max(d8m,q$1);}return [A1M,d8m];}f2A=D3g.days;Y8d=Number(D3g.inputs[R_K]);P$4=Number(D3g.inputs["Long Cycle"]);if(v4G.length < Math.max(f2A,Y8d,P$4) + 1){D3g.error=!0;return;}G7V=D3g.inputs.Field;if(!G7V || G7V == "field"){G7V=N10;}B2v=0.5;M65.Studies.MA(D3g.inputs["Moving Average Type"],Y8d,G7V,0,"_MACD1",P_V,D3g);M65.Studies.MA(D3g.inputs["Moving Average Type"],P$4,G7V,+"0",n33,P_V,D3g);i6M=0;s8I=0;for(var W76=D3g.startFrom;W76 < v4G.length;W76++){M6m="_";M6m+="MA";M6m+="C";M6m+="D2 ";k2P="_MA";k2P+="C";k2P+="D";k2P+="1 ";I7_=v4G[W76];if(W76 < P$4 - 1)continue;A0B=I7_[k2P + D3g.name];p5a=I7_[M6m + D3g.name];if(A0B || A0B === "0" * 1 || p5a || p5a === 0){E0y.j7J(14);I7_["_MACD " + D3g.name]=E0y.c0C(A0B,p5a);}m8v=I7_["_MACD " + D3g.name];if(W76 < P$4 + (f2A - 1))continue;W5U=V9H(f2A,W76,"_MACD");i6M=W5U[1] > W5U[0]?+"100" * (m8v - W5U[0]) / (W5U[1] - W5U["0" ^ 0]):i6M;if(m8v || m8v === 0){I53="_";I53+="P";I53+="F ";I7_["_PF " + D3g.name]=v4G[W76 - 1][I53 + D3g.name]?v4G[W76 - 1]["_PF " + D3g.name] + B2v * (i6M - v4G[W76 - 1]["_PF " + D3g.name]):i6M;}u3z=I7_["_PF " + D3g.name];if(W76 < P$4 + 2 * (f2A - 1))continue;W5U=V9H(f2A,W76,"_PF");s8I=W5U[1] > W5U[+"0"]?("100" >> 0) * (u3z - W5U[0]) / (W5U[1] - W5U[0]):s8I;if(u3z || u3z === 0){H$L="Res";H$L+="ult ";t35="Res";t35+="u";t35+="lt ";B3u="Res";B3u+="u";B3u+="lt";B3u+=" ";I7_["Result " + D3g.name]=v4G[W76 - 1][B3u + D3g.name]?v4G[W76 - 1][t35 + D3g.name] + B2v * (s8I - v4G[W76 - +"1"][H$L + D3g.name]):s8I;}}};M65.Studies.studyLibrary=M65.extend(M65.Studies.studyLibrary,{Schaff:{name:"Schaff Trend Cycle",range:"0 to 100",calculateFN:M65.Studies.calculateSchaff,inputs:{Period:10,Field:u3i,"Short Cycle":23,"Long Cycle":50,"Moving Average Type":"ema"},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:+"75",studyOverBoughtColor:"auto",studyOverSoldValue:25,studyOverSoldColor:Y2L}}}});}};Z4=F1G=>{var o5b=f3BGj;o5b.T$X();var t4i,i$k,C9j,G2t;t4i="un";t4i+="defined";i$k=typeof _CIQ !== t4i?_CIQ:F1G.CIQ;if(!i$k.Studies){C9j="shinohara feature requires first activating stud";C9j+="ies feature.";console.error(C9j);}else {G2t="#E99B";G2t+="5";G2t+="4";i$k.Studies.calculateShinohara=function(c7R,M38){o5b.T$X();var v0d,R6f,a$X,b7F;v0d=M38.chart.scrubbed;if(v0d.length < M38.days + 1){M38.error=!!({});return;}R6f={weakNum:0,weakDen:0,strongNum:0,strongDen:0};if(M38.startFrom > 1){a$X="_accu";a$X+="ms ";R6f=i$k.clone(v0d[M38.startFrom - +"1"][a$X + M38.name]);}for(var B$_=M38.startFrom;B$_ < v0d.length;B$_++){R6f.weakNum+=v0d[B$_].High - v0d[B$_].Close;R6f.weakDen+=v0d[B$_].Close - v0d[B$_].Low;if(B$_ > "0" * 1){o5b.N_M(21);var x1A=o5b.a$j(193,12,16);R6f.strongNum+=v0d[B$_].High - v0d[B$_ - x1A].Close;o5b.j7J(137);var w8s=o5b.a$j(2,6,5,2);R6f.strongDen+=v0d[B$_ - w8s].Close - v0d[B$_].Low;}if(B$_ >= M38.days){b7F="Weak R";b7F+="ati";b7F+="o";b7F+=" ";R6f.weakNum-=v0d[B$_ - M38.days].High - v0d[B$_ - M38.days].Close;R6f.weakDen-=v0d[B$_ - M38.days].Close - v0d[B$_ - M38.days].Low;o5b.j7J(14);var w3k=o5b.a$j(117,17);v0d[B$_][b7F + M38.name]=w3k * R6f.weakNum / R6f.weakDen;if(B$_ > M38.days){o5b.N_M(23);var p31=o5b.c0C(0,4,3,8);R6f.strongNum-=v0d[B$_ - M38.days].High - v0d[B$_ - M38.days - p31].Close;o5b.N_M(13);var R9T=o5b.c0C(0,6,5,0);R6f.strongDen-=v0d[B$_ - M38.days - R9T].Close - v0d[B$_ - M38.days].Low;v0d[B$_]["Strong Ratio " + M38.name]=+"100" * R6f.strongNum / R6f.strongDen;}}v0d[B$_]["_accums " + M38.name]=i$k.clone(R6f);}};i$k.Studies.studyLibrary=i$k.extend(i$k.Studies.studyLibrary,{Shinohara:{name:"Shinohara Intensity Ratio",calculateFN:i$k.Studies.calculateShinohara,inputs:{Period:+"26"},outputs:{"Strong Ratio":G2t,"Weak Ratio":"#5F7CB8"}}});}};T0=C1j=>{var c2y,C3o,g$o,p8t,n6n;c2y=typeof _CIQ !== "undefined"?_CIQ:C1j.CIQ;if(!c2y.Studies){console.error("stochastics feature requires first activating studies feature.");}else {C3o="#";C3o+="F";C3o+="F000";C3o+="0";g$o="f";g$o+="ie";g$o+="l";g$o+="d";p8t="#F";p8t+="F";p8t+="00";p8t+="00";n6n="Stocha";n6n+="sti";n6n+="c Momentum Index";c2y.Studies.calculateStochastics=function(O9m,e$I){var r8a=f3BGj;var e3t,A3F,i6H,H$$,S1K,a1O,e6h,D08,t6E,G1I;e3t="_F";e3t+="a";e3t+="st%K ";A3F="fie";A3F+="ld";if(!e$I.smooth){e$I.smooth=e$I.inputs.Smooth;}r8a.f3X();i6H=e$I.inputs.Field;if(!i6H || i6H == A3F){i6H="Close";}H$$=e$I.inputs["%K Periods"];if(!H$$){H$$=e$I.days;}S1K=e$I.chart.scrubbed;function N3w(T_i,Z1l,O10){var s48,w9v,H_Z,F41,W5c,K3B,z_W;r8a.N_M(15);s48=r8a.a$j(T_i,1,O10);w9v=Number.MAX_VALUE * -("1" - 0);r8a.f3X();H_Z=Number.MAX_VALUE;for(var g4I=s48;g4I <= T_i;g4I++){F41="L";F41+="ow";W5c=S1K[g4I][Z1l == "Close"?F41:Z1l];K3B=S1K[g4I][Z1l == "Close"?"High":Z1l];if(!W5c && W5c !== 0)continue;if(!K3B && K3B !== 0)continue;H_Z=Math.min(H_Z,W5c);w9v=Math.max(w9v,K3B);}if(w9v == Number.MAX_VALUE * -1 || H_Z == Number.MAX_VALUE){return null;}z_W=w9v == H_Z?0:(S1K[T_i][Z1l] - H_Z) / (w9v - H_Z) * 100;return z_W;}if(S1K.length < Math.max(H$$,e$I.days) + 1){e$I.error=!!"1";return;}a1O=e$I.inputs["%K Smoothing Periods"];if(a1O && !e$I.inputs.Fast){e$I.smooth=!!1;}else if(e$I.smooth){a1O=3;}e6h=e$I.inputs["%D Periods"];if(!e6h){e6h=+"3";}if(e$I.outputs.Fast){D08="F";D08+="a";D08+="st";e$I.outputMap={};e$I.outputMap["%K " + e$I.name]=D08;e$I.outputMap["%D " + e$I.name]="Slow";}for(var k_a=Math.max(H$$,e$I.startFrom);k_a < S1K.length;k_a++){t6E="_F";t6E+="ast%K ";G1I=N3w(k_a,i6H,H$$);if(G1I !== null){S1K[k_a][t6E + e$I.name]=N3w(k_a,i6H,H$$);}}c2y.Studies.MA("simple",e$I.smooth?a1O:1,e3t + e$I.name,0,"%K",O9m,e$I);c2y.Studies.MA("simple",e6h,"%K " + e$I.name,0,"%D",O9m,e$I);};c2y.Studies.calculateStochMomentum=function(D$k,K7J){var U8y=f3BGj;var d8k,N2S,A6v,O5U,Z$1,N0I,Y99,o0q,X0o,O$8,l4f,e_w,Q1C,f2I,T8B,A2v,a2U;d8k="%";d8k+="K ";N2S="_";N2S+="D";N2S+="HL1";N2S+=" ";A6v="_D";A6v+="H";A6v+="L";A6v+=" ";O5U="exponent";O5U+="ial";Z$1="_H";Z$1+="S2";N0I="_H";N0I+="S";N0I+="1";Y99="exp";Y99+="onen";Y99+="tial";o0q="%K Smoo";o0q+="thi";o0q+="ng Periods";X0o="%";X0o+="K Perio";U8y.T$X();X0o+="ds";O$8=Number(K7J.inputs[X0o]);l4f=Number(K7J.inputs[o0q]);function v5_(Z5l,v83){var L4Y,P8L;L4Y=null;P8L=null;U8y.f3X();for(var q0p=v83 - Z5l + ("1" | 0);q0p <= v83;q0p++){L4Y=L4Y === null?f2I[q0p].Low:Math.min(L4Y,f2I[q0p].Low);P8L=P8L === null?f2I[q0p].High:Math.max(P8L,f2I[q0p].High);}return [L4Y,P8L];}e_w=Number(K7J.inputs["%K Double Smoothing Periods"]);Q1C=Number(K7J.inputs["%D Periods"]);f2I=K7J.chart.scrubbed;if(f2I.length < O$8 + l4f + e_w - 1 || f2I.length < Q1C){K7J.error=!0;return;}for(T8B=Math.max(O$8,K7J.startFrom) - 1;T8B < f2I.length;T8B++){A2v=f2I[T8B];a2U=v5_(O$8,T8B);U8y.j7J(14);var s5t=U8y.c0C(5,4);U8y.j7J(161);var k_O=U8y.c0C(0,414,10,16,16);A2v["_H " + K7J.name]=A2v.Close - (a2U[0] + a2U[s5t]) / k_O;U8y.j7J(14);var C8$=U8y.a$j(10,9);A2v["_DHL " + K7J.name]=a2U[C8$] - a2U[0];}c2y.Studies.MA(Y99,l4f,"_H " + K7J.name,0,N0I,D$k,K7J);c2y.Studies.MA("exponential",e_w,"_HS1 " + K7J.name,0,Z$1,D$k,K7J);c2y.Studies.MA(O5U,l4f,A6v + K7J.name,+"0","_DHL1",D$k,K7J);c2y.Studies.MA("exponential",e_w,N2S + K7J.name,0,"_DHL2",D$k,K7J);for(T8B=O$8 - 1;T8B < f2I.length;T8B++){U8y.j7J(61);var G5C=U8y.c0C(1100,1100,99);f2I[T8B]["%K " + K7J.name]=f2I[T8B]["_HS2 " + K7J.name] / (0.5 * f2I[T8B]["_DHL2 " + K7J.name]) * G5C;}c2y.Studies.MA(K7J.inputs["%D Moving Average Type"],Q1C,d8k + K7J.name,0,"%D",D$k,K7J);K7J.zoneOutput="%K";};c2y.Studies.studyLibrary=c2y.extend(c2y.Studies.studyLibrary,{"Stch Mtm":{name:n6n,calculateFN:c2y.Studies.calculateStochMomentum,inputs:{"%K Periods":10,"%K Smoothing Periods":3,"%K Double Smoothing Periods":3,"%D Periods":"10" >> 64,"%D Moving Average Type":"ema"},outputs:{"%K":"auto","%D":p8t},parameters:{init:{studyOverZonesEnabled:!!1,studyOverBoughtValue:40,studyOverBoughtColor:"auto",studyOverSoldValue:-("40" >> 0),studyOverSoldColor:"auto"}}},stochastics:{name:"Stochastics (Simple)",range:"0 to 100",calculateFN:c2y.Studies.calculateStochastics,inputs:{Period:14,Field:g$o,Smooth:!!1},outputs:{Fast:"auto",Slow:C3o},parameters:{init:{studyOverZonesEnabled:!!({}),studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}},Stochastics:{name:"Stochastics",range:"0 to 100",calculateFN:c2y.Studies.calculateStochastics,inputs:{Field:"field","%K Periods":14,Fast:![],"%K Smoothing Periods":3,"%D Periods":3},outputs:{"%K":"auto","%D":"#FF0000"},parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:+"80",studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}},attributes:{"%K Smoothing Periods":{hidden:function(){f3BGj.T$X();return this.inputs.Fast;}}},centerline:+"50"}});}};x$=T1X=>{var O_B=f3BGj;O_B.T$X();var u9Y;u9Y=typeof _CIQ !== "undefined"?_CIQ:T1X.CIQ;if(!u9Y.Studies){console.error("supertrend feature requires first activating studies feature.");}else {u9Y.Studies.calculateSupertrend=function(F59,q_R){var x5N,T3l,J65,x9w,M8Y,a9R,a5A,k0V,e1U,z7h,u_b;x5N=q_R.chart.scrubbed;if(x5N.length < q_R.days + 1){q_R.error=!!1;return;}u9Y.Studies.calculateStudyATR(F59,q_R);for(var f5w=q_R.startFrom;f5w < x5N.length;f5w++){T3l="_Down";T3l+="tren";T3l+="d ";J65="A";J65+="T";J65+="R";J65+=" ";x9w=x5N[f5w];if(!x9w)continue;O_B.N_M(162);var D6t=O_B.a$j(3,6,3,13,10);M8Y=(x9w.High + x9w.Low) / D6t;a9R=q_R.inputs.Multiplier * x9w[J65 + q_R.name];O_B.j7J(14);a5A=O_B.c0C(M8Y,a9R);O_B.j7J(1);k0V=O_B.c0C(M8Y,a9R);if(f5w){e1U="_";e1U+="Downtr";e1U+="end ";if(x5N[f5w - 1] && x5N[f5w - 1].Close && x5N[f5w - ("1" << 64)].Close > x5N[f5w - 1]["_Uptrend " + q_R.name] && x5N[f5w - ("1" ^ 0)]["_Uptrend " + q_R.name] > a5A){O_B.j7J(14);a5A=x5N[O_B.c0C(f5w,1)]["_Uptrend " + q_R.name];}if(x5N[f5w - 1] && x5N[f5w - "1" * 1].Close && x5N[f5w - 1].Close < x5N[f5w - 1]["_Downtrend " + q_R.name] && x5N[f5w - 1]["_Downtrend " + q_R.name] < k0V){O_B.j7J(14);k0V=x5N[O_B.a$j(f5w,1)][e1U + q_R.name];}}O_B.N_M(31);x9w["_Direction " + q_R.name]=O_B.c0C("1",32);if(f5w){z7h="_Direction";z7h+=" ";u_b="_Direction";u_b+=" ";O_B.j7J(14);x9w[u_b + q_R.name]=x5N[O_B.c0C(f5w,1)]["_Direction " + q_R.name];if(x9w.Close > x5N[f5w - 1]["_Downtrend " + q_R.name]){x9w[z7h + q_R.name]=1;}else if(x9w.Close < x5N[f5w - 1]["_Uptrend " + q_R.name]){x9w["_Direction " + q_R.name]=-1;}}x9w["_Uptrend " + q_R.name]=a5A;x9w[T3l + q_R.name]=k0V;x9w["Trend " + q_R.name]=x9w["_Direction " + q_R.name] > 0?a5A:k0V;if(!f5w)continue;}q_R.outputMap={};q_R.outputMap["Trend " + q_R.name]="";};u9Y.Studies.displaySupertrend=function(r5$,A2N,X96){var a_H,I5_,e6q,Q0a,T84,Q1r,B$K,V5q,T7j,I8D,i7J,A$E;a_H="T";a_H+="r";a_H+="e";a_H+="nd ";I5_=r5$.panels[A2N.panel];e6q=A2N.getContext(r5$);Q0a=A2N.getYAxis(r5$);T84={skipTransform:I5_.name != A2N.chart.name,skipProjections:!!({}),label:r5$.preferences.labels,yAxis:Q0a,highlight:A2N.highlight};e6q.strokeStyle=J2z(r5$,X96[X96.length - 1]);e6q.lineWidth=2;if(A2N.highlight){e6q.lineWidth=1.5;}Q1r=a_H + A2N.name;for(var t4p=+"0";I5_.chart.transformFunc && Q0a != I5_.chart.yAxis && t4p < X96.length;t4p++){B$K=X96[t4p];if(B$K && B$K.transform){B$K.transform[Q1r]=I5_.chart.transformFunc(r5$,I5_.chart,B$K[Q1r]);}}r5$.plotDataSegmentAsLine(Q1r,I5_,T84,J2z);e6q.lineWidth=+"1";e6q.globalAlpha=1;r5$.startClip(A2N.panel);if(!A2N.highlight && r5$.highlightedDraggable){e6q.globalAlpha*=0.3;}function J2z(W3M,S6Z,H8H){var K1L,y_j,a_9,B_i;K1L="_";K1L+="D";K1L+="irec";O_B.f3X();K1L+="tion ";if(S6Z && S6Z[K1L + A2N.name] < +"0"){return A2N.outputs.Downtrend;}y_j=-1291900641;a_9=-806501474;B_i=2;for(var O_q=+"1";O_B.S9Y(O_q.toString(),O_q.toString().length,45473) !== y_j;O_q++){return A2N.outputs.Uptrend;}if(O_B.S9Y(B_i.toString(),B_i.toString().length,46148) !== a_9){return A2N.outputs.Uptrend;}}O_B.N_M(163);var U_p=O_B.a$j(18,116,4,3,416);O_B.j7J(1);var t5D=O_B.c0C(981,6863);O_B.j7J(3);O_B.f3X();var k2Y=O_B.c0C(15658,10,16626);O_B.N_M(122);var Z$d=O_B.a$j(16,18,1,3);O_B.N_M(3);var N9Z=O_B.c0C(7,9,0);V5q=e6q.measureText(U_p != t5D?"\u25B2":(k2Y,+"224.01") > "271.12" * Z$d?!({}):(574.82,!1)).width / N9Z;for(T7j="0" ^ 0;T7j < X96.length;T7j++){if(!X96[T7j] || !X96[T7j - 1])continue;if(X96[T7j - 1]["_Direction " + A2N.name] > X96[T7j]["_Direction " + A2N.name]){e6q.fillStyle=A2N.outputs.Downtrend;e6q.textBaseline="bottom";I8D=r5$.pixelFromPrice(X96[T7j].High,I5_,Q0a);for(var H7P=5;H7P <= 45;H7P+="10" * 1){if(Q0a.flipped){e6q.fillText("\u25B2",r5$.pixelFromBar(T7j) - V5q,I8D + H7P);}else {e6q.fillText((5411,5634) != 1404?"\u25BC":!"",r5$.pixelFromBar(T7j) - V5q,I8D - H7P);}}}else if(X96[T7j - 1]["_Direction " + A2N.name] < X96[T7j]["_Direction " + A2N.name]){i7J="t";i7J+="op";e6q.fillStyle=A2N.outputs.Uptrend;e6q.textBaseline=i7J;A$E=r5$.pixelFromPrice(X96[T7j].Low,I5_,Q0a);for(var K4k=5;K4k <= "45" - 0;K4k+=10){if(Q0a.flipped){e6q.fillText((108.83,851) != 2670?"\u25BC":+"8040" != 56.89?3828 !== (524.49,858.99)?8.30e+3:("t",1.03e+3):855.95,r5$.pixelFromBar(T7j) - V5q,A$E - K4k);}else {e6q.fillText(147 <= (3706,1760)?783.05 !== "5090" - 0?"\u25B2":"8973" << 32 == (6026,3312)?![]:"t":(868.37,408.07),r5$.pixelFromBar(T7j) - V5q,A$E + K4k);}}}}r5$.endClip();};u9Y.Studies.studyLibrary=u9Y.extend(u9Y.Studies.studyLibrary,{Supertrend:{name:"Supertrend",overlay:!"",seriesFN:u9Y.Studies.displaySupertrend,calculateFN:u9Y.Studies.calculateSupertrend,inputs:{Period:7,Multiplier:3},outputs:{Uptrend:"#8cc176",Downtrend:"#b82c0c"},attributes:{Multiplier:{min:"0.1" - 0,step:0.1}}}});}};k4=M_u=>{var U5u=f3BGj;var r7I,R0Y;r7I="unde";U5u.T$X();r7I+="fi";r7I+="n";r7I+="ed";R0Y=typeof _CIQ !== r7I?_CIQ:M_u.CIQ;if(!R0Y.Studies){console.error("swingIndex feature requires first activating studies feature.");}else {R0Y.Studies.calculateSwingIndex=function(O5o,W$z){var i8U,R33,o6L,c6H,e0E,N66,S_d,X0h,i7C,Q3y,L$6,K2v,M1X;i8U="Re";i8U+="sult ";R33=W$z.inputs["Limit Move Value"];if(R33 === null || isNaN(R33)){R33=99999;}o6L=W$z.chart.scrubbed;c6H=0;if(W$z.startFrom > 1){c6H=o6L[W$z.startFrom - +"1"][i8U + W$z.name];}for(var I7b=Math.max(1,W$z.startFrom);I7b < o6L.length;I7b++){e0E="Re";e0E+="sult ";N66=Math.abs(o6L[I7b].High - o6L[I7b - 1].Close);S_d=Math.abs(o6L[I7b].Low - o6L[I7b - 1].Close);X0h=Math.abs(o6L[I7b].High - o6L[I7b].Low);i7C=Math.abs(o6L[I7b - +"1"].Close - o6L[I7b - 1].Open);Q3y=Math.max(N66,S_d);L$6=Math.max(X0h,Q3y);U5u.N_M(25);K2v=U5u.c0C(0.25,i7C,L$6);if(L$6 == N66){U5u.N_M(5);K2v-=U5u.c0C(S_d,0.5);}else if(L$6 == S_d){U5u.N_M(5);K2v-=U5u.c0C(N66,0.5);}U5u.N_M(164);var U69=U5u.c0C(3,20,29950,100,5);U5u.j7J(14);var z8O=U5u.a$j(14,13);U5u.j7J(34);var Q55=U5u.c0C(2,17,17);U5u.j7J(9);var E9a=U5u.c0C(104,15,7);M1X=U69 * (o6L[I7b].Close - o6L[I7b - z8O].Close + 0.5 * (o6L[I7b].Close - o6L[I7b].Open) + 0.25 * (o6L[I7b - Q55].Close - o6L[I7b - E9a].Open)) / K2v * (Q3y / R33);if(K2v === 0 || R33 === ("0" | 0)){M1X=0;}if(W$z.type == "Swing"){c6H=0;}c6H+=M1X;o6L[I7b][e0E + W$z.name]=c6H;}};R0Y.Studies.studyLibrary=R0Y.extend(R0Y.Studies.studyLibrary,{"Acc Swing":{name:"Accumulative Swing Index",calculateFN:R0Y.Studies.calculateSwingIndex,inputs:{"Limit Move Value":+"0.5"}},Swing:{name:"Swing Index",calculateFN:R0Y.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}}});}};N1=t59=>{var B_4=f3BGj;var t$3,O4k,n3q,l2T;t$3=typeof _CIQ !== "undefined"?_CIQ:t59.CIQ;B_4.f3X();if(!t$3.Studies){console.error("trendIntensity feature requires first activating studies feature.");}else {O4k="au";O4k+="t";O4k+="o";n3q="fi";n3q+="e";n3q+="l";n3q+="d";l2T="0 t";l2T+="o";l2T+=" 100";t$3.Studies.calculateTrendIntensity=function(z2t,U1L){var K9C,X3q,A47,D_q,h9b,B3H,n9J,E8N,z6W,r4v,J8Y,K0q;K9C="T";K9C+="I";K9C+="I";B_4.T$X();K9C+=" ";X3q="Signal ";X3q+="Period";A47="e";A47+="m";A47+="a";D_q="m";D_q+="a";h9b=U1L.chart.scrubbed;if(h9b.length < U1L.days + 1){U1L.error=!![];return;}B3H=U1L.inputs.Field;function B0K(z0$,R_7){if(Math.abs(R_7) < 0.00000001){return 100;}B_4.f3X();B_4.j7J(165);return B_4.a$j(1,z0$,R_7,100,0,"100");}if(!B3H || B3H == "field"){B3H="Close";}t$3.Studies.MA(D_q,U1L.days,B3H,0,"_SMA",z2t,U1L);n9J=0;E8N=0;J8Y=[];K0q=Math.ceil(U1L.days / ("2" | 2));for(z6W=Math.max(0,U1L.startFrom - K0q);z6W < h9b.length;z6W++){if(!h9b[z6W]["_SMA " + U1L.name] && h9b[z6W]["_SMA " + U1L.name] !== 0)continue;r4v=h9b[z6W][B3H] - h9b[z6W]["_SMA " + U1L.name];if(r4v < "0" << 0){B_4.N_M(166);E8N+=B_4.a$j(r4v,1);}else {n9J+=r4v;}J8Y.push(r4v);if(J8Y.length > K0q){r4v=J8Y.shift();if(r4v < 0){B_4.j7J(166);E8N-=B_4.c0C(r4v,1);}else {n9J-=r4v;}}if(z6W < U1L.startFrom)continue;h9b[z6W]["TII " + U1L.name]=B0K(n9J,E8N);}t$3.Studies.MA(A47,U1L.inputs[X3q],K9C + U1L.name,0,"Signal",z2t,U1L);};t$3.Studies.studyLibrary=t$3.extend(t$3.Studies.studyLibrary,{"Trend Int":{name:"Trend Intensity Index",calculateFN:t$3.Studies.calculateTrendIntensity,range:l2T,inputs:{Period:"14" >> 0,Field:n3q,"Signal Period":9},outputs:{TII:"auto",Signal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:80,studyOverBoughtColor:O4k,studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};a7=G$9=>{var A4H;A4H=typeof _CIQ !== "undefined"?_CIQ:G$9.CIQ;if(!A4H.Studies){console.error("trix feature requires first activating studies feature.");}else {A4H.Studies.calculateTRIX=function(Z0U,s7l){var W5Y=f3BGj;var w2z,w7C,I3z,W16,b0I,k1m,F6r,p2V;w2z="_";w2z+="MA";w2z+="1 ";w7C=s7l.chart.scrubbed;if(w7C.length < s7l.days + "1" * 1){s7l.error=!!({});return;}I3z=s7l.name;W5Y.j7J(1);W16=["Close",W5Y.a$j(w2z,I3z),W5Y.a$j("_MA2 ",I3z),W5Y.c0C("_MA3 ",I3z)];for(var m3A=0;m3A < W16.length - 1;m3A++){A4H.Studies.MA("exponential",s7l.days,W16[m3A],0,"_MA" + (m3A + 1).toString(),Z0U,s7l);}b0I=W16[3];for(var j2k=Math.max(1,s7l.startFrom);j2k < w7C.length;j2k++){k1m="R";k1m+="e";k1m+="sult";k1m+=" ";W5Y.N_M(167);F6r=w7C[W5Y.a$j(j2k,1,"1")][b0I];if(!F6r)continue;p2V=w7C[j2k][b0I];if(p2V || p2V === 0){W5Y.j7J(1);w7C[j2k][W5Y.a$j(k1m,I3z)]=W5Y.c0C("100",p2V,F6r,1,W5Y.j7J(168));}}};A4H.Studies.studyLibrary=A4H.extend(A4H.Studies.studyLibrary,{TRIX:{name:"TRIX",calculateFN:A4H.Studies.calculateTRIX}});}};h3=L2j=>{var p_y,X2S,r0c;p_y="undefi";p_y+="ned";X2S=typeof _CIQ !== p_y?_CIQ:L2j.CIQ;if(!X2S.Studies){r0c="twiggsMoneyFlow feature requires first activating stu";r0c+="dies feature.";console.error(r0c);}else {X2S.Studies.calculateTwiggsMoneyFlow=function(a8r,h6h){var Z5T=f3BGj;var T4x,D0p,m5X,O96,Q7T,b44,Y2f,d92,r37,M0B,x6$;T4x=h6h.chart.scrubbed;if(T4x.length < h6h.days){h6h.error=!![];return;}D0p=0;m5X=0;Z5T.N_M(3);var J1x=Z5T.a$j(4,5,0);O96=T4x[h6h.startFrom - J1x];if(O96){Q7T="_s";Q7T+="u";Q7T+="mV ";b44="_";b44+="sumMF";b44+=" ";if(O96[b44 + h6h.name]){D0p=O96["_sumMF " + h6h.name];}if(O96[Q7T + h6h.name]){m5X=O96["_sumV " + h6h.name];}}for(var x8O=Math.max(1,h6h.startFrom);x8O < T4x.length;x8O++){Y2f="_su";Y2f+="mV";Y2f+=" ";d92="_su";d92+="mMF";d92+=" ";r37="_";r37+="M";r37+="FV ";M0B=Math.max(T4x[x8O - 1].Close,T4x[x8O].High);x6$=Math.min(T4x[x8O - +"1"].Close,T4x[x8O].Low);Z5T.j7J(13);var S84=Z5T.c0C(15,13,5,9);Z5T.N_M(55);var p2y=Z5T.a$j(4,13999986,54999945,1);T4x[x8O]["_MFV " + h6h.name]=T4x[x8O].Volume * (S84 * T4x[x8O].Close - M0B - x6$) / (M0B - x6$ === 0?p2y:M0B - x6$);if(x8O > h6h.days - ("1" << 64)){D0p*=(h6h.days - +"1") / h6h.days;Z5T.j7J(34);var Q1a=Z5T.c0C(8,1,7);m5X*=(h6h.days - Q1a) / h6h.days;}D0p+=T4x[x8O][r37 + h6h.name];m5X+=T4x[x8O].Volume;if(x8O > h6h.days - +"1"){if(m5X){Z5T.N_M(7);T4x[x8O]["Result " + h6h.name]=Z5T.c0C(D0p,m5X > 0?m5X:+"999999");}}T4x[x8O][d92 + h6h.name]=D0p;T4x[x8O][Y2f + h6h.name]=m5X;}};X2S.Studies.studyLibrary=X2S.extend(X2S.Studies.studyLibrary,{Twiggs:{name:"Twiggs Money Flow",calculateFN:X2S.Studies.calculateTwiggsMoneyFlow,inputs:{Period:"21" >> 32}}});}};C6=h$X=>{var C_X,a0w,J7F,A8W;C_X="undefi";C_X+="ned";a0w=typeof _CIQ !== C_X?_CIQ:h$X.CIQ;if(!a0w.Studies){J7F="typicalPrice feature requires first activating ";J7F+="studies featu";J7F+="re.";console.error(J7F);}else if(!a0w.Studies.calculateTypicalPrice){console.error("typicalPrice feature requires first activating medianPrice feature.");}else {A8W="Weight";A8W+="ed Close";a0w.Studies.studyLibrary=a0w.extend(a0w.Studies.studyLibrary,{"Typical Price":{name:"Typical Price",calculateFN:a0w.Studies.calculateTypicalPrice,inputs:{Period:14}},"Weighted Close":{name:A8W,calculateFN:a0w.Studies.calculateTypicalPrice,inputs:{Period:+"14"}}});}};M$=x1K=>{var r8c,X4N,L0e,o7Q;r8c=+"1978925238";X4N=-1962589708;L0e=2;for(var x_4=1;f3BGj.S9Y(x_4.toString(),x_4.toString().length,+"39212") !== r8c;x_4++){o7Q=~_CIQ === ""?_CIQ:x1K.CIQ;L0e+=2;}f3BGj.f3X();if(f3BGj.S9Y(L0e.toString(),L0e.toString().length,50882) !== X4N){o7Q=~_CIQ === ""?_CIQ:x1K.CIQ;}o7Q=typeof _CIQ !== "undefined"?_CIQ:x1K.CIQ;if(!o7Q.Studies){console.error("ulcerIndex feature requires first activating studies feature.");}else {o7Q.Studies.calculateUlcerIndex=function(W52,h6g){var G8z,l3Y,Y5E,S3s,h7q,M7u,f1w;G8z="_";G8z+="M";G8z+="A";l3Y="s";function H7Z(f93,l6A,r9_){var w4D;w4D=null;for(var x7F=l6A - f93 + 1;x7F <= l6A;x7F++){if(x7F < 0)continue;w4D=w4D === null?Y5E[x7F][r9_]:Math.max(w4D,Y5E[x7F][r9_]);}return w4D;}l3Y+="i";l3Y+="m";l3Y+="ple";Y5E=h6g.chart.scrubbed;if(Y5E.length < ("2" | 0) * h6g.days - 1){h6g.error=!0;return;}S3s=h6g.inputs.Field;if(!S3s || S3s == "field"){S3s="Close";}for(h7q=Math.max(h6g.startFrom,h6g.days - 1);h7q < Y5E.length;h7q++){M7u="_P";M7u+="D";M7u+="2 ";Y5E[h7q][M7u + h6g.name]=Math.pow(100 * (Y5E[h7q][S3s] / H7Z(h6g.days,h7q,S3s) - 1),2);}o7Q.Studies.MA(l3Y,h6g.days,"_PD2 " + h6g.name,0,G8z,W52,h6g);for(h7q=Math.max(h6g.startFrom,2 * (h6g.days - 1));h7q < Y5E.length;h7q++){f1w=Y5E[h7q]["_MA " + h6g.name];if(f1w || f1w === 0){Y5E[h7q]["Result " + h6g.name]=Math.sqrt(f1w);}}};o7Q.Studies.studyLibrary=o7Q.extend(o7Q.Studies.studyLibrary,{Ulcer:{name:"Ulcer Index",calculateFN:o7Q.Studies.calculateUlcerIndex,inputs:{Period:14,Field:"field"}}});}};q7=p17=>{var u0Q=f3BGj;var s9e,e6o,z60;s9e=typeof _CIQ !== "undefined"?_CIQ:p17.CIQ;u0Q.T$X();if(!s9e.Studies){e6o="ultimateOscillator feature require";e6o+="s first activating studies feat";e6o+="ure.";console.error(e6o);}else {z60="U";z60+="ltim";z60+="ate Oscillator";s9e.Studies.calculateUltimateOscillator=function(Q7F,k9h){var f91,k1x,E3P,c8N,H8a,q4I,T5U,o3D,E5H,A6p,y5K,T$e,c20,j$3,D_T,j4e,I27,E47,l7P;f91=k9h.chart.scrubbed;k1x=[k9h.inputs["Cycle 1"],k9h.inputs["Cycle 2"],k9h.inputs["Cycle 3"]];E3P=Math.max(k1x[0],k1x[1],k1x[2]);if(f91.length < E3P + 1){k9h.error=!0;return;}u0Q.f3X();c8N=k1x[0] * k1x[1];H8a=k1x[0] * k1x[+"2"];u0Q.j7J(13);var J6j=u0Q.c0C(3,11,7,0);u0Q.N_M(169);var P5k=u0Q.a$j(1,11,3,16);q4I=k1x[J6j] * k1x[P5k];T5U=[+"0",0,0];o3D=[0,0,0];if(k9h.startFrom){E5H="_acc";E5H+="tr ";if(f91[k9h.startFrom - "1" * 1]["_accbp " + k9h.name]){T5U=f91[k9h.startFrom - ("1" << 64)]["_accbp " + k9h.name].slice();}if(f91[k9h.startFrom - 1]["_acctr " + k9h.name]){o3D=f91[k9h.startFrom - ("1" - 0)][E5H + k9h.name].slice();}}for(var f3u=Math.max(+"1",k9h.startFrom);f3u < f91.length;f3u++){A6p="Re";A6p+="s";A6p+="ult ";y5K="_a";y5K+="cct";y5K+="r ";T$e=Math.min(f91[f3u].Low,f91[f3u - "1" * 1].Close);c20=f91[f3u].Close - T$e;u0Q.j7J(170);var a2j=u0Q.c0C(6,2,7,0);j$3=Math.max(f91[f3u].High,f91[f3u - a2j].Close) - T$e;for(var r65=0;r65 < k1x.length;r65++){T5U[r65]+=c20;o3D[r65]+=j$3;if(f3u > k1x[r65]){D_T=Math.min(f91[f3u - k1x[r65]].Low,f91[f3u - k1x[r65] - 1].Close);j4e=f91[f3u - k1x[r65]].Close - D_T;u0Q.j7J(171);var N9x=u0Q.c0C(29,2,15,2,0);I27=Math.max(f91[f3u - k1x[r65]].High,f91[f3u - k1x[r65] - N9x].Close) - D_T;T5U[r65]-=j4e;o3D[r65]-=I27;}}f91[f3u]["_accbp " + k9h.name]=T5U.slice();f91[f3u][y5K + k9h.name]=o3D.slice();if(f3u < E3P)continue;u0Q.j7J(57);var l3U=u0Q.c0C(952,10,12,7,8);u0Q.j7J(27);var k60=u0Q.a$j(7,6);u0Q.N_M(172);var I_W=u0Q.a$j(7,5,1,5);u0Q.N_M(173);var U8Y=u0Q.a$j(15,1,19,5,10);E47=q4I * T5U[0] / o3D[0] + H8a * T5U[l3U] / o3D[k60] + c8N * T5U[I_W] / o3D[U8Y];u0Q.N_M(82);l7P=u0Q.a$j(c8N,H8a,q4I);u0Q.N_M(111);f91[f3u][A6p + k9h.name]=u0Q.a$j(E47,l7P,100);}};s9e.Studies.studyLibrary=s9e.extend(s9e.Studies.studyLibrary,{Ultimate:{name:z60,calculateFN:s9e.Studies.calculateUltimateOscillator,inputs:{"Cycle 1":7,"Cycle 2":14,"Cycle 3":28},parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};a9=I5u=>{var H1N=f3BGj;H1N.f3X();var y6Z,R3A,g26,H5b,G$v,g90,M1A;y6Z=typeof _CIQ !== "undefined"?_CIQ:I5u.CIQ;if(!y6Z.Studies){R3A="valuationLines feature requires first a";R3A+="ctivating studies feature.";console.error(R3A);}else {g26="#fff";g26+="69e";H5b="#";H5b+="e1";H5b+="e1e";H5b+="1";G$v="har";G$v+="mo";G$v+="nic";g90="media";g90+="n";M1A="m";M1A+="e";M1A+="a";M1A+="n";y6Z.Studies.calculateValuationLines=function(C5Y,F18,E4N){var g8T,M$z,k9F,a4V,V$q,z$g,w9n,m2d,c2E,H2m,l4n,F8G,L3W,V97,j6B,b$b,k3q;g8T="Di";g8T+="splay 3 Standard Deviat";g8T+="ion (3\u03C3)";M$z="Display 2 Standard Devi";M$z+="atio";M$z+="n (2\u03C3)";k9F="Aver";k9F+="ag";k9F+="e Type";a4V="Clos";a4V+="e";V$q=F18.inputs.Field == "field"?a4V:F18.inputs.Field;z$g=F18.inputs[k9F];w9n=F18.inputs["Display Average"];m2d=F18.inputs["Display 1 Standard Deviation (1\u03C3)"];c2E=F18.inputs[M$z];H2m=F18.inputs[g8T];l4n=[];for(var F4_=0;F4_ < E4N.length;++F4_){if(E4N[F4_] && !isNaN(E4N[F4_][V$q])){l4n.push(E4N[F4_][V$q]);}}F8G=(function(o83,h3I){var T_B,P3b,X9L,Y9$,Y6B,g3n,p2g,B0B,b6m;T_B="me";T_B+="d";T_B+="i";T_B+="an";P3b="h";P3b+="armoni";P3b+="c";X9L="m";X9L+="ean";Y9$=o83.length;Y6B=0;g3n=0;p2g=+"0";switch(h3I){case X9L:g3n=Y9$;for(;p2g < Y9$;++p2g){Y6B+=o83[p2g];}break;case P3b:Y6B=Y9$;for(;p2g < Y9$;++p2g){H1N.j7J(68);var B5n=H1N.c0C(2,4,13,17);g3n+=B5n / o83[p2g];}break;case T_B:H1N.N_M(7);B0B=Math.floor(H1N.a$j(Y9$,2));b6m=o83.slice().sort(function(i95,T1V){if(i95 > T1V){return +"1";}if(i95 < T1V){return -1;}return 0;});if(Y9$ % 2 === 0){H1N.N_M(174);var X5p=H1N.a$j(14,15,19,11,30);Y6B=b6m[B0B] + b6m[B0B - X5p];g3n=2;}else {Y6B=b6m[B0B];g3n=1;}break;}H1N.j7J(7);return H1N.a$j(Y6B,g3n);})(l4n,z$g);L3W=!(m2d || c2E || H2m) || (function(W1m,f1t){var S4r,n_n;S4r=W1m.length;n_n=0;H1N.T$X();for(var i4e=0;i4e < S4r;++i4e){n_n+=Math.pow(W1m[i4e] - f1t,2);}H1N.j7J(7);return Math.sqrt(H1N.a$j(n_n,S4r));})(l4n,F8G);F18.data={Average:w9n?[F8G]:null,"1 Standard Deviation (1\u03C3)":m2d?[F8G + L3W,F8G - L3W]:null,"2 Standard Deviation (2\u03C3)":c2E?[F8G + L3W * 2,F8G - L3W * 2]:null,"3 Standard Deviation (3\u03C3)":H2m?[F8G + L3W * ("3" | 3),F8G - L3W * 3]:null};V97=L3W;if(!F18.parameters){F18.parameters={};}if(H2m){H1N.N_M(175);F18.parameters.range=[H1N.a$j(3,V97,L3W,F8G),H1N.a$j(V97,L3W,F8G,3,H1N.j7J(176))];}else if(c2E){H1N.N_M(177);F18.parameters.range=[H1N.c0C(0,L3W,V97,F8G,"2"),H1N.a$j(V97,L3W,F8G,2,H1N.N_M(176))];}else if(m2d){H1N.j7J(63);F18.parameters.range=[H1N.a$j(L3W,V97,F8G),H1N.a$j(V97,L3W,F8G,H1N.N_M(82))];}else if(w9n){H1N.j7J(14);F18.parameters.range=[H1N.a$j(F8G,V97),H1N.a$j(F8G,V97,H1N.j7J(1))];}if(F18.panel){j6B=C5Y.panels[F18.panel];b$b=C5Y.getYAxisByName(j6B,F18.name);if(b$b){b$b.decimalPlaces=j6B.chart.yAxis.printDecimalPlaces;k3q={yAxis:b$b};C5Y.calculateYAxisRange(j6B,b$b,F18.parameters.range[0],F18.parameters.range[1]);C5Y.createYAxis(j6B,k3q);C5Y.drawYAxis(j6B,k3q);}}};y6Z.Studies.displayValuationLines=function(Z8J,K9N){var t4Q,C_Y,C5t,I7J,D3Q,Y9s,K1B,I9Z,n6F,N$m,m4N,i0N,q6h,q5Z,v87,x4I,B6h,I38,L_T,r2N,s3S,f0A,S5i,m7t,E2b,E$2,i1$,e1Y,R7Q,y2z,O8i,z4j;t4Q="stx_yax";t4Q+="i";t4Q+="s";C_Y="H";C_Y+="A";C_Y+="V";C_Y+="G";C5t="AV";C5t+="G";I7J=Z8J.panels[K9N.panel];D3Q=K9N.getYAxis(Z8J);Y9s=K9N.getContext(Z8J);K1B=K9N.data;I9Z=K9N.parameters.labels;n6F=K9N.inputs["Average Type"];N$m={mean:C5t,median:"MED",harmonic:C_Y};m4N=Z8J.canvasStyle("ciq-valuation-average-line");i0N=Z8J.canvasStyle("ciq-valuation-deviation-line");q6h=3;H1N.N_M(178);var j4U=H1N.a$j(13,0,1,5,2);q5Z=Z8J.getCanvasFontSize(t4Q) + q6h * j4U;for(var x55 in K1B){m7t="Av";m7t+="era";m7t+="ge";if(!K1B[x55])continue;H1N.N_M(179);v87=H1N.a$j(m7t,x55);x4I=y6Z.Studies.determineColor(K9N.outputs[x55]);B6h=K1B[x55];for(I38="0" >> 0;I38 < B6h.length;++I38){E2b="lef";E2b+="t";E$2=":";E$2+=" ";i1$="yaxi";i1$+="s";e1Y="li";e1Y+="ne";R7Q="da";R7Q+="sh";R7Q+="ed";y2z="s";y2z+="o";y2z+="lid";O8i="non";O8i+="e";L_T=B6h[I38];r2N=Z8J.pixelFromPrice(L_T,I7J,D3Q);if(r2N <= I7J.top || r2N >= I7J.yAxis.bottom)continue;S5i=v87?{pattern:m4N.borderStyle != O8i?m4N.borderStyle || y2z:"solid",lineWidth:parseFloat(m4N.borderWidth) || 1,opacity:parseFloat(m4N.opacity) || 1,yAxis:D3Q}:{pattern:i0N.borderStyle != "none"?i0N.borderStyle || "dashed":R7Q,lineWidth:parseFloat(i0N.borderWidth) || 1,opacity:parseFloat(i0N.opacity) || "1" ^ 0,yAxis:D3Q};Z8J.plotLine(I7J.left,I7J.right,r2N,r2N,x4I,e1Y,Y9s,I7J,S5i);if(I9Z === i1$){Z8J.createYAxisLabel(I7J,Z8J.formatYAxisPrice(L_T,I7J),r2N,x4I,null,Y9s,D3Q);continue;}r2N+=Math.floor(S5i.lineWidth / 2);if(r2N + q5Z >= I7J.yAxis.bottom)continue;s3S=(v87?N$m[n6F] + E$2:x55[0] + "\u03C3: ") + Z8J.formatYAxisPrice(L_T,I7J);f0A=Y9s.measureText(s3S).width;z4j=I7J.right - f0A - q6h;if(D3Q && D3Q.position == E2b){z4j=I7J.left + q6h;}H1N.N_M(180);Y9s.strokeText(s3S,z4j,H1N.a$j("2",q5Z,0,r2N,0.5));}}};y6Z.Studies.studyLibrary=y6Z.extend(y6Z.Studies.studyLibrary,{"val lines":{name:"Valuation Lines",calculateFN:function(){},seriesFN:function(F8X,R2v,v73){H1N.T$X();y6Z.Studies.calculateValuationLines(F8X,R2v,v73);y6Z.Studies.displayValuationLines(F8X,R2v);},overlay:!![],yAxisFN:function(){},inputs:{Field:"field","Average Type":[M1A,g90,G$v],"Display Average":!!1,"Display 1 Standard Deviation (1\u03C3)":!!0,"Display 2 Standard Deviation (2\u03C3)":![],"Display 3 Standard Deviation (3\u03C3)":!({})},outputs:{Average:"#00afed","1 Standard Deviation (1\u03C3)":H5b,"2 Standard Deviation (2\u03C3)":"#85c99e","3 Standard Deviation (3\u03C3)":g26}}});}};U9=P2z=>{var V$z,G9K,u0n,u$k;V$z=typeof _CIQ !== "undefined"?_CIQ:P2z.CIQ;if(!V$z.Studies){console.error("volatilityIndex feature requires first activating studies feature.");}else {G9K="a";G9K+="u";G9K+="t";G9K+="o";u0n="0 ";u0n+="to 10";u0n+="0";u$k="Relative Vol";u$k+="atility";V$z.Studies.calculateRelativeVolatility=function(N0N,k2x){var U9s=f3BGj;var B$C,b8$,G8d,i3n,d80,Z89,x46,Y9e;B$C="m";B$C+="a";k2x.days=Number(k2x.inputs["Smoothing Period"]);b8$=Number(k2x.inputs["STD Period"]);G8d=k2x.chart.scrubbed;if(G8d.length < k2x.days + b8$){k2x.error=!!1;return;}i3n=k2x.inputs.Field;if(!i3n || i3n == "field"){i3n="Close";}k2x.std=new V$z.Studies.StudyDescriptor(k2x.name,"sdev",k2x.panel);k2x.std.chart=k2x.chart;k2x.std.days=b8$;k2x.std.startFrom=k2x.startFrom;k2x.std.inputs={Field:i3n,"Standard Deviations":1,Type:B$C};k2x.std.outputs={_STD:null};function y2y(v1a,P6R){if(v1a + P6R === +"0"){return 100;}U9s.N_M(181);return U9s.c0C(100,P6R,v1a,v1a);}V$z.Studies.calculateStandardDeviation(N0N,k2x.std);d80=0;Z89=0;if(k2x.startFrom > +"1"){d80=G8d[k2x.startFrom - +"1"]["_avgG " + k2x.name] || 0;Z89=G8d[k2x.startFrom - 1]["_avgL " + k2x.name] || "0" | 0;}for(var n7Z=Math.max(k2x.startFrom,k2x.days);n7Z < G8d.length;n7Z++){x46=G8d[n7Z];U9s.j7J(94);Y9e=G8d[U9s.c0C(n7Z,"1")];if(!x46[i3n] && x46[i3n] !== 0)continue;if(!Y9e[i3n] && Y9e[i3n] !== +"0")continue;if(!x46["_STD " + k2x.name] && x46["_STD " + k2x.name] !== 0)continue;if(x46[i3n] > Y9e[i3n]){U9s.N_M(14);var k0C=U9s.a$j(8,7);d80=(d80 * (k2x.days - k0C) + x46["_STD " + k2x.name]) / k2x.days;U9s.j7J(14);var y5W=U9s.a$j(17,16);Z89=Z89 * (k2x.days - y5W) / k2x.days;}else {U9s.N_M(63);var X5y=U9s.c0C(11,8,20);Z89=(Z89 * (k2x.days - X5y) + x46["_STD " + k2x.name]) / k2x.days;U9s.N_M(182);var w4A=U9s.c0C(6,0,6,1,1);d80=d80 * (k2x.days - w4A) / k2x.days;}x46["Rel Vol " + k2x.name]=y2y(d80,Z89);x46["_avgG " + k2x.name]=d80;x46["_avgL " + k2x.name]=Z89;}k2x.zoneOutput="Rel Vol";};V$z.Studies.calculateHistoricalVolatility=function(i5G,W26){var k4I=f3BGj;var J58,x4M,M_W,V$i,f1K,K6t,I1h,T16,n4l;J58=W26.chart.scrubbed;function C0f(v3H){if(isNaN(v3H)){v3H=365;}if(i5G.layout.interval == "day"){return v3H;}else if(i5G.layout.interval == "week"){return 52;}else if(i5G.layout.interval == "month"){return 12;}k4I.T$X();return v3H;}if(J58.length < W26.days + 1){W26.error=!"";return;}x4M=W26.inputs.Field;if(!x4M || x4M == "field"){x4M="Close";}M_W=W26.inputs["Standard Deviations"];if(M_W < 0){M_W=1;}k4I.j7J(101);var w_J=k4I.c0C(1316,5,7,108,13);V$i=w_J * Math.sqrt(C0f(W26.inputs["Days Per Year"])) * M_W;f1K=[];K6t=0;if(W26.startFrom > "1" >> 0){K6t=J58[W26.startFrom - +"1"]["_state " + W26.name][0];f1K=J58[W26.startFrom - 1]["_state " + W26.name][1].slice();}for(var Y5W=Math.max(1,W26.startFrom);Y5W < J58.length;Y5W++){k4I.j7J(94);I1h=J58[k4I.c0C(Y5W,"1")][x4M];if(I1h){T16=Math.log(J58[Y5W][x4M] / I1h);f1K.push(T16);K6t+=T16;if(Y5W >= W26.days){n4l=+"0";K6t/=W26.days;for(var n4D=0;n4D < f1K.length;n4D++){n4l+=Math.pow(f1K[n4D] - K6t,2);}K6t*=W26.days;K6t-=f1K.shift();J58[Y5W]["Result " + W26.name]=Math.sqrt(n4l / W26.days) * V$i;}}J58[Y5W]["_state " + W26.name]=[K6t,f1K.slice()];}};V$z.Studies.studyLibrary=V$z.extend(V$z.Studies.studyLibrary,{"Hist Vol":{name:"Historical Volatility",calculateFN:V$z.Studies.calculateHistoricalVolatility,inputs:{Period:10,Field:"field","Days Per Year":[252,365],"Standard Deviations":1},attributes:{"Standard Deviations":{min:+"0.1",step:0.1}}},"Rel Vol":{name:u$k,range:u0n,calculateFN:V$z.Studies.calculateRelativeVolatility,inputs:{Field:"field","STD Period":10,"Smoothing Period":14},outputs:{"Rel Vol":G9K},centerline:50,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:"30" - 0,studyOverSoldColor:"auto"}}}});}};d5=h5i=>{var T3w=f3BGj;var I3h,a7N;I3h=typeof _CIQ !== "undefined"?_CIQ:h5i.CIQ;T3w.T$X();if(!I3h.Studies){console.error("volumeProfile feature requires first activating studies feature.");}else {a7N="Volu";a7N+="m";a7N+="e Prof";a7N+="ile";I3h.Studies.displayVolumeProfile=function(P__,Z4c,a6g){var x3N,o7o,u81,F2b,h_8,A8D,b_O,l2r,j46,D$i,e9o,I2K,U7F,D4O,V$5,G74,i$e,i9Y,W5g,j5u,n6B,F$F,f2H,l_f,F1d;if(!P__ || !P__.chart.dataSet){return;}function k2F(D0y,F2M){var R$e,P9Z,c$Y,T$J,n0V,m1m,D9q,x3M,f69;if(!F2M){i9Y-=2;}F$F.canvasColor(D0y);U7F.beginPath();T3w.N_M(46);R$e=b_O[0][T3w.c0C("0",0)];P9Z=i9Y;for(var l3W="1" - 0;l3W < b_O.length;l3W++){if(b_O[l3W][1]){T3w.N_M(0);var h$u=T3w.a$j(320,3,18,18);c$Y=Math.round(i9Y - b_O[l3W][h$u] * W5g / l2r) - 0.5;T$J=Math.round(F$F.pixelFromTransformedValue(R$e,G74)) + ("0.5" - 0);n0V=Math.round(F$F.pixelFromTransformedValue(b_O[l3W][+"0"],G74)) + 0.5;if(!F2M){T$J-=0.5;n0V+=0.5;c$Y+=0.5;}if(T$J > i$e){T$J=i$e;}if(n0V < i$e){U7F.moveTo(i9Y,T$J);U7F.lineTo(i9Y,n0V);U7F.lineTo(c$Y,n0V);U7F.lineTo(c$Y,T$J);if(F2M){if(P9Z > c$Y || l3W == 1){U7F.lineTo(P9Z,T$J);};}else {U7F.lineTo(i9Y,T$J);if(h_8){m1m=I3h.condenseInt(b_O[l3W][1]);T3w.N_M(14);D9q=T3w.c0C(T$J,n0V);if(V$5 <= D9q - 2){try{x3M=U7F.measureText(m1m).width;}catch(I51){x3M=+"0";}U7F.textBaseline="top";f69=U7F.fillStyle;U7F.fillStyle=j5u;T3w.j7J(63);U7F.fillText(m1m,T3w.a$j(x3M,3,c$Y),T3w.a$j(D9q,V$5,2,2,n0V,T3w.j7J(183)));U7F.fillStyle=f69;}}}}P9Z=c$Y;}else {P9Z=i9Y;;}T3w.j7J(46);R$e=b_O[l3W][T3w.c0C("0",0)];}if(!Z4c.highlight && P__.highlightedDraggable){U7F.globalAlpha*=0.3;}if(!F2M){U7F.fill();}U7F.strokeStyle=j5u;if(F2M){U7F.stroke();}U7F.closePath();}x3N=P__.chart;o7o=Z4c.parameters.numberOfBars;u81=Z4c.parameters.widthPercentage;F2b=Z4c.parameters.displayBorder;h_8=Z4c.parameters.displayVolume;if(!o7o || o7o < +"0"){o7o=30;}o7o=Math.ceil(o7o);if(!u81 || u81 < 0){u81=0.25;}if(F2b !== !!""){F2b=!!1;}if(h_8 !== !0){h_8=!1;}A8D=(x3N.highValue - x3N.lowValue) / o7o;if(A8D === 0){return;}b_O=[];for(var b57=x3N.lowValue;b57 < x3N.highValue + 0.1;b57+=A8D){b_O.push([b57,+"0"]);}if(b_O.length < 2){P__.displayErrorAsWatermark("chart",P__.translateIf("Not enough data to render the Volume Profile"));return;}l2r=0;for(var s_t=0;s_t < a6g.length;s_t++){j46=a6g[s_t];if(!j46)continue;D$i=j46.Volume;if(Z4c.panel == x3N.name && j46.transform){j46=j46.transform;}e9o=b_O[0][0];I2K=0;for(var L2r=1;L2r < b_O.length;L2r++){I2K=b_O[L2r][0];if(j46.Low >= e9o && j46.Low <= I2K || j46.Low < e9o && j46.High > I2K || j46.High >= e9o && j46.High <= I2K){b_O[L2r][+"1"]+=D$i;if(b_O[L2r][1] > l2r){l2r=b_O[L2r][1];}}e9o=I2K;}}if(l2r === 0){P__.displayErrorAsWatermark("chart",P__.translateIf("Not enough data to render the Volume Profile"));return;}P__.setStyle("stx_volume_profile","color",I3h.Studies.determineColor(Z4c.outputs["Bars Color"]));U7F=Z4c.getContext(P__);D4O="stx-float-date";P__.canvasFont(D4O,U7F);V$5=P__.getCanvasFontSize(D4O);G74=x3N.panel;i$e=G74.yAxis.bottom;i9Y=Math.round(x3N.right) - 0.5;W5g=x3N.width * u81;j5u=P__.canvasStyle("stx_volume_profile").borderTopColor;n6B=!I3h.isTransparent(P__.canvasStyle("stx_volume_profile").borderTopColor) && F2b;F$F=P__;k2F("stx_volume_profile",!"1");if(n6B){k2F("stx_volume_profile",!![]);}T3w.j7J(4);f2H=-T3w.c0C("1922240287",1);l_f=-1247173282;F1d=2;for(var H5l=1;T3w.O1W(H5l.toString(),H5l.toString().length,96806) !== f2H;H5l++){U7F.globalAlpha=5;F1d+=2;}if(T3w.S9Y(F1d.toString(),F1d.toString().length,90616) !== l_f){U7F.globalAlpha=5;}U7F.globalAlpha=1;};I3h.Studies.studyLibrary=I3h.extend(I3h.Studies.studyLibrary,{"vol profile":{name:a7N,underlay:!"",seriesFN:I3h.Studies.displayVolumeProfile,calculateFN:null,inputs:{},outputs:{"Bars Color":"#b64a96"},customRemoval:!!1,parameters:{init:{displayBorder:!!({}),displayVolume:!({}),numberOfBars:30,widthPercentage:0.25}},attributes:{yaxisDisplayValue:{hidden:!!1},panelName:{hidden:!![]},flippedEnabled:{hidden:!![]}}}});}};o7=i8J=>{var f6b=f3BGj;var b3K,H9O,x4C,j7f,l4H,h$S,s2r,d0U,h72,S81,d1L,Y$z,q1B,w7M;b3K=-+"326070533";H9O=1405609193;x4C=2;for(var T9V=1;f6b.O1W(T9V.toString(),T9V.toString().length,12746) !== b3K;T9V++){j7f=typeof _CIQ !== "undefined"?_CIQ:i8J.CIQ;x4C+=2;}if(f6b.S9Y(x4C.toString(),x4C.toString().length,50755) !== H9O){j7f=-_CIQ == ""?_CIQ:i8J.CIQ;}if(!j7f.Studies){console.error("volumeStudies feature requires first activating studies feature.");}else {l4H="#b82";l4H+="c0c";h$S="Vo";h$S+="lu";h$S+="me Under";h$S+="lay";s2r="Trade Volume I";s2r+="ndex";d0U="Price Volume ";d0U+="Trend";h72="#F";h72+="F0";h72+="000";S81="a";S81+="u";S81+="t";S81+="o";d1L="#FF";d1L+="00";d1L+="00";Y$z="m";Y$z+="a";q1B="f";q1B+="iel";q1B+="d";w7M="Negative Vol";w7M+="ume ";w7M+="Inde";w7M+="x";j7f.Studies.calculateOnBalanceVolume=function(V99,s5z){var v6w,I68,g1n,N4f,d1M,g5Z,d1I,Y5O,b$q,s0h,M1S,y$p,O46,k0Q,p$C;v6w="f";v6w+="ield";I68=s5z.inputs.Field;if(!I68 || I68 == v6w){I68="Close";}g1n=s5z.inputs["Min Tick Value"];N4f=!!"";if(!g1n && g1n !== +"0"){N4f=!!({});d1M=1160176223;g5Z=1055944688;d1I=2;for(var f5D=1;f6b.S9Y(f5D.toString(),f5D.toString().length,"66165" << 32) !== d1M;f5D++){g1n=0;d1I+=2;}if(f6b.S9Y(d1I.toString(),d1I.toString().length,87319) !== g5Z){g1n=+"2";}}Y5O=s5z.chart.scrubbed;b$q=0;s0h=781454516;f6b.f3X();f6b.N_M(5);M1S=f6b.a$j(1,"2073931254");y$p=2;for(var S_c="1" << 32;f6b.S9Y(S_c.toString(),S_c.toString().length,15810) !== s0h;S_c++){y$p+=2;}if(f6b.S9Y(y$p.toString(),y$p.toString().length,79077) !== M1S){}for(var p9R=s5z.startFrom;p9R < Y5O.length;p9R++){O46=Y5O[p9R];if(!p9R || !O46[I68])continue;if(Y5O[p9R - 1][I68]){f6b.j7J(14);k0Q=Y5O[f6b.a$j(p9R,1)];}if(!k0Q)continue;if(O46[I68] - k0Q[I68] > g1n){b$q=1;}else if(k0Q[I68] - O46[I68] > g1n){b$q=-1;}else if(N4f){b$q=0;}p$C=k0Q["Result " + s5z.name];if(!p$C){p$C=+"0";}p$C+=O46.Volume * b$q;O46["Result " + s5z.name]=p$C;}};j7f.Studies.calculatePriceVolumeTrend=function(Y12,e5$){var o5a,T3W,y9a,L2Z;o5a=e5$.inputs.Field;if(!o5a || o5a == "field"){o5a="Close";}T3W=e5$.chart.scrubbed;y9a=0;if(e5$.startFrom > 1){L2Z="Re";L2Z+="su";L2Z+="lt ";f6b.j7J(184);var w55=f6b.c0C(25,1,7,46);y9a=T3W[e5$.startFrom - ("1" << w55)][L2Z + e5$.name];}for(var u4U=Math.max(1,e5$.startFrom);u4U < T3W.length;u4U++){if(!T3W[u4U][o5a])continue;if(!T3W[u4U - ("1" | 0)][o5a])continue;f6b.N_M(185);var s4p=f6b.c0C(9,4,19,2);f6b.N_M(184);var j7F=f6b.c0C(4,6,5,12);y9a+=T3W[u4U].Volume * (T3W[u4U][o5a] - T3W[u4U - s4p][o5a]) / T3W[u4U - j7F][o5a];T3W[u4U]["Result " + e5$.name]=y9a;}};j7f.Studies.calculateVolumeIndex=function(n1Y,d4v){var E6$,y$0,S8t,e8M,G9n,m7K,T$L,k3o,q$t,I05;E6$="I";E6$+="ndex ";y$0=d4v.inputs.Field;if(!y$0 || y$0 == "field"){y$0="Close";}S8t=d4v.chart.scrubbed;if(S8t.length < d4v.days + 1){d4v.error=!![];return;}f6b.T$X();e8M=100;if(d4v.startFrom > 1){f6b.N_M(123);var P71=f6b.a$j(1,18,6,0,4);e8M=S8t[d4v.startFrom - P71][E6$ + d4v.name];}for(var E8H=Math.max(1,d4v.startFrom);E8H < S8t.length;E8H++){G9n="In";G9n+="d";G9n+="ex ";m7K="Ne";m7K+="g Vol";T$L=S8t[E8H][y$0];k3o=S8t[E8H].Volume;if(T$L && typeof T$L == "object"){k3o=T$L.Volume;T$L=T$L[d4v.subField];}f6b.N_M(14);q$t=S8t[f6b.c0C(E8H,1)][y$0];I05=S8t[E8H - 1].Volume;if(q$t && typeof q$t == "object"){I05=q$t.Volume;q$t=q$t[d4v.subField];}if(!T$L)continue;if(!q$t)continue;if(d4v.type == "Pos Vol" && k3o > I05 || d4v.type == m7K && k3o < I05){f6b.N_M(7);e8M*=f6b.a$j(T$L,q$t);}S8t[E8H][G9n + d4v.name]=e8M;}j7f.Studies.MA(d4v.inputs["Moving Average Type"],d4v.days,"Index " + d4v.name,0,"MA",n1Y,d4v);};j7f.Studies.studyLibrary=j7f.extend(j7f.Studies.studyLibrary,{"Neg Vol":{name:w7M,calculateFN:j7f.Studies.calculateVolumeIndex,inputs:{Period:255,Field:q1B,"Moving Average Type":Y$z},outputs:{Index:"auto",MA:d1L}},"On Bal Vol":{name:"On Balance Volume",calculateFN:j7f.Studies.calculateOnBalanceVolume,inputs:{}},"Pos Vol":{name:"Positive Volume Index",calculateFN:j7f.Studies.calculateVolumeIndex,inputs:{Period:255,Field:"field","Moving Average Type":"ma"},outputs:{Index:S81,MA:h72}},"Price Vol":{name:d0U,calculateFN:j7f.Studies.calculatePriceVolumeTrend,inputs:{Field:"field"}},"Trade Vol":{name:s2r,calculateFN:j7f.Studies.calculateOnBalanceVolume,inputs:{"Min Tick Value":0.5}},"Vol ROC":{name:"Volume Rate of Change",calculateFN:function(F1M,Q9s){if(j7f.Studies.calculateRateOfChange){j7f.Studies.calculateRateOfChange(F1M,Q9s);}else {console.error("Volume Rate of Change study requires first activating momentum feature.");j7f.Studies.calculateRateOfChange=function(P$V,n_l){};}},parameters:{init:{isVolume:!!({})}}},"vol undr":{name:h$S,underlay:!!"1",range:"0 to max",yAxis:{ground:!![],initialMarginTop:"0" << 32,position:"none",zoom:0,heightFactor:"0.25" * 1},seriesFN:j7f.Studies.createVolumeChart,calculateFN:j7f.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":"#8cc176","Down Volume":l4H},customRemoval:!![],removeFN:function(t9g,V_I){var b2F;b2F="l";b2F+="ayo";b2F+="u";b2F+="t";t9g.layout.volumeUnderlay=!({});t9g.changeOccurred(b2F);},attributes:{panelName:{hidden:!![]}}}});}};t2=g7j=>{var T9e,e2s,j2E,g02,W3q;T9e=typeof _CIQ !== "undefined"?_CIQ:g7j.CIQ;if(!T9e.Studies){e2s="vortex featu";e2s+="re requires firs";e2s+="t acti";e2s+="vating studies feature.";console.error(e2s);}else {j2E="0";j2E+=".0";j2E+="1";g02="#00";g02+="F";g02+="F00";W3q="Vo";W3q+="rtex Indicator";T9e.Studies.calculateVortex=function(Q$m,Z6d){var o64=f3BGj;var D8R,K$K,j40,P_R,L$v,u1P,H6K,X4j,u2v,b9m,w3U,h63;D8R=Z6d.chart.scrubbed;K$K=Z6d.days;if(D8R.length < K$K + 1){Z6d.error=!![];return;}o64.T$X();j40={tr:0,vmPlus:0,vmMinus:0};if(Z6d.startFrom > +"1"){j40=T9e.clone(D8R[Z6d.startFrom - +"1"]["_totals " + Z6d.name]);}for(var k8t=Math.max(Z6d.startFrom,+"1");k8t < D8R.length;k8t++){P_R=D8R[k8t];o64.j7J(14);L$v=D8R[o64.a$j(k8t,1)];u1P=Math.abs(P_R.High - L$v.Low);H6K=Math.abs(P_R.Low - L$v.High);X4j=Math.max(P_R.High,L$v.Close) - Math.min(P_R.Low,L$v.Close);j40.tr+=X4j;j40.vmPlus+=u1P;j40.vmMinus+=H6K;if(k8t > K$K){u2v="_VM";u2v+="Mi";u2v+="n";u2v+="us ";b9m="_VMP";b9m+="l";b9m+="u";b9m+="s ";w3U="_True Rang";w3U+="e ";o64.j7J(14);j40.tr-=D8R[o64.a$j(k8t,K$K)][w3U + Z6d.name];o64.N_M(14);j40.vmPlus-=D8R[o64.c0C(k8t,K$K)][b9m + Z6d.name];o64.j7J(14);j40.vmMinus-=D8R[o64.c0C(k8t,K$K)][u2v + Z6d.name];}P_R["_True Range " + Z6d.name]=X4j;P_R["_VMPlus " + Z6d.name]=u1P;P_R["_VMMinus " + Z6d.name]=H6K;if(k8t >= K$K){h63="-";h63+="V";h63+="I";h63+=" ";P_R["+VI " + Z6d.name]=j40.vmPlus / j40.tr;P_R[h63 + Z6d.name]=j40.vmMinus / j40.tr;}P_R["_totals " + Z6d.name]=T9e.clone(j40);}};T9e.Studies.studyLibrary=T9e.extend(T9e.Studies.studyLibrary,{Vortex:{name:W3q,calculateFN:T9e.Studies.calculateVortex,centerline:1,outputs:{"+VI":g02,"-VI":"#FF0000"},parameters:{init:{studyOverZonesEnabled:!!"1",studyOverBoughtValue:1.1,studyOverBoughtColor:"auto",studyOverSoldValue:0.9,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:1,step:"0.01"},studyOverSoldValue:{max:1,step:j2E}}}});}};m_=G_6=>{var R1_=f3BGj;R1_.T$X();var R_q,L2x;R_q=typeof _CIQ !== "undefined"?_CIQ:G_6.CIQ;if(!R_q.Studies){console.error("williamsMFI feature requires first activating studies feature.");}else {L2x="#ffd0c";L2x+="f";R_q.Studies.calculateMFI=function(r0H,w31){var k$9,U_j,D2v,u0_,M61,d$O,U7x;R1_.T$X();k$9=w31.chart.scrubbed;R1_.j7J(31);D2v=R1_.a$j("0",32);u0_=w31.inputs["Scale Factor"];if(!u0_){u0_=w31.study.inputs["Scale Factor"];}M61=Math.pow(10,Number(u0_));if(w31.startFrom > "1" >> 96){R1_.N_M(119);var j8d=R1_.a$j(5,57,19,4);D2v=k$9[w31.startFrom - j8d]["_high " + w31.name];}for(d$O=w31.startFrom;d$O < k$9.length;d$O++){if(!k$9[d$O])continue;if(k$9[d$O].Volume){U7x="_";U7x+="hi";U7x+="st";k$9[d$O][w31.name + U7x]=U_j=M61 * (k$9[d$O].High - k$9[d$O].Low) / k$9[d$O].Volume;k$9[d$O]["_high " + w31.name]=D2v=Math.max(D2v,U_j);}}w31.outputMap={};w31.outputMap[w31.name + "_hist"]="";};R_q.Studies.displayMFI=function(n6W,N6X,K1c){var e_y,h$l,U2B,d3_,L8e,a9G,Z9g,S8T,f3i,p4p,d3h,m7C;e_y="stx_";e_y+="histogr";e_y+="am";h$l=n6W.panels[N6X.panel];U2B=N6X.getContext(n6W);d3_=N6X.getYAxis(n6W);L8e=d3_.flipped?d3_.top:d3_.bottom;R1_.N_M(186);var k97=R1_.c0C(18,15,15,4052);a9G=n6W.layout.candleWidth - k97;if(a9G < 2){a9G=1;}Z9g=R_q.Studies.determineColor(N6X.outputs.Green);S8T=R_q.Studies.determineColor(N6X.outputs.Fade);R1_.T$X();f3i=R_q.Studies.determineColor(N6X.outputs.Fake);p4p=R_q.Studies.determineColor(N6X.outputs.Squat);n6W.canvasColor(e_y);if(!N6X.underlay){U2B.globalAlpha=1;}U2B.fillStyle="#CCCCCC";n6W.startClip(N6X.panel);if(!N6X.highlight && n6W.highlightedDraggable){U2B.globalAlpha*=0.3;}for(var r1n=0;r1n < K1c.length;r1n++){d3h=K1c[r1n];R1_.N_M(14);m7C=K1c[R1_.c0C(r1n,1)];if(!m7C){m7C=n6W.getPreviousBar(n6W.chart,N6X.name + "_hist",r1n);}if(!d3h)continue;if(!m7C);else if(m7C[N6X.name + "_hist"] < d3h[N6X.name + "_hist"]){if(m7C.Volume < d3h.Volume){U2B.fillStyle=Z9g;}else if(m7C.Volume > d3h.Volume){U2B.fillStyle=f3i;}}else if(m7C[N6X.name + "_hist"] > d3h[N6X.name + "_hist"]){if(m7C.Volume < d3h.Volume){U2B.fillStyle=p4p;}else if(m7C.Volume > d3h.Volume){U2B.fillStyle=S8T;}}if(d3h.candleWidth){a9G=Math.floor(Math.max(1,d3h.candleWidth - 2));}U2B.fillRect(Math.floor(n6W.pixelFromBar(r1n,h$l.chart) - a9G / 2),Math.floor(L8e),Math.floor(a9G),Math.floor(n6W.pixelFromPrice(d3h[N6X.name + "_hist"],h$l,d3_) - L8e));}n6W.endClip();};R_q.Studies.studyLibrary=R_q.extend(R_q.Studies.studyLibrary,{"W MFI":{name:"Market Facilitation Index",seriesFN:R_q.Studies.displayMFI,calculateFN:R_q.Studies.calculateMFI,yAxis:{ground:!0},range:"0 to max",inputs:{"Scale Factor":6},outputs:{Green:"#8bc176",Fade:"#ab611f",Fake:"#5f7cb8",Squat:L2x}}});}};c7={CIQ:a4,SplinePlotter:p4,timezoneJS:j0,$$:J2,$$$:g9};export {N as aggregations};export {Q as drawingAdvanced};export {Z as equationsAdvanced};export {S as highPerformanceMarkers};export {W as renderersAdvanced};export {o as accumulationDistribution};export {U as adx};export {g as alligator};export {Y as aroon};export {G as atr};export {X as awesomeOscillator};export {E as balanceOfPower};export {F as bollinger};export {I as cci};export {M_ as centerOfGravity};export {h1 as chaikin};export {W3 as chande};export {W9 as choppiness};export {C5 as comparisonStudies};export {b4 as coppock};export {f3 as darvasBox};export {n8 as detrended};export {p9 as disparity};export {f8 as easeOfMovement};export {A3 as ehlerFisher};export {b0 as elder};export {j4 as fractalChaos};export {U1 as highLowStudies};export {W2 as ichimoku};export {K0 as intradayMomentum};export {G_ as keltner};export {T8 as klinger};export {d8 as linearRegression};export {T6 as macd};export {k1 as massIndex};export {e4 as moneyFlow};export {A1 as movingAverages};export {d_ as parabolicSAR};export {O9 as pivotPoints};export {s4 as prettyGoodOscillator};export {e5 as priceMomentumOscillator};export {C$ as priceVolumeOscillator};export {y9 as primeNumber};export {v8 as pring};export {L4 as projectedVolume};export {o3 as psychologicalLine};export {i8 as qstick};export {O$ as rainbow};export {r_ as randomWalk};export {O5 as relativeVigor};export {i3 as rsi};export {Q7 as schaffTrendCycle};export {Z4 as shinohara};export {T0 as stochastics};export {x$ as supertrend};export {k4 as swingIndex};export {N1 as trendIntensity};export {a7 as trix};export {h3 as twiggsMoneyFlow};export {C6 as typicalPrice};export {M$ as ulcerIndex};export {q7 as ultimateOscillator};export {a9 as valuationLines};export {U9 as volatilityIndex};export {d5 as volumeProfile};export {o7 as volumeStudies};export {t2 as vortex};export {m_ as williamsMFI};export {a4 as CIQ, p4 as SplinePlotter, j0 as timezoneJS, J2 as $$, g9 as $$$};if(typeof __TREE_SHAKE__ === "undefined" || !__TREE_SHAKE__){c7.CIQ.activateImports(N,Q,Z,S,W,o,U,g,Y,G,X,E,F,I,M_,h1,W3,W9,C5,b4,f3,n8,p9,f8,A3,b0,j4,U1,W2,K0,G_,T8,d8,T6,k1,e4,A1,d_,O9,s4,e5,C$,y9,v8,L4,o3,i8,O$,r_,O5,i3,Q7,Z4,T0,x$,k4,N1,a7,h3,C6,M$,q7,a9,U9,d5,o7,t2,m_,null);}/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */
