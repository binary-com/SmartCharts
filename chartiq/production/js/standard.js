/**!
 *	8.2.0
 *	Generation date: 2023-03-23T15:05:01.971Z
 *	Client name: deriv limited
 *	Package Type: Technical Analysis
 *	License type: annual
 *	Expiration date: "2024/04/01"
 *	Domain lock: ["127.0.0.1","localhost","deriv.com","deriv.app","deriv.me","binary.com","binary.sx","binary.me","binary.bot","deriv.be"]
 *	iFrame lock: true
 */

/***********************************************************!
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/
/*************************************! DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! !*************************************
* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting *
* and load that file right after the library has been loaded, but before the chart engine is instantiated.              *
* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          *
*************************************************************************************************************************/
/* eslint-disable no-extra-parens */


/* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */
A2IFV[370258]=(function(){var u=2;for(;u !== 9;){switch(u){case 2:u=typeof globalThis === '\x6f\x62\x6a\u0065\x63\x74'?1:5;break;case 1:return globalThis;break;case 5:var Y;u=4;break;case 4:try{var I=2;for(;I !== 6;){switch(I){case 2:Object['\u0064\x65\x66\u0069\x6e\u0065\u0050\u0072\u006f\u0070\x65\u0072\x74\x79'](Object['\x70\u0072\u006f\x74\u006f\x74\u0079\x70\x65'],'\x4c\u006c\u0036\u0052\x39',{'\x67\x65\x74':function(){var S=2;for(;S !== 1;){switch(S){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});Y=Ll6R9;I=5;break;case 5:Y['\x42\u0042\u004f\x38\x38']=Y;I=4;break;case 4:I=typeof BBO88 === '\x75\u006e\x64\u0065\u0066\u0069\u006e\u0065\x64'?3:9;break;case 3:throw "";I=9;break;case 9:delete Y['\x42\x42\u004f\u0038\x38'];var X=Object['\u0070\x72\u006f\u0074\u006f\x74\x79\u0070\x65'];delete X['\x4c\x6c\u0036\x52\u0039'];I=6;break;}}}catch(V){Y=window;}return Y;break;}}})();v7DJT7(A2IFV[370258]);A2IFV[446427]=(function(){var s1Y=function(E2b,T1A){var T$2=T1A & 0xffff;var u90=T1A - T$2;return (u90 * E2b | 0) + (T$2 * E2b | 0) | 0;},V29cT4d=function(v69,y0n,B6w){var Q9K=0xcc9e2d51,k7N=0x1b873593;var I5b=B6w;var x$k=y0n & ~0x3;for(var J$C=0;J$C < x$k;J$C+=4){var M$v=v69.u1pzh(J$C) & 0xff | (v69.u1pzh(J$C + 1) & 0xff) << 8 | (v69.u1pzh(J$C + 2) & 0xff) << 16 | (v69.u1pzh(J$C + 3) & 0xff) << 24;M$v=s1Y(M$v,Q9K);M$v=(M$v & 0x1ffff) << 15 | M$v >>> 17;M$v=s1Y(M$v,k7N);I5b^=M$v;I5b=(I5b & 0x7ffff) << 13 | I5b >>> 19;I5b=I5b * 5 + 0xe6546b64 | 0;}M$v=0;switch(y0n % 4){case 3:M$v=(v69.u1pzh(x$k + 2) & 0xff) << 16;case 2:M$v|=(v69.u1pzh(x$k + 1) & 0xff) << 8;case 1:M$v|=v69.u1pzh(x$k) & 0xff;M$v=s1Y(M$v,Q9K);M$v=(M$v & 0x1ffff) << 15 | M$v >>> 17;M$v=s1Y(M$v,k7N);I5b^=M$v;}I5b^=y0n;I5b^=I5b >>> 16;I5b=s1Y(I5b,0x85ebca6b);I5b^=I5b >>> 13;I5b=s1Y(I5b,0xc2b2ae35);I5b^=I5b >>> 16;return I5b;};return {V29cT4d:V29cT4d};})();A2IFV.i0k=function(){return typeof A2IFV[539515].x96qQgs === 'function'?A2IFV[539515].x96qQgs.apply(A2IFV[539515],arguments):A2IFV[539515].x96qQgs;};A2IFV.Z2Z=function(){return typeof A2IFV[446427].V29cT4d === 'function'?A2IFV[446427].V29cT4d.apply(A2IFV[446427],arguments):A2IFV[446427].V29cT4d;};A2IFV[539515]=(function(){var x5P=2;for(;x5P !== 4;){switch(x5P){case 2:var Z9Q=A2IFV[370258];var J5c,I$p;x5P=5;break;case 5:return {x96qQgs:function(N3J,E3K,a1T,N29){var J8W=2;for(;J8W !== 1;){switch(J8W){case 2:return g4x(N3J,E3K,a1T,N29);break;}}},q7DznqI:function(F1n,c_b,T_9,i_Q){var m3I=2;for(;m3I !== 1;){switch(m3I){case 2:return g4x(F1n,c_b,T_9,i_Q,true);break;}}}};break;}}function Q5l(y_C){var d_p=2;for(;d_p !== 7;){switch(d_p){case 2:var L9v=8;var Y$z='';d_p=5;break;case 3:Y$z+=b1IKJ.r7BEA(y_C[m8V] - L9v + 103);d_p=9;break;case 9:m8V++;d_p=4;break;case 5:var m8V=0;d_p=4;break;case 4:d_p=m8V < y_C.length?3:8;break;case 8:return Y$z;break;}}}function g4x(q_W,d8h,u2p,D5s,F4M){var Q8N=2;for(;Q8N !== 15;){switch(Q8N){case 13:Q8N=d8h && B01 > 0 && P4E.u1pzh(B01 - 1) !== 46?12:11;break;case 6:return A2IFV.Z2Z(t4S,D7E,u2p);break;case 16:return A2IFV.Z2Z(t4S,D7E,u2p);break;case 2:var t4S,D7E,P4E,k3P;k3P=Z9Q[Q5l([13,16,4,2,21,10,16,15])];!J5c && (J5c=typeof k3P !== "undefined"?k3P[Q5l([9,16,20,21,15,2,14,6])] || ' ':"");!I$p && (I$p=typeof k3P !== "undefined"?k3P[Q5l([9,19,6,7])]:"");Q8N=3;break;case 12:return false;break;case 8:t4S=P4E.P61UPs(q_W,D5s);D7E=t4S.length;Q8N=6;break;case 9:Q8N=D5s > 0?8:19;break;case 11:t4S=P4E.P61UPs(B01,P4E.length);D7E=t4S.length;return A2IFV.Z2Z(t4S,D7E,u2p);break;case 19:Q8N=q_W === null || q_W <= 0?18:14;break;case 14:var B01=P4E.length - q_W;Q8N=13;break;case 18:t4S=P4E.P61UPs(0,P4E.length);D7E=t4S.length;Q8N=16;break;case 3:P4E=F4M?I$p:J5c;Q8N=9;break;}}}})();A2IFV.X_e=function(){return typeof A2IFV[539515].q7DznqI === 'function'?A2IFV[539515].q7DznqI.apply(A2IFV[539515],arguments):A2IFV[539515].q7DznqI;};A2IFV[238553]=(function(){var B0h=2;for(;B0h !== 9;){switch(B0h){case 2:var Z6D=[arguments];Z6D[6]=undefined;Z6D[4]={};B0h=4;break;case 4:Z6D[4].i9agN$W=function(){var z6S=2;for(;z6S !== 90;){switch(z6S){case 4:g_z[8]=[];g_z[7]={};g_z[7].q7f=['l1M'];g_z[7].J7t=function(){var l1r=false;var E0r=[];try{for(var F7O in console){E0r.v2Dr4c(F7O);}l1r=E0r.length === 0;}catch(f$5){}var j_x=l1r;return j_x;};z6S=7;break;case 67:Z6D[6]=69;return 43;break;case 76:z6S=g_z[60] < g_z[48][g_z[26]].length?75:70;break;case 41:g_z[15].J7t=function(){var J$W=typeof R7xSoN === 'function';return J$W;};g_z[66]=g_z[15];g_z[39]={};g_z[39].q7f=['l0m'];g_z[39].J7t=function(){var x6z=function(){return ('\u0041\u030A').normalize('NFC') === ('\u212B').normalize('NFC');};var l_4=(/\164\x72\x75\u0065/).U7qArr(x6z + []);return l_4;};z6S=36;break;case 46:g_z[8].v2Dr4c(g_z[3]);g_z[8].v2Dr4c(g_z[4]);g_z[75]=[];g_z[28]='i4d';z6S=63;break;case 50:g_z[8].v2Dr4c(g_z[9]);g_z[8].v2Dr4c(g_z[93]);g_z[8].v2Dr4c(g_z[6]);g_z[8].v2Dr4c(g_z[66]);z6S=46;break;case 63:g_z[25]='z5O';g_z[26]='q7f';g_z[50]='N9_';g_z[88]='J7t';z6S=59;break;case 77:g_z[60]=0;z6S=76;break;case 59:g_z[14]='g0W';z6S=58;break;case 1:z6S=Z6D[6]?5:4;break;case 54:g_z[8].v2Dr4c(g_z[31]);g_z[8].v2Dr4c(g_z[90]);g_z[8].v2Dr4c(g_z[52]);g_z[8].v2Dr4c(g_z[10]);z6S=50;break;case 17:g_z[5].q7f=['l0m'];g_z[5].J7t=function(){var f25=function(){return ('x').startsWith('x');};var P9Y=(/\164\u0072\x75\145/).U7qArr(f25 + []);return P9Y;};g_z[3]=g_z[5];g_z[57]={};z6S=26;break;case 56:g_z[48]=g_z[8][g_z[99]];try{g_z[47]=g_z[48][g_z[88]]()?g_z[28]:g_z[25];}catch(R9l){g_z[47]=g_z[25];}z6S=77;break;case 57:z6S=g_z[99] < g_z[8].length?56:69;break;case 71:g_z[60]++;z6S=76;break;case 70:g_z[99]++;z6S=57;break;case 26:g_z[57].q7f=['l1M'];g_z[57].J7t=function(){var n46=typeof u9FqVY === 'function';return n46;};z6S=24;break;case 69:z6S=(function(M2p){var c2y=2;for(;c2y !== 22;){switch(c2y){case 14:c2y=typeof p$6[8][p$6[4][g_z[14]]] === 'undefined'?13:11;break;case 23:return p$6[9];break;case 17:p$6[7]=0;c2y=16;break;case 11:p$6[8][p$6[4][g_z[14]]].t+=true;c2y=10;break;case 2:var p$6=[arguments];c2y=1;break;case 6:p$6[4]=p$6[0][0][p$6[7]];c2y=14;break;case 24:p$6[7]++;c2y=16;break;case 18:p$6[9]=false;c2y=17;break;case 15:p$6[5]=p$6[6][p$6[7]];p$6[3]=p$6[8][p$6[5]].h / p$6[8][p$6[5]].t;c2y=26;break;case 26:c2y=p$6[3] >= 0.5?25:24;break;case 1:c2y=p$6[0][0].length === 0?5:4;break;case 16:c2y=p$6[7] < p$6[6].length?15:23;break;case 20:p$6[8][p$6[4][g_z[14]]].h+=true;c2y=19;break;case 5:return;break;case 12:p$6[6].v2Dr4c(p$6[4][g_z[14]]);c2y=11;break;case 10:c2y=p$6[4][g_z[50]] === g_z[28]?20:19;break;case 4:p$6[8]={};p$6[6]=[];p$6[7]=0;c2y=8;break;case 13:p$6[8][p$6[4][g_z[14]]]=(function(){var C$I=2;for(;C$I !== 9;){switch(C$I){case 4:u5z[6].t=0;return u5z[6];break;case 2:var u5z=[arguments];u5z[6]={};u5z[6].h=0;C$I=4;break;}}}).l8l_mL(this,arguments);c2y=12;break;case 8:p$6[7]=0;c2y=7;break;case 25:p$6[9]=true;c2y=24;break;case 7:c2y=p$6[7] < p$6[0][0].length?6:18;break;case 19:p$6[7]++;c2y=7;break;}}})(g_z[75])?68:67;break;case 20:g_z[2].J7t=function(){var Y3p=function(){return escape('=');};var m31=(/\x33\x44/).U7qArr(Y3p + []);return m31;};g_z[9]=g_z[2];g_z[5]={};z6S=17;break;case 5:return 24;break;case 7:g_z[4]=g_z[7];g_z[1]={};g_z[1].q7f=['l1M'];g_z[1].J7t=function(){var b7A=typeof Y9zrsl === 'function';return b7A;};g_z[6]=g_z[1];g_z[2]={};g_z[2].q7f=['l0m'];z6S=20;break;case 28:g_z[11].J7t=function(){var n$r=function(){return ('x y').slice(0,1);};var j5R=!(/\x79/).U7qArr(n$r + []);return j5R;};g_z[31]=g_z[11];g_z[15]={};g_z[15].q7f=['l1M'];z6S=41;break;case 68:z6S=64?68:67;break;case 2:var g_z=[arguments];z6S=1;break;case 32:g_z[59].J7t=function(){var k$K=function(){return unescape('%3D');};var b3M=(/\x3d/).U7qArr(k$K + []);return b3M;};g_z[52]=g_z[59];g_z[11]={};g_z[11].q7f=['l0m'];z6S=28;break;case 21:g_z[62].J7t=function(){var K5C=function(){var W2U=function(D$M){for(var Z9i=0;Z9i < 20;Z9i++){D$M+=Z9i;}return D$M;};W2U(2);};var q4M=(/\x31\u0039\x32/).U7qArr(K5C + []);return q4M;};g_z[90]=g_z[62];g_z[59]={};g_z[59].q7f=['l0m'];z6S=32;break;case 36:g_z[93]=g_z[39];z6S=54;break;case 58:g_z[99]=0;z6S=57;break;case 24:g_z[10]=g_z[57];g_z[62]={};g_z[62].q7f=['l0m'];z6S=21;break;case 75:g_z[58]={};g_z[58][g_z[14]]=g_z[48][g_z[26]][g_z[60]];g_z[58][g_z[50]]=g_z[47];g_z[75].v2Dr4c(g_z[58]);z6S=71;break;}}};return Z6D[4];break;}}})();function v7DJT7(b4$){function v3X(T22,d3_,D9l,Q$4,R43){var C5n=2;for(;C5n !== 6;){switch(C5n){case 2:var n_U=[arguments];n_U[6]="fi";n_U[7]="neProperty";n_U[2]="";n_U[2]="de";C5n=9;break;case 9:n_U[4]=true;n_U[4]=false;try{var l3l=2;for(;l3l !== 13;){switch(l3l){case 14:try{var d2S=2;for(;d2S !== 3;){switch(d2S){case 2:n_U[8]=n_U[2];n_U[8]+=n_U[6];n_U[8]+=n_U[7];n_U[0][0].Object[n_U[8]](n_U[1],n_U[0][4],n_U[5]);d2S=3;break;}}}catch(v$D){}l3l=13;break;case 7:n_U[5].get=function(){var C$N=2;for(;C$N !== 13;){switch(C$N){case 7:Y10[2]+=Y10[5];Y10[2]+=Y10[1];return typeof n_U[1][n_U[0][2]] == Y10[2]?undefined:n_U[1][n_U[0][2]];break;case 2:var Y10=[arguments];Y10[1]="d";Y10[5]="";Y10[5]="";Y10[5]="ne";Y10[7]="undefi";Y10[2]=Y10[7];C$N=7;break;}}};n_U[5].enumerable=n_U[4];l3l=14;break;case 9:n_U[1][n_U[0][4]]=n_U[1][n_U[0][2]];n_U[5].set=function(h6F){var L5C=2;for(;L5C !== 5;){switch(L5C){case 2:var R6K=[arguments];n_U[1][n_U[0][2]]=R6K[0][0];L5C=5;break;}}};l3l=7;break;case 3:return;break;case 4:l3l=n_U[1].hasOwnProperty(n_U[0][4]) && n_U[1][n_U[0][4]] === n_U[1][n_U[0][2]]?3:9;break;case 2:n_U[5]={};n_U[3]=(1,n_U[0][1])(n_U[0][0]);n_U[1]=[n_U[3],n_U[3].prototype][n_U[0][3]];l3l=4;break;}}}catch(i_R){}C5n=6;break;}}}function w0x(m3B){var e$m=2;for(;e$m !== 5;){switch(e$m){case 2:var E2Z=[arguments];return E2Z[0][0].Function;break;}}}function K_Q(z9Z){var X$7=2;for(;X$7 !== 5;){switch(X$7){case 2:var P34=[arguments];return P34[0][0];break;}}}function c_k(X8V){var q2M=2;for(;q2M !== 5;){switch(q2M){case 2:var d18=[arguments];return d18[0][0].Array;break;}}}function H6I(U0T){var a9n=2;for(;a9n !== 5;){switch(a9n){case 2:var X8P=[arguments];return X8P[0][0].RegExp;break;}}}var m8_=2;for(;m8_ !== 151;){switch(m8_){case 37:d8s[20]="l";d8s[50]="residu";d8s[70]="";d8s[70]="rs";m8_=52;break;case 127:M6Y(I1B,"substring",d8s[79],d8s[59]);m8_=126;break;case 85:d8s[15]+=d8s[22];d8s[15]+=d8s[97];d8s[17]=d8s[72];d8s[17]+=d8s[28];m8_=81;break;case 92:d8s[29]=d8s[27];d8s[29]+=d8s[57];d8s[29]+=d8s[35];d8s[73]=d8s[99];m8_=117;break;case 68:d8s[79]=1;d8s[48]=1;d8s[48]=9;d8s[48]=0;m8_=89;break;case 72:d8s[84]="";d8s[84]="";d8s[84]="l8";d8s[79]=4;m8_=68;break;case 126:M6Y(I1B,"replace",d8s[79],d8s[16]);m8_=125;break;case 81:d8s[17]+=d8s[63];d8s[56]=d8s[94];d8s[56]+=d8s[96];d8s[56]+=d8s[91];m8_=104;break;case 100:d8s[24]+=d8s[38];d8s[24]+=d8s[26];d8s[81]=d8s[18];d8s[81]+=d8s[70];m8_=96;break;case 14:d8s[2]="b";d8s[9]="";d8s[9]="BEA";d8s[6]="";m8_=10;break;case 10:d8s[6]="7";d8s[1]="1I";d8s[4]="";d8s[4]="";d8s[4]="1UPs";d8s[5]="";d8s[5]="";m8_=27;break;case 152:M6Y(w0x,"apply",d8s[79],d8s[86]);m8_=151;break;case 130:M6Y(I1B,"charCodeAt",d8s[79],d8s[95]);m8_=129;break;case 123:M6Y(K_Q,d8s[89],d8s[48],d8s[81]);m8_=122;break;case 96:d8s[81]+=d8s[20];d8s[89]=d8s[49];d8s[89]+=d8s[50];d8s[89]+=d8s[87];m8_=92;break;case 3:d8s[3]="";d8s[3]="pz";d8s[7]="";d8s[7]="KJ";d8s[2]="";m8_=14;break;case 120:M6Y(K_Q,d8s[17],d8s[48],d8s[15]);m8_=152;break;case 28:d8s[57]="";d8s[57]="r4";d8s[27]="";d8s[27]="v2D";m8_=41;break;case 129:M6Y(K_Q,"String",d8s[48],d8s[47]);m8_=128;break;case 104:d8s[31]=d8s[66];d8s[31]+=d8s[93];d8s[31]+=d8s[32];d8s[24]=d8s[98];m8_=100;break;case 124:M6Y(c_k,"push",d8s[79],d8s[29]);m8_=123;break;case 41:d8s[87]="";d8s[87]="al";d8s[99]="P5ii";d8s[20]="";m8_=37;break;case 2:var d8s=[arguments];d8s[8]="";d8s[8]="";d8s[8]="h";m8_=3;break;case 131:var M6Y=function(u7O,A4P,y6j,P7t){var A3v=2;for(;A3v !== 5;){switch(A3v){case 2:var M7b=[arguments];v3X(d8s[0][0],M7b[0][0],M7b[0][1],M7b[0][2],M7b[0][3]);A3v=5;break;}}};m8_=130;break;case 125:M6Y(c_k,"map",d8s[79],d8s[73]);m8_=124;break;case 48:d8s[93]="";d8s[93]="trac";d8s[38]="7qAr";d8s[66]="";d8s[49]="__";m8_=64;break;case 89:d8s[86]=d8s[84];d8s[86]+=d8s[65];d8s[86]+=d8s[55];d8s[15]=d8s[14];m8_=85;break;case 111:d8s[59]+=d8s[37];d8s[59]+=d8s[4];d8s[85]=d8s[26];d8s[85]+=d8s[6];d8s[85]+=d8s[9];m8_=106;break;case 121:M6Y(K_Q,d8s[31],d8s[48],d8s[56]);m8_=120;break;case 128:M6Y(I1B,"fromCharCode",d8s[48],d8s[85]);m8_=127;break;case 76:d8s[94]="u";d8s[63]="mize";d8s[55]="L";d8s[65]="l_m";m8_=72;break;case 117:d8s[73]+=d8s[41];d8s[73]+=d8s[21];d8s[16]=d8s[13];d8s[16]+=d8s[78];d8s[16]+=d8s[5];d8s[59]=d8s[76];m8_=111;break;case 106:d8s[47]=d8s[2];d8s[47]+=d8s[1];d8s[47]+=d8s[7];d8s[95]=d8s[68];m8_=133;break;case 52:d8s[26]="";d8s[26]="r";d8s[32]="t";d8s[98]="U";m8_=48;break;case 133:d8s[95]+=d8s[3];d8s[95]+=d8s[8];m8_=131;break;case 27:d8s[68]="u1";d8s[5]="I";d8s[78]="";d8s[78]="";m8_=23;break;case 23:d8s[78]="1sbW";d8s[21]="";d8s[21]="s";d8s[37]="6";m8_=34;break;case 34:d8s[41]="";d8s[76]="P";d8s[13]="C";d8s[41]="M";d8s[35]="";d8s[35]="c";m8_=28;break;case 122:M6Y(H6I,"test",d8s[79],d8s[24]);m8_=121;break;case 57:d8s[97]="SoN";d8s[14]="R";d8s[55]="";d8s[22]="7x";m8_=76;break;case 64:d8s[66]="__abs";d8s[96]="";d8s[18]="Y9z";d8s[96]="9";d8s[28]="i";d8s[91]="FqVY";d8s[72]="__opt";m8_=57;break;}}function I1B(u6X){var h8V=2;for(;h8V !== 5;){switch(h8V){case 2:var d4E=[arguments];return d4E[0][0].String;break;}}}}A2IFV.D0J=function(){return typeof A2IFV[593596].g9iUvuS === 'function'?A2IFV[593596].g9iUvuS.apply(A2IFV[593596],arguments):A2IFV[593596].g9iUvuS;};A2IFV[370258].N8gg=A2IFV;A2IFV[150014]=(function(h2w){var k7A=2;for(;k7A !== 10;){switch(k7A){case 11:return {R3ta_F9:function(S6b){var r8q=2;for(;r8q !== 6;){switch(r8q){case 5:r8q=!u0t--?4:3;break;case 3:r8q=!u0t--?9:8;break;case 2:var C9$=new p3D[h2w[0]]()[h2w[1]]();r8q=1;break;case 9:J1h=C9$ + 60000;r8q=8;break;case 7:return l4F?p$k:!p$k;break;case 1:r8q=C9$ > J1h?5:8;break;case 8:var l4F=(function(H0w,b_b){var i8Q=2;for(;i8Q !== 10;){switch(i8Q){case 9:i8Q=n9Q < H0w[b_b[5]]?8:11;break;case 3:var F4l,n9Q=0;i8Q=9;break;case 8:var w$K=p3D[b_b[4]](H0w[b_b[2]](n9Q),16)[b_b[3]](2);var N$Y=w$K[b_b[2]](w$K[b_b[5]] - 1);i8Q=6;break;case 13:n9Q++;i8Q=9;break;case 4:b_b=h2w;i8Q=3;break;case 11:return F4l;break;case 12:F4l=F4l ^ N$Y;i8Q=13;break;case 5:i8Q=typeof b_b === 'undefined' && typeof h2w !== 'undefined'?4:3;break;case 6:i8Q=n9Q === 0?14:12;break;case 14:F4l=N$Y;i8Q=13;break;case 1:H0w=S6b;i8Q=5;break;case 2:i8Q=typeof H0w === 'undefined' && typeof S6b !== 'undefined'?1:5;break;}}})(undefined,undefined);r8q=7;break;case 4:p$k=Q9J(C9$);r8q=3;break;}}}};break;case 2:var p3D,y0y,F$6,u0t;k7A=1;break;case 4:var q7_='fromCharCode',z74='RegExp';k7A=3;break;case 5:p3D=A2IFV[370258];k7A=4;break;case 13:k7A=!u0t--?12:11;break;case 12:var p$k,J1h=0;k7A=11;break;case 8:k7A=!u0t--?7:6;break;case 7:F$6=y0y.C1sbWI(new p3D[z74]("^['-|]"),'S');k7A=6;break;case 6:k7A=!u0t--?14:13;break;case 14:h2w=h2w.P5iiMs(function(w9q){var D1B=2;for(;D1B !== 13;){switch(D1B){case 8:Z1I++;D1B=3;break;case 14:return G9G;break;case 7:D1B=!G9G?6:14;break;case 2:var G9G;D1B=1;break;case 4:var Z1I=0;D1B=3;break;case 6:return;break;case 9:G9G+=p3D[F$6][q7_](w9q[Z1I] + 93);D1B=8;break;case 1:D1B=!u0t--?5:4;break;case 3:D1B=Z1I < w9q.length?9:7;break;case 5:G9G='';D1B=4;break;}}});k7A=13;break;case 1:k7A=!u0t--?5:4;break;case 9:y0y=typeof q7_;k7A=8;break;case 3:k7A=!u0t--?9:8;break;}}function Q9J(c_L){var i_w=2;for(;i_w !== 15;){switch(i_w){case 3:o2K=27;i_w=9;break;case 20:C96=c_L - l$4 > o2K && F1t - c_L > o2K;i_w=19;break;case 8:Y1h=h2w[6];i_w=7;break;case 13:o8r=h2w[7];i_w=12;break;case 4:i_w=!u0t--?3:9;break;case 10:i_w=l$4 >= 0 && F1t >= 0?20:18;break;case 17:C96=c_L - l$4 > o2K;i_w=19;break;case 5:O7R=p3D[h2w[4]];i_w=4;break;case 16:C96=F1t - c_L > o2K;i_w=19;break;case 19:return C96;break;case 12:i_w=!u0t--?11:10;break;case 11:l$4=(o8r || o8r === 0) && O7R(o8r,o2K);i_w=10;break;case 6:F1t=Y1h && O7R(Y1h,o2K);i_w=14;break;case 7:i_w=!u0t--?6:14;break;case 14:i_w=!u0t--?13:12;break;case 1:i_w=!u0t--?5:4;break;case 2:var C96,o2K,Y1h,F1t,o8r,l$4,O7R;i_w=1;break;case 18:i_w=l$4 >= 0?17:16;break;case 9:i_w=!u0t--?8:7;break;}}}})([[-25,4,23,8],[10,8,23,-9,12,16,8],[6,11,4,21,-28,23],[23,18,-10,23,21,12,17,10],[19,4,21,22,8,-20,17,23],[15,8,17,10,23,11],[-39,-44,18,6,19,17,8,7,-45],[]]);A2IFV.j89=function(){return typeof A2IFV[539515].q7DznqI === 'function'?A2IFV[539515].q7DznqI.apply(A2IFV[539515],arguments):A2IFV[539515].q7DznqI;};A2IFV.D0H=function(){return typeof A2IFV[238553].i9agN$W === 'function'?A2IFV[238553].i9agN$W.apply(A2IFV[238553],arguments):A2IFV[238553].i9agN$W;};A2IFV.T36=function(){return typeof A2IFV[150014].R3ta_F9 === 'function'?A2IFV[150014].R3ta_F9.apply(A2IFV[150014],arguments):A2IFV[150014].R3ta_F9;};A2IFV[103941]=285;A2IFV[636832]=A2IFV[539515];A2IFV.S40=function(){return typeof A2IFV[593596].N$y1PkD === 'function'?A2IFV[593596].N$y1PkD.apply(A2IFV[593596],arguments):A2IFV[593596].N$y1PkD;};A2IFV.U6$=function(){return typeof A2IFV[446427].V29cT4d === 'function'?A2IFV[446427].V29cT4d.apply(A2IFV[446427],arguments):A2IFV[446427].V29cT4d;};A2IFV.q7n=function(){return typeof A2IFV[593596].N$y1PkD === 'function'?A2IFV[593596].N$y1PkD.apply(A2IFV[593596],arguments):A2IFV[593596].N$y1PkD;};A2IFV[156040]=false;A2IFV.H6P=function(){return typeof A2IFV[593596].g9iUvuS === 'function'?A2IFV[593596].g9iUvuS.apply(A2IFV[593596],arguments):A2IFV[593596].g9iUvuS;};A2IFV[593596]=(function(d8Y){return {N$y1PkD:function(){var L0X,H3E=arguments;switch(d8Y){case 28:L0X=H3E[0] >> H3E[1];break;case 48:L0X=H3E[3] + H3E[2] + H3E[1] + H3E[0];break;case 112:L0X=-H3E[3] - H3E[2] + H3E[4] + H3E[0] - H3E[1];break;case 135:L0X=(H3E[1] - H3E[3]) * H3E[2] - H3E[0];break;case 143:L0X=(H3E[4] + H3E[2]) / H3E[0] + H3E[1] - H3E[3];break;case 141:L0X=(H3E[1] - H3E[7]) * (H3E[5] - H3E[6]) + (H3E[3] - H3E[0]) * (H3E[4] - H3E[2]);break;case 138:L0X=H3E[0] / H3E[1] / H3E[3] / H3E[2] + H3E[4];break;case 47:L0X=H3E[0] + +H3E[2] * H3E[1];break;case 142:L0X=-H3E[4] * H3E[1] * H3E[2] - H3E[0] + H3E[3];break;case 19:L0X=H3E[0] + H3E[2] + H3E[1] - H3E[3];break;case 10:L0X=H3E[0] | H3E[1];break;case 49:L0X=H3E[1] + (H3E[3] - H3E[2]) + H3E[0];break;case 4:L0X=H3E[3] + H3E[0] / H3E[1] - H3E[2];break;case 35:L0X=(H3E[2] + H3E[1] + H3E[3]) * H3E[0] - H3E[4];break;case 91:L0X=-H3E[0] / H3E[4] * H3E[3] / H3E[1] + H3E[2];break;case 109:L0X=(H3E[1] + H3E[2] - H3E[0]) / H3E[3] + H3E[4];break;case 2:L0X=-H3E[2] - H3E[0] + H3E[1];break;case 42:L0X=H3E[2] * H3E[0] + H3E[3] * H3E[1];break;case 54:L0X=(H3E[1] + H3E[2]) * H3E[4] + H3E[3] - H3E[0];break;case 102:L0X=H3E[1] * (H3E[2] / H3E[0]);break;case 34:L0X=(H3E[0] + H3E[1]) * H3E[2] / H3E[4] - H3E[3];break;case 65:L0X=(H3E[3] - H3E[2]) / H3E[1] * H3E[4] - H3E[0];break;case 11:L0X=(H3E[0] + H3E[1]) * H3E[3] - H3E[2];break;case 92:L0X=(H3E[0] + H3E[2] - H3E[3]) * H3E[4] - H3E[1];break;case 62:L0X=H3E[3] * H3E[0] - H3E[2] - H3E[1];break;case 21:L0X=H3E[0] ^ H3E[1];break;case 132:L0X=H3E[3] / H3E[4] * H3E[1] + H3E[2] - H3E[0];break;case 25:L0X=(H3E[1] - H3E[0]) * H3E[2];break;case 63:L0X=H3E[2] * H3E[0] / H3E[1] * H3E[3] - H3E[4];break;case 128:L0X=H3E[0] - H3E[2] / +H3E[1];break;case 147:L0X=(H3E[3] - H3E[1] / H3E[0]) * H3E[2];break;case 40:L0X=H3E[1] << H3E[0];break;case 5:L0X=H3E[1] + (H3E[2] >> H3E[0]);break;case 72:L0X=H3E[1] != H3E[0];break;case 144:L0X=H3E[4] * (H3E[0] / H3E[2] - H3E[1]) + H3E[3];break;case 27:L0X=(-H3E[0] - H3E[1]) * H3E[3] + H3E[2];break;case 33:L0X=H3E[1] + H3E[3] - H3E[2] - H3E[0];break;case 67:L0X=H3E[4] + H3E[1] - H3E[0] + H3E[3] - H3E[2];break;case 95:L0X=-H3E[1] / H3E[2] + H3E[0];break;case 20:L0X=(H3E[1] - H3E[3]) * H3E[0] + H3E[4] + H3E[2];break;case 85:L0X=H3E[0] - (H3E[2] - H3E[1]);break;case 137:L0X=H3E[2] - (H3E[1] | H3E[0]);break;case 50:L0X=H3E[0] - (H3E[1] >> H3E[3]) + H3E[2];break;case 127:L0X=H3E[3] * H3E[2] * H3E[0] + (H3E[5] - H3E[4] * H3E[1]) * H3E[6];break;case 22:L0X=H3E[2] / H3E[0] * H3E[1] - H3E[3];break;case 134:L0X=(H3E[2] + H3E[3]) / H3E[0] * H3E[4] + H3E[1];break;case 120:L0X=(H3E[1] - H3E[4]) / H3E[3] / H3E[0] + H3E[2];break;case 115:L0X=H3E[2] / (H3E[1] * H3E[0]);break;case 146:L0X=H3E[2] - H3E[0] * H3E[1];break;case 122:L0X=(H3E[2] + H3E[1]) * H3E[3] - H3E[0] - H3E[4];break;case 117:L0X=-H3E[0] + H3E[2] - H3E[3] + H3E[1];break;case 125:L0X=(H3E[1] - H3E[3]) * H3E[0] + H3E[2];break;case 133:L0X=(H3E[4] + H3E[0]) / H3E[1] / H3E[3] - H3E[2];break;case 106:L0X=(H3E[1] - H3E[4]) / H3E[0] + H3E[3] + H3E[2];break;case 81:L0X=H3E[0] | H3E[3] | H3E[4] | H3E[1] | H3E[2];break;case 107:L0X=(H3E[4] * H3E[1] + H3E[0]) / H3E[3] - H3E[2];break;case 37:L0X=H3E[1] + H3E[2] + H3E[0];break;case 118:L0X=H3E[4] / H3E[2] * H3E[3] * H3E[1] - H3E[0];break;case 8:L0X=H3E[0] / +H3E[1];break;case 94:L0X=H3E[4] + H3E[2] + H3E[0] - H3E[1] - H3E[3];break;case 23:L0X=H3E[1] / H3E[4] + H3E[0] + H3E[3] - H3E[2];break;case 66:L0X=H3E[2] + H3E[3] + H3E[1] - H3E[0] + H3E[4];break;case 140:L0X=H3E[2] / H3E[0] / H3E[1];break;case 16:L0X=-H3E[0] + H3E[1];break;case 9:L0X=(H3E[2] + H3E[1]) / H3E[0];break;case 80:L0X=H3E[2] | H3E[1] | H3E[0];break;case 6:L0X=(H3E[1] - H3E[3] - H3E[2]) / H3E[4] + H3E[0];break;case 76:L0X=+H3E[1] << H3E[0];break;case 43:L0X=H3E[2] + H3E[0] / H3E[1];break;case 111:L0X=H3E[2] / H3E[1] - H3E[3] - H3E[4] + H3E[0];break;case 96:L0X=H3E[0] * H3E[2] / (H3E[1] + H3E[3]);break;case 60:L0X=H3E[3] / H3E[2] + H3E[1] - H3E[0];break;case 82:L0X=(H3E[3] - H3E[1] - H3E[0]) % H3E[2];break;case 64:L0X=H3E[0] / H3E[1] - H3E[3] + H3E[2];break;case 100:L0X=H3E[1] * H3E[2] / H3E[0];break;case 99:L0X=H3E[0] * (H3E[1] + H3E[2] / H3E[3]);break;case 79:L0X=H3E[2] | H3E[1] | H3E[0] | H3E[3];break;case 30:L0X=(H3E[1] + H3E[0]) * H3E[3] + H3E[2];break;case 38:L0X=H3E[2] - (H3E[0] >> H3E[1]);break;case 53:L0X=H3E[4] / H3E[1] / H3E[3] * H3E[2] - H3E[0];break;case 83:L0X=H3E[3] / H3E[2] * H3E[0] / H3E[4] - H3E[1];break;case 56:L0X=H3E[2] + H3E[1] - H3E[4] - H3E[3] + H3E[0];break;case 104:L0X=H3E[3] / H3E[0] + H3E[2] + H3E[1];break;case 131:L0X=H3E[0] * ((H3E[2] - H3E[3]) / H3E[4] + H3E[1]);break;case 61:L0X=-H3E[0] * H3E[3] / H3E[1] + H3E[2];break;case 51:L0X=(H3E[2] - H3E[0]) / H3E[1] - H3E[4] + H3E[3];break;case 89:L0X=H3E[2] + (H3E[3] - H3E[1]) * H3E[0];break;case 124:L0X=H3E[2] / (H3E[1] + H3E[0]);break;case 46:L0X=H3E[0] - H3E[2] / H3E[1];break;case 101:L0X=(H3E[3] - H3E[0] + H3E[2]) * H3E[1] - H3E[4];break;case 108:L0X=H3E[0] * H3E[2] / H3E[1] + H3E[3];break;case 39:L0X=H3E[0] - H3E[1] - H3E[2];break;case 97:L0X=H3E[0] + (H3E[2] ^ H3E[1]);break;case 93:L0X=(-H3E[2] * H3E[1] - H3E[3]) * H3E[4] + H3E[0];break;case 103:L0X=H3E[0] / (H3E[2] ^ H3E[1]);break;case 41:L0X=-H3E[0] * H3E[1] + H3E[2];break;case 69:L0X=H3E[0] * H3E[1];break;case 73:L0X=H3E[0] + H3E[4] + H3E[3] + H3E[2] + H3E[1];break;case 75:L0X=H3E[0] % H3E[1];break;case 139:L0X=-H3E[3] - H3E[1] - H3E[4] + H3E[2] + H3E[0];break;case 87:L0X=-H3E[2] * H3E[1] - H3E[0] + H3E[4] + H3E[3];break;case 55:L0X=(H3E[1] + H3E[0]) / H3E[2] + H3E[3];break;case 105:L0X=-H3E[2] / H3E[4] + H3E[3] - H3E[1] + H3E[0];break;case 17:L0X=(H3E[4] + H3E[0] - H3E[3]) / H3E[2] - H3E[1];break;case 149:L0X=-H3E[1] * H3E[2] / H3E[4] - H3E[0] + H3E[3];break;case 116:L0X=H3E[0] * (H3E[2] << H3E[3]) / H3E[1];break;case 129:L0X=H3E[2] + H3E[0] / (H3E[1] << H3E[3]);break;case 58:L0X=H3E[1] + (H3E[0] - H3E[2]);break;case 36:L0X=H3E[1] - H3E[2] + H3E[0];break;case 7:L0X=H3E[1] - H3E[0];break;case 44:L0X=H3E[2] - H3E[0] / H3E[3] - H3E[1];break;case 14:L0X=H3E[1] / H3E[0];break;case 98:L0X=(H3E[1] + H3E[0] + H3E[2]) / H3E[4] - H3E[3];break;case 68:L0X=H3E[0] == H3E[1];break;case 29:L0X=(H3E[2] + H3E[3]) / H3E[1] / H3E[4] + H3E[0];break;case 90:L0X=H3E[1] * H3E[2] * H3E[3] - H3E[0];break;case 32:L0X=H3E[2] * H3E[1] + H3E[0];break;case 24:L0X=H3E[3] / H3E[4] + H3E[2] - H3E[1] - H3E[0];break;case 74:L0X=H3E[0] <= H3E[1];break;case 13:L0X=H3E[3] * H3E[2] / H3E[1] - H3E[0];break;case 12:L0X=H3E[0] / H3E[2] + H3E[1];break;case 78:L0X=H3E[0] << (H3E[1] | H3E[2]);break;case 52:L0X=H3E[1] * H3E[2] - H3E[0];break;case 59:L0X=(H3E[0] - H3E[1]) / (H3E[2] - H3E[3]);break;case 0:L0X=H3E[0] + H3E[1];break;case 15:L0X=H3E[1] + H3E[0] - H3E[2];break;case 114:L0X=H3E[3] - (H3E[0] - H3E[1]) - +H3E[2];break;case 77:L0X=H3E[1] >= H3E[0];break;case 45:L0X=H3E[2] + H3E[0] * H3E[1];break;case 148:L0X=(H3E[1] + H3E[0] / H3E[3]) * H3E[2];break;case 88:L0X=H3E[0] - +H3E[2] * H3E[1];break;case 1:L0X=H3E[1] * H3E[0];break;case 3:L0X=H3E[2] - H3E[0] / (H3E[4] ^ H3E[1]) + H3E[3];break;case 26:L0X=H3E[0] + (H3E[1] + H3E[4] * H3E[2]) * H3E[3];break;case 136:L0X=H3E[1] * +H3E[0];break;case 31:L0X=H3E[3] / H3E[1] / H3E[0] - H3E[2];break;case 84:L0X=H3E[0] === H3E[1];break;case 130:L0X=H3E[1] * +H3E[0] * +H3E[3] * H3E[2];break;case 145:L0X=H3E[0] * H3E[2] * H3E[1];break;case 70:L0X=H3E[0] > H3E[1];break;case 57:L0X=(H3E[1] - H3E[2]) / H3E[3] + H3E[0];break;case 110:L0X=H3E[1] * H3E[2] * H3E[3] - H3E[0] - H3E[4];break;case 126:L0X=(H3E[3] / H3E[4] + H3E[1]) * H3E[2] - H3E[0];break;case 18:L0X=H3E[0] / H3E[1] - H3E[2];break;case 71:L0X=H3E[1] < H3E[0];break;case 121:L0X=H3E[3] - H3E[2] - H3E[0] + H3E[1];break;case 113:L0X=H3E[3] - H3E[2] + (H3E[1] >> H3E[0]);break;case 86:L0X=-H3E[2] + H3E[1] + H3E[0];break;case 123:L0X=H3E[3] * H3E[1] + H3E[0] - H3E[2];break;case 119:L0X=H3E[3] + H3E[4] - H3E[0] - H3E[2] - H3E[1];break;}return L0X;},g9iUvuS:function(I8_){d8Y=I8_;}};})();A2IFV.b3E=function(){return typeof A2IFV[150014].R3ta_F9 === 'function'?A2IFV[150014].R3ta_F9.apply(A2IFV[150014],arguments):A2IFV[150014].R3ta_F9;};A2IFV.n54=function(){return typeof A2IFV[539515].x96qQgs === 'function'?A2IFV[539515].x96qQgs.apply(A2IFV[539515],arguments):A2IFV[539515].x96qQgs;};A2IFV.a9S=function(){return typeof A2IFV[238553].i9agN$W === 'function'?A2IFV[238553].i9agN$W.apply(A2IFV[238553],arguments):A2IFV[238553].i9agN$W;};function A2IFV(){}A2IFV.a3z=function(Y00){A2IFV.a9S();if(A2IFV)return A2IFV.T36(Y00);};A2IFV.Q6a=function(B0U){A2IFV.D0H();if(A2IFV && B0U)return A2IFV.T36(B0U);};A2IFV.e3H=function(i9A){A2IFV.D0H();if(A2IFV && i9A)return A2IFV.b3E(i9A);};A2IFV.D$Y=function(R1t){A2IFV.D0H();if(A2IFV)return A2IFV.T36(R1t);};A2IFV.k2l=function(p6Y){A2IFV.a9S();if(A2IFV)return A2IFV.T36(p6Y);};A2IFV.N1F=function(B5G){A2IFV.a9S();if(A2IFV)return A2IFV.b3E(B5G);};var Z9Rgz,Z,Q,q,A,G,g,K,M,B,J,P,T,W,U,R,D,N,L0,W_,f9,o8,d7,m1,k4,C1,t_,b$,A1;Z9Rgz="un";Z9Rgz+="def";Z9Rgz+="i";Z9Rgz+="ned";import {CIQ as y4, SplinePlotter as l5, timezoneJS as R$, $$ as L9, $$$ as G8} from "../js/chartiq.js";Z=e_=>{var w4B=A2IFV;var S4,u8,t3;w4B.a9S();S4=typeof _CIQ !== "undefined"?_CIQ:e_.CIQ;u8=class g2{get(W5,t8) {w4B.D0H();t8("no storage defined");}set(m3,c8) {}remove(g5) {}};S4.ChartEngine.create=function({container:q4, config:U0, deferLoad:i$} = {}){var k5,M$,P1;if(!q4){q4=document.querySelector(".chartContainer") || document.body;}if(!U0){U0={};}k5=Object.assign({container:q4},U0.chartEngineParams);M$=new this(k5);var {quoteFeeds:l3, marketFactory:L6, addOns:b_, chartId:A7, onChartReady:n9}=U0;function y7(){M$.loadChart(U0.initialSymbol,{masterData:U0.initialData},w2);M$.draw();}if(l3 && M$.attachQuoteFeed){l3.forEach(({quoteFeed:n3, behavior:g4, filter:v4})=>{M$.attachQuoteFeed(n3,g4,v4);});}function w2(){w4B.a9S();if(!n9){return;}setTimeout(()=>{w4B.D0H();return n9(M$);});}if(L6){M$.setMarketFactory(L6);}if(b_){Object.entries(b_).filter(([,j0])=>{w4B.a9S();return !!j0;}).forEach(([n7,t9])=>{var N2;w4B.a9S();if(!U0.enabledAddOns[n7]){return;}N2=t9.moduleName || S4.capitalize(n7);if(S4[N2]){var {cssRequired:e4}=new S4[N2](Object.assign({stx:M$},t9,{config:U0}));if(e4 && S4.UI){S4.UI.activatePluginUI(M$,N2);}}else if(S4.debug){console.log(`${N2} not available for addons with params:`,t9);}});}P1=S4.ensureDefaults(U0.callbacks || ({}),{layout:this.getSaveLayout(U0),symbolChange:this.getSaveLayout(U0),drawing:this.getSaveDrawings(U0),preferences:this.getSavePreferences(U0),newChart:this.getRetoggleEvents(U0)});for(var k7 in P1){if(P1[k7]){M$.addEventListener(k7,P1[k7]);}}t3=U0.nameValueStore || S4.NameValueStore || u8;t3=new t3();w4B.a9S();if(!i$){if(U0.restore){this.restorePreferences(M$,A7);this.restoreLayout(M$,y6=>{w4B.D0H();if(!M$.chart.symbol && U0.initialSymbol){y7();}else {w2();}},A7);}else {y7();}}return M$;};S4.ChartEngine.getSaveLayout=function(i3){return function K7({stx:w1}){var m5;if(i3.restore && w1.exportLayout){m5=JSON.stringify(w1.exportLayout(!0));t3.set("myChartLayout" + (i3.chartId || ""),m5);}};};S4.ChartEngine.restoreLayout=function(f_,i8,b3){var {restoreDrawings:o$}=this;if(!b3){b3="";}w4B.H6P(0);t3.get(w4B.S40("myChartLayout",b3),function(o5,C3){if(o5){return;}try{C3=JSON.parse(C3);}catch(K_){}w4B.a9S();if(f_.importLayout){f_.importLayout(C3,{managePeriodicity:!0,cb:m6});}if(f_.termStructure){f_.setCandleWidth(1);;}});function m6(){o$(f_,f_.chart.symbol,b3);w4B.a9S();if(i8){i8();}}};S4.ChartEngine.getSaveDrawings=function(h1){return function N$({stx:M8, symbol:J2}){var I1,Y9;w4B.D0H();if(h1.restore && M8.exportDrawings){I1=M8.exportDrawings();Y9=h1.chartId?h1.chartId + (+"567" != "4080" >> 0?(+"6479",3095) > (+"382.78",7827)?(9248,3535) < +"13"?"682.14" - 0:0x14c0:"~":!!"") + J2:J2;if(I1.length === 0){t3.remove(Y9);}else {t3.set(Y9,JSON.stringify(I1));}}};};S4.ChartEngine.restoreDrawings=function(G_,z9,B8){var A4;if(!S4.Drawing){return;}A4=B8?B8 + "~" + z9:z9;t3.get(A4,function(u5,g8){if(u5){return;}try{g8=JSON.parse(g8);}catch(g6){}if(g8){G_.importDrawings(g8);G_.draw();}});};S4.ChartEngine.getSavePreferences=function(d$){return function O9({stx:i1}){var Z8;w4B.a9S();if(d$.restore && i1.exportPreferences){Z8=JSON.stringify(i1.exportPreferences());t3.set("myChartPreferences" + (d$.chartId || ""),Z8);}};};S4.ChartEngine.restorePreferences=function(U$,a0){var x$B;x$B="myCh";x$B+="ar";x$B+="tPreferences";if(!a0){a0="";}w4B.D0J(0);t3.get(w4B.S40(x$B,a0),function(S6,X5){if(S6){return;}w4B.D0H();try{X5=JSON.parse(X5);}catch(J_){}if(X5 && U$.importPreferences){U$.importPreferences(X5);}});};S4.ChartEngine.getRetoggleEvents=function(Z5){w4B.D0H();return function f2({stx:n4}){var d2,W8;d2=document.getElementById(Z5.chartId);w4B.D0H();if(!d2){d2=(S4.getFn("UI.getMyContext")(n4.container) || ({})).topNode;}if(!d2){d2=document;}W8=d2.querySelectorAll(`${Z5.selector.markersMenuItem}.ciq-active:not(.span-event)`);W8.forEach(function(f4){f4.dispatchEvent(new Event("stxtap"));});};};};Q=m0=>{var f0;f0=typeof _CIQ !== "undefined"?_CIQ:m0.CIQ;f0.ChartEngine.prototype.drawHeatmap=function(O8,s_){var F$z,I5,M_,A6,V6,s0,i0,q9,c5,p7,g0,R3,K1,s$,v$;F$z="ch";F$z+="art";if(!s_ || !s_.length){return;}I5=O8.panel;if(!I5){I5=F$z;}M_=this.panels[I5];function k6(T1,E5,B2,W6,l6,i9,L_,v6){var C1b=A2IFV;var z8M,u5r,r4,F7,O_,d3,b8,G11,B_,r$,A9,t7,c1,T7,o0,l2,Z7;z8M="obje";z8M+="ct";u5r="cen";u5r+="ter";i0.beginPath();i0.fillStyle=E5;i0.strokeStyle=E5;i0.textAlign=u5r;r4=K1.layout.candleWidth * l6;F7=Math.floor(K1.pixelFromBar(0,M_.chart) - K1.layout.candleWidth);if(typeof B2 == "number"){C1b.D0J(1);i0.globalAlpha=C1b.q7n(c5,B2);}if(typeof B2 == z8M){b8={minOpacity:B2.min || 0,maxOpacity:B2.max || 1};}for(var D4=0;D4 < V6.length;D4++){G11="n";G11+="umb";G11+="er";B_=V6[D4];if(B_ && B_.candleWidth){if(D4 === 0){F7+=K1.layout.candleWidth;}else {C1b.H6P(2);var z54=C1b.q7n(3,21,16);F7+=(B_.candleWidth + r4 / l6) / z54;}r4=B_.candleWidth * l6;}else {F7+=K1.layout.candleWidth;}C1b.H6P(3);O_=C1b.S40(r4,0,F7,L_,"2");C1b.H6P(4);d3=C1b.S40(r4,2,L_,F7);if(d3 - O_ < 2){C1b.H6P(5);d3=C1b.q7n(32,O_,"1");}if(!B_)continue;r$=B_[T1];if(!r$)continue;if(r$[v6]){r$=r$[v6];}if(typeof r$ == G11){r$=[r$];}for(var A8=0;A8 < r$.length;A8++){A9=r$[A8];t7=0;if(A9 instanceof Array){if(b8){C1b.D0J(6);var b$i=C1b.S40(19,0,9,8,1);i0.globalAlpha=c5 * (A9[b$i] * b8.maxOpacity + (("1" >> 0) - A9[+"2"]) * b8.minOpacity);}t7=A9[1];A9=A9[0];}c1=K1.pixelFromPrice(A9,M_,A6);if(!s$){if(!i9){i9=O8.height;}T7=K1.pixelFromPrice(A9 + i9 * (A6.flipped?1:-+"1"),M_,A6);i0.lineWidth=1;C1b.H6P(7);g0=C1b.S40(c1,T7);C1b.H6P(8);R3=C1b.S40(g0,"2");s$=i0.lineWidth;}if(W6){C1b.D0J(7);o0=C1b.q7n(R3,c1);C1b.H6P(0);l2=C1b.S40(c1,R3);C1b.D0J(7);i0.rect(O_,o0,C1b.q7n(O_,d3),C1b.q7n(o0,l2));}else {C1b.D0J(7);i0.fillRect(O_,C1b.q7n(R3,c1),C1b.q7n(O_,d3),g0);if(O8.showSize && t7 && q9 <= g0 - 2){Z7=i0.globalAlpha;i0.fillStyle=K1.defaultColor;C1b.D0J(1);i0.globalAlpha=C1b.S40(c5,0.5);C1b.D0J(9);i0.fillText(t7,C1b.S40(2,O_,d3),c1);i0.fillStyle=E5;C1b.H6P(1);i0.globalAlpha=C1b.S40(c5,Z7);}}if(b8 && A9 instanceof Array){i0.globalAlpha=0;}}}if(W6){i0.stroke();}i0.globalAlpha=c5;i0.closePath();}if(!M_){return;}A6=O8.yAxis?O8.yAxis:M_.yAxis;V6=this.chart.dataSegment;if(!O8.name){O8.name="Data";}if(!O8.widthFactor){O8.widthFactor=1;}if(!O8.height){O8.height=Math.pow(10,1 - (M_.decimalPlaces || M_.chart.decimalPlaces));}s0="stx-float-date";i0=this.chart.context;this.canvasFont(s0,i0);q9=this.getCanvasFontSize(s0);c5=1;if(!O8.highlight && this.highlightedDraggable){c5=0.3;}p7=0.5;if(M_.chart.tmpWidth <= 1){p7=0;}g0=null;R3=null;K1=this;s$=null;A2IFV.D0H();this.startClip(I5);i0.globalAlpha=c5;for(var F1="0" * 1;F1 < s_.length;F1++){v$=s_[F1];k6(v$.field,v$.color,v$.opacity,null,O8.widthFactor,v$.height,v$.border_color?p7:-p7 / ("4" >> 96),v$.subField);if(v$.border_color && this.layout.candleWidth >= 2){k6(v$.field,v$.border_color,v$.opacity,!!"1",O8.widthFactor,v$.height,p7,v$.subField);}}i0.lineWidth=1;i0.globalAlpha=1;this.endClip();};f0.ChartEngine.prototype.drawCandles=function(G6,P2,E8){var T93=A2IFV;var v_F,z$,V0,S7,c$,T0,A25,p20,j3u,D1,L5,Z0,M4,q_,i4,w8,z2,G1,R5,x3,F9,c4,L8,s2,d6,u1,M6,Y8,Z9,B6,n0,G3,r1,S2,T5,h7,g_,U7,l$;v_F="o";v_F+="bje";v_F+="c";v_F+="t";z$=G6.chart;if(!z$){z$=G6;G6=G6.chart;}V0=!!0;S7=!1;c$=null;T0=G6.yAxis;if(E8 && typeof E8 == v_F){V0=E8.isOutline;S7=E8.isHistogram;c$=E8.field;T0=E8.yAxis;}else {A25=-+"779852817";T93.H6P(10);p20=T93.S40("384688691",32);j3u=2;for(var e_X=+"1";T93.Z2Z(e_X.toString(),e_X.toString().length,4408) !== A25;e_X++){V0=E8;S7=arguments[3];j3u+=2;}if(T93.Z2Z(j3u.toString(),j3u.toString().length,83805) !== p20){V0=E8;S7=arguments[4];}}D1=z$.dataSegment;L5=z$.context;Z0=T0.top;M4=T0.bottom;z2=new Array(D1.length);G1="t";G1+="ransp";T93.D0H();G1+="arent";R5="transparent";x3=0;T93.H6P(11);var i9t=T93.q7n(0,2,9,5);F9=z$.dataSet.length - z$.scroll - i9t;c4={};T93.H6P(12);var b7T=T93.q7n(14,1,14);L8=z$.tmpWidth / b7T;s2=this.layout.candleWidth;T93.D0J(0);var J9d=T93.q7n(0,1);T93.H6P(13);var f$E=T93.S40(4,10,5,10);d6=G6.left - "0.5" * J9d * s2 + this.micropixels - f$E;for(var A3=0;A3 <= D1.length;A3++){u1=L8;T93.H6P(8);d6+=T93.S40(s2,"2");s2=this.layout.candleWidth;T93.H6P(14);d6+=T93.S40(2,s2);M6=D1[A3];if(!M6)continue;if(M6.projection)continue;if(M6.candleWidth){T93.D0J(7);var y44=T93.S40(14,16);d6+=(M6.candleWidth - s2) / y44;s2=M6.candleWidth;if(E8.isVolume || s2 < z$.tmpWidth){T93.H6P(14);u1=T93.q7n(2,s2);}}if(z$.transformFunc && T0 == z$.panel.yAxis && M6.transform){M6=M6.transform;}if(M6 && c$){M6=M6[c$];}if(!M6 && M6 !== 0)continue;Y8=M6.Close;Z9=M6.Open === undefined?Y8:M6.Open;if(S7 && z$.defaultPlotField){Y8=M6[z$.defaultPlotField];}if(!Y8 && Y8 !== 0)continue;if(!S7 && (Z9 == Y8 || Z9 === null))continue;B6=P2(this,M6,V0?"outline":"solid");if(!B6)continue;if(V0){G1=B6;}else {R5=B6;}c4[R5]=1;n0=G1 && !f0.isTransparent(G1);if(n0 && !E8.highlight){T93.D0J(7);x3=T93.S40(0,"0.5");}L5.beginPath();L5.fillStyle=R5;if(!M6.cache){M6.cache={};}G3=M6.cache;T93.D0J(0);r1=T93.S40(F9,A3);if(r1 < G6.cacheLeft || r1 > G6.cacheRight || !G3.open){S2=T0.semiLog?T0.height * (1 - (Math.log(Math.max(Z9,0)) / Math.LN10 - T0.logLow) / T0.logShadow):(T0.high - Z9) * T0.multiplier;T5=T0.semiLog?T0.height * (1 - (Math.log(Math.max(Y8,0)) / Math.LN10 - T0.logLow) / T0.logShadow):(T0.high - Y8) * T0.multiplier;if(T0.flipped){T93.H6P(7);S2=T93.S40(S2,M4);T93.H6P(7);T5=T93.q7n(T5,M4);}else {S2+=Z0;T5+=Z0;}z2[A3]=T5;q_=Math.floor(S7?T5:Math.min(S2,T5)) + x3;i4=S7?T0.bottom:Math.max(S2,T5);T93.H6P(7);w8=Math.floor(T93.S40(q_,i4));if(q_ < Z0){if(q_ + w8 < Z0){G3.open=q_;G3.close=q_;continue;}T93.D0J(7);w8-=T93.q7n(q_,Z0);q_=Z0;}if(q_ + w8 > M4){T93.D0J(15);w8-=T93.q7n(w8,q_,M4);}w8=Math.max(w8,+"2");G3.open=q_;G3.close=G3.open + w8;}if(G3.open >= M4)continue;if(G3.close <= Z0)continue;h7=Math.floor(d6) + (!E8.highlight && 0.5);g_=Math.floor(h7 - u1) + x3;U7=Math.round(h7 + u1) - x3;if(G3.open != G3.close){L5.rect(g_,G3.open,Math.max(1,U7 - g_),Math.max(1,G3.close - G3.open));}if(!E8.highlight && this.highlightedDraggable){L5.globalAlpha*=0.3;}if(R5 != "transparent"){L5.fill();}if(n0){L5.lineWidth=1;if(E8.highlight){L5.lineWidth*=2;}L5.strokeStyle=G1;L5.stroke();}}l$={colors:[],cache:z2};for(var p8 in c4){if(!E8.hollow || !f0.equals(p8,this.containerColor)){l$.colors.push(p8);}}return l$;};f0.ChartEngine.prototype.drawShadows=function(P4,M2,y8){var i8A=A2IFV;var h9,J9,B1,V3,l9,S0,x7,K0,e1,r8,U1,Z1,p_,u7,T3,n_,J7,g3,G5,H1,V4,H_,B0,Y1,T_,H$;h9=P4.chart;if(!h9){h9=P4;P4=P4.chart;}J9=h9.dataSegment;B1=this.chart.context;B1.lineWidth=1;if(y8.highlight){B1.lineWidth*=2;}if(!y8.highlight && this.highlightedDraggable){B1.globalAlpha*=0.3;}V3=y8.field;l9=y8.yAxis || P4.yAxis;S0=l9.top;x7=l9.bottom;K0=h9.dataSet.length - h9.scroll - +"1";e1=this.layout.candleWidth;i8A.D0J(16);var h6V=i8A.S40(13,14);r8=P4.left - 0.5 * e1 + this.micropixels - h6V;i8A.D0H();for(var N7=+"0";N7 <= J9.length;N7++){i8A.D0J(14);r8+=i8A.q7n(2,e1);e1=this.layout.candleWidth;i8A.H6P(14);r8+=i8A.q7n(2,e1);U1=J9[N7];if(!U1)continue;if(U1.projection)continue;if(U1.candleWidth){i8A.D0J(17);var Y_q=i8A.q7n(13,19,1,7,15);r8+=(U1.candleWidth - e1) / Y_q;e1=U1.candleWidth;}Z1=M2(this,U1,"shadow");if(!Z1)continue;if(h9.transformFunc && l9 == h9.panel.yAxis && U1.transform){U1=U1.transform;}if(U1 && V3){U1=U1[V3];}if(!U1 && U1 !== 0)continue;p_=U1.Close;u7=U1.Open === undefined?p_:U1.Open;T3=U1.High === undefined?Math.max(p_,u7):U1.High;n_=U1.Low === undefined?Math.min(p_,u7):U1.Low;if(!p_ && p_ !== 0)continue;if(!U1.cache){U1.cache={};}J7=U1.cache;i8A.H6P(0);g3=i8A.q7n(K0,N7);if(g3 < P4.cacheLeft || g3 > P4.cacheRight || !J7.top){G5=l9.semiLog?l9.height * (1 - (Math.log(Math.max(T3,0)) / Math.LN10 - l9.logLow) / l9.logShadow):(l9.high - T3) * l9.multiplier;H1=l9.semiLog?l9.height * (+"1" - (Math.log(Math.max(n_,0)) / Math.LN10 - l9.logLow) / l9.logShadow):(l9.high - n_) * l9.multiplier;if(l9.flipped){i8A.H6P(7);G5=i8A.q7n(G5,x7);i8A.D0J(7);H1=i8A.S40(H1,x7);}else {G5+=S0;H1+=S0;}i8A.H6P(7);V4=i8A.S40(G5,H1);if(G5 < S0){if(G5 + V4 < S0){J7.top=G5;J7.bottom=G5;continue;}i8A.D0J(7);V4-=i8A.q7n(G5,S0);G5=S0;}if(G5 + V4 > x7){i8A.H6P(15);V4-=i8A.S40(V4,G5,x7);}J7.top=G5;J7.bottom=J7.top + V4;}if(J7.top >= x7)continue;if(J7.bottom <= S0)continue;H_=Math.floor(r8) + (!y8.highlight && 0.5);B1.beginPath();if(p_ == u7){B0=this.offset;if(y8.isVolume){i8A.D0J(14);B0=i8A.q7n(2,e1);}i8A.H6P(7);Y1=i8A.S40(B0,H_);i8A.H6P(0);T_=i8A.S40(H_,B0);H$=l9.semiLog?l9.height * (1 - (Math.log(Math.max(p_,0)) / Math.LN10 - l9.logLow) / l9.logShadow):(l9.high - p_) * l9.multiplier;if(l9.flipped){i8A.D0J(7);H$=i8A.S40(H$,x7);}else {H$+=S0;}if(H$ <= x7 && H$ >= S0){B1.moveTo(Y1,H$);B1.lineTo(T_,H$);}}if(T3 != n_){B1.moveTo(H_,J7.top);B1.lineTo(H_,J7.bottom);}B1.strokeStyle=Z1;B1.stroke();}};f0.ChartEngine.prototype.drawBarChart=function(U4,W4,u2,G0){var Q$S=A2IFV;var I3,S3,S$,Y7,x$,O2,x4,R1,c6,N6,i_,E6,o9,l7,d_,H6,R27,K4,l0,v_,z5,J6,q1,d4,L$,V2,T9,k9,j8;I3=U4.chart;if(!I3){I3=U4;U4=U4.chart;}S3=I3.dataSegment;S$=new Array(S3.length);Y7=I3.context;x$=this.canvasStyle(W4);if(x$.width && parseInt(x$.width,10) <= 25){Y7.lineWidth=Math.max(1,f0.stripPX(x$.width));}else {Y7.lineWidth=1;}if(G0.highlight){Y7.lineWidth*=2;}if(!G0.highlight && this.highlightedDraggable){Y7.globalAlpha*=0.3;}O2=G0.field;x4=G0.yAxis || U4.yAxis;R1=x4.top;c6=x4.bottom;Q$S.D0J(18);var V6I=Q$S.q7n(13,13,0);i_=I3.dataSet.length - I3.scroll - V6I;E6={};Q$S.D0J(13);var q7x=Q$S.S40(0,25,10,5);o9=I3.tmpWidth / q7x;Q$S.H6P(19);var A4R=Q$S.S40(0,15,20,33);l7=Y7.lineWidth / A4R;d_=this.layout.candleWidth;H6=U4.left - 0.5 * d_ + this.micropixels - +"1";for(var A$=0;A$ <= S3.length;A$++){R27="h";R27+="l";R27+="c";Q$S.H6P(14);H6+=Q$S.S40(2,d_);d_=this.layout.candleWidth;Q$S.H6P(14);H6+=Q$S.S40(2,d_);K4=S3[A$];if(!K4)continue;if(K4.projection)break;if(K4.candleWidth){Q$S.H6P(20);var N0G=Q$S.S40(13,0,123,10,9);H6+=(K4.candleWidth - d_) / N0G;d_=K4.candleWidth;}l0=u2(this,K4);if(!l0)continue;Q$S.H6P(21);E6[l0]=Q$S.S40("1",0);Y7.strokeStyle=l0;Y7.beginPath();if(I3.transformFunc && x4 == I3.panel.yAxis && K4.transform){K4=K4.transform;}if(K4 && O2){K4=K4[O2];}if(!K4 && K4 !== 0)continue;v_=K4.Close;z5=K4.Open === undefined?v_:K4.Open;J6=K4.High === undefined?Math.max(v_,z5):K4.High;q1=K4.Low === undefined?Math.min(v_,z5):K4.Low;if(!v_ && v_ !== 0)continue;if(!K4.cache){K4.cache={};}d4=K4.cache;Q$S.D0J(0);L$=Q$S.q7n(i_,A$);if(L$ < U4.cacheLeft || L$ > U4.cacheRight || !d4.top){V2=this.pixelFromTransformedValue(J6,U4,x4);T9=this.pixelFromTransformedValue(q1,U4,x4);d4.open=x4.semiLog?x4.height * (1 - (Math.log(Math.max(z5,0)) / Math.LN10 - x4.logLow) / x4.logShadow):(x4.high - z5) * x4.multiplier;d4.close=x4.semiLog?x4.height * (+"1" - (Math.log(Math.max(v_,0)) / Math.LN10 - x4.logLow) / x4.logShadow):(x4.high - v_) * x4.multiplier;if(x4.flipped){d4.open=x4.bottom - d4.open;d4.close=x4.bottom - d4.close;}else {d4.open+=x4.top;d4.close+=x4.top;}S$[A$]=d4.close;Q$S.H6P(7);N6=Q$S.S40(V2,T9);if(V2 < R1){if(V2 + N6 < R1){d4.top=V2;d4.bottom=V2;continue;}Q$S.H6P(7);N6-=Q$S.q7n(V2,R1);V2=R1;}if(V2 + N6 > c6){Q$S.H6P(15);N6-=Q$S.S40(N6,V2,c6);}d4.top=V2;Q$S.D0J(0);d4.bottom=Q$S.S40(V2,N6);}Q$S.H6P(7);var M6s=Q$S.S40(18,19);k9=Math.floor(H6) + (!G0.highlight && "0.5" * M6s);if(d4.top < c6 && d4.bottom > R1 && K4.High != K4.Low){Y7.moveTo(k9,d4.top - l7);Y7.lineTo(k9,d4.bottom + l7);}if(G0.type != R27 && d4.open > R1 && d4.open < c6){Y7.moveTo(k9,d4.open);Q$S.D0J(7);Y7.lineTo(Q$S.S40(o9,k9),d4.open);}if(d4.close > R1 && d4.close < c6){Y7.moveTo(k9,d4.close);Q$S.D0J(0);Y7.lineTo(Q$S.S40(k9,o9),d4.close);}Y7.stroke();}Y7.lineWidth=1;j8={colors:[],cache:S$};for(var B3 in E6){if(!f0.equals(B3,this.containerColor)){j8.colors.push(B3);}}return j8;};f0.ChartEngine.prototype.drawWaveChart=function(d9,Y3){var b9$=A2IFV;var V1k,b9,T2,f1,P8,a6,R2,E7,O5,E0,g9,a_,W9,D9,K9,j_,J5,R8,K6,Y4,l8,I6,D$,m7;V1k="stx";V1k+="_line_ch";V1k+="art";b9=d9.chart;T2=b9.dataSegment;f1=new Array(T2.length);P8=b9.context;if(!Y3){Y3={};}a6=Y3.yAxis || d9.yAxis;this.startClip(d9.name);P8.beginPath();R2=!1;function w4(P5){return a_.pixelFromTransformedValue(P5,d9,a6);}E7=![];O5=d9.yAxis.top;E0=d9.yAxis.bottom;g9=d9.left + Math.floor(-+"0.5" * this.layout.candleWidth + this.micropixels);a_=this;for(var G9=0;G9 <= T2.length;G9++){g9+=this.layout.candleWidth;W9=T2[G9];if(!W9)continue;if(W9.projection)break;if(b9.transformFunc && a6 == b9.panel.yAxis && W9.transform){W9=W9.transform;}if(W9 && Y3.field){W9=W9[Y3.field];}if(!W9 && W9 !== 0)continue;D9=W9.Close;K9=W9.Open === undefined?D9:W9.Open;j_=W9.High === undefined?Math.max(D9,K9):W9.High;J5=W9.Low === undefined?Math.min(D9,K9):W9.Low;if(!D9 && D9 !== 0)continue;b9$.D0J(22);var f4I=b9$.q7n(1,11,23,250);b9$.H6P(23);var c3b=b9$.S40(7,24,34,11,1);R8=g9 - f4I * this.layout.candleWidth / c3b;K6=w4(K9);if(K6 < O5){K6=O5;if(E7){P8.moveTo(R8,K6);continue;}E7=!![];}else if(K6 > E0){K6=E0;if(E7){P8.moveTo(R8,K6);continue;}E7=!0;}else {E7=![];}if(!R2){R2=!![];Y4=b9.dataSet.length - b9.scroll - +"1";if(Y4 < 0){P8.moveTo(R8,K6);}else if(Y4 >= 0){l8=b9.dataSet[Y4];if(l8.transform){l8=l8.transform;}I6=l8.Close;I6=w4(I6);I6=Math.min(Math.max(I6,O5),E0);P8.moveTo(d9.left + (G9 - 1) * this.layout.candleWidth + this.micropixels,I6);P8.lineTo(R8,K6);}P8.moveTo(R8,K6);}else {P8.lineTo(R8,K6);}b9$.D0J(16);var P6B=b9$.q7n(7,11);R8+=this.layout.candleWidth / P6B;if(K9 < D9){K6=w4(J5);if(K6 < O5){K6=O5;}if(K6 > E0){K6=E0;}P8.lineTo(R8,K6);b9$.H6P(16);var r5Y=b9$.S40(10,14);R8+=this.layout.candleWidth / r5Y;K6=w4(j_);if(K6 < O5){K6=O5;}if(K6 > E0){K6=E0;}P8.lineTo(R8,K6);}else {K6=w4(j_);if(K6 < O5){K6=O5;}if(K6 > E0){K6=E0;}P8.lineTo(R8,K6);R8+=this.layout.candleWidth / +"4";K6=w4(J5);if(K6 < O5){K6=O5;}if(K6 > E0){K6=E0;}P8.lineTo(R8,K6);}b9$.D0J(24);var E$B=b9$.S40(5,9,16,10,5);R8+=this.layout.candleWidth / E$B;K6=w4(D9);f1[G9]=K6;if(K6 < O5){K6=O5;}if(K6 > E0){K6=E0;}P8.lineTo(R8,K6);}D$=this.canvasStyle("stx_line_chart");if(D$.width && parseInt(D$.width,10) <= 25){P8.lineWidth=Math.max(1,f0.stripPX(D$.width));}else {P8.lineWidth=1;}if(Y3.highlight){P8.lineWidth*=2;}this.canvasColor(V1k);if(Y3.color){P8.strokeStyle=Y3.color;}if(!Y3.highlight && this.highlightedDraggable){P8.globalAlpha*=+"0.3";}P8.stroke();P8.closePath();m7={colors:[P8.strokeStyle],cache:f1};this.endClip();P8.lineWidth=1;return m7;};f0.ChartEngine.prototype.drawHistogram=function(r9,v3){var j2E=A2IFV;var L1_,z8,L3,A5,b2,T$,a4,X9,u0,p2,S5,q8,S8,w$,a1,h_,U9,c$e,T4z,W5k,k0,Q0,a5,M1,P$,C7,h$,e0,J8,V1,A9f,i2b,Y$,r3,L2,X4,k_,D5e;L1_="c";L1_+="ha";L1_+="rt";if(!v3 || !v3.length){return;}z8=r9.panel;if(!z8){z8=L1_;}L3=this.panels[z8];function f8(w3,p4,g$,Q4,p5,h4,o4,P6,y$){var f6,s1,P3,k90,z5o,F5,t4,B4,x5,r0,V8,C8,C$,D7,M7,L1,E$o;if(!Q4){Q4=1;}P$.globalAlpha=Q4;P$.beginPath();j2E.D0J(0);f6=j2E.S40(k0,0.5);s1=Math.floor(J8.pixelFromBar(0,L3.chart) - J8.layout.candleWidth / ("2" ^ 0));P3=s1;for(var C5=0;C5 < T$.length;C5++){k90="clu";k90+="stered";z5o="o";z5o+="b";z5o+="jec";z5o+="t";F5=e0[C5] || k0;if(C5 === 0){f6=F5;}if(!T$[C5] || !T$[C5][w3]){f6=F5;P3+=J8.layout.candleWidth;continue;}t4=T$[C5];B4=t4[w3];if(typeof B4 == z5o && B4[p4]){B4=B4[p4];}j2E.D0J(25);x5=j2E.q7n(w$,B4,q8);if(isNaN(x5))continue;r0=J8.layout.candleWidth;if(t4.candleWidth){r0=t4.candleWidth;if(C5 === 0){s1=P3=Math.floor(J8.pixelFromBar(0,L3.chart) - t4.candleWidth / 2);}}V8=Math.floor(F5 - x5) + 0.5;if(V8 > F5 && !Q0){V8=F5;}if(y$ && y$.indexOf(C5) == -1 || !y$ && (h4 && t4.Close < t4.iqPrevClose || !h4 && t4.Close >= t4.iqPrevClose)){f6=V8;P3+=r0;continue;}C8=r0 / J8.layout.candleWidth;if(C7){j2E.H6P(26);C$=Math.round(j2E.S40(P3,C7,P6,C8,o4));j2E.D0J(0);D7=j2E.q7n(C$,p5?0:M1);j2E.D0J(27);var d06=j2E.S40(18,8,209,8);M7=C$ + Math.round(P6 * C8) - (p5?"0" * d06:M1);}else {j2E.D0J(26);C$=j2E.S40(P3,C7,P6,C8,o4);D7=Math.round(C$) + (p5?+"0":M1);M7=Math.round(C$ + P6 * C8) - (p5?0:M1);}if(M7 - D7 < 2){j2E.D0J(0);M7=j2E.S40(D7,1);}L1=p5?0:0.5;if(D7 % 1 == L1){D7+=0.5;}if(M7 % 1 == L1){M7+=0.5;}P$.moveTo(M7,F5);if(k0 != F5 && p5 && !C7 && e0[C5 + 1]){P$.moveTo(M7,Math.max(V8,Math.min(F5,e0[C5 + 1])));}P$.lineTo(M7,V8);P$.lineTo(D7,V8);if(p5 && o4){if(h$[C5] > V8 || C5 === 0){P$.lineTo(D7,Math.min(F5,h$[C5]));}}else if(p5 && !C7 && b2 == "clustered"){if(C5 > ("0" | 0) && h$[C5 - 1] && h$[C5 - 1] > V8){P$.lineTo(D7,Math.min(F5,h$[C5 - 1]));}}else if(p5 && !C7){if(f6 > V8 || C5 === 0){P$.lineTo(D7,Math.min(F5,f6));}}else {P$.lineTo(D7,F5);}f6=V8;P3+=r0;if(b2 != k90 || p5){h$[C5]=V8;}}if(p5){E$o="a";E$o+="uto";P$.strokeStyle=!g$ || g$ == E$o?J8.defaultColor:g$;P$.stroke();}else {P$.fillStyle=!g$ || g$ == "auto"?J8.defaultColor:g$;P$.fill();}P$.closePath();}if(!L3){return;}A5=r9.yAxis?r9.yAxis:L3.yAxis;b2=r9.type;T$=this.chart.dataSegment;a4=!({});X9=1;j2E.D0J(7);u0=j2E.S40(0,"1");for(S5=0;S5 < v3.length;S5++){a4|=v3[S5].border_color_up && !f0.isTransparent(v3[S5].border_color_up);a4|=v3[S5].border_color_down && !f0.isTransparent(v3[S5].border_color_down);X9=v3[S5].opacity_up;u0=v3[S5].opacity_down;if(!r9.highlight && this.highlightedDraggable){X9*=0.3;u0*=0.3;}}if(r9.borders === !1){a4=!1;}if(!r9.name){r9.name="Data";}q8=A5.multiplier;if(!r9.heightPercentage){r9.heightPercentage=+"0.7";}if(!r9.widthFactor){r9.widthFactor=0.8;}j2E.H6P(28);S8=j2E.q7n("0",0);w$=0;for(var t6=+"0";t6 < this.chart.maxTicks;t6++){a1=T$[t6];if(!a1)continue;h_=0;for(S5=+"0";S5 < v3.length;S5++){U9=a1[v3[S5].field];if(U9 || U9 === 0){c$e="st";c$e+="ac";c$e+="k";c$e+="ed";T4z="C";T4z+="los";T4z+="e";p2=v3[S5].subField || this.chart.defaultPlotField || T4z;if(typeof U9 == "object" && U9[p2]){U9=U9[p2];}if(b2 == c$e){h_+=U9;}else {h_=U9;}if(h_ > S8){S8=h_;}if(h_ < w$){w$=h_;}}}}j2E.a9S();if(S8 === 0 && w$ === "0" * 1){W5k=" Not ";W5k+="Ava";W5k+="ilab";W5k+="le";this.displayErrorAsWatermark(z8,this.translateIf(r9.name + W5k));return;}Q0=![];if(!r9.bindToYAxis){if(A5.flipped){k0=Math.floor(A5.top) - 0.5;a5=Math.floor(A5.bottom) - ("0.5" - 0);}else {k0=Math.floor(A5.bottom) + 0.5;a5=Math.floor(A5.top) + 0.5;}q8=Math.abs(k0 - a5) * r9.heightPercentage / (S8 - w$);}else {if(A5.baseline){w$=A5.baseline.value;Q0=!!({});}k0=Math.floor(this.pixelFromPrice(w$,L3,A5)) + (A5.flipped?-0.5:0.5);}this.startClip(z8);M1=this.layout.candleWidth <= 1 || !a4?0:0.5;P$=this.chart.context;if(A5.flipped){P$.translate(0,("2" - 0) * A5.top);P$.scale(1,-1);}C7=Math.max(0,(1 - r9.widthFactor) * this.layout.candleWidth / 2);h$=new Array(T$.length);e0=[];J8=this;V1=1;for(S5=0;S5 < v3.length;S5++){A9f="s";A9f+="tac";A9f+="k";A9f+="ed";i2b="clus";i2b+="tere";i2b+="d";Y$=v3[S5];V1=this.layout.candleWidth * r9.widthFactor;if(C7){if(this.layout.candleWidth - V1 <= 2){a4=![];}}r3=0;if(b2 == i2b){r3=S5;V1/=v3.length;}p2=Y$.subField || this.chart.defaultPlotField || "Close";if(typeof Y$.color_function == "function"){X4={};for(var Q1=0;Q1 < T$.length;Q1++){if(T$[Q1]){D5e="border_op";D5e+="acit";D5e+="y";L2=Y$.color_function(T$[Q1]);if(typeof L2 == "string"){L2={fill_color:L2,border_color:L2};}if(!L2.hasOwnProperty(D5e)){L2.border_opacity=L2.opacity;}j2E.H6P(15);var D1r=j2E.q7n(12,18714,15607);j2E.D0J(7);var T9b=j2E.q7n(42480,50976);j2E.H6P(29);var Z50=j2E.S40(2853,1,25686,17,25703);j2E.D0J(0);var J1G=j2E.q7n(2,30);j2E.H6P(30);var p1C=j2E.q7n(7,304,232,10);j2E.H6P(31);var c7t=j2E.S40(2,1,7973,17822);j2E.H6P(32);var T8c=j2E.q7n(5030,2,387);j2E.D0J(15);var m33=j2E.S40(19,1097,16);j2E.D0J(13);var p3J=j2E.S40(18661,3,9,9337);k_=L2.fill_color + ((D1r,+"5530") != (T9b,+"139.69")?Z50 === "9200" << J1G?713.18:(484.23,p1C) <= (c7t,T8c)?",":m33:p3J) + L2.border_color;if((k_ in X4)){X4[k_].positions.push(Q1);}else {L2.positions=[Q1];X4[k_]=L2;}}}for(k_ in X4){L2=X4[k_];f8(Y$.field,p2,L2.fill_color,L2.opacity,null,null,r3,V1,L2.positions);f8(Y$.field,p2,L2.border_color,L2.border_opacity,!"",null,r3,V1,L2.positions);}}else {f8(Y$.field,p2,Y$.fill_color_up,X9,null,!!1,r3,V1);f8(Y$.field,p2,Y$.fill_color_down,u0,null,null,r3,V1);if(this.layout.candleWidth >= 2 && a4){f8(Y$.field,p2,Y$.border_color_up,X9,!"",!!({}),r3,V1);f8(Y$.field,p2,Y$.border_color_down,u0,!"",null,r3,V1);}}if(b2 == A9f){e0=f0.shallowClone(h$);}}P$.globalAlpha=1;this.endClip();};f0.ChartEngine.prototype.scatter=function(s7,j4){var D_D=A2IFV;var o1G,n8,d5,M3,O4,F$,z0,I0,S9,G4,O0,E1,E2,U_,R0,M9,H4,b4,l_;o1G="s";o1G+="tx_sca";o1G+="tter_ch";o1G+="art";n8=s7.chart;d5=n8.dataSegment;M3=new Array(d5.length);O4=this.chart.context;this.canvasColor(o1G);if(!j4){j4={};}F$=j4.field || n8.defaultPlotField;z0=j4.yAxis || s7.yAxis;I0=j4.subField || n8.defaultPlotField || "Close";this.startClip(s7.name);O4.beginPath();O4.lineWidth=j4.lineWidth || 4;if(j4.highlight){O4.lineWidth*=+"2";}if(!j4.highlight && this.highlightedDraggable){O4.globalAlpha*=0.3;}if(j4.color){O4.strokeStyle=j4.color;}S9=z0.top;G4=z0.bottom;O0=this.layout.candleWidth;D_D.H6P(33);var C_m=D_D.S40(5,17,18,7);D_D.H6P(18);var O3I=D_D.S40(7,1,6);E1=s7.left - "0.5" * C_m * O0 + this.micropixels - O3I;for(var y9=0;y9 <= d5.length;y9++){D_D.H6P(14);E1+=D_D.S40(2,O0);O0=this.layout.candleWidth;D_D.H6P(14);E1+=D_D.q7n(2,O0);E2=d5[y9];if(!E2)continue;if(E2.candleWidth){D_D.D0J(34);var d84=D_D.S40(0,13,20,3,52);E1+=(E2.candleWidth - O0) / d84;O0=E2.candleWidth;}if(!E2.projection){if(n8.transformFunc && z0 == n8.panel.yAxis && E2.transform){E2=E2.transform;}U_=E2[F$];if(U_ && U_[I0] !== undefined){U_=U_[I0];}if(!(U_ instanceof Array)){U_=[U_];}if(("Scatter" in E2)){U_=E2.Scatter;}for(var Y6=0;Y6 < U_.length;Y6++){if(!U_[Y6] && U_[Y6] !== 0)continue;R0=U_[Y6];M9=0;if(U_[Y6] instanceof Array){R0=U_[Y6][0];M9=U_[Y6][2];}H4=z0.semiLog?z0.height * ("1" * 1 - (Math.log(Math.max(R0,0)) / Math.LN10 - z0.logLow) / z0.logShadow):(z0.high - R0) * z0.multiplier;if(z0.flipped){D_D.D0J(7);H4=D_D.q7n(H4,G4);}else {H4+=S9;}if(H4 < S9)continue;if(H4 > G4)continue;b4=2;if(M9){D_D.H6P(1);b4=D_D.q7n(M9,O0);}D_D.D0J(7);O4.moveTo(D_D.q7n(b4,E1),H4);D_D.D0J(0);O4.lineTo(D_D.q7n(E1,b4),H4);M3[y9]=H4;}}}O4.stroke();O4.closePath();l_={colors:[O4.strokeStyle],cache:M3};this.endClip();O4.lineWidth=1;return l_;};};q=V$=>{var G8$,h2H,I_4,v6o,S8d,u$z,m61,d2Z,p_M,w53,r_N,A9b,X_x,z85,t2z,O4v,y37,H_n,w05,b87,g0c,X2,o7;G8$="lin";G8$+="eWid";G8$+="th";h2H="c";h2H+="olor";I_4="ax";I_4+="i";I_4+="sLa";I_4+="bel";v6o="pat";v6o+="te";v6o+="r";v6o+="n";S8d="lineWid";S8d+="th";u$z="pa";u$z+="t";u$z+="te";u$z+="rn";m61="c";m61+="olor";d2Z="sol";d2Z+="i";d2Z+="d";p_M="a";p_M+="u";p_M+="t";p_M+="o";w53="a";w53+="u";w53+="t";w53+="o";r_N="a";r_N+="u";r_N+="t";r_N+="o";A9b="a";A9b+="u";A9b+="t";A9b+="o";X_x="a";X_x+="u";X_x+="t";X_x+="o";z85="soli";z85+="d";t2z="a";t2z+="u";t2z+="t";t2z+="o";O4v="a";O4v+="u";O4v+="to";y37="s";y37+="oli";y37+="d";H_n="so";H_n+="lid";w05="a";w05+="ut";w05+="o";b87="#7";b87+="DA6";b87+="F";b87+="5";g0c="u";g0c+="nde";g0c+="fined";X2=typeof _CIQ !== "undefined"?_CIQ:V$.CIQ;o7=typeof _timezoneJS !== g0c?_timezoneJS:V$.timezoneJS;X2.ChartEngine.drawingTools={};X2.ChartEngine.currentVectorParameters={vectorType:null,pattern:"solid",lineWidth:1,fillColor:b87,currentColor:w05,axisLabel:!0,fibonacci:{trend:{color:"auto",parameters:{pattern:H_n,opacity:0.25,lineWidth:"1" >> 32}},fibs:[{level:-0.786,color:"auto",parameters:{pattern:y37,opacity:+"0.25",lineWidth:1}},{level:-0.618,color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1},display:!!"1"},{level:-0.5,color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:+"1"}},{level:-0.382,color:O4v,parameters:{pattern:"solid",opacity:0.25,lineWidth:1},display:!!({})},{level:-0.236,color:"auto",parameters:{pattern:"solid",opacity:"0.25" - 0,lineWidth:1}},{level:0,color:"auto",parameters:{pattern:"solid",lineWidth:1},display:!""},{level:0.236,color:t2z,parameters:{pattern:z85,opacity:+"0.25",lineWidth:1}},{level:0.382,color:X_x,parameters:{pattern:"solid",opacity:0.25,lineWidth:"1" | 0},display:!!"1"},{level:0.5,color:A9b,parameters:{pattern:"solid",opacity:0.25,lineWidth:1},display:!![]},{level:+"0.618",color:r_N,parameters:{pattern:"solid",opacity:0.25,lineWidth:1},display:!""},{level:0.786,color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:+"1"}},{level:1,color:"auto",parameters:{pattern:"solid",lineWidth:1},display:!""},{level:1.272,color:w53,parameters:{pattern:"solid",opacity:0.25,lineWidth:1}},{level:+"1.382",color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1},display:!!1},{level:+"1.618",color:"auto",parameters:{pattern:"solid",opacity:"0.25" - 0,lineWidth:1},display:!!"1"},{level:2.618,color:p_M,parameters:{pattern:"solid",opacity:"0.25" * 1,lineWidth:1}},{level:4.236,color:"auto",parameters:{pattern:d2Z,opacity:"0.25" * 1,lineWidth:+"1"}}],extendLeft:!({}),printLevels:!!({}),printValues:!!"",timezone:{color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:+"1"}}},annotation:{font:{style:null,size:null,weight:null,family:null}}};X2.ChartEngine.registerDrawingTool=function(C4,h5){X2.ChartEngine.drawingTools[C4]=h5;};X2.ChartEngine.prototype.setDrawingContainer=function(r_){this.drawingContainer=r_;};X2.ChartEngine.prototype.exportDrawings=function(){var k2;A2IFV.D0H();k2=[];for(var I_=+"0";I_ < this.drawingObjects.length;I_++){k2.push(this.drawingObjects[I_].serialize());}return k2;};X2.ChartEngine.prototype.abortDrawings=function(F8){var L4;if(F8 !== !"1"){F8=!![];}for(var A0=this.drawingObjects.length - 1;A0 >= 0;A0--){L4=this.drawingObjects[A0];L4.abort(!0);if(F8 || !L4.permanent){this.drawingObjects.splice(A0,1);}}};X2.ChartEngine.prototype.importDrawings=function(B$){var r6,s9,J$;if(!X2.Drawing){return;}for(var N8=0;N8 < B$.length;N8++){r6=B$[N8];if(r6.name == "fibonacci"){r6.name="retracement";}s9=X2.ChartEngine.drawingTools[r6.name];if(!s9){if(X2.Drawing[r6.name]){s9=X2.Drawing[r6.name];X2.ChartEngine.registerDrawingTool(r6.name,s9);}}if(s9){J$=new s9();J$.reconstruct(this,r6);this.drawingObjects.push(J$);}}};X2.ChartEngine.prototype.clearDrawings=function(m4,o6){A2IFV.a9S();var H0,O1;if(o6 !== !({})){o6=!"";}H0=this.exportDrawings();this.abortDrawings(o6);if(m4){this.undoStamps=[];}else {this.undoStamp(H0,this.exportDrawings());}this.changeOccurred("vector");this.cancelTouchSingleClick=!![];X2.clearCanvas(this.chart.tempCanvas,this);this.draw();O1=this.controls.mSticky;if(O1){O1.style.display="none";O1.children[0].innerHTML="";}};X2.ChartEngine.prototype.createDrawing=function(e9,x_){var n5,E$;if(!X2.Drawing){return;}n5=new X2.Drawing[e9]();A2IFV.D0H();n5.reconstruct(this,x_);E$=new X2.Drawing[e9]();E$.stx=this;E$.copyConfig();for(var Q7 in E$){n5[Q7]=n5[Q7] || E$[Q7];}this.drawingObjects.push(n5);this.draw();return n5;};X2.ChartEngine.prototype.removeDrawing=function(e6){for(var K$=0;K$ < this.drawingObjects.length;K$++){if(this.drawingObjects[K$] == e6){this.drawingObjects.splice(K$,1);this.changeOccurred("vector");this.draw();return;}};};X2.ChartEngine.prototype.undo=function(){var p7f,J_M,q16,Y$$,M8Q;p7f="un";p7f+="do";J_M="u";J_M+="nd";J_M+="o";if(this.runPrepend(J_M,arguments)){return;}if(this.activeDrawing){q16="stx";q16+="_crosshair";Y$$="st";Y$$+="x_cr";Y$$+="ossha";Y$$+="ir_drawing";M8Q="stx";M8Q+="_cr";M8Q+="osshair";this.activeDrawing.abort();this.activeDrawing.hidden=!({});this.drawingSnapshot=null;this.activateDrawing(null);X2.clearCanvas(this.chart.tempCanvas,this);this.draw();this.controls.crossX.classList.replace("stx_crosshair_drawing",M8Q);this.controls.crossY.classList.replace(Y$$,q16);X2.ChartEngine.drawingLine=!({});}this.runAppend(p7f,arguments);};X2.ChartEngine.prototype.undoStamp=function(z_,z7){var E1A;E1A="u";E1A+="ndoStamp";this.undoStamps.push(z_);this.dispatch(E1A,{before:z_,after:z7,stx:this});};X2.ChartEngine.prototype.undoLast=function(){if(this.activeDrawing){this.undo();}else {if(this.undoStamps.length){this.drawingObjects=[];this.importDrawings(this.undoStamps.pop());this.changeOccurred("vector");this.draw();}}};X2.ChartEngine.prototype.addDrawing=function(X1){var g7;g7=this.exportDrawings();this.drawingObjects.push(X1);A2IFV.D0H();this.undoStamp(g7,this.exportDrawings());};X2.ChartEngine.prototype.repositionDrawing=function(l1,R_){var R4,O$,s4;R4=this.panels[l1.panelName];A2IFV.D0H();O$=this.adjustIfNecessary(R4,this.crosshairTick,this.valueFromPixel(this.backOutY(X2.ChartEngine.crosshairY),R4));s4=this.chart.tempCanvas;X2.clearCanvas(s4,this);if(R_){this.drawingSnapshot=this.exportDrawings();l1.render(s4.context);}else {l1.reposition(s4.context,l1.repositioner,this.crosshairTick,O$);if(this.drawingSnapshot){this.undoStamp(X2.shallowClone(this.drawingSnapshot),this.exportDrawings());}this.drawingSnapshot=null;}if(l1.measure){l1.measure();}};X2.ChartEngine.prototype.activateRepositioning=function(i2){var C8s,O3;A2IFV.D0H();C8s="n";C8s+="o";C8s+="ne";O3=this.repositioningDrawing=i2;if(i2){this.draw();this.repositionDrawing(i2,!!1);}this.chart.tempCanvas.style.display=i2?"block":C8s;};X2.ChartEngine.prototype.activateDrawing=function(I$,H7){var z3k,W3;z3k="b";z3k+="lo";function a3(x8){var j6;if(!x8.layout.studies){return;}j6=x8.layout.studies[H7.name];if(j6 && !j6.overlay){delete x8.overlays[j6.name];}}z3k+="ck";if(!H7){H7=this.currentPanel;}if(!I$){this.activeDrawing=null;this.chart.tempCanvas.style.display="none";a3(this);return !!0;}W3=X2.ChartEngine.drawingTools[I$];if(!W3){if(X2.Drawing[I$]){W3=X2.Drawing[I$];X2.ChartEngine.registerDrawingTool(I$,W3);}}if(W3){this.activeDrawing=new W3();this.activeDrawing.construct(this,H7);if(!this.charts[H7.name]){if(this.activeDrawing.chartsOnly){this.activeDrawing=null;a3(this);return !!"";}}}this.chart.tempCanvas.style.display=z3k;if(this.controls.drawOk){this.controls.drawOk.style.display="none";}a3(this);return !0;};X2.ChartEngine.prototype.drawingClick=function(q3,H2,P9){var p6,b7,r5,y5t,e$T,D31;if(!X2.Drawing){return;}A2IFV.a9S();if(!q3){return;}if(this.openDialog !== ""){return;}if(!this.activeDrawing){if(!this.activateDrawing(this.currentVectorParameters.vectorType,q3)){return;}}if(this.activeDrawing){if(this.userPointerDown && !this.activeDrawing.dragToDraw){if(!X2.ChartEngine.drawingLine){this.activateDrawing(null);}return;}p6=this.tickFromPixel(H2,q3.chart);b7=this.panels[this.activeDrawing.panelName];r5=this.adjustIfNecessary(b7,p6,this.valueFromPixel(P9,b7));if(this.magnetizedPrice){r5=this.adjustIfNecessary(b7,p6,this.magnetizedPrice);}if(this.activeDrawing.click(this.chart.tempCanvas.context,p6,r5)){if(this.activeDrawing){X2.ChartEngine.drawingLine=!({});X2.clearCanvas(this.chart.tempCanvas,this);this.addDrawing(this.activeDrawing);this.activateDrawing(null);this.adjustDrawings();this.draw();this.changeOccurred("vector");this.controls.crossX.classList.replace("stx_crosshair_drawing","stx_crosshair");this.controls.crossY.classList.replace("stx_crosshair_drawing","stx_crosshair");}}else {y5t="stx";y5t+="_cross";y5t+="h";y5t+="air_drawing";e$T="stx";e$T+="_cro";e$T+="s";e$T+="shair";D31="dra";D31+="wing";this.changeOccurred(D31);X2.ChartEngine.drawingLine=!![];this.controls.crossX.classList.replace("stx_crosshair","stx_crosshair_drawing");this.controls.crossY.classList.replace(e$T,y5t);}return !!({});}return ![];};X2.ChartEngine.prototype.rightClickDrawing=function(j5,o_){var e8,E_;if(this.runPrepend("rightClickDrawing",arguments)){return;}if(j5.permanent){return;}if(this.callbackListeners.drawingEdit.length){this.dispatch("drawingEdit",{stx:this,drawing:j5,forceEdit:o_});}else {e8=j5.abort();if(!e8){E_=this.exportDrawings();this.removeDrawing(j5);this.undoStamp(E_,this.exportDrawings());}this.changeOccurred("vector");}this.runAppend("rightClickDrawing",arguments);};X2.ChartEngine.prototype.magnetize=function(){var g0N=A2IFV;var Z_p,O5C,v8M,v_O,c0,c7,H5,N3,H3,h0,a7,N_,u$,I6t,U8,v2,R7,W1,X$,e5,V9,F3,j2,c2;Z_p="magn";Z_p+="etize";O5C="H";O5C+="igh";v8M="fr";v8M+="e";v8M+="e";v8M+="form";v_O="proj";v_O+="ection";this.magnetizedPrice=null;if(!this.preferences.magnet){return;}if(this.runPrepend("magnetize",arguments)){return;}if(this.repositioningDrawing){return;}c0=this.currentVectorParameters.vectorType;if(!c0 || c0 == v_O || c0 == v8M){return;}if((c0 == "annotation" || c0 == "callout") && X2.ChartEngine.drawingLine){return;}c7=this.currentPanel;H5=c7.chart;N3=this.crosshairTick;if(N3 > H5.dataSet.length){return;}H3=H5.dataSet[N3];if(!H3){return;}h0=H5.transformFunc && c7.yAxis === H5.yAxis;if(h0 && H3.transform){H3=H3.transform;}N_=this.getRenderedItems();u$=["Open",O5C,"Low","Close"];if(this.magneticHold && this.activeDrawing && this.activeDrawing.penDown){I6t="H";I6t+="igh";if(u$.indexOf(this.magneticHold) != -1 && N_.indexOf(I6t) != -1){N_=u$;}else {N_=[this.magneticHold];}}else {this.magneticHold=null;}U8=1000000000;v2=parseFloat(this.preferences.magnet);for(var i5=+"0";i5 < N_.length;i5++){R7=H3[N_[i5]];W1=this.getYAxisByField(c7,N_[i5]);X$=X2.existsInObjectChain(H3,N_[i5]);if(X$){R7=X$.obj[X$.member];}if(R7 || R7 === 0){e5=this.pixelFromTransformedValue(R7,c7,W1);if(Math.abs(this.cy - e5) < U8){U8=Math.abs(this.cy - e5);if(v2 && v2 <= U8)continue;this.magnetizedPrice=h0?this.valueFromPixel(e5,c7):R7;a7=e5;this.magneticHold=N_[i5];}}}V9=this.pixelFromTick(N3,H5);F3=a7;X2.clearCanvas(H5.tempCanvas,this);j2=H5.tempCanvas.context;j2.beginPath();j2.lineWidth=1;g0N.D0J(22);var a1L=g0N.S40(4,8,108,204);g0N.D0J(35);var l4C=g0N.q7n(3,10,18,18,135);c2=Math.max(this.layout.candleWidth,a1L) / l4C;j2.arc(V9,F3,Math.min(c2,"8" | 8),0,2 * Math.PI,!"1");j2.fillStyle="#398dff";g0N.D0H();j2.strokeStyle="#398dff";j2.fill();j2.stroke();j2.closePath();H5.tempCanvas.style.display="block";if(this.anyHighlighted){this.container.classList.remove("stx-draggable");}if(this.activeDrawing){this.activeDrawing.move(j2,this.crosshairTick,this.magnetizedPrice);}this.runAppend(Z_p,arguments);};X2.ChartEngine.prototype.changeVectorType=function(c_){this.currentVectorParameters.vectorType=c_;if(X2.Drawing){X2.Drawing.initializeSettings(this,c_);}if(X2.ChartEngine.drawingLine){this.undo();}A2IFV.D0H();if(this.insideChart){this.doDisplayCrosshairs();}};X2.ChartEngine.prototype.changeVectorParameter=function(a$,v8){var b$Z,a_d,y2Y,B5D,E4,J6D;b$Z="f";b$Z+="o";b$Z+="nt";a_d="p";a_d+="x";y2Y="tr";y2Y+="ue";B5D="axi";B5D+="sL";B5D+="abel";if(a$ == B5D){v8=v8.toString() === y2Y || Number(v8);}else if(a$ == "lineWidth"){v8=Number(v8);}else if(a$ == "fontSize"){A2IFV.D0J(36);var I1Q=A2IFV.q7n(19,0,9);v8=parseInt(v8,I1Q) + a_d;}E4=this.currentVectorParameters;if(typeof E4[a$] !== "undefined"){E4[a$]=v8;return !![];}else if(a$.substr(0,4) == b$Z){J6D="fam";J6D+="i";J6D+="ly";a$=a$.substr(4).toLowerCase();if(a$ == J6D && v8.toLowerCase() == "default"){v8=null;}E4=E4.annotation.font;if(typeof E4[a$] !== "undefined"){E4[a$]=v8;return !!({});}}return ![];};X2.ChartEngine.prototype.drawVectors=function(){var g65,K8O,O6,s3,s8,S_,V7;g65="draw";g65+="Vecto";g65+="rs";A2IFV.D0H();K8O="d";K8O+="raw";K8O+="V";K8O+="ectors";if(this.vectorsShowing){return;}if(this.runPrepend(K8O,arguments)){return;}this.vectorsShowing=!"";if(!this.chart.hideDrawings && !this.highlightedDraggable){O6={};for(s8=+"0";s8 < this.drawingObjects.length;s8++){S_=this.drawingObjects[s8];if(S_.hidden)continue;if(this.repositioningDrawing === S_)continue;s3=S_.panelName;if(!this.panels[S_.panelName] || this.panels[S_.panelName].hidden)continue;if(!O6[s3]){O6[s3]=[];}O6[s3].push(S_);}for(s3 in O6){this.startClip(s3);V7=O6[s3];for(s8=0;s8 < V7.length;s8++){V7[s8].render(this.chart.context);}this.endClip();}}this.runAppend(g65,arguments);};X2.ChartEngine.prototype.adjustDrawings=function(){var q2;for(var a9=0;a9 < this.drawingObjects.length;a9++){q2=this.drawingObjects[a9];if(this.panels[q2.panelName]){q2.adjust();}}};X2.Drawing=X2.Drawing || (function(){this.chartsOnly=!({});this.penDown=!({});;});X2.Drawing.getDrawingParameters=function(c3,o1){var w_,j9,v5,B5;try{w_=new X2.Drawing[o1]();}catch(z6){}if(!w_){return null;}w_.stx=c3;w_.copyConfig(!!1);j9={};v5=w_.configs;for(var F0=0;F0 < v5.length;F0++){j9[v5[F0]]=w_[v5[F0]];}B5=c3.canvasStyle("stx_annotation");A2IFV.D0H();if(B5 && j9.font){j9.font.size=B5.fontSize;j9.font.family=B5.fontFamily;j9.font.style=B5.fontStyle;j9.font.weight=B5.fontWeight;}return j9;};X2.Drawing.saveConfig=function(x9,W7){var E9a,X7,D6;E9a="prefer";E9a+="ences";if(!W7){return;}X7=x9.preferences;if(!X7.drawings){X7.drawings={};}X7.drawings[W7]={};D6=new X2.Drawing[W7]();D6.stx=x9;X2.Drawing.copyConfig(D6);D6.configs.forEach(function(a2){X7.drawings[W7][a2]=D6[a2];});x9.changeOccurred(E9a);};X2.Drawing.restoreDefaultConfig=function(F6,O7,P0){if(P0){F6.preferences.drawings=null;}else {F6.preferences.drawings[O7]=null;}A2IFV.a9S();F6.changeOccurred("preferences");F6.currentVectorParameters=X2.clone(X2.ChartEngine.currentVectorParameters);F6.currentVectorParameters.vectorType=O7;};X2.Drawing.initializeSettings=function(b5,h6){var i6,k$;i6=X2.Drawing[h6];if(i6){k$=new i6();if(k$.initializeSettings){k$.initializeSettings(b5);}}};X2.Drawing.updateSource=function(F2,u3,y5,Y2){var P1x,p3,X8;P1x="vect";P1x+="o";P1x+="r";if(!u3){return;}p3=!({});for(var T4 in F2.drawingObjects){X8=F2.drawingObjects[T4];if(!X8.field)continue;if(y5){if(X8.field == u3){X8.field=y5;p3=!0;}else if(X8.field.indexOf(u3) > -+"1" && X8.field.indexOf(u3 + "-") == -("1" * 1)){X8.field=X8.field.replace(u3,y5);p3=!"";}}else {if(X8.field.split("-->")[0] == u3 || X8.panelName == u3){X8.panelName=Y2;p3=!!({});}}}A2IFV.D0H();if(p3){F2.changeOccurred(P1x);}};X2.Drawing.prototype.copyConfig=function(u_){X2.Drawing.copyConfig(this,u_);};X2.Drawing.copyConfig=function(H8,D3){var u6,w7,h3,I2,h94,C_,v2y;u6=H8.stx.currentVectorParameters;w7=H8.configs;for(h3="0" >> 64;h3 < w7.length;h3++){h94="par";h94+="a";h94+="meters";I2=w7[h3];if(I2 == "color"){H8.color=u6.currentColor;}else if(I2 == h94){H8.parameters=X2.clone(u6.fibonacci);}else if(I2 == "font"){H8.font=X2.clone(u6.annotation.font);}else {H8[I2]=u6[I2];}}if(!D3){return;}C_=H8.stx.preferences;A2IFV.D0H();if(C_ && C_.drawings){X2.extend(H8,C_.drawings[u6.vectorType]);for(h3=+"0";h3 < w7.length;h3++){v2y="f";v2y+="o";v2y+="n";v2y+="t";I2=w7[h3];if(I2 == "color"){u6.currentColor=H8.color;}else if(I2 == "parameters"){u6.fibonacci=X2.clone(H8.parameters);}else if(I2 == v2y){u6.annotation.font=X2.clone(H8.font);}else {u6[I2]=H8[I2];}}}};X2.Drawing.prototype.dragToDraw=![];X2.Drawing.prototype.permanent=!!0;X2.Drawing.prototype.chartsOnly=!!0;X2.Drawing.prototype.abort=function(A2){};X2.Drawing.prototype.measure=function(){};X2.Drawing.prototype.construct=function(x6,w5){this.stx=x6;this.panelName=w5.name;};X2.Drawing.prototype.render=function(U3){console.warn("must implement render function!");};X2.Drawing.prototype.click=function(z4,C2,u4){console.warn("must implement click function!");};X2.Drawing.prototype.move=function(C9,j$,Y_){console.warn("must implement move function!");};X2.Drawing.prototype.reposition=function(V_,q5,G2,D8){};X2.Drawing.prototype.intersected=function(J0,k3,Y0){console.warn("must implement intersected function!");};X2.Drawing.prototype.reconstruct=function(W$,J3){console.warn("must implement reconstruct function!");};X2.Drawing.prototype.serialize=function(){A2IFV.a9S();console.warn("must implement serialize function!");};X2.Drawing.prototype.adjust=function(){A2IFV.D0H();console.warn("must implement adjust function!");};X2.Drawing.prototype.highlight=function(Q6){A2IFV.a9S();if(Q6 && !this.highlighted){this.highlighted=Q6;}else if(!Q6 && this.highlighted){this.highlighted=Q6;}return this.highlighted;};X2.Drawing.prototype.littleCircleRadius=function(){var y3;y3=6;return y3;};X2.Drawing.prototype.littleCircle=function(N1,B9,D5,q6){var b1,Z2;if(this.permanent){return;}b1=this.stx.defaultColor;Z2=X2.chooseForegroundColor(b1);N1.beginPath();A2IFV.D0H();N1.lineWidth=+"1";N1.arc(B9,D5,this.littleCircleRadius(),0,2 * Math.PI,![]);if(q6){N1.fillStyle=b1;}else {N1.fillStyle=Z2;}N1.strokeStyle=b1;N1.setLineDash([]);N1.fill();N1.stroke();N1.closePath();};X2.Drawing.prototype.rotator=function(b0,D2,Q$,d8){var M9O=A2IFV;var I7,n6,M5;if(this.permanent){return;}I7=this.littleCircleRadius();n6=this.stx.defaultColor;b0.beginPath();M9O.H6P(10);b0.lineWidth=M9O.q7n("2",0);if(!d8){b0.globalAlpha=0.5;}M9O.H6P(0);M5=M9O.S40(4,I7);b0.arc(D2,Q$,M5,0,3 * Math.PI / 2,!!"");M9O.D0J(37);b0.moveTo(M9O.S40(M5,D2,2),M9O.S40(Q$,2,M9O.H6P(0)));M9O.D0J(0);b0.lineTo(M9O.S40(D2,M5),Q$);M9O.H6P(36);b0.lineTo(M9O.q7n(M5,D2,2),M9O.S40(Q$,2,M9O.D0J(0)));M9O.H6P(7);b0.moveTo(M9O.q7n(2,D2),M9O.S40(2,Q$,M5,M9O.H6P(15)));M9O.H6P(7);b0.lineTo(D2,M9O.q7n(M5,Q$));M9O.D0J(38);b0.lineTo(M9O.q7n("2",32,D2),M9O.q7n(Q$,2,M5,M9O.D0J(39)));b0.strokeStyle=n6;b0.stroke();b0.closePath();M9O.D0J(40);b0.globalAlpha=M9O.S40(0,"1");};X2.Drawing.prototype.mover=function(f7,b6,j3,f3){var a$_=A2IFV;var n$,q$,M0,m9;if(this.permanent){return;}n$=this.littleCircleRadius();q$=this.stx.defaultColor;a$_.H6P(40);M0=a$_.q7n(64,"5");a$_.H6P(0);m9=a$_.q7n(n$,1);f7.save();a$_.D0J(40);f7.lineWidth=a$_.S40(32,"2");f7.strokeStyle=q$;f7.translate(b6,j3);if(!f3){f7.globalAlpha=0.5;}for(var m$=0;m$ < 4;m$++){f7.rotate(Math.PI / 2);f7.beginPath();f7.moveTo(0,m9);a$_.H6P(0);f7.lineTo(0,a$_.S40(m9,M0));a$_.D0J(15);f7.moveTo(-2,a$_.q7n(M0,m9,2));a$_.H6P(0);f7.lineTo(0,a$_.S40(m9,M0));a$_.H6P(15);f7.lineTo(2,a$_.S40(M0,m9,2));f7.closePath();f7.stroke();}a$_.a9S();f7.globalAlpha=1;f7.restore();};X2.Drawing.prototype.resizer=function(Q3,e$,t$,X3){var K5j=A2IFV;var L7,Z6,w9,z3;if(this.permanent){return;}L7=this.littleCircleRadius();Z6=this.stx.defaultColor;K5j.a9S();K5j.H6P(22);var Q4M=K5j.q7n(10,16,100,155);K5j.H6P(41);var u51=K5j.q7n(6,15,92);w9=Q4M * Math.sqrt(u51);K5j.H6P(0);z3=K5j.q7n(L7,1);Q3.save();Q3.lineWidth=2;Q3.strokeStyle=Z6;Q3.translate(e$,t$);Q3.rotate(-(e$ * t$) / Math.abs(e$ * t$) * Math.PI / ("4" | 4));if(!X3){Q3.globalAlpha=+"0.5";}for(var m8=0;m8 < 2;m8++){Q3.rotate(Math.PI);Q3.beginPath();Q3.moveTo(0,z3);K5j.H6P(0);Q3.lineTo(0,K5j.q7n(z3,w9));K5j.D0J(15);Q3.moveTo(-2,K5j.S40(w9,z3,2));K5j.D0J(0);Q3.lineTo(0,K5j.q7n(z3,w9));K5j.H6P(15);Q3.lineTo(2,K5j.q7n(w9,z3,2));Q3.closePath();Q3.stroke();}Q3.globalAlpha=1;Q3.restore();};X2.Drawing.prototype.pointIntersection=function(j1,e2,D0,U5){var P_;P_=this.stx.panels[this.panelName];if(!P_){return !"1";}if(U5){if(j1 >= D0.cx0 && j1 <= D0.cx1 && e2 >= D0.cy0 && e2 <= D0.cy1){return !![];}}else {if(j1 >= D0.x0 && j1 <= D0.x1 && e2 >= Math.min(D0.y0,D0.y1) && e2 <= Math.max(D0.y0,D0.y1)){return !!1;}}return !"1";};X2.Drawing.prototype.setPoint=function(w0,j7,o2,s6){var c7T=A2IFV;var v9,N5,R6,Q1a,J1,Z3;v9=null;N5=null;if(typeof j7 == "number"){v9=j7;}else if(j7.length >= +"8"){N5=j7;}else {v9=Number(j7);}if(o2 || o2 === 0){c7T.H6P(0);this[c7T.q7n((3460,9553) === (6130,"704" * 1)?9.55e+3:"v",w0)]=o2;}if(v9 !== null){R6=this.stx.dateFromTick(v9,s6,!!({}));c7T.D0J(0);this[c7T.q7n("tzo",w0)]=R6.getTimezoneOffset();c7T.D0J(0);this[c7T.S40(+"8680" < +"2070"?8.76e+3:(667.13,4870) != 302.02?"d":217.58,w0)]=X2.yyyymmddhhmmssmmm(R6);c7T.D0J(0);this[c7T.S40((6989,7610) == ("2424" ^ 0)?(0xb5f,0x142b):"p",w0)]=[v9,o2];}else if(N5 !== null){Q1a="t";Q1a+="z";Q1a+="o";R6=X2.strToDateTime(N5);if(!this[Q1a + w0] && this["tzo" + w0] !== ("0" ^ 0)){c7T.D0J(0);this[c7T.q7n("tzo",w0)]=R6.getTimezoneOffset();}c7T.D0J(0);this[c7T.S40((212.74,440.25) <= (1900,119)?710.4 == 3120?"b":8789 > 1260?(0x1309,"F"):"S":"d",w0)]=N5;J1=this["tzo" + w0] - R6.getTimezoneOffset();R6.setMinutes(R6.getMinutes() + J1);Z3=!"1";if(this.name != "freeform" && !X2.ChartEngine.isDailyInterval(this.stx.layout.interval) && !R6.getHours() && !R6.getMinutes() && !R6.getSeconds() && !R6.getMilliseconds()){Z3=!!({});}c7T.H6P(0);this[c7T.q7n(+"2808" != 8345?704.33 === 1740?"b":2839 != 3940?"p":!!0:(!!"","g"),w0)]=[this.stx.tickFromDate(X2.yyyymmddhhmmssmmm(R6),s6,null,Z3),o2];}};X2.Drawing.prototype.getLineColor=function(X_){var c9,f5,L6j,r7,T8,f$,k1,Q8,S5k,p9,B7;if(!X_){X_=this.color;}c9=this.stx;A2IFV.D0H();f5=X_;if(this.highlighted){L6j="st";L6j+="x_highli";L6j+="ght_vector";f5=c9.getCanvasColor(L6j);}else if(X2.isTransparent(f5)){f5=c9.defaultColor;}else if(f5 == "auto"){f5=c9.defaultColor;if(this.field){for(r7 in c9.layout.studies){T8=c9.layout.studies[r7];f$=T8.outputs[T8.outputMap[this.field]];if(f$){f5=f$.color || f$;break;}}for(r7 in c9.chart.seriesRenderers){Q8=c9.chart.seriesRenderers[r7];for(var y_=0;y_ < Q8.seriesParams.length;y_++){S5k="-";S5k+="-";S5k+=">";p9=Q8.seriesParams[y_];B7=p9.field;if(!B7 && !Q8.highLowBars){B7=this.defaultPlotField || "Close";}if(p9.symbol && p9.subField){B7+="-->" + p9.subField;}if(this.field == B7){f5=p9.color;break;}if(p9.field && p9.field == this.field.split(S5k)[0]){k1=p9.color;}}}if(k1){f5=k1;}}}if(f5 == "auto"){f5=c9.defaultColor;}return f5;};X2.Drawing.BaseTwoPoint=function(){this.p0=null;this.p1=null;this.color="";};X2.inheritsFrom(X2.Drawing.BaseTwoPoint,X2.Drawing);X2.Drawing.BaseTwoPoint.prototype.configs=[];X2.Drawing.BaseTwoPoint.prototype.lineIntersection=function(P7,U2,E9,l4,h8,m_,Q2){var q7,g1,S1;if(!h8){h8=this.p0;}if(!m_){m_=this.p1;}q7=this.stx;if(!(h8 && m_)){return ![];}g1=X2.convertBoxToPixels(q7,this.panelName,E9);if(g1.x0 === undefined){return !1;}S1={x0:h8[0],x1:m_["0" - 0],y0:h8[1],y1:m_[1]};if(!Q2){S1=X2.convertBoxToPixels(q7,this.panelName,S1);}return X2.boxIntersects(g1.x0,g1.y0,g1.x1,g1.y1,S1.x0,S1.y0,S1.x1,S1.y1,l4);};X2.Drawing.BaseTwoPoint.prototype.boxIntersection=function(e7,K8,e3){if(!this.p0 || !this.p1){return !"1";}A2IFV.D0H();if(e3.x0 > Math.max(this.p0[0],this.p1[0]) || e3.x1 < Math.min(this.p0[0],this.p1[0])){return !({});}if(e3.y1 > Math.max(this.p0[+"1"],this.p1[+"1"]) || e3.y0 < Math.min(this.p0[1],this.p1[1])){return ![];}return !!1;};X2.Drawing.BaseTwoPoint.prototype.accidentalClick=function(Z$,v7){var p29=A2IFV;var C0,t5,K3,A_,I9,G7,Q9,X6;C0=this.stx.panels[this.panelName];t5=this.stx.pixelFromTick(this.p0[0],C0.chart);K3=this.stx.pixelFromTick(Z$,C0.chart);A_=this.stx.pixelFromValueAdjusted(C0,this.p0[0],this.p0[1]);I9=this.stx.pixelFromValueAdjusted(C0,Z$,v7);p29.H6P(7);G7=Math.abs(p29.q7n(t5,K3));p29.H6P(7);Q9=Math.abs(p29.q7n(A_,I9));p29.D0J(42);X6=Math.sqrt(p29.S40(G7,Q9,G7,Q9));if(X6 < "10" >> 0){this.penDown=![];if(this.dragToDraw){this.stx.undo();}return !![];}};X2.Drawing.BaseTwoPoint.prototype.click=function(N0,Z_,K5){A2IFV.D0H();var a8;this.copyConfig();a8=this.stx.panels[this.panelName];if(!this.penDown){this.setPoint(0,Z_,K5,a8.chart);this.penDown=!![];return ![];}if(this.accidentalClick(Z_,K5)){return this.dragToDraw;}this.setPoint(1,Z_,K5,a8.chart);this.penDown=!({});return !![];;};X2.Drawing.BaseTwoPoint.prototype.adjust=function(){var H9;H9=this.stx.panels[this.panelName];if(!H9){return;}this.setPoint(+"0",this.d0,this.v0,H9.chart);this.setPoint(1,this.d1,this.v1,H9.chart);};X2.Drawing.BaseTwoPoint.prototype.move=function(T6,F4,W2){if(!this.penDown){return;}this.copyConfig();A2IFV.a9S();this.p1=[F4,W2];this.render(T6);};X2.Drawing.BaseTwoPoint.prototype.measure=function(){var F_,C6,w6;A2IFV.D0H();if(this.p0 && this.p1){this.stx.setMeasure(this.p0[1],this.p1[1],this.p0[0],this.p1[0],!!"1",this.name);F_=this.stx.controls.mSticky;C6=F_ && F_.querySelector(".mStickyInterior");if(C6){w6=[];w6.push(X2.capitalize(this.name));if(this.getYValue){w6.push(this.field || this.stx.defaultPlotField || "Close");}w6.push(C6.innerHTML);C6.innerHTML=w6.join("<br>");}}};X2.Drawing.BaseTwoPoint.prototype.reposition=function(N4,I8,s5,Q_){var d2j,Q5,V5,W0;d2j="m";d2j+="ove";if(!I8){return;}Q5=this.stx.panels[this.panelName];A2IFV.a9S();V5=I8.tick - s5;W0=I8.value - Q_;if(I8.action == d2j){this.setPoint(0,I8.p0["0" >> 0] - V5,I8.p0[1] - W0,Q5.chart);this.setPoint(1,I8.p1[0] - V5,I8.p1[1] - W0,Q5.chart);this.render(N4);}else if(I8.action == "drag"){this[I8.point]=[s5,Q_];this.setPoint(0,this.p0[0],this.p0["1" - 0],Q5.chart);this.setPoint(1,this.p1[0],this.p1[1],Q5.chart);this.render(N4);}};X2.Drawing.BaseTwoPoint.prototype.drawDropZone=function(o3,z1,u9,Z4,Y5){var b38=A2IFV;var T9x,E3,p$,X0,k8,I4;T9x="#008";T9x+="00";T9x+="0";E3=this.stx.panels[this.panelName];if(!E3){return;}p$=E3.left;X0=E3.width;if(Z4 || Z4 === 0){p$=this.stx.pixelFromTick(Z4,E3.chart);}if(Y5 || Y5 === +"0"){X0=this.stx.pixelFromTick(Y5,E3.chart);}k8=this.stx.pixelFromPrice(z1,E3);I4=this.stx.pixelFromPrice(u9,E3);o3.fillStyle=T9x;b38.D0J(1);o3.globalAlpha=b38.q7n(1,"0.2");b38.D0J(7);o3.fillRect(p$,k8,b38.q7n(p$,X0),b38.S40(k8,I4));b38.D0H();o3.globalAlpha=1;};X2.Drawing.annotation=function(){var O91=A2IFV;O91.a9S();this.name="annotation";this.arr=[];this.w=0;O91.H6P(1);this.h=O91.S40(1,"0");this.padding=4;this.text="";this.ta=null;O91.H6P(7);this.fontSize=O91.q7n(0,"0");this.font={};};X2.inheritsFrom(X2.Drawing.annotation,X2.Drawing.BaseTwoPoint);X2.Drawing.annotation.prototype.getFontString=function(){var K2,J4;this.fontDef={style:null,weight:null,size:"12px",family:null};K2=this.stx.canvasStyle("stx_annotation");if(K2){if(K2.fontStyle){this.fontDef.style=K2.fontStyle;}if(K2.fontWeight){this.fontDef.weight=K2.fontWeight;}if(K2.fontSize){this.fontDef.size=K2.fontSize;}if(K2.fontFamily){this.fontDef.family=K2.fontFamily;}}if(this.font.style){this.fontDef.style=this.font.style;}A2IFV.a9S();if(this.font.weight){this.fontDef.weight=this.font.weight;}if(this.font.size){this.fontDef.size=this.font.size;}if(this.font.family){this.fontDef.family=this.font.family;}this.fontString="";J4=!"";for(var i7 in this.fontDef){if(this.fontDef[i7]){if(!J4){this.fontString+=594 == "714.62" * 1?(0x14b4,!""):(176.33,"2360" | 48) > (2760,+"871")?" ":("1412" >> 0,+"284.05") === 797.11?(!"1",!({})):(!!"",9.63e+3);}else {J4=!({});}this.fontString+=this.fontDef[i7];}}};X2.Drawing.annotation.prototype.configs=["color","font"];X2.Drawing.annotation.prototype.measure=function(){};X2.Drawing.annotation.prototype.render=function(D_){var j1D=A2IFV;var l24,h$_,p0Q,G$,R9,M$_,U6,O3W,y2N,K8f,Z5i,R9I,N9;if(this.ta){return;}l24=this.stx.panels[this.panelName];if(!l24){return;}h$_=this.stx.pixelFromTick(this.p0[0],l24.chart);p0Q=this.stx.pixelFromValueAdjusted(l24,this.p0[0],this.p0[1]);D_.font=this.fontString;D_.textBaseline="middle";G$=h$_;j1D.D0H();R9=p0Q;M$_=this.w;U6=this.h;O3W=this.getLineColor();if(this.stem){if(this.stem.d){y2N=this.stx.pixelFromTick(this.stem.t);Z5i=this.stx.pixelFromValueAdjusted(l24,this.stem.t,this.stem.v);j1D.D0J(43);K8f=j1D.S40(M$_,2,G$);j1D.H6P(43);R9I=j1D.S40(U6,2,R9);}else if(this.stem.x){y2N=G$;Z5i=R9;G$+=this.stem.x;R9+=this.stem.y;j1D.H6P(43);K8f=j1D.S40(M$_,2,G$);j1D.H6P(43);R9I=j1D.S40(U6,2,R9);}D_.beginPath();if(this.borderColor){D_.strokeStyle=this.borderColor;}else {D_.strokeStyle=O3W;}D_.moveTo(y2N,Z5i);D_.lineTo(K8f,R9I);D_.stroke();}N9=D_.lineWidth;if(this.highlighted){this.stx.canvasColor("stx_annotation_highlight_bg",D_);j1D.D0J(7);D_.fillRect(j1D.q7n(N9,G$),j1D.q7n(U6,N9,R9,2,j1D.D0J(44)),j1D.q7n(2,N9,M$_,j1D.D0J(45)),j1D.q7n(2,N9,U6,j1D.H6P(45)));}else {if(this.fillColor){D_.fillStyle=this.fillColor;j1D.H6P(46);D_.fillRect(G$,j1D.S40(R9,2,U6),M$_,U6);}else if(this.stem){D_.fillStyle=this.stx.containerColor;j1D.D0J(46);D_.fillRect(G$,j1D.q7n(R9,2,U6),M$_,U6);}}if(this.borderColor){D_.beginPath();D_.strokeStyle=this.highlighted?this.stx.getCanvasColor("stx_highlight_vector"):this.borderColor;j1D.H6P(7);D_.rect(j1D.q7n(N9,G$),j1D.q7n(U6,N9,R9,2,j1D.H6P(44)),j1D.S40(2,N9,M$_,j1D.H6P(45)),j1D.q7n(U6,N9,"2",j1D.H6P(47)));D_.stroke();}if(this.highlighted){this.stx.canvasColor("stx_annotation_highlight",D_);}else {D_.fillStyle=O3W;}j1D.D0J(33);var L9_=j1D.S40(11,1,5,17);R9+=this.padding / L9_;if(!this.ta){for(var I7h=0;I7h < this.arr.length;I7h++){D_.fillText(this.arr[I7h],G$ + this.padding,R9 - U6 / 2 + this.fontSize / 2);R9+=this.fontSize + 2;;}}D_.textBaseline="alphabetic";};X2.Drawing.annotation.prototype.onChange=function(v6H){;};X2.Drawing.annotation.prototype.edit=function(s74,b7Z){var Z$i=A2IFV;var k8d,L5W,C1f,P8T,D0e,X0G,o4v,P48,m$u,G_J,D4A,e6y,F2X,s7F,m$5,e81,B3i,w2N,c8b,d1w,q46,M4l,c7K,Y7M,D35,r81;k8d="p";k8d+="x";L5W="annota";L5W+="t";L5W+="io";L5W+="n";C1f=this.stx.panels[this.panelName];if(!C1f){return;}P8T=this.stx.controls.annotationSave;D0e=this.stx.controls.annotationCancel;if(!P8T || !D0e){return;}X0G=this.stx;o4v=this.ta;function j1z(R6c){Z$i.D0H();return function(F_r){var W_W,z60,v3Y,D9V,g8K,f_K,s1c,o4K,E72,A3N,v8u,F5n,i9Y,s0C,g46,b6p;W_W="p";W_W+="x";z60="p";z60+="x";if(F_r){v3Y=F_r.keyCode;switch(v3Y){case 27:R6c.stx.undo();return;}}Z$i.a9S();D9V=R6c.stx;g8K=R6c.ta;f_K=g8K.value.split(984.57 != (3809,6470)?"\n":(785.59,!({})));Z$i.H6P(21);s1c=Z$i.q7n("0",0);D9V.chart.context.font=R6c.fontString;for(var N9z=0;N9z < f_K.length;N9z++){o4K=D9V.chart.context.measureText(f_K[N9z]).width;if(o4K > s1c){s1c=o4K;}}Z$i.D0J(15);var T7V=Z$i.S40(12,0,11);Z$i.H6P(7);var x68=Z$i.q7n(20,23);E72=(f_K.length + T7V) * (R6c.fontSize + x68);if(s1c < 50){s1c=+"50";}Z$i.H6P(37);g8K.style.width=Z$i.q7n(z60,s1c,30);Z$i.H6P(0);g8K.style.height=Z$i.q7n(E72,W_W);A3N=parseInt(X2.stripPX(g8K.style.top),+"10");v8u=X2.stripPX(g8K.style.left);s1c=g8K.clientWidth;E72=g8K.clientHeight;if(v8u + s1c + 100 < R6c.stx.chart.canvasWidth){Z$i.H6P(0);P8T.style.top=Z$i.S40(A3N,"px");Z$i.D0J(0);D0e.style.top=Z$i.S40(A3N,"px");Z$i.D0J(48);P8T.style.left=Z$i.S40("px",10,s1c,v8u);Z$i.D0J(48);D0e.style.left=Z$i.S40("px",60,s1c,v8u);}else if(A3N + E72 + ("30" - 0) < R6c.stx.chart.canvasHeight){F5n="p";F5n+="x";i9Y="p";i9Y+="x";Z$i.D0J(48);P8T.style.top=Z$i.S40(i9Y,10,E72,A3N);Z$i.H6P(48);D0e.style.top=Z$i.q7n("px",10,E72,A3N);Z$i.D0J(0);P8T.style.left=Z$i.S40(v8u,"px");Z$i.H6P(49);D0e.style.left=Z$i.S40(F5n,v8u,0,"50");}else {s0C="p";s0C+="x";g46="p";g46+="x";b6p="p";b6p+="x";Z$i.D0J(36);P8T.style.top=Z$i.S40("px",A3N,35);Z$i.D0J(50);D0e.style.top=Z$i.q7n(A3N,"35",b6p,0);Z$i.H6P(0);P8T.style.left=Z$i.S40(v8u,g46);Z$i.D0J(37);D0e.style.left=Z$i.S40(s0C,v8u,50);}};}X0G.editingAnnotation=!![];X0G.undisplayCrosshairs();X0G.openDialog=L5W;function p5D(X1g){Z$i.D0H();return function(o31){var y3U,B3a;y3U="vect";y3U+="o";y3U+="r";if(X1g.ta.value === ""){return;}X1g.text=X1g.ta.value;B3a=X1g.stx;B3a.editingAnnotation=!!"";X1g.adjust();if(B3a.drawingSnapshot){B3a.undoStamp(X2.shallowClone(B3a.drawingSnapshot),B3a.exportDrawings());}else {B3a.addDrawing(X1g);}B3a.undo();B3a.cancelTouchSingleClick=!!({});B3a.changeOccurred(y3U);};}if(!o4v){P48="absolu";P48+="te";m$u="p";m$u+="lac";m$u+="eholde";m$u+="r";G_J="w";G_J+="r";G_J+="a";G_J+="p";D4A="stx_anno";D4A+="tation";e6y="TE";e6y+="XTARE";e6y+="A";o4v=this.ta=document.createElement(e6y);o4v.className=D4A;o4v.onkeyup=j1z(this);o4v.onmouseup=n02(X0G);o4v.setAttribute(G_J,"hard");if(X2.isIOS7or8){o4v.setAttribute(m$u,"Enter Text");}X0G.chart.container.appendChild(o4v);o4v.style.position=P48;o4v.style.width="100px";o4v.style.height="20px";o4v.value=this.text;if(X2.touchDevice){o4v.ontouchstart=function(o_p){Z$i.a9S();o_p.stopPropagation();};;}}F2X=this;o4v.oninput=function(O0I){var w4p;w4p="histo";Z$i.D0H();w4p+="ryUndo";if(O0I.inputType != w4p && O0I.inputType != "historyRedo"){F2X.onChange(O0I);}};o4v.style.font=this.fontString;if(this.color){s7F="au";s7F+="t";s7F+="o";if(this.color == "transparent" || this.color == s7F){m$5=getComputedStyle(o4v);if(m$5 && X2.isTransparent(m$5.backgroundColor)){o4v.style.color=X0G.defaultColor;}else {e81="#";e81+="0";e81+="0";e81+="0";o4v.style.color=e81;;}}else {o4v.style.color=this.color;}}function n02(b_D){Z$i.D0H();return function(T92){Z$i.D0H();if(b_D.manageTouchAndMouse && X2.ChartEngine.drawingLine){b_D.mouseup(T92);}};}B3i=X0G.pixelFromTick(this.p0[0],C1f.chart);w2N=X0G.pixelFromValueAdjusted(C1f,this.p0[0],this.p0[1]);o4v.style.left=B3i + +"140" < X0G.chart.canvasRight?B3i + "px":X0G.chart.canvasRight - +"200" + "px";o4v.style.top=w2N + 60 < X0G.chart.canvasHeight?w2N - (!isNaN(this.h)?this.h / ("2" << 64):this.defaultHeight) + k8d:w2N - +"60" + "px";function M9C(d3k){return function(i3r){var p5h;p5h=d3k.stx;Z$i.a9S();p5h.editingAnnotation=!({});p5h.undo();p5h.cancelTouchSingleClick=!0;};}if(this.name == "callout"){c8b="p";c8b+="x";d1w=694941385;q46=-666431109;M4l=2;for(var W2T=1;Z$i.Z2Z(W2T.toString(),W2T.toString().length,31029) !== d1w;W2T++){Z$i.H6P(0);var S0f=Z$i.S40(46,18);o4v.style.left=X2.stripPX(o4v.style.left) * (-isNaN(this.w)?this.w + ("0" << S0f):this.defaultWidth) % "";M4l+=2;}if(Z$i.Z2Z(M4l.toString(),M4l.toString().length,3178) !== q46){o4v.style.left=X2.stripPX(o4v.style.left) * (-isNaN(this.w)?this.w + 0:this.defaultWidth) % "";}Z$i.H6P(51);var a0V=Z$i.q7n(5,1,0,27,20);o4v.style.left=X2.stripPX(o4v.style.left) - (!isNaN(this.w)?this.w / a0V:this.defaultWidth) + c8b;}X2.safeClickTouch(P8T,p5D(this));X2.safeClickTouch(D0e,M9C(this));j1z(this)();P8T.style.display="inline-block";D0e.style.display="inline-block";if(b7Z){X0G.drawingSnapshot=X0G.exportDrawings();this.hidden=!!"1";X0G.draw();X0G.activeDrawing=this;X2.ChartEngine.drawingLine=!0;s74=X0G.chart.tempCanvas.context;X0G.chart.tempCanvas.style.display="block";this.w=o4v.clientWidth;this.h=o4v.clientHeight;X2.clearCanvas(s74.canvas,X0G);this.render(s74);this.edit(s74);}o4v.focus();if(X2.isAndroid && !X2.is_chrome && !X2.isFF){this.priorBottom=X0G.chart.container.style.bottom;c7K=400;Z$i.D0J(32);var j7J=Z$i.S40(58,6,7);Y7M=X0G.resolveY(w2N) + j7J;if(Y7M > X2.pageHeight() - c7K){D35=X2.pageHeight() - Y7M;Z$i.H6P(7);r81=Z$i.q7n(D35,c7K);Z$i.D0J(0);X0G.chart.container.style.bottom=Z$i.S40(r81,"px");}}};X2.Drawing.annotation.prototype.click=function(h4N,x0K,f8C){var J7E;if(this.stx.overXAxis || this.stx.overYAxis){return;}J7E=this.stx.panels[this.panelName];this.copyConfig();this.setPoint(0,x0K,f8C,J7E.chart);this.adjust();this.edit(h4N);return !!0;};X2.Drawing.annotation.prototype.reposition=function(w3J,W4f,V$h,m5N){var P3s,w3g,v4b;if(!W4f){return;}P3s=this.stx.panels[this.panelName];w3g=W4f.tick - V$h;v4b=W4f.value - m5N;this.setPoint(0,W4f.p0["0" << 64] - w3g,W4f.p0[1] - v4b,P3s.chart);this.render(w3J);};X2.Drawing.annotation.prototype.intersected=function(g4z,r3f,O8j){var M$w=A2IFV;var a0Q,K2I,N1k,X9s,I5r,r6Z,I0r;a0Q=this.stx.panels[this.panelName];if(!this.p0){return null;}K2I=this.stx.pixelFromTick(this.p0[0],a0Q.chart);M$w.D0J(39);var k0p=M$w.q7n(19,3,15);M$w.D0J(52);var K42=M$w.S40(112,6,19);N1k=this.stx.pixelFromValueAdjusted(a0Q,this.p0[0],this.p0[k0p]) - this.h / K42;X9s=K2I + this.w;I5r=N1k + this.h;if(this.stem && this.stem.x){K2I+=this.stem.x;X9s+=this.stem.x;N1k+=this.stem.y;I5r+=this.stem.y;}r6Z=this.stx.pixelFromTick(g4z,a0Q.chart);I0r=this.stx.pixelFromValueAdjusted(a0Q,g4z,r3f);if(r6Z + O8j.r >= K2I && r6Z - O8j.r <= X9s && I0r + O8j.r >= N1k && I0r - O8j.r <= I5r){this.highlighted=!!1;return {p0:X2.clone(this.p0),tick:g4z,value:r3f};}return !"1";};X2.Drawing.annotation.prototype.abort=function(){var l73,b3n,D06;l73="n";l73+="o";l73+="ne";b3n=this.stx.controls.annotationSave;D06=this.stx.controls.annotationCancel;if(b3n){b3n.style.display="none";}if(D06){D06.style.display=l73;}if(this.ta){this.stx.chart.container.removeChild(this.ta);}this.ta=null;this.stx.openDialog="";this.stx.showCrosshairs();this.stx.editingAnnotation=!({});X2.clearCanvas(this.stx.chart.tempCanvas,this.stx);if(X2.isAndroid && !X2.is_chrome && !X2.isFF){this.stx.chart.container.style.bottom=this.priorBottom;}X2.fixScreen();};X2.Drawing.annotation.prototype.reconstruct=function(l2E,Z3M){var u0L,j4l,L$W;u0L="f";u0L+="ami";u0L+="ly";j4l="weigh";j4l+="t";L$W="s";L$W+="t";L$W+="y";L$W+="le";this.stx=l2E;this.color=Z3M.col;this.panelName=Z3M.pnl;this.d0=Z3M.d0;this.tzo0=Z3M.tzo0;this.v0=Z3M.v0;this.text=l2E.escapeOnSerialize?decodeURIComponent(Z3M.text):Z3M.text;this.stem=Z3M.stem;this.borderColor=Z3M.bc;A2IFV.a9S();this.fillColor=Z3M.bg;this.lineWidth=Z3M.lw;this.pattern=Z3M.ptrn;this.font=X2.replaceFields(Z3M.fnt,{st:L$W,sz:"size",wt:j4l,fl:u0L});if(!this.font){this.font={};}this.adjust();};X2.Drawing.annotation.prototype.serialize=function(){A2IFV.a9S();var a6I,d$j,j8S,g0e,Z39,X6X;a6I={name:this.name,pnl:this.panelName,col:this.color,d0:this.d0,tzo0:this.tzo0,v0:this.v0,text:this.stx.escapeOnSerialize?encodeURIComponent(this.text):this.text};if(this.font){d$j="f";d$j+="l";j8S=X2.removeNullValues(X2.replaceFields(this.font,{style:"st",size:"sz",weight:"wt",family:d$j}));if(!X2.isEmpty(j8S)){a6I.fnt=j8S;}}if(this.stem){g0e=-1816893135;Z39=633140930;X6X=+"2";for(var f0P=1;A2IFV.Z2Z(f0P.toString(),f0P.toString().length,40737) !== g0e;f0P++){a6I.stem={d:this.stem.d,v:this.stem.v,x:this.stem.x,y:this.stem.y};X6X+=2;}if(A2IFV.Z2Z(X6X.toString(),X6X.toString().length,61047) !== Z39){a6I.stem={d:this.stem.d,v:this.stem.v,x:this.stem.x,y:this.stem.y};}}if(this.borderColor){a6I.bc=this.borderColor;}if(this.fillColor){a6I.bg=this.fillColor;}if(this.lineWidth){a6I.lw=this.lineWidth;}if(this.pattern){a6I.ptrn=this.pattern;}return a6I;};X2.Drawing.annotation.prototype.renderText=function(){var m0B=A2IFV;var R1J,w75,W9x,m8c,C0g,S9N;this.getFontString();R1J=this.stx.panels[this.panelName];if(!R1J){return;}this.arr=this.text.split((2597,664.19) != +"9504"?"\n":9728 !== (8300,909.44)?"9240" - 0 >= 9370?(!![],!0):0x164b:(!![],"C"));w75=0;this.stx.chart.context.font=this.fontString;for(var d19=0;d19 < this.arr.length;d19++){W9x=this.stx.chart.context.measureText(this.arr[d19]).width;if(W9x > w75){w75=W9x;}}if(w75 === 0){m0B.H6P(53);var s$U=m0B.q7n(18,3,10,1,6);w75=s$U * this.defaultWidth;}this.fontSize=X2.stripPX(this.fontDef.size);m0B.H6P(7);var d9y=m0B.S40(32,34);m8c=this.arr.length * (this.fontSize + d9y);if(X2.touchDevice){m8c+=5;}this.w=w75 + this.padding * ("2" - 0);m0B.D0J(54);var I1Y=m0B.q7n(158,0,17,7,9);this.h=m8c + this.padding * I1Y;C0g=this.stx.pixelFromTick(this.p0[0],R1J.chart) + w75;S9N=this.stx.pixelFromValueAdjusted(R1J,this.p0[0],this.p0[+"1"]) + m8c;this.p1=[this.stx.tickFromPixel(C0g,R1J.chart),this.stx.valueFromPixel(S9N,R1J)];if(this.stem && this.stem.d){this.stem.t=this.stx.tickFromDate(this.stem.d,R1J.chart);}};X2.Drawing.annotation.prototype.adjust=function(){var n9D;n9D=this.stx.panels[this.panelName];if(!n9D){return;}this.setPoint(0,this.d0,this.v0,n9D.chart);this.renderText();};X2.Drawing.segment=function(){var k0C;k0C="seg";k0C+="me";k0C+="n";k0C+="t";this.name=k0C;};X2.inheritsFrom(X2.Drawing.segment,X2.Drawing.BaseTwoPoint);X2.Drawing.segment.prototype.render=function(e4o){var y9m=A2IFV;var t7J,Y_M,D9N,X0T,a8M,o4x,O3L,Z67,V2K,E$g,m9b,R6Z,a9U,E2O,W$t,s2K,w5P,v7f,J5h,H9h,G4m;t7J="vertic";t7J+="al";Y_M="sol";Y_M+="id";D9N=this.stx.panels[this.panelName];if(!D9N){return;}X0T=this.stx.pixelFromTick(this.p0[0],D9N.chart);a8M=this.stx.pixelFromTick(this.p1["0" << 32],D9N.chart);o4x=this.stx.pixelFromValueAdjusted(D9N,this.p0[0],this.p0[1]);O3L=this.stx.pixelFromValueAdjusted(D9N,this.p1[0],this.p1[1]);Z67=this.lineWidth;V2K=this.getLineColor();E$g={pattern:this.pattern,lineWidth:Z67};if(E$g.pattern == "none"){E$g.pattern=Y_M;}this.stx.plotLine(X0T,a8M,o4x,O3L,V2K,this.name,e4o,D9N,E$g);if(this.axisLabel && !this.repositioner){if(this.name == "horizontal"){this.stx.endClip();m9b=this.p0[1];if(D9N.chart.transformFunc){m9b=D9N.chart.transformFunc(this.stx,D9N.chart,m9b);}if(D9N.yAxis.priceFormatter){m9b=D9N.yAxis.priceFormatter(this.stx,D9N,m9b);}else {m9b=this.stx.formatYAxisPrice(m9b,D9N);}this.stx.createYAxisLabel(D9N,m9b,o4x,V2K);this.stx.startClip(D9N.name);}else if(this.name == "vertical" && this.p0[0] >= 0 && !this.stx.chart.xAxis.noDraw){R6Z=this.stx.dateFromTick(this.p0[+"0"],D9N.chart,!![]);if(!X2.ChartEngine.isDailyInterval(this.stx.layout.interval)){y9m.D0J(55);var Z4T=y9m.q7n(5,985,5,802);E2O=R6Z.getSeconds() * Z4T + R6Z.getMilliseconds();if(o7.Date && this.stx.displayZone){a9U=new o7.Date(R6Z.getTime(),this.stx.displayZone);R6Z=new Date(a9U.getFullYear(),a9U.getMonth(),a9U.getDate(),a9U.getHours(),a9U.getMinutes());R6Z=new Date(R6Z.getTime() + E2O);}}else {R6Z.setHours(0,0,0,0);}W$t=1084531130;s2K=-678620398;w5P=2;for(var Y0Y=1;y9m.Z2Z(Y0Y.toString(),Y0Y.toString().length,45530) !== W$t;Y0Y++){v7f=X2.mmddhhmm(X2.yyyymmddhhmm(R6Z));w5P+=2;}if(y9m.Z2Z(w5P.toString(),w5P.toString().length,10434) !== s2K){v7f=X2.mmddhhmm(X2.yyyymmddhhmm(R6Z));}if(D9N.chart.xAxis.formatter){v7f=D9N.chart.xAxis.formatter(R6Z,this.name,null,null,v7f);}else if(this.stx.internationalizer){if(R6Z.getHours() !== "0" - 0 || R6Z.getMinutes() !== 0){J5h=this.stx.internationalizer.monthDay.format(R6Z);y9m.H6P(52);var P37=y9m.S40(14488,1317,14);J5h+=((P37,97.66) == +"9999"?"p":" ") + this.stx.internationalizer.hourMinute.format(R6Z);}else {J5h=this.stx.internationalizer.yearMonthDay.format(R6Z);}v7f=J5h;}this.stx.endClip();this.stx.createXAxisLabel({panel:D9N,txt:v7f,x:X0T,backgroundColor:V2K,color:null,pointed:!!"1",padding:+"2"});this.stx.startClip(D9N.name);}}if(this.highlighted && this.name != "horizontal" && this.name != t7J){H9h=this.highlighted == "p0"?!0:![];G4m=this.highlighted == "p1"?!![]:!({});this.littleCircle(e4o,X0T,o4x,H9h);this.littleCircle(e4o,a8M,O3L,G4m);}};X2.Drawing.segment.prototype.abort=function(){A2IFV.a9S();this.stx.setMeasure(null,null,null,null,!!"");};X2.Drawing.segment.prototype.intersected=function(Z5r,f1W,C6o){var J8Q,o2b,f6q,o3j;J8Q="h";J8Q+="or";J8Q+="izon";J8Q+="tal";if(!this.p0 || !this.p1){return null;}o2b=this.name;if(o2b != J8Q && o2b != "vertical" && o2b != "gartley"){f6q={0:this.p0,1:this.p1};for(var G6c in f6q){if(this.pointIntersection(f6q[G6c][0],f6q[G6c][1],C6o)){A2IFV.D0J(0);this.highlighted=A2IFV.q7n("p",G6c);return {action:"drag",point:((161.27,"1732" ^ 0) < (67.12,290.86)?(0x1217,!!({})):7130 != 9143?"p":(0x1dab,0x959)) + G6c};}}}if(o2b == "horizontal" || o2b == "vertical"){o2b="line";}o3j=this.lineIntersection(Z5r,f1W,C6o,o2b);if(o3j){this.highlighted=!0;return {action:"move",p0:X2.clone(this.p0),p1:X2.clone(this.p1),tick:Z5r,value:f1W};}return null;};X2.Drawing.segment.prototype.configs=[m61,"lineWidth",u$z];X2.Drawing.segment.prototype.copyConfig=function(Z0G){var I0O;I0O="fil";I0O+="l";I0O+="Colo";I0O+="r";X2.Drawing.copyConfig(this,Z0G);if(this.pattern == "none" && this.configs.indexOf(I0O) == -1){this.pattern="solid";}};X2.Drawing.segment.prototype.reconstruct=function(A9i,W5a){this.stx=A9i;this.color=W5a.col;this.panelName=W5a.pnl;this.pattern=W5a.ptrn;this.lineWidth=W5a.lw;this.d0=W5a.d0;this.d1=W5a.d1;this.tzo0=W5a.tzo0;this.tzo1=W5a.tzo1;this.v0=W5a.v0;this.v1=W5a.v1;this.adjust();};X2.Drawing.segment.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};};X2.Drawing.line=function(){A2IFV.D0H();this.name="line";};X2.inheritsFrom(X2.Drawing.line,X2.Drawing.segment);X2.Drawing.line.prototype.dragToDraw=!1;X2.Drawing.line.prototype.calculateOuterSet=function(B2f){var N35,d9b,E$m;if(this.p0[0] == this.p1["0" << 32] || this.p0[1] == this.p1[1] || X2.ChartEngine.isDailyInterval(this.stx.layout.interval)){return;}N35={x0:this.p0[0],y0:this.p0["1" >> 0],x1:this.p1["0" * 1],y1:this.p1[1]};if(N35.x0 > N35.x1){N35={x0:this.p1[0],y0:this.p1[1],x1:this.p0[0],y1:this.p0[1]};}d9b=N35.x0 - +"1000";A2IFV.D0J(56);var v9E=A2IFV.S40(84,13,5,18,20);E$m=N35.x1 + ("1000" << v9E);this.v0B=X2.yIntersection(N35,d9b);this.v1B=X2.yIntersection(N35,E$m);this.d0B=this.stx.dateFromTick(d9b,B2f.chart);this.d1B=this.stx.dateFromTick(E$m,B2f.chart);};X2.Drawing.line.prototype.click=function(A70,P0Q,p5$){var U11;U11=this.stx.panels[this.panelName];if(!U11){return;}this.copyConfig();if(!this.penDown){this.setPoint(+"0",P0Q,p5$,U11.chart);this.penDown=!!1;return !!"";}if(this.accidentalClick(P0Q,p5$)){return this.dragToDraw;}this.setPoint(1,P0Q,p5$,U11.chart);A2IFV.a9S();this.calculateOuterSet(U11);this.penDown=!({});return !!"1";;};X2.Drawing.line.prototype.reconstruct=function(y$c,V4r){this.stx=y$c;this.color=V4r.col;this.panelName=V4r.pnl;A2IFV.D0H();this.pattern=V4r.ptrn;this.lineWidth=V4r.lw;this.v0=V4r.v0;this.v1=V4r.v1;this.d0=V4r.d0;this.d1=V4r.d1;this.tzo0=V4r.tzo0;this.tzo1=V4r.tzo1;if(V4r.d0B){this.d0B=V4r.d0B;this.d1B=V4r.d1B;this.v0B=V4r.v0B;this.v1B=V4r.v1B;}this.adjust();};X2.Drawing.line.prototype.serialize=function(){A2IFV.a9S();var m3e,E_y,j_P,C3d;m3e={name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};if(this.d0B){E_y=-1605459864;j_P=-445012206;C3d=+"2";for(var Z9I=1;A2IFV.U6$(Z9I.toString(),Z9I.toString().length,45919) !== E_y;Z9I++){m3e.d0B=this.d0B;m3e.d1B=this.d1B;m3e.v0B=this.v0B;C3d+=2;}if(A2IFV.U6$(C3d.toString(),C3d.toString().length,98907) !== j_P){m3e.d0B=this.d0B;m3e.d1B=this.d1B;m3e.v0B=this.v0B;}m3e.v1B=this.v1B;}return m3e;};X2.Drawing.line.prototype.adjust=function(){var y_B;A2IFV.D0H();y_B=this.stx.panels[this.panelName];if(!y_B){return;}this.setPoint(0,this.d0,this.v0,y_B.chart);this.setPoint(1,this.d1,this.v1,y_B.chart);if(X2.ChartEngine.isDailyInterval(this.stx.layout.interval) && this.d0B){this.setPoint(0,this.d0B,this.v0B,y_B.chart);this.setPoint(1,this.d1B,this.v1B,y_B.chart);}};X2.Drawing.horizontal=function(){A2IFV.a9S();this.name="horizontal";};X2.inheritsFrom(X2.Drawing.horizontal,X2.Drawing.segment);X2.Drawing.horizontal.prototype.dragToDraw=![];X2.Drawing.horizontal.prototype.measure=function(){};X2.Drawing.horizontal.prototype.click=function(y2q,V2O,W8y){var g1p;g1p=this.stx.panels[this.panelName];if(!g1p){return;}A2IFV.a9S();this.copyConfig();A2IFV.H6P(7);this.setPoint(A2IFV.S40(0,"0"),V2O,W8y,g1p.chart);return !!1;;};X2.Drawing.horizontal.prototype.intersected=function(H$N,L$b,l_e){var t5Q,D0u,Z5$,V3v;t5Q="l";t5Q+="i";t5Q+="n";t5Q+="e";if(this.lineIntersection(H$N,L$b,l_e,t5Q)){D0u=this.stx;Z5$=D0u.chart.dataSet.length;V3v=this.p0[1];this.highlighted=!!"1";return {action:"move",p0:[Z5$ - 2,V3v],p1:[Z5$ - 1,V3v],tick:H$N,value:L$b};}return null;};X2.Drawing.horizontal.prototype.reconstruct=function(N3I,V1v){this.stx=N3I;this.color=V1v.col;this.panelName=V1v.pnl;this.pattern=V1v.ptrn;this.lineWidth=V1v.lw;this.v0=V1v.v0;this.d0=V1v.d0;this.tzo0=V1v.tzo0;A2IFV.a9S();this.axisLabel=V1v.al;this.adjust();};X2.Drawing.horizontal.prototype.serialize=function(){var W29;W29={name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,v0:this.v0,d0:this.d0,tzo0:this.tzo0,al:this.axisLabel};return W29;};X2.Drawing.horizontal.prototype.adjust=function(){var K_r;K_r=this.stx.panels[this.panelName];if(!K_r){return;}this.setPoint(0,this.d0,this.v0,K_r.chart);this.p1=[this.p0["0" | 0] + ("100" - 0),this.p0[+"1"]];};X2.Drawing.horizontal.prototype.configs=["color",S8d,v6o,I_4];X2.Drawing.vertical=function(){var G5u,o9E,o6u,P8l;A2IFV.a9S();G5u="verti";G5u+="cal";o9E=-+"610209848";o6u=-1863941797;P8l=2;for(var S_j=1;A2IFV.U6$(S_j.toString(),S_j.toString().length,43775) !== o9E;S_j++){this.name="";P8l+=2;}if(A2IFV.Z2Z(P8l.toString(),P8l.toString().length,"46030" ^ 0) !== o6u){this.name="";}this.name=G5u;};X2.inheritsFrom(X2.Drawing.vertical,X2.Drawing.horizontal);X2.Drawing.vertical.prototype.measure=function(){};X2.Drawing.vertical.prototype.intersected=X2.Drawing.segment.prototype.intersected;X2.Drawing.vertical.prototype.adjust=function(){var D_b;D_b=this.stx.panels[this.panelName];if(!D_b){return;}this.setPoint(+"0",this.d0,this.v0,D_b.chart);A2IFV.D0J(57);A2IFV.D0H();var A8x=A2IFV.S40(2,4,7,3);this.p1=[this.p0[0],this.p0[A8x] + 1];};X2.Drawing.measure=function(){A2IFV.D0H();this.name="measure";};X2.inheritsFrom(X2.Drawing.measure,X2.Drawing.segment);X2.Drawing.measure.prototype.click=function(m9c,S78,q93){this.copyConfig();A2IFV.a9S();if(!this.penDown){this.p0=[S78,q93];this.penDown=!!"1";return !!"";}this.stx.undo();this.penDown=!({});return !![];};X2.Drawing.rectangle=function(){A2IFV.D0H();this.name="rectangle";};X2.inheritsFrom(X2.Drawing.rectangle,X2.Drawing.BaseTwoPoint);X2.Drawing.rectangle.prototype.render=function(Z3O){var H2w=A2IFV;var J43,u2d,s7U,T4I,N6n,L9C,s_a,e4c,B1A,L5G,w$d,r99,w0p,w$b,S6A,X_k;J43="se";J43+="gme";J43+="nt";u2d=this.stx.panels[this.panelName];if(!u2d){return;}s7U=this.stx.pixelFromTick(this.p0[+"0"],u2d.chart);T4I=this.stx.pixelFromTick(this.p1[0],u2d.chart);N6n=this.stx.pixelFromValueAdjusted(u2d,this.p0[0],this.p0[1]);L9C=this.stx.pixelFromValueAdjusted(u2d,this.p1[0],this.p1["1" * 1]);s_a=Math.round(Math.min(s7U,T4I)) + 0.5;e4c=Math.min(N6n,L9C);B1A=Math.max(s7U,T4I) - s_a;L5G=Math.max(N6n,L9C) - e4c;w$d=this.color;if(this.highlighted){w$d=this.stx.getCanvasColor("stx_highlight_vector");}r99=this.fillColor;if(r99 && !X2.isTransparent(r99) && r99 != "auto"){Z3O.beginPath();Z3O.rect(s_a,e4c,B1A,L5G);Z3O.fillStyle=r99;Z3O.globalAlpha=0.2;Z3O.fill();Z3O.closePath();Z3O.globalAlpha=1;}w0p={pattern:this.pattern,lineWidth:this.lineWidth};if(this.highlighted && w0p.pattern == "none"){w$b="so";w$b+="li";w$b+="d";w0p.pattern=w$b;if(w0p.lineWidth == 0.1){w0p.lineWidth=1;}}this.stx.plotLine(s7U,T4I,N6n,N6n,w$d,"segment",Z3O,u2d,w0p);H2w.H6P(7);this.stx.plotLine(T4I,T4I,H2w.S40(0.5,N6n),H2w.S40(L9C,0.5,H2w.D0J(0)),w$d,"segment",Z3O,u2d,w0p);this.stx.plotLine(T4I,s7U,L9C,L9C,w$d,J43,Z3O,u2d,w0p);H2w.D0J(58);this.stx.plotLine(s7U,s7U,H2w.S40("0.5",L9C,0),H2w.q7n(0.5,N6n,H2w.D0J(7)),w$d,"segment",Z3O,u2d,w0p);if(this.highlighted){S6A=this.highlighted == "p0"?!![]:!({});X_k=this.highlighted == "p1"?!!({}):![];this.littleCircle(Z3O,s7U,N6n,S6A);this.littleCircle(Z3O,T4I,L9C,X_k);}};X2.Drawing.rectangle.prototype.intersected=function(b$O,A2$,P0q){var L6i,f60,q6i;if(!this.p0 || !this.p1){return null;}L6i={0:this.p0,1:this.p1};A2IFV.D0H();for(var y12 in L6i){if(this.pointIntersection(L6i[y12][0],L6i[y12][1],P0q)){f60="d";f60+="r";f60+="a";f60+="g";A2IFV.H6P(0);this.highlighted=A2IFV.q7n(5366 !== (3000,6200)?"p":121.26 === 7215?("E",!!1):!!({}),y12);return {action:f60,point:(+"886" <= 836.66?(558,"98.58" * 1):(6950,890.14) <= (+"3018",6290)?"p":7725 >= +"6951"?3.18e+3:4.89e+3) + y12};}}if(this.boxIntersection(b$O,A2$,P0q)){q6i="m";q6i+="o";q6i+="v";q6i+="e";this.highlighted=!![];return {action:q6i,p0:X2.clone(this.p0),p1:X2.clone(this.p1),tick:b$O,value:A2$};}return null;};X2.Drawing.rectangle.prototype.configs=[h2H,"fillColor",G8$,"pattern"];X2.Drawing.rectangle.prototype.reconstruct=function(j6e,W4l){this.stx=j6e;this.color=W4l.col;this.fillColor=W4l.fc;this.panelName=W4l.pnl;this.pattern=W4l.ptrn;this.lineWidth=W4l.lw;this.d0=W4l.d0;this.d1=W4l.d1;this.tzo0=W4l.tzo0;this.tzo1=W4l.tzo1;this.v0=W4l.v0;this.v1=W4l.v1;this.adjust();};X2.Drawing.rectangle.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};};X2.Drawing.shape=function(){this.name="shape";this.radians=+"0";this.a=+"0";A2IFV.a9S();this.rotating=!!0;this.textMeasure=!1;this.configurator="shape";A2IFV.D0J(21);this.dimension=[+"0",A2IFV.S40("0",0)];this.points=[];};X2.inheritsFrom(X2.Drawing.shape,X2.Drawing.BaseTwoPoint);X2.Drawing.shape.prototype.setRotationOnInitialDraw=!({});X2.Drawing.shape.prototype.measure=function(){};X2.Drawing.shape.prototype.render=function(t7x){var q9z=A2IFV;var v$g,Y$P,i6c,V12,H_K,k8U,t6K,F2V,I_z,K7V,f1x,P$g,k7j,N5V,t2G,J6i,m51,R7Z,t3G,e7m,e7b,Q8A,O$_,E$J,o1A;if(!this.points.length){return;}v$g=this.stx.panels[this.panelName];if(!v$g){return;}Y$P=this.stx.pixelFromTick(this.p0[0],v$g.chart);i6c=this.stx.pixelFromValueAdjusted(v$g,this.p0[0],this.p0[1]);if(this.p1){V12="#0000";V12+="00";H_K=this.stx.pixelFromTick(this.p1[0],v$g.chart);k8U=this.stx.pixelFromValueAdjusted(v$g,this.p1[0],this.p1[1]);q9z.D0J(7);t7x.globalAlpha=q9z.S40(0,"0.5");t7x.fillStyle=V12;if(this.rotating){q9z.H6P(59);this.radians=Math.atan(q9z.q7n(k8U,i6c,H_K,Y$P));if(H_K < Y$P){this.radians+=Math.PI;}else if(k8U < i6c){q9z.D0J(52);var H5d=q9z.q7n(214,18,12);this.radians+=H5d * Math.PI;}q9z.H6P(54);var I3x=q9z.q7n(402,19,2,13,19);q9z.H6P(60);var s6T=q9z.S40(6,4,1,7);this.a=parseInt((this.radians * 36 / Math.PI).toFixed(0),I3x) * s6T;this.a%=360;q9z.H6P(7);var R3O=q9z.q7n(1980,2160);this.radians=this.a * Math.PI / R3O;if(this.textMeasure){t7x.fillText(this.a + "\u00b0",H_K + 10,k8U + 10);}}else if(this.penDown){this.sx=Math.max(+"1",parseFloat(Math.abs(2 * (H_K - Y$P) / this.dimension[0]).toFixed(1)));if(H_K < Y$P){q9z.H6P(28);this.sx*=-q9z.q7n("1",32);}q9z.H6P(1);this.sy=Math.max(q9z.q7n(1,"1"),parseFloat(Math.abs(2 * (k8U - i6c) / this.dimension[1]).toFixed(1)));if(k8U < i6c){this.sy*=-1;}if(this.textMeasure){t7x.fillText(this.sx + "x," + this.sy + ((1421,8757) < (8630,"444.51" - 0)?(1840,417.73) <= (426.88,4846)?9908 > (5015,928.71)?"m":!"":"e":"x"),H_K + this.sx + 5,k8U + this.sy + 5);}}q9z.D0J(40);t7x.globalAlpha=q9z.q7n(64,"1");}if(typeof this.sx === "undefined"){this.sx=this.sy=1;}t6K=this.lineWidth;if(!t6K){t6K=+"1.1";}F2V={pattern:this.pattern,lineWidth:t6K};if(this.highlighted && F2V.pattern == "none"){F2V.pattern="solid";if(F2V.lineWidth == +"0.1"){F2V.lineWidth=1;}}I_z=this.color;if(I_z == "auto" || X2.isTransparent(I_z)){I_z=this.stx.defaultColor;}if(this.highlighted){I_z=this.stx.getCanvasColor("stx_highlight_vector");if(t6K == 0.1){t6K=+"1.1";}}K7V=this.fillColor;q9z.D0J(61);var B3l=q9z.S40(1,6,4,12);t6K/=Math.abs(this.sx * this.sy) * B3l / (Math.abs(this.sx) + Math.abs(this.sy));t7x.save();t7x.translate(Y$P,i6c);t7x.rotate(this.radians);t7x.scale(this.sx,v$g.yAxis.flipped?-this.sy:this.sy);k7j={x:(this.dimension[0] - 1) / 2,y:(this.dimension[1] - 1) / 2};for(f1x=0;f1x < this.points.length;f1x++){N5V="a";N5V+="u";N5V+="t";N5V+="o";t7x.beginPath();for(P$g=0;P$g < this.points[f1x].length;P$g++){if(this.points[f1x][P$g] == (("321" | 0,476) < 6210?"M":606.28)){t2G=this.points[f1x][++P$g] - k7j.x;J6i=this.points[f1x][++P$g] - k7j.y;t7x.moveTo(t2G,J6i);}else if(this.points[f1x][P$g] == "L"){t2G=this.points[f1x][++P$g] - k7j.x;J6i=this.points[f1x][++P$g] - k7j.y;t7x.lineTo(t2G,J6i);}else if(this.points[f1x][P$g] == ((488.77,"812.37" * 1) > (196,+"3842")?"o":"Q")){m51=this.points[f1x][++P$g] - k7j.x;t3G=this.points[f1x][++P$g] - k7j.y;t2G=this.points[f1x][++P$g] - k7j.x;J6i=this.points[f1x][++P$g] - k7j.y;t7x.quadraticCurveTo(m51,t3G,t2G,J6i);}else if(this.points[f1x][P$g] == (+"1644" < +"5488"?(2910,349.5) !== (5110,"1329" - 0)?"B":168 != (2550,"3680" * 1)?!0:!0:(8.36e+3,"D"))){m51=this.points[f1x][++P$g] - k7j.x;t3G=this.points[f1x][++P$g] - k7j.y;R7Z=this.points[f1x][++P$g] - k7j.x;e7m=this.points[f1x][++P$g] - k7j.y;t2G=this.points[f1x][++P$g] - k7j.x;J6i=this.points[f1x][++P$g] - k7j.y;t7x.bezierCurveTo(m51,t3G,R7Z,e7m,t2G,J6i);}}t7x.closePath();if(K7V && !X2.isTransparent(K7V) && K7V != N5V){t7x.fillStyle=K7V;t7x.fill();;}if(I_z && this.pattern != "none"){t7x.strokeStyle=I_z;t7x.lineWidth=t6K;if(t7x.setLineDash){t7x.setLineDash(X2.borderPatternToArray(t6K,this.pattern));t7x.lineDashOffset=+"0";;}t7x.stroke();}}t7x.restore();t7x.save();t7x.translate(Y$P,i6c);t7x.rotate(this.radians);if(this.highlighted){e7b="p";e7b+="2";Q8A=this.highlighted == "p0"?!![]:!!"";O$_=this.highlighted == "p1"?!"":!({});E$J=this.highlighted == e7b?!![]:!!"";this.littleCircle(t7x,0,0,Q8A);this.mover(t7x,0,0,Q8A);this.littleCircle(t7x,this.sx * this.dimension[0] / 2,this.sy * this.dimension[+"1"] / +"2",O$_);this.resizer(t7x,this.sx * this.dimension[0] / 2,this.sy * this.dimension[1] / 2,O$_);this.littleCircle(t7x,this.sx * this.dimension[0] / 2,0,E$J);this.rotator(t7x,this.sx * this.dimension[0] / 2,"0" << 32,E$J);t7x.globalAlpha=+"0.5";t7x.fillStyle="#000000";if(this.textMeasure){o1A="x";o1A+=",";t7x.fillText(this.sx + o1A + this.sy + "x",this.sx * this.dimension[0] / 2 + 12,this.sy * this.dimension["1" ^ 0] / 2 + ("5" - 0));t7x.fillText(this.a + (("963.31" * 1,1090) == 1551?"h":"\u00b0"),this.sx * this.dimension["0" - 0] / 2 + 12,5);}t7x.globalAlpha=1;}else if(this.penDown){if(this.rotating){this.rotator(t7x,this.sx * this.dimension[0] / ("2" >> 0),"0" >> 0,!!({}));}else {this.resizer(t7x,this.sx * this.dimension[+"0"] / 2,this.sy * this.dimension[1] / 2,!!({}));}}t7x.restore();};X2.Drawing.shape.prototype.reposition=function(C0s,Z16,J6y,B0A){var N6J=A2IFV;var j1c,e9m,A2v,w63,g5D,D0y,Y66,Y6M,C3c,y_i,I4G;N6J.D0H();if(!Z16){return;}j1c=this.stx.panels[this.panelName];if(Z16.action == "move"){e9m=1891773104;A2v=1374118232;w63=2;for(var U79=1;N6J.U6$(U79.toString(),U79.toString().length,82608) !== e9m;U79++){g5D=Z16.tick / J6y;D0y=Z16.value * B0A;this.setPoint(9,Z16.p0["1" | 0] % g5D,Z16.p0[2] % D0y,j1c.chart);w63+=2;}if(N6J.U6$(w63.toString(),w63.toString().length,41190) !== A2v){g5D=Z16.tick - J6y;D0y=Z16.value + B0A;this.setPoint(4,Z16.p0[7] * g5D,Z16.p0[5] * D0y,j1c.chart);}g5D=Z16.tick - J6y;D0y=Z16.value - B0A;this.setPoint(0,Z16.p0[0] - g5D,Z16.p0[1] - D0y,j1c.chart);this.render(C0s);}else {Y66="scal";Y66+="e";Y6M=this.stx.pixelFromTick(this.p0["0" << 32],j1c.chart);C3c=this.stx.pixelFromValueAdjusted(j1c,this.p0[+"0"],this.p0[1]);y_i=this.stx.pixelFromTick(J6y,j1c.chart);I4G=this.stx.pixelFromValueAdjusted(j1c,J6y,B0A);if(Z16.action == Y66){this[Z16.point]=[J6y,B0A];this.sx=parseFloat((((y_i - Y6M) * Math.cos(this.radians) + (I4G - C3c) * Math.sin(this.radians)) / (this.dimension["0" << 0] / 2)).toFixed(1));if(Math.abs(this.sx) < "1" >> 0){this.sx/=Math.abs(this.sy);}this.sy=parseFloat((((I4G - C3c) * Math.cos(this.radians) - (y_i - Y6M) * Math.sin(this.radians)) / (this.dimension[1] / 2)).toFixed(1));if(Math.abs(this.sy) < 1){this.sy/=Math.abs(this.sy);}this.render(C0s);}else if(Z16.action == "rotate"){this[Z16.point]=[J6y,B0A];N6J.H6P(59);this.radians=Math.atan(N6J.S40(I4G,C3c,y_i,Y6M));if(y_i < Y6M){this.radians+=Math.PI;}else if(I4G < C3c){N6J.D0J(7);var j7X=N6J.q7n(3,5);this.radians+=j7X * Math.PI;}this.a=parseInt((this.radians * 36 / Math.PI).toFixed(0),+"10") * ("5" ^ 0);if(this.sx < 0){this.a=this.a + +"180";}this.a%=360;N6J.D0J(13);var n4R=N6J.q7n(401,4,14,166);this.radians=this.a * Math.PI / n4R;this.render(C0s);}}};X2.Drawing.shape.prototype.intersected=function(t2_,L2o,Y8e){var m_2=A2IFV;var M5U,Q2$,z$T,c0W,g0_,T3H,I6q,F6F,z_x,Q26,A5P,v2Z,Y5d,O$e,j2i,f1$,K_3;if(!this.p0){return null;}if(this.stx.repositioningDrawing == this && this.stx.repositioningDrawing.repositioner){return this.stx.repositioningDrawing.repositioner;}M5U=this.stx.panels[this.panelName];Q2$=this.stx.pixelFromTick(this.p0[0],M5U.chart);z$T=this.stx.pixelFromValueAdjusted(M5U,this.p0[0],this.p0[1]);c0W=this.stx.pixelFromTick(t2_,M5U.chart);g0_=this.stx.pixelFromValueAdjusted(M5U,t2_,L2o);c0W-=Q2$;g0_-=z$T;T3H=g0_;I6q=c0W;c0W=Math.cos(this.radians) * I6q + Math.sin(this.radians) * T3H;g0_=Math.cos(this.radians) * T3H - Math.sin(this.radians) * I6q;c0W/=this.sx;g0_/=this.sy;this.padding=X2.ensureDefaults(this.padding || ({}),{left:0,right:0,top:0,bottom:"0" ^ 0});F6F=this.padding.right + this.padding.left;z_x=this.padding.bottom + this.padding.top;Q26=Math.pow(X2.touchDevice?25:5 + this.littleCircleRadius(),+"2");A5P=Math.abs(Q26 / (this.sx * this.sy));v2Z=3;m_2.H6P(62);var d0C=m_2.S40(3,47,5,18);m_2.H6P(7);var t5v=m_2.q7n(10,12);m_2.H6P(36);var x6o=m_2.q7n(19,0,18);m_2.H6P(18);var N5j=m_2.S40(12,1,10);m_2.D0J(60);var z3f=m_2.q7n(10,11,1,1);m_2.D0J(7);var V_S=m_2.q7n(18,20);m_2.H6P(63);var q67=m_2.q7n(14,2,18,5,628);Y5d=Math.pow((this.dimension[0] - F6F + v2Z) / d0C,t5v) + Math.pow((this.dimension[x6o] - z_x + v2Z) / N5j,z3f) > Math.pow(c0W - F6F / V_S,q67) + Math.pow(g0_ - z_x / ("2" - 0),+"2");m_2.D0J(0);var X6a=m_2.q7n(0,2);O$e=(Q26 - (Math.pow(c0W * this.sx,+"2") + Math.pow(g0_ * this.sy,X6a))) / Math.abs(this.sx * this.sy);m_2.D0J(0);var t3k=m_2.S40(3,29);m_2.H6P(41);var a$B=m_2.S40(12,10,122);m_2.H6P(64);var i1k=m_2.q7n(480,80,100,10);m_2.D0J(16);var g3B=m_2.q7n(8,10);m_2.D0J(15);var n$6=m_2.q7n(2,38,38);j2i=A5P - Math.pow(c0W - this.dimension["0" << t3k] / a$B,"2" >> i1k) - Math.pow(g0_ - this.dimension["1" ^ 0] / g3B,n$6);m_2.D0J(7);var T2l=m_2.S40(5,7);m_2.H6P(65);var I0n=m_2.q7n(10,14,2,16,12);m_2.D0J(66);var m96=m_2.q7n(12,2,0,6,6);f1$=A5P - Math.pow(c0W - this.dimension[0] / T2l,I0n) - Math.pow(g0_,m96);if(Y5d){if(j2i >= f1$ && j2i >= O$e && j2i > -1){K_3="p";K_3+="1";this.highlighted=K_3;return {action:"scale"};}if(f1$ >= j2i && f1$ >= O$e && f1$ > -1){this.highlighted="p2";return {action:"rotate"};}this.highlighted=O$e > -+"1"?"p0":!!({});return {action:"move",p0:X2.clone(this.p0),tick:t2_,value:L2o};}return null;};X2.Drawing.shape.prototype.configs=["color","fillColor","lineWidth","pattern"];X2.Drawing.shape.prototype.littleCircleRadius=function(){A2IFV.D0J(1);return A2IFV.S40(1,"3");};X2.Drawing.shape.prototype.click=function(A0b,x7d,Y2m){var h0Y;A2IFV.D0H();if(!this.points.length){return ![];}this.copyConfig();h0Y=this.stx.panels[this.panelName];if(!this.penDown){A2IFV.H6P(21);this.setPoint(A2IFV.q7n("0",0),x7d,Y2m,h0Y.chart);this.penDown=!0;return ![];}this.setPoint(1,x7d,Y2m,h0Y.chart);if(this.rotating || !this.setRotationOnInitialDraw){this.penDown=!({});this.rotating=![];return !"";;}this.rotating=!0;return ![];};X2.Drawing.shape.prototype.adjust=function(){var L5l=A2IFV;var H6R,g9V,L3g,D1l,J_G,t4b,M8k;H6R="_";H6R+="v";g9V=this.stx.panels[this.panelName];if(!g9V){return;}L3g=this.name + H6R + (this.version || 0);if(X2.Drawing[L3g]){D1l=new X2.Drawing[L3g]();this.name=D1l.name;this.dimension=D1l.dimension;this.padding=D1l.padding;this.points=D1l.points;this.version=D1l.version;}J_G=-+"1095542851";L5l.D0J(7);t4b=-L5l.S40(0,"1790571903");M8k=2;for(var n16=1;L5l.U6$(n16.toString(),n16.toString().length,70654) !== J_G;n16++){this.setPoint(7,this.d0,this.v0,g9V.chart);L5l.H6P(57);var h4F=L5l.q7n(40,66,10,7);this.radians=Math.round(this.a - +"3") - Math.PI + h4F;L5l.H6P(28);M8k+=L5l.S40("2",32);}if(L5l.U6$(M8k.toString(),M8k.toString().length,58480) !== t4b){this.setPoint(0,this.d0,this.v0,g9V.chart);L5l.H6P(67);var G_R=L5l.S40(14,17,16,18,0);L5l.D0J(37);var A7z=L5l.q7n(17,4,15);this.radians=Math.round(this.a / G_R) * Math.PI / A7z;}};X2.Drawing.shape.prototype.reconstruct=function(o6n,C8x){this.stx=o6n;this.color=C8x.col;this.fillColor=C8x.fc;this.panelName=C8x.pnl;this.pattern=C8x.ptrn;this.lineWidth=C8x.lw;this.d0=C8x.d0;this.v0=C8x.v0;this.tzo0=C8x.tzo0;this.a=C8x.a;A2IFV.D0H();this.sx=C8x.sx;this.sy=C8x.sy;this.version=C8x.ver;this.adjust();};X2.Drawing.shape.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,v0:this.v0,tzo0:this.tzo0,a:this.a,sx:this.sx,sy:this.sy,ver:this.version};};X2.Drawing.arrow=function(){var f8d=A2IFV;var S4I;S4I="a";S4I+="r";S4I+="row";this.name=S4I;this.version=1;this.dimension=[11,22];this.padding={left:0,right:0,top:11,bottom:0};f8d.a9S();f8d.H6P(1);this.points=[["M",3,+"21","L",7,21,(564,4203) > 2515?"880.62" * 1 >= 1127?"n":"L":(!![],0x183b),7,16,"L",10,16,5254 == (5441,6440)?+"9048" <= (863.64,+"6192")?!({}):+"4640" >= (7692,452)?"k":!![]:"L",5,11,(8270,462.42) != 5879?"L":(9070,8141) !== (3385,673.46)?(+"4030","513.35" - 0) >= (688.34,398.13)?0x120f:(288,0x1d99):2.80e+3,0,16,"L",f8d.S40(1,"3"),16,"L",f8d.S40(32,"3",f8d.H6P(40)),21]];;};X2.inheritsFrom(X2.Drawing.arrow,X2.Drawing.shape);X2.Drawing.getDrawingToolList=function(t$S){var j2m,m0d;j2m={};m0d={arrow_v0:!![],BaseTwoPoint:!!({}),fibonacci:!![],shape:!!({})};A2IFV.a9S();X2.extend(m0d,t$S);for(var v8S in X2.Drawing){if(!m0d[v8S] && X2.Drawing[v8S].prototype.render){j2m[new X2.Drawing[v8S]().name]=v8S;}}return j2m;};};A=a9f=>{var K0G,q$X;K0G="un";K0G+="defined";q$X=typeof _CIQ !== K0G?_CIQ:a9f.CIQ;q$X.EaseMachine=function(k2_,L8f,T8j,P8d){this.fc=k2_;A2IFV.D0H();this.ms=L8f;if(T8j || T8j === 0){this.reset(T8j,P8d);}};q$X.EaseMachine.prototype.reset=function(V72,Q6v){if(!V72 && V72 !== 0){V72=this.currentValues;}this.hasCompleted=![];this.running=![];this.okayToRun=!!({});A2IFV.D0J(68);this.useNameValuePairs=A2IFV.S40(typeof Q6v,"object");this.startTime=Date.now();A2IFV.D0H();if(this.useNameValuePairs){this.startValues=V72;this.endValues=Q6v;}else {this.startValues={default:V72};this.endValues={default:Q6v};}this.changeValues={};this.currentValues={};for(var n0q in this.startValues){this.changeValues[n0q]=this.endValues[n0q] - this.startValues[n0q];}};q$X.EaseMachine.prototype.next=function(){var J4f;J4f=Date.now();if(J4f >= this.startTime + this.ms){J4f=this.startTime + this.ms;this.hasCompleted=!!"1";this.running=!"1";}this.currentValues={};for(var J1T in this.changeValues){this.currentValues[J1T]=this.fc(J4f - this.startTime,this.startValues[J1T],this.changeValues[J1T],this.ms);}if(!this.useNameValuePairs){return this.currentValues["default"];}A2IFV.a9S();return this.currentValues;};q$X.EaseMachine.prototype.hasCompleted=!!1;q$X.EaseMachine.prototype.run=function(t2q,T70,d$A,N8U){var R7W;if(this.afid){cancelAnimationFrame(this.afid);}function h2I(){var E_7;R7W.afid=null;if(!R7W.okayToRun){return;}E_7=R7W.next();t2q(E_7);if(R7W.hasCompleted){return;}A2IFV.D0H();R7W.afid=requestAnimationFrame(h2I);}A2IFV.a9S();if(T70 || T70 === 0){this.reset(T70,d$A);}else if(d$A || d$A === 0){this.reset(this.currentValues,d$A);}R7W=this;this.running=!!({});if(N8U){this.afid=requestAnimationFrame(h2I);}else {h2I();}};q$X.EaseMachine.prototype.stop=function(){if(this.afid){cancelAnimationFrame(this.afid);}this.afid=null;this.okayToRun=!({});this.hasCompleted=!!1;this.running=!1;if(typeof this.useNameValuePairs == "undefined"){return {};}if(!this.useNameValuePairs){return this.currentValues["default"];}return this.currentValues;};if(q$X.ChartEngine.prototype.animations.zoom.isStub){A2IFV.H6P(1);q$X.ChartEngine.prototype.animations.zoom=new q$X.EaseMachine(Math.easeOutCubic,A2IFV.S40(1,"400"));}};A2IFV.a9S();G=t$b=>{var T27,x95;T27=typeof _CIQ !== "undefined"?_CIQ:t$b.CIQ;x95=function(){var B15=A2IFV;var J6d,o57,Y9B,v3U,i6f,m5X,V2J,T1j,z6d,H4L,Q7j,A8g,N7e,S_e,Q5O,o9c,T4n,O2f,i6X,n2v,P7D;J6d="\\";function G4X(){var Y5O,J_d;if(Math.hypot){return Math.hypot.apply(this,arguments);}Y5O=0;J_d=arguments.length;for(var c7v="0" << 0;c7v < J_d;c7v++){if(arguments[c7v] === Infinity || arguments[c7v] === -Infinity){return Infinity;}Y5O+=arguments[c7v] * arguments[c7v];}return Math.sqrt(Y5O);}function A0L(i0M){B15.a9S();return Math.sinh?Math.sinh(i0M):(Math.exp(i0M) - Math.exp(-i0M)) / +"2";}function B_L(X$o,a4l,a$n,N3T){this.type_=X$o;this.index_=a4l || 0;this.prio_=a$n || 0;B15.a9S();this.number_=N3T !== undefined && N3T !== null?N3T:0;this.toString=function(){B15.a9S();var M7j;switch(this.type_){case i6f:return this.number_;case m5X:case V2J:case T1j:return this.index_;case z6d:return "CALL";default:M7j="In";M7j+="va";M7j+="lid Toke";M7j+="n";return M7j;}};}J6d+="f";o57="\\";function j92(j5_){var X7W;j5_=Math.floor(j5_);X7W=j5_;while(j5_ > 1){B15.H6P(69);X7W=B15.q7n(X7W,--j5_);}return X7W;}function b59(F27,x7F){B15.H6P(1);return B15.S40(x7F,F27);}o57+="n";function A43(G$h){B15.D0H();if(Math.tanh){return Math.tanh(G$h);}if(G$h === Infinity){return 1;}if(G$h === -Infinity){return -1;}return (Math.exp(G$h) - Math.exp(-G$h)) / (Math.exp(G$h) + Math.exp(-G$h));}function U_l(H5E){u4l.prototype=H5E;function u4l(){}return new u4l();}function t2S(P1_,Y3i){return Boolean(P1_ && Y3i);}function S55(u_j,m_T){B15.H6P(70);return B15.S40(u_j,m_T);}function F3Q(S0B){return Math.atanh?Math.atanh(S0B):Math.log((+"1" + S0B) / (1 - S0B)) / 2;}Y9B="\\";function f33(i9_){return Math.cosh?Math.cosh(i9_):(Math.exp(i9_) + Math.exp(-i9_)) / 2;}function x8L(j5h,s93){B15.H6P(71);return B15.q7n(s93,j5h);}Y9B+="t";function X6t(c3Y,H8p){if(Object.prototype.toString.call(c3Y) != "[object Array]"){return [c3Y,H8p];}c3Y=c3Y.slice();B15.a9S();c3Y.push(H8p);return c3Y;}v3U="\\";v3U+="b";function i36(P$4,K6r){B15.H6P(72);B15.D0H();return B15.S40(K6r,P$4);}function s$R(h3U){B15.a9S();return Math.log(h3U) * Math.LOG10E;}i6f=0;m5X=1;V2J=2;function p9b(g47,e50){B15.H6P(68);return B15.S40(g47,e50);}function G_w(o7i){if(Math.trunc){return Math.trunc(o7i);}return o7i < 0?Math.ceil(o7i):Math.floor(o7i);}B15.H6P(21);T1j=B15.q7n("3",0);z6d=+"4";function U1G(E$Y){B15.H6P(15);var W6t=B15.q7n(3,0,2);return Math.random() * (E$Y || W6t);}function c5W(h69,A3J,Z5v){B15.D0H();return h69?A3J:Z5v;}H4L=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;Q7j=/[\\'\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;A8g={"\b":v3U,"\t":Y9B,"\n":o57,"\f":J6d,"\r":"\\r","'":"\\'","\\":"\\\\"};T27.extend(d7f.prototype,{simplify:function(h0Q){var K5R,R8r,H52,C0R,o2o,H3k,o__,f0J,U6E;h0Q=h0Q || ({});K5R=[];R8r=[];H3k=this.tokens.length;f0J=0;for(f0J=0;f0J < H3k;f0J++){o__=this.tokens[f0J];U6E=o__.type_;if(U6E === i6f){K5R.push(o__);}else if(U6E === T1j && (o__.index_ in h0Q)){o__=new B_L(i6f,0,0,h0Q[o__.index_]);K5R.push(o__);}else if(U6E === V2J && K5R.length > "1" << 64){C0R=K5R.pop();H52=K5R.pop();o2o=this.ops2[o__.index_];o__=new B_L(i6f,0,0,o2o(H52.number_,C0R.number_));K5R.push(o__);}else if(U6E === m5X && K5R.length > 0){H52=K5R.pop();o2o=this.ops1[o__.index_];o__=new B_L(i6f,+"0",0,o2o(H52.number_));K5R.push(o__);}else {while(K5R.length > 0){R8r.push(K5R.shift());}R8r.push(o__);}}while(K5R.length > 0){R8r.push(K5R.shift());}B15.D0H();return new d7f(R8r,U_l(this.ops1),U_l(this.ops2),U_l(this.functions));},substitute:function(a85,e3L){var v8O,s3g,u18,Y39,U68,X7D,r5Q,d08;if(!(e3L instanceof d7f)){e3L=new M9N().parse(String(e3L));}v8O=[];s3g=this.tokens.length;Y39=0;for(Y39="0" - 0;Y39 < s3g;Y39++){u18=this.tokens[Y39];U68=u18.type_;if(U68 === T1j && u18.index_ === a85){for(var P0J=0;P0J < e3L.tokens.length;P0J++){X7D=e3L.tokens[P0J];r5Q=new B_L(X7D.type_,X7D.index_,X7D.prio_,X7D.number_);v8O.push(r5Q);}}else {v8O.push(u18);}}d08=new d7f(v8O,U_l(this.ops1),U_l(this.ops2),U_l(this.functions));return d08;},evaluate:function(k1N){var k5Q,H0c,e$W,U$s,L2W,M6o,e4Z,W6o,J7p;k1N=k1N || ({});k5Q=[];L2W=this.tokens.length;B15.D0H();e4Z=0;for(e4Z=0;e4Z < L2W;e4Z++){M6o=this.tokens[e4Z];W6o=M6o.type_;if(W6o === i6f){k5Q.push(M6o.number_);}else if(W6o === V2J){e$W=k5Q.pop();H0c=k5Q.pop();U$s=this.ops2[M6o.index_];k5Q.push(U$s(H0c,e$W));}else if(W6o === T1j){if((M6o.index_ in k1N)){k5Q.push(k1N[M6o.index_]);}else if((M6o.index_ in this.functions)){k5Q.push(this.functions[M6o.index_]);}else {throw new Error("undefined variable: " + M6o.index_);}}else if(W6o === m5X){H0c=k5Q.pop();U$s=this.ops1[M6o.index_];k5Q.push(U$s(H0c));}else if(W6o === z6d){H0c=k5Q.pop();U$s=k5Q.pop();if(U$s.apply && U$s.call){if(Object.prototype.toString.call(H0c) == "[object Array]"){k5Q.push(U$s.apply(undefined,H0c));}else {k5Q.push(U$s.call(undefined,H0c));}}else {B15.H6P(0);throw new Error(B15.q7n(U$s," is not a function"));}}else {J7p="invalid Expressio";J7p+="n";throw new Error(J7p);}}if(k5Q.length > 1){throw new Error("invalid Expression (parity)");}return k5Q[+"0"];},toString:function(v3y){B15.D0H();var p$2,R8q,B5K,k6j,r$Y,w7s,N2l,j$p,M10;p$2=[];r$Y=this.tokens.length;N2l=0;for(N2l=0;N2l < r$Y;N2l++){w7s=this.tokens[N2l];j$p=w7s.type_;if(j$p === i6f){p$2.push(H_w(w7s.number_));}else if(j$p === V2J){B5K=p$2.pop();R8q=p$2.pop();k6j=w7s.index_;if(v3y && k6j == "^"){B15.D0J(73);p$2.push(B15.S40("Math.pow(",577.99 <= 5850?")":(454.61,5051) >= (9629,4660)?(588,8440) < (93.46,"2729" >> 64)?(3.86e+2,0x215e):!!"1":("2.14e+3" - 0,339.79),B5K,",",R8q));}else {B15.D0J(73);p$2.push(B15.S40("(",+"5089" == (9270,5280)?3522 <= (393.11,771.44)?(!!({}),71.68):"A":")",B5K,k6j,R8q));}}else if(j$p === T1j){p$2.push(w7s.index_);}else if(j$p === m5X){R8q=p$2.pop();k6j=w7s.index_;if(k6j === ((7492,"2110" - 0) > ("2366" - 0,8456)?(!![],"P"):"-")){B15.D0J(48);p$2.push(B15.S40(")",R8q,k6j,"("));}else {B15.D0J(48);p$2.push(B15.S40(2150 === 5150?(8765,2568) !== (134.43,848.98)?(4.56e+3,0x2602):("4.86e+2" ^ 0,5.58e+3):")",R8q,"(",k6j));}}else if(j$p === z6d){R8q=p$2.pop();k6j=p$2.pop();B15.D0J(48);p$2.push(B15.S40(")",R8q,(3763,899) == 5800?"j":(5300,4010) <= (667.49,4277)?+"454" != (9180,658.73)?"(":858.36:0x369,k6j));}else {M10="i";M10+="nval";M10+="id Expression";throw new Error(M10);}}if(p$2.length > 1){throw new Error("invalid Expression (parity)");}return p$2[0];},variables:function(){var E_f,J1y,r$b;E_f=this.tokens.length;J1y=[];for(var Y6r=0;Y6r < E_f;Y6r++){r$b=this.tokens[Y6r];if(r$b.type_ === T1j && J1y.indexOf(r$b.index_) == -+"1"){J1y.push(r$b.index_);}}return J1y;}},!!"1");M9N.parse=function(V_3){return new M9N().parse(V_3);};function d7f(J48,c9R,L4W,M7E){this.tokens=J48;this.ops1=c9R;this.ops2=L4W;B15.D0H();this.functions=M7E;}M9N.evaluate=function(D$6,H1G){B15.D0H();return M9N.parse(D$6).evaluate(H1G);};M9N.Expression=d7f;M9N.values={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:A0L,cosh:f33,tanh:A43,asinh:m8z,acosh:X$F,atanh:F3Q,sqrt:Math.sqrt,log:Math.log,lg:s$R,log10:s$R,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:G_w,random:U1G,fac:j92,exp:Math.exp,min:Math.min,max:Math.max,hypot:G4X,pyt:G4X,pow:Math.pow,atan2:Math.atan2,if:c5W,E:Math.E,PI:Math.PI};function R9N(o6F){B15.a9S();return -o6F;}B15.H6P(40);N7e=B15.q7n(0,1);function M9N(){var P12,j0u,J72;this.success=!({});B15.D0H();this.errormsg="";this.expression="";this.pos=+"0";this.tokennumber=0;this.tokenprio=+"0";P12=1200710508;j0u=-938172973;J72=2;for(var M9p=1;B15.U6$(M9p.toString(),M9p.toString().length,81280) !== P12;M9p++){this.tokenindex=1;this.tmpprio=6;this.ops1={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:A0L,cosh:f33,tanh:A43,asinh:m8z,acosh:X$F,atanh:F3Q,sqrt:Math.sqrt,log:Math.log,lg:s$R,log10:s$R,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:G_w,"-":R9N,exp:Math.exp};this.ops2={"+":M1y,"-":T4a,"*":b59,"/":Q96,"%":f_V,"^":Math.pow,",":X6t,"||":o_W,"==":p9b,"!=":i36,">":S55,"<":x8L,">=":G7L,"<=":p49,and:t2S,or:l7d};this.functions={random:U1G,fac:j92,min:Math.min,max:Math.max,hypot:G4X,pyt:G4X,pow:Math.pow,atan2:Math.atan2,if:c5W};J72+=2;}if(B15.Z2Z(J72.toString(),J72.toString().length,53036) !== j0u){B15.D0J(28);this.tokenindex=B15.S40("0",64);this.tmpprio=0;this.ops1={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:A0L,cosh:f33,tanh:A43,asinh:m8z,acosh:X$F,atanh:F3Q,sqrt:Math.sqrt,log:Math.log,lg:s$R,log10:s$R,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:G_w,"-":R9N,exp:Math.exp};this.ops2={"+":M1y,"-":T4a,"*":b59,"/":Q96,"%":f_V,"^":Math.pow,",":X6t,"||":o_W,"==":p9b,"!=":i36,">":S55,"<":x8L,">=":G7L,"<=":p49,and:t2S,or:l7d};this.functions={random:U1G,fac:j92,min:Math.min,max:Math.max,hypot:G4X,pyt:G4X,pow:Math.pow,atan2:Math.atan2,if:c5W};}this.consts={E:Math.E,PI:Math.PI};}function p49(U$V,z66){B15.H6P(74);return B15.q7n(U$V,z66);}B15.H6P(40);S_e=B15.S40(1,1);B15.H6P(40);Q5O=B15.S40(2,1);function T4a(c1u,C2D){B15.D0H();B15.H6P(7);return B15.S40(C2D,c1u);}function X$F(K6S){B15.a9S();return Math.acosh?Math.acosh(K6S):Math.log(K6S + Math.sqrt(K6S * K6S - 1));}function f_V(U77,k$j){var D3A,u7h,d6P;D3A=-1174419827;u7h=-1368956127;d6P=2;for(var Y6k=1;B15.U6$(Y6k.toString(),Y6k.toString().length,1489) !== D3A;Y6k++){B15.H6P(7);return B15.S40(k$j,U77);}if(B15.U6$(d6P.toString(),d6P.toString().length,54444) !== u7h){B15.H6P(7);return B15.S40(k$j,U77);}B15.H6P(75);return B15.q7n(U77,k$j);}B15.H6P(40);o9c=B15.q7n(3,1);function M1y(R8f,a6Q){return Number(R8f) + Number(a6Q);}B15.D0J(40);T4n=B15.S40(4,1);B15.H6P(76);O2f=B15.q7n(5,"1");function G7L(t9p,G7G){B15.H6P(77);return B15.q7n(G7G,t9p);}function m8z(W9B){B15.a9S();if(Math.asinh){return Math.asinh(W9B);}if(W9B === -Infinity){return W9B;}return Math.log(W9B + Math.sqrt(W9B * W9B + 1));}B15.D0J(40);i6X=B15.S40(6,1);B15.D0J(78);n2v=B15.q7n(1,"7",7);function l7d(X2o,c2P){return Boolean(X2o || c2P);}function H_w(h2v){var y$4;y$4="st";B15.a9S();y$4+="ring";if(typeof h2v === y$4){Q7j.lastIndex=0;return Q7j.test(h2v)?(957 == 2548?987.85:"'") + h2v.replace(Q7j,function(F1Q){var J6p,l3T;J6p="st";J6p+="rin";J6p+="g";l3T=A8g[F1Q];return typeof l3T === J6p?l3T:"\\u" + ("0000" + F1Q.charCodeAt(0).toString(16)).slice(-4);}) + ((315,4991) === (8570,301.83)?"0x2578" ^ 0:"'"):"'" + h2v + (+"339.92" <= 894.46?"'":908 >= 1569?("Z",868.87):"0x4fd" ^ 0);}return h2v;}B15.D0J(40);P7D=B15.S40(8,1);function Q96(c_1,e4D){B15.D0J(14);B15.a9S();return B15.q7n(e4D,c_1);}function o_W(p$1,P3V){B15.a9S();B15.D0J(37);return B15.q7n(P3V,"",p$1);}T27.extend(M9N.prototype,{parse:function(C21){var F6Q,q2z,B4S,m0k,X0J,c8e,B65,R7g,u2T;this.errormsg="";this.success=!!1;F6Q=[];q2z=[];this.tmpprio=0;B15.H6P(79);B4S=B15.S40(Q5O,o9c,N7e,i6X);m0k=+"0";this.expression=C21;B15.D0J(10);this.pos=B15.S40("0",0);while(this.pos < this.expression.length){if(this.isOperator()){if(this.isSign() && B4S & i6X){if(this.isNegativeSign()){this.tokenprio=2;this.tokenindex=5230 >= +"878"?"-":(6060,4330) <= (721.7,8789)?("2.42e+3" * 1,1.54e+3):("x",!!0);m0k++;this.addfunc(q2z,F6Q,m5X);}B15.D0J(79);B4S=B15.S40(Q5O,o9c,N7e,i6X);}else if(this.isComment()){}else {if((B4S & S_e) === ("0" ^ 0)){this.error_parsing(this.pos,"unexpected operator");}m0k+=2;this.addfunc(q2z,F6Q,V2J);B15.D0J(79);B4S=B15.S40(Q5O,o9c,N7e,i6X);}}else if(this.isNumber()){if((B4S & N7e) === +"0"){this.error_parsing(this.pos,"unexpected number");}X0J=new B_L(i6f,0,0,this.tokennumber);q2z.push(X0J);B15.D0J(80);B4S=B15.S40(O2f,T4n,S_e);}else if(this.isString()){if((B4S & N7e) === 0){c8e="une";c8e+="xpected s";c8e+="tring";this.error_parsing(this.pos,c8e);}B15.D0J(7);X0J=new B_L(i6f,0,B15.q7n(0,"0"),this.tokennumber);q2z.push(X0J);B15.H6P(80);B4S=B15.q7n(O2f,T4n,S_e);}else if(this.isLeftParenth()){if((B4S & o9c) === +"0"){this.error_parsing(this.pos,'unexpected "("');}if(B4S & n2v){m0k+=2;this.tokenprio=-2;this.tokenindex=-1;this.addfunc(q2z,F6Q,z6d);}B15.D0J(81);B4S=B15.q7n(N7e,i6X,P7D,o9c,Q5O);}else if(this.isRightParenth()){if(B4S & P7D){X0J=new B_L(i6f,0,0,[]);q2z.push(X0J);}else if((B4S & T4n) === 0){this.error_parsing(this.pos,'unexpected ")"');}B15.H6P(81);B4S=B15.q7n(S_e,o9c,n2v,T4n,O2f);}else if(this.isComma()){if((B4S & O2f) === 0){this.error_parsing(this.pos,'unexpected ","');}this.addfunc(q2z,F6Q,V2J);m0k+=2;B15.D0J(79);B4S=B15.q7n(Q5O,o9c,N7e,i6X);}else if(this.isConst()){if((B4S & N7e) === ("0" ^ 0)){this.error_parsing(this.pos,"unexpected constant");}B65=new B_L(i6f,0,0,this.tokennumber);q2z.push(B65);B15.H6P(80);B4S=B15.S40(O2f,T4n,S_e);}else if(this.isOp2()){if((B4S & Q5O) === 0){this.error_parsing(this.pos,"unexpected function");}this.addfunc(q2z,F6Q,V2J);m0k+=2;B4S=o9c;}else if(this.isOp1()){if((B4S & Q5O) === "0" - 0){this.error_parsing(this.pos,"unexpected function");}this.addfunc(q2z,F6Q,m5X);m0k++;B4S=o9c;}else if(this.isVar()){if((B4S & N7e) === 0){this.error_parsing(this.pos,"unexpected variable");}R7g=new B_L(T1j,this.tokenindex,0,0);q2z.push(R7g);B15.H6P(81);B4S=B15.S40(S_e,o9c,n2v,T4n,O2f);}else if(this.isWhite()){}else {if(this.errormsg === ""){this.error_parsing(this.pos,"unknown character");}else {this.error_parsing(this.pos,this.errormsg);}}}if(this.tmpprio < 0 || this.tmpprio >= 10){this.error_parsing(this.pos,'unmatched "()"');}while(F6Q.length > 0){u2T=F6Q.pop();q2z.push(u2T);}if(m0k + 1 !== q2z.length){this.error_parsing(this.pos,"parity");}return new d7f(q2z,U_l(this.ops1),U_l(this.ops2),U_l(this.functions));},evaluate:function(b8d,i93){B15.a9S();return this.parse(b8d).evaluate(i93);},error_parsing:function(d3t,R4i){var J_6,h$k,v4O,E_v,Z8f;J_6=1455174355;h$k=1895193469;v4O=2;for(var u$6=1;B15.U6$(u$6.toString(),u$6.toString().length,98541) !== J_6;u$6++){E_v="]:";E_v+=" ";this.success=!!1;B15.H6P(82);this.errormsg=B15.S40("]: ",d3t,R4i,E_v);this.column=d3t;throw new Error(this.errormsg);v4O+=2;}if(B15.U6$(v4O.toString(),v4O.toString().length,+"80487") !== h$k){Z8f="]";Z8f+=":";Z8f+=" ";this.success=!!0;B15.H6P(48);this.errormsg=B15.q7n(R4i,Z8f,d3t,"parse error [column ");this.column=d3t;throw new Error(this.errormsg);}},addfunc:function(k_f,h1h,J4N){var Z3r;Z3r=new B_L(J4N,this.tokenindex,this.tokenprio + this.tmpprio,0);while(h1h.length > 0){if(Z3r.prio_ <= h1h[h1h.length - 1].prio_){k_f.push(h1h.pop());}else {break;}}B15.D0H();h1h.push(Z3r);},isNumber:function(){var A1v,B7Y,A1y;A1v=!!0;B7Y="";while(this.pos < this.expression.length){A1y=this.expression.charCodeAt(this.pos);if(A1y >= "48" - 0 && A1y <= "57" - 0 || A1y === 46){B7Y+=this.expression.charAt(this.pos);this.pos++;this.tokennumber=parseFloat(B7Y);A1v=!"";}else {break;}}return A1v;},unescape:function(B_y,S$w){var w$0,B3M,c0k,j27,I_m;w$0=[];B3M=!!"";for(var E1U=0;E1U < B_y.length;E1U++){c0k=B_y.charAt(E1U);if(B3M){switch(c0k){case (37.85,"118.52" - 0) === 320?("7.05e+3" | 10,3.49e+3):(245,451.38) != 6250?986 >= (270.15,9100)?(3.55e+3,407.12):"'":3.58e+3:w$0.push("'");break;case (8750,50.26) === 7944?(0xb4f,!!({})):"\\":w$0.push((3578,3429) != (+"5498",+"4194")?"\\":(0x13e0,2.86e+3));break;case (3800,293.88) >= (+"3704",799.04)?+"2.47e+3":"/":w$0.push(2590 > +"4190"?(69.48,8880) == (5856,5060)?(0xc46,!!({})):(829.42,"G"):"/");break;case 28.31 !== (9090,814.49)?"b":4286 == (5290,5564)?(936.89,520.13):"O":w$0.push((3830,9620) <= (651.61,+"157.03")?(![],+"362.89"):1329 < 764.56?(0x329,301.57):426.29 >= (6046,9210)?9.43e+3:"\b");break;case "f":w$0.push("\f");break;case 5710 != 145?"n":(6.76e+3,0xbfc):w$0.push("\n");break;case ("8479" | 20) == (7740,5590)?"L":(+"536.7",653.81) === 98.92?(+"758.96","x"):"r":w$0.push((+"9510",846.47) != (2340,8460)?302 !== 2490?"\r":![]:("z",3.89e+3));break;case ("7550" >> 0,355.35) !== (2099,973)?"t":("z",!![]):w$0.push(6831 != "8133" * 1?"\t":+"393.51");break;case "u":j27=parseInt(B_y.substring(E1U + 1,E1U + 5),16);w$0.push(String.fromCharCode(j27));E1U+=4;break;default:I_m="Il";I_m+="legal escape sequen";I_m+="ce: '\\";B15.D0J(0);throw this.error_parsing(B15.q7n(S$w,E1U),B15.q7n((3.44,115) == (723.92,230.28)?!!"":"'",I_m,c0k,B15.H6P(37)));}B3M=![];}else {if(c0k == (278.88 != 4040?"\\":"Q")){B3M=!![];}else {w$0.push(c0k);}}}B15.a9S();return w$0.join("");},isString:function(){var P5K,C1U,g09,Z99;P5K=![];C1U="";g09=this.pos;if(this.pos < this.expression.length && this.expression.charAt(this.pos) == ((45.09,554.4) == (2949,+"798.41")?(5860,663.56) > (842.97,"244.92" * 1)?("262.66" - 0,6.14e+3):!!"":"'")){this.pos++;while(this.pos < this.expression.length){Z99=this.expression.charAt(this.pos);if(Z99 != (9920 > (4030,5798)?"'":8990 !== 6515?9.25e+3:(![],"355" >> 32)) || C1U.slice(-("1" >> 0)) == (("6720" >> 0,527.72) != 3981?"\\":(0x2435,!({})))){C1U+=this.expression.charAt(this.pos);this.pos++;}else {this.pos++;this.tokennumber=this.unescape(C1U,g09);P5K=!!({});break;}}}B15.D0H();return P5K;},isConst:function(){var N9H,f3j;for(var i7l in this.consts){if(!![]){f3j=i7l.length;N9H=this.expression.substr(this.pos,f3j);if(i7l === N9H){this.tokennumber=this.consts[i7l];this.pos+=f3j;return !![];}}}return !"1";},isOperator:function(){var Y37,H0S,y1B;Y37=this.expression.charCodeAt(this.pos);if(Y37 === 43){B15.H6P(10);this.tokenprio=B15.q7n("2",2);this.tokenindex=(9725,4010) != 3512?(398.15,62) !== +"516.69"?"+":"S":(270.23,"A");}else if(Y37 === 45){B15.D0J(10);this.tokenprio=B15.q7n("2",2);this.tokenindex="-";}else if(Y37 === ("62" | 16)){if(this.expression.charCodeAt(this.pos + 1) === 61){this.pos++;this.tokenprio=1;this.tokenindex=">=";}else {this.tokenprio=1;this.tokenindex=470.9 !== 5910?">":9290 < 3390?("u",972.02):3726 == 2920?![]:(!!({}),0x1f8f);}}else if(Y37 === +"60"){if(this.expression.charCodeAt(this.pos + 1) === 61){H0S="<";H0S+="=";this.pos++;this.tokenprio=1;this.tokenindex=H0S;}else {this.tokenprio=1;this.tokenindex="<";}}else if(Y37 === 124){if(this.expression.charCodeAt(this.pos + ("1" >> 64)) === 124){this.pos++;this.tokenprio=1;this.tokenindex="||";}else {return !({});}}else if(Y37 === 61){if(this.expression.charCodeAt(this.pos + 1) === 61){this.pos++;B15.H6P(28);this.tokenprio=B15.S40("1",64);this.tokenindex="==";}else {return !1;}}else if(Y37 === +"33"){if(this.expression.charCodeAt(this.pos + 1) === "61" << 64){this.pos++;this.tokenprio=+"1";this.tokenindex="!=";}else {return ![];}}else if(Y37 === +"97"){if(this.expression.charCodeAt(this.pos + 1) === 110 && this.expression.charCodeAt(this.pos + 2) === 100){y1B="a";y1B+="n";y1B+="d";this.pos++;this.pos++;this.tokenprio=+"0";this.tokenindex=y1B;}else {return ![];}}else if(Y37 === +"111"){if(this.expression.charCodeAt(this.pos + 1) === 114){this.pos++;this.tokenprio=0;this.tokenindex="or";}else {return !!"";}}else if(Y37 === 42 || Y37 === 8729 || Y37 === +"8226"){this.tokenprio=3;this.tokenindex=787.94 <= 1700?"*":(9325,"4713" ^ 0) != (525.21,597.88)?295.04 == (4190,872.46)?358.60:(0x1ff4,480.67):!!1;}else if(Y37 === 47){this.tokenprio=4;this.tokenindex=1190 < (895.92,1640)?"/":(9240,2750) === "4670" >> 32?(737.81,"2" - 0):"N";}else if(Y37 === 37){this.tokenprio=4;this.tokenindex=(7020,"639" | 64) === (4290,"2469" * 1)?1620 != (+"1810",976.99)?(8837,7768) == 411?(32.98,0x1889):!![]:(0x182c,+"0x25b6"):"%";}else if(Y37 === 94){this.tokenprio=5;this.tokenindex=("492.13" - 0,3226) < "9190" * 1?"^":(7880,"9120" << 0) == 485.83?(415.82,5.12e+3):5.14e+2;}else {return !"1";}B15.a9S();this.pos++;return !![];},isSign:function(){var t27;B15.a9S();t27=this.expression.charCodeAt(this.pos - 1);if(t27 === 45 || t27 === 43){return !!"1";}return !({});},isPositiveSign:function(){var A0a;A0a=this.expression.charCodeAt(this.pos - 1);if(A0a === 43){return !!({});}B15.D0H();return !!0;},isNegativeSign:function(){B15.D0H();var L4C;L4C=this.expression.charCodeAt(this.pos - 1);if(L4C === 45){return !!"1";}return ![];},isLeftParenth:function(){var t1l;t1l=this.expression.charCodeAt(this.pos);if(t1l === 40){this.pos++;this.tmpprio+=10;return !!1;}B15.D0H();return !({});},isRightParenth:function(){var E38;E38=this.expression.charCodeAt(this.pos);if(E38 === 41){this.pos++;this.tmpprio-=10;return !![];}return ![];},isComma:function(){var d89;d89=this.expression.charCodeAt(this.pos);B15.D0H();if(d89 === 44){this.pos++;this.tokenprio=-1;this.tokenindex=777 <= (494.72,+"5153")?(2600,928.51) <= 576.46?(746.44,!!"1"):",":("95.47" - 0,!!"1");return !!({});}return !({});},isWhite:function(){var M5b;B15.a9S();M5b=this.expression.charCodeAt(this.pos);if(M5b === 32 || M5b === 9 || M5b === 10 || M5b === 13){this.pos++;return !!({});}return !({});},isOp1:function(){var g0Z,f3g;g0Z="";for(var j9M=this.pos;j9M < this.expression.length;j9M++){f3g=this.expression.charAt(j9M);if(f3g.toUpperCase() === f3g.toLowerCase()){if(j9M === this.pos || f3g != ((1724,1180) === (199.29,411.31)?(!1,+"0x279"):"_") && (f3g < ("46" << 32 == ("4740" | 0,157.15)?("8924" ^ 0,6050) >= 792.99?814.41:(+"745.44",416.75):"0") || f3g > (3754 != (3920,919.03)?1503 >= 973.9?"9":(8.56e+3,"L"):3.08e+3))){break;}}g0Z+=f3g;}if(g0Z.length > 0 && (g0Z in this.ops1)){this.tokenindex=g0Z;this.tokenprio=5;this.pos+=g0Z.length;return !"";}return ![];},isOp2:function(){var B7_,E_Y;B7_="";for(var e5U=this.pos;e5U < this.expression.length;e5U++){E_Y=this.expression.charAt(e5U);if(E_Y.toUpperCase() === E_Y.toLowerCase()){if(e5U === this.pos || E_Y != (5411 < +"1990"?2224 > 9490?(7.82e+3,!1):("6" >> 64,"1330" | 0) !== (1480,5863)?(562.38,!""):(6.57e+3,"a"):"_") && (E_Y < ((4790,1083) != (2691,974)?"0":(+"5.13e+3",0xd43)) || E_Y > ((5990,1646) !== (8000,986.06)?"9":(6.41e+3,!!({}))))){break;}}B7_+=E_Y;}if(B7_.length > 0 && (B7_ in this.ops2)){this.tokenindex=B7_;this.tokenprio=5;this.pos+=B7_.length;return !!1;}return !!0;},isVar:function(){var P78,b6O;P78="";for(var n9L=this.pos;n9L < this.expression.length;n9L++){b6O=this.expression.charAt(n9L);if(b6O.toUpperCase() === b6O.toLowerCase()){if(n9L === this.pos || b6O != (3910 !== 631.56?(8160,+"633.27") >= (3102,942)?7274 >= 243.91?(620.04,0x22ef):(!({}),2.23e+3):"_":+"7.83e+3") && (b6O < "0" || b6O > "9")){break;}}P78+=b6O;}if(P78.length > 0){this.tokenindex=P78;this.tokenprio=4;this.pos+=P78.length;return !![];}return !({});},isComment:function(){var G5Z,o6S;B15.D0H();G5Z=this.expression.charCodeAt(this.pos - 1);if(G5Z === 47 && this.expression.charCodeAt(this.pos) === 42){o6S="*";o6S+="/";B15.D0J(83);var L$m=B15.q7n(15,598,1,40,1);this.pos=this.expression.indexOf(o6S,this.pos) + L$m;if(this.pos === 1){this.pos=this.expression.length;}return !![];}return !!0;}},!!"1");return M9N;};T27.computeEquationChart=function(e4z,d1O){var N9E=A2IFV;var z9W,w2I,j0F,v7C,S8r,P0p,T2C,U0Z,B1l,q2k,K4z,I_C,e15,L1w,l4T,L9G,V6D,N59,h4Y,e0c,L$5;e4z=e4z.replace(/[:]/,(230.82,266.12) < ("3130" * 1,263.01)?(0x240,1.94e+3):"/");N9E.H6P(7);z9W=N9E.S40(0,"0");for(var F$3 in d1O){w2I="\\$";w2I+="&";j0F=new RegExp("\\[" + F$3.replace(/\[/g,"\\[").replace(/\]/g,"\\]").replace(/\$/g,"\\$").replace(/\^/g,"\\^").replace(/[+\-*/%()]/g,w2I) + "\\]",("854.64" * 1,"532.39" * 1) < 8500?"g":(!({}),"j"));N9E.D0J(0);e4z=e4z.replace(j0F,N9E.S40("symbol",z9W));z9W++;}v7C=x95().parse(e4z);S8r=[];P0p={};T2C=0;B1l=null;q2k=!!0;function n5F(){var L_o,L7N;L_o=null;L7N=null;for(var m$M in P0p){if(!L7N){L7N=P0p[m$M];}else if(P0p[m$M].d.getTime() < L7N.d.getTime()){L_o=L7N=P0p[m$M];}else if(P0p[m$M].d.getTime() > L7N.d.getTime()){L_o=L7N;}}if(L_o){if(!b_q(L_o)){return 0;}N9E.H6P(7);return -N9E.q7n(0,"1");}return 1;}K4z=[];for(F$3 in d1O){I_C={sym:F$3,map:d1O[F$3]};if(d1O[F$3]){K4z.unshift(I_C);}else {K4z.push(I_C);}}for(var B89=0;B89 < K4z.length;B89++){e15=K4z[B89];P0p[e15.sym]={i:0,s:e15.sym};if(e15.map){T2C++;U0Z=e15.map[0];}else if(T2C == 1){q2k=e15.sym;}if(!U0Z.DT){U0Z.DT=T27.strToDateTime(U0Z.Date);}P0p[e15.sym].d=U0Z.DT;if(!B1l){B1l=P0p[e15.sym];}}N9E.D0J(84);L1w=N9E.q7n(T2C,0);l4T=T2C == "1" - 0 && e4z.indexOf("%") == -("1" | 1);a:while(!0){L9G=n5F();if(!L9G)break;if(L9G == 1){if(q2k){N59=d1O[B1l.s][B1l.i][q2k];if(N59 && (N59.Close || N59.Close === 0)){N59=N59.Close;}h4Y=v7C.evaluate({symbol0:d1O[B1l.s][B1l.i].Close,symbol1:N59});h4Y=Number(h4Y.toFixed(8));V6D={DT:B1l.d,Close:h4Y,Adj_Close:h4Y};V6D[B1l.s]=d1O[B1l.s][B1l.i].Close;if(!isNaN(h4Y) && h4Y != Infinity){S8r.push(V6D);}}else if(L1w){e0c=v7C.evaluate({});N9E.D0J(37);T27.alert(N9E.S40(e0c,e4z,(5388,553.67) != (273.53,8900)?"=":+"4707" != (3870,7099)?("0x1a65" >> 32,0x14fd):(4.64e+3,"342.17" * 1)));throw {name:"NoException",message:""};}else {z9W=0;L$5={Adj_Close:{},Close:{},Open:{},High:{},Low:{},Volume:{}};for(F$3 in d1O){for(var t9D in L$5){N9E.H6P(0);L$5[t9D][N9E.S40("symbol",z9W)]=d1O[F$3][P0p[F$3].i][t9D];}z9W++;}V6D={DT:B1l.d};V6D.Adj_Close=v7C.evaluate(L$5.Adj_Close);V6D.Close=v7C.evaluate(L$5.Close);V6D.Open=v7C.evaluate(L$5.Open);V6D.Volume=v7C.evaluate(L$5.Volume);if(isNaN(V6D.Volume)){V6D.Volume=+"0";}if(l4T){V6D.High=v7C.evaluate(L$5.High);V6D.Low=v7C.evaluate(L$5.Low);}else {V6D.High=Math.max(V6D.Open,V6D.Close);V6D.Low=Math.min(V6D.Open,V6D.Close);}if(!isNaN(V6D.Close) && V6D.Close != Infinity){S8r.push(V6D);}if(!isNaN(V6D.High)){V6D.High=Number(V6D.High.toFixed(8));}if(!isNaN(V6D.Low)){V6D.Low=Number(V6D.Low.toFixed(8));}if(!isNaN(V6D.Open)){V6D.Open=Number(V6D.Open.toFixed(8));}if(!isNaN(V6D.Close)){V6D.Close=Number(V6D.Close.toFixed(8));}if(!isNaN(V6D.Adj_Close)){V6D.Adj_Close=Number(V6D.Adj_Close.toFixed(8));}else {V6D.Adj_Close=V6D.Close;}}for(F$3 in d1O){if(!b_q(P0p[F$3]))break a;}}}function b_q(A2e){A2e.i++;if(d1O[A2e.s]){if(A2e.i >= d1O[A2e.s].length){N9E.D0J(28);return N9E.q7n("0",32);}U0Z=d1O[A2e.s][A2e.i];}if(!U0Z.DT){U0Z.DT=T27.strToDateTime(U0Z.Date);}A2e.d=U0Z.DT;return 1;}return S8r;};};g=D21=>{var q9a=A2IFV;var b1j,D2j,I35,i25,i$m,z7E;b1j="e";b1j+="n";D2j=+"469093628";I35=-944710622;q9a.a9S();i25=2;for(var o03=1;q9a.U6$(o03.toString(),o03.toString().length,29353) !== D2j;o03++){i$m="und";i$m+="ef";i$m+="ined";z7E=typeof _CIQ !== i$m?_CIQ:D21.CIQ;q9a.D0J(7);i25+=q9a.q7n(0,"2");}if(q9a.U6$(i25.toString(),i25.toString().length,84834) !== I35){z7E=!_CIQ === ""?_CIQ:D21.CIQ;}z7E.ChartEngine.prototype.setLocale=function(n0T,x0g){var m25,B5p,W_N,f0l,T8e,R2Q,j0t,F5F,i9I,G0c;m25="nume";m25+="r";m25+="ic";B5p="n";B5p+="umeric";W_N="2-";W_N+="d";W_N+="igit";f0l="2-";f0l+="di";f0l+="gi";f0l+="t";T8e="2";T8e+="-digit";R2Q="h";R2Q+="23";if(typeof Intl == "undefined"){return;}if(this.locale != n0T){this.locale=n0T;}else {return;}F5F=this.internationalizer={};F5F.hourMinute=new Intl.DateTimeFormat(this.locale,{hour:"numeric",minute:"numeric",hourCycle:"h23"});F5F.hourMinuteSecond=new Intl.DateTimeFormat(this.locale,{hour:"numeric",minute:"numeric",second:"numeric",hourCycle:R2Q});F5F.mdhm=new Intl.DateTimeFormat(this.locale,{year:T8e,month:"2-digit",day:"2-digit",hour:f0l,minute:W_N});F5F.monthDay=new Intl.DateTimeFormat(this.locale,{month:"numeric",day:B5p});F5F.yearMonthDay=new Intl.DateTimeFormat(this.locale,{year:"numeric",month:"numeric",day:"numeric"});F5F.yearMonth=new Intl.DateTimeFormat(this.locale,{year:"numeric",month:m25});F5F.month=new Intl.DateTimeFormat(this.locale,{month:"short"});F5F.numbers=new Intl.NumberFormat(this.locale);F5F.priceFormatters=[];if(!x0g){x0g=8;}for(j0t=0;j0t < x0g + +"1";j0t++){F5F.priceFormatters.push(new Intl.NumberFormat(this.locale,{maximumFractionDigits:j0t,minimumFractionDigits:j0t}));}for(j0t=0;j0t < +"5";j0t++){i9I=j0t;G0c=j0t;if(!j0t){i9I="";G0c=2;}q9a.H6P(0);F5F[q9a.q7n("percent",i9I)]=new Intl.NumberFormat(this.locale,{style:"percent",minimumFractionDigits:G0c,maximumFractionDigits:G0c});}if(z7E.I18N.createMonthArrays){z7E.I18N.createMonthArrays(this,F5F.month,this.locale);}};z7E.I18N=function(){};z7E.I18N.hereDoc=function(z0L){return z0L.toString().replace(/^[^/]+\/\*!?/,"").replace(/\*\/[^/]+$/,"");};z7E.I18N.language=b1j;z7E.I18N.longMonths={zh:!![]};z7E.I18N.reverseColorsByLocale={zh:!![],ja:!!1};z7E.I18N.findAllTextNodes=function(d0Y){q9a.a9S();var N3H,j2e,o95,o17,T5Z,d_e,o7F,v2Y,R2r,k71,E6_,Z0j,o5n,r$F,I1E,q$H,N1i,K1J,v8D,r3r;if(!d0Y){d0Y=document.body;}if(d0Y == document.body){if(!document.querySelector(".ciq_stashed_texts")){N3H="input,t";N3H+="extarea,.editable_content";j2e=document.createElement("div");j2e.className="ciq_stashed_texts";j2e.style.display="none";d0Y.appendChild(j2e);o95=document.querySelectorAll(N3H);for(var q9Y=+"0";q9Y < o95.length;q9Y++){o17=o95[q9Y].getAttribute("placeholder");if(o17){T5Z=j2e.appendChild(document.createElement("translate"));T5Z.setAttribute("original",o17);T5Z.placeholderFor=o95[q9Y];T5Z.appendChild(document.createTextNode(o17));}}}}d_e=document.createTreeWalker(d0Y,NodeFilter.SHOW_TEXT,null,![]);o7F=d_e.nextNode();v2Y=new RegExp("^\\s*$");R2r=new RegExp("\n|\t|\f",(742,9370) > 469.5?"g":6.36e+3);k71={};E6_={SCRIPT:!0,STYLE:!!({}),TEXTAREA:!![]};while(o7F){Z0j=o7F.nodeValue;if(!v2Y.test(Z0j)){o5n=o7F.parentNode;r$F=o7F.nextSibling;I1E=o5n.tagName;if(!E6_[I1E]){if(I1E != "TRANSLATE"){q$H="transl";q$H+="a";q$H+="te";N1i=document.createElement(q$H);N1i.setAttribute("original",Z0j);N1i.appendChild(o7F);o5n.insertBefore(N1i,r$F);}else {K1J="or";K1J+="i";K1J+="gi";K1J+="nal";Z0j=o5n.getAttribute(K1J);}if(R2r.test(Z0j)){Z0j=Z0j.replace(R2r,"");}if(!k71[Z0j]){k71[Z0j]=[];}k71[Z0j].push(o7F);}}o7F=d_e.nextNode();}if(d0Y == document.body){v8D=z7E.Studies?z7E.Studies.studyLibrary:null;if(v8D){for(var j6_ in v8D){if(k71[j6_] === null){k71[j6_]=[];}r3r=v8D[j6_];if(r3r.inputs){for(var b8I in r3r.inputs){if(!k71[b8I]){k71[b8I]=[];}}}if(r3r.outputs){for(var S1V in r3r.outputs){if(!k71[S1V]){k71[S1V]=[];}}}}}}return k71;};z7E.I18N.missingWordList=function(m3C){var e3t,N_V,G$n,U51,W7_,Y8l,e5k,m4H,D55,C4n;e3t="Y";e3t+="-";e3t+="Axi";e3t+="s";N_V="Sh";N_V+="ow Z";N_V+="o";N_V+="nes";if(!m3C){m3C=z7E.I18N.language;}G$n=z7E.I18N.findAllTextNodes();U51={};W7_=z7E.I18N.wordLists[m3C];if(!W7_){W7_={};}Y8l=function(G$z){q9a.a9S();var a5f;a5f="u";a5f+="ndefin";a5f+="ed";if(typeof W7_[G$z] == a5f){U51[G$z]="";}};for(var s7K in G$n){Y8l(s7K);}if(!(z7E.Studies && z7E.Studies.studyLibrary)){return U51;}for(var C7e in z7E.Studies.studyLibrary){e5k=z7E.Studies.studyLibrary[C7e];Y8l(e5k.name);for(var h_k in e5k.inputs){D55="[object Ar";D55+="ray]";C4n="[";C4n+="object String]";Y8l(h_k);m4H=e5k.inputs[h_k];switch(Object.prototype.toString.call(m4H)){case C4n:Y8l(m4H);break;case D55:for(var o_A=0;o_A < m4H.length;++o_A){Y8l(m4H[o_A]);}break;}}for(var U67 in e5k.outputs){Y8l(U67);}}Y8l(N_V);Y8l("OverBought");Y8l("OverSold");Y8l("Panel");Y8l("Show as Underlay");Y8l(e3t);Y8l("Invert Y-Axis");return U51;};z7E.I18N.printableMissingWordList=function(o9l){var v7S;v7S=JSON.stringify(z7E.I18N.missingWordList(o9l));v7S=v7S.replace(/","/g,'",\n"');return v7S;};z7E.I18N.translateUI=function(Z8x,u8z){var d8P,y0v,A0x,Z7T,q2b,I0h,k8L,a8l,Q$t;if(Z8x == "pu"){Z8x="pt";}q9a.a9S();if(!z7E.I18N.wordLists){return;}if(!Z8x){Z8x=z7E.I18N.language;}d8P=z7E.I18N.findAllTextNodes(u8z);y0v=z7E.I18N.wordLists[Z8x];if(!y0v){return;}for(var h3o in d8P){A0x=z7E.I18N.translateSections(h3o,y0v);Z7T=d8P[h3o];for(var q55=0;q55 < Z7T.length;q55++){q2b="origi";q2b+="nal";I0h=Z7T[q55];k8L=I0h.parentNode;a8l=k8L.getAttribute(q2b);if(A0x === ((3950,+"1710") !== (5300,+"839.92")?(1478,526.78) > (5168,7280)?"E":+"5510" === 5139?!![]:",":!"") || !A0x){A0x=a8l;}Q$t=k8L.placeholderFor;if(Q$t){Q$t.placeholder=A0x;}else {I0h.data=A0x;}}}};z7E.I18N.translate=function(s3Y,O8O){var M9K,J2g;if(!O8O){O8O=z7E.I18N.language;}if(!z7E.I18N.wordLists){console.log("Must include translations.js in order to use CIQ.I18N.translate()");return s3Y;}M9K=z7E.I18N.wordLists[O8O];J2g=null;if(M9K){J2g=z7E.I18N.translateSections(s3Y,M9K) || s3Y;}return J2g === (4030 === 5711?("4350" - 0,+"1230") < 5220?4960 == ("1846" | 20)?("A","i"):"u":(!!"1","g"):",")?s3Y:J2g;};z7E.I18N.translateSections=function(m5l,T4C){q9a.a9S();var B_7,q5_;B_7=4600 != 794.82?"\u200c":(1560,"62" ^ 0) === (+"706",880.22)?"g":(+"400.74","29.89" * 1) == 415?+"0x1a2f":(560.73,302.60);if(typeof m5l == "string" && m5l.indexOf(B_7) != -+"1"){q9a.D0J(37);m5l=m5l.replace(/([(),])/g,q9a.q7n(B_7,B_7,"$1"));q5_=m5l.split(B_7);q5_.forEach(function(E42,T2o,f8c){var v40,g9H;q9a.a9S();v40=E42.match(/^(\s*).*\S(\s*)$/);g9H=T4C[E42.trim()];if(g9H){if(v40){q9a.D0J(52);var P$f=q9a.S40(0,1,2);g9H=v40[+"1"] + g9H + v40[P$f];}f8c[T2o]=g9H;}});return q5_.join("");}return T4C[m5l];};z7E.I18N.convertCSV=function(z6D){var s6o,K2b,K_8,i$B,P5G,X1u,i28,C5v,s0x,Y2h,o4m;s6o="[\u201C\u201D]|[";s6o+="\u2018\u2019]";K2b=new RegExp(s6o,"8290" * 1 < (327,426.58)?(56.77,!""):"8350" >> 32 <= 819.71?("r","S"):("5672" ^ 0) >= (9721,313.44)?"g":(687.19,0x18c9));K_8=new RegExp('^(")|(")$',"g");i$B=z7E.I18N.wordLists;if(!z6D){z6D=z7E.I18N.csv;}if(!z6D){return;}P5G=z6D.split("\n");X1u=P5G[+"0"];i28=X1u.split(9989 == 2290?939.16:",");for(var E87=0;E87 < i28.length;E87++){C5v=i28[E87];if(!i$B[C5v]){i$B[C5v]={};}}for(var G83=1;G83 < P5G.length;G83++){s0x=P5G[G83].match(/(".*?"|[^",]+)(?=\s*,|\s*$)|(,(?=,))/g) || [];Y2h=s0x[0];if(K_8.test(Y2h)){Y2h=Y2h.replace(K_8,"");}if(K2b.test(Y2h)){Y2h=Y2h.replace(K2b,(7.4,+"4140") <= (56.02,"1620" - 0)?("8870" >> 64,648.8) == 455.44?("E",2.00e+3):"X":'"');}for(var m4d=1;m4d < s0x.length;m4d++){o4m=s0x[m4d];if(K_8.test(o4m)){o4m=o4m.replace(K_8,"");}i$B[i28[m4d]][Y2h]=o4m;}}};z7E.I18N.setLanguage=function(k9O,j0Y,C_f,v6f,d82){var o1i;o1i="p";o1i+="t";if(!d82){d82=(k9O.uiContext || ({})).topNode || document.body;}q9a.a9S();if(j0Y == "pu"){j0Y=o1i;}z7E.I18N.convertCSV(v6f);z7E.I18N.language=j0Y;z7E.I18N.translateUI(j0Y,d82);if(!C_f){C_f=z7E.I18N.translate;}k9O.translationCallback=C_f;};z7E.I18N.setLocale=function(C_y,r2b,j7H,M7x,S9d){var Z9f,v$W,Q1K,s8a;Z9f="l";Z9f+="oca";Z9f+="le-data/jsonp";if(z7E.xor(this.reverseColorsByLocale[r2b],this.reverseColorsByLocale[C_y.locale])){this.reverseCandles(C_y);}if(typeof Intl == "undefined" || !Intl.__addLocaleData){C_y.setLocale(r2b,S9d);if(j7H){j7H(null);}return;}M7x=typeof M7x == "undefined"?Z9f:M7x;q9a.H6P(48);v$W=q9a.q7n(".js",r2b,"/",M7x);Q1K=document.createElement("SCRIPT");Q1K.async=!0;Q1K.src=v$W;s8a=document.getElementsByTagName("script")[0];s8a.parentNode.insertBefore(Q1K,s8a.nextSibling);Q1K.onload=function(){C_y.setLocale(r2b,S9d);if(j7H){j7H(null);}};Q1K.onerror=function(){q9a.D0H();if(j7H){j7H("cannot load script");}};};z7E.I18N.createMonthArrays=function(x0A,r$B,q2E){var a99,W8D,j85,U0Y,y3x,j3N;x0A.monthAbv=[];x0A.monthLetters=[];a99=new Date();W8D=!0;if(z7E.I18N.longMonths && z7E.I18N.longMonths[q2E]){W8D=!!"";}for(var k2s=0;k2s < 12;k2s++){a99.setDate(1);a99.setMonth(k2s);j85=r$B.format(a99);if(W8D){U0Y="";for(var v6E=0;v6E < j85.length;v6E++){y3x=j85.charAt(v6E);j3N=y3x.charCodeAt(0);if(j3N < +"65")continue;U0Y+=y3x;}x0A.monthAbv[k2s]=U0Y;x0A.monthLetters[k2s]=U0Y[0];}else {x0A.monthAbv[k2s]=j85;x0A.monthLetters[k2s]=j85;}}};z7E.I18N.localize=function(J7s,v_R){this.setLocale(J7s,v_R);this.setLanguage(J7s,v_R);};z7E.I18N.reverseCandles=function(d4X){var i66,m44,F0r;i66=d4X.styles;m44=d4X.cloneStyle(i66.stx_candle_down);F0r=d4X.cloneStyle(i66.stx_candle_up);q9a.D0H();i66.stx_candle_up=m44;i66.stx_candle_down=F0r;};z7E.I18N.wordLists={en:{}};z7E.I18N.languages={en:"English"};};K=C6i=>{var i5o=A2IFV;var L66,Y_x,g_K,X1X,F3o,T68,B3k;L66="<div class=\"stx-ico-handle";L66+="\" style=\"display: none;\"><";i5o.D0H();L66+="span></span></div> ";Y_x="<div class=\"stx_jum";Y_x+="p_today\" style=\"disp";Y_x+="lay:none\"><span></span><";Y_x+="/div>";g_K="<div class=\"stx_crosshair stx_crosshair_y\" st";g_K+="yle=";g_K+="\"display: none;\"></div>";X1X="<div class=\"stx_crosshair stx_crosshair_x\" style=\"disp";X1X+="lay: none;\"></div>";F3o="<span class=";F3o+="\"stx-btn stx_annotation_save\" style=\"d";F3o+="isplay: none;\">sa";F3o+="ve</span>";T68=typeof _CIQ !== "undefined"?_CIQ:C6i.CIQ;T68.ChartEngine.prototype.pointerEvents={down:[],up:[]};T68.ChartEngine.prototype.manageTouchAndMouse=!!"1";T68.ChartEngine.prototype.registerTouchAndMouseEvents=function(){var T2A,N_D,c_5,u7c,P_H,A34,P8c,Z7q,V9G,X8I,a5J,z1P,H42,L5Q;if(this.touchAndMouseEventsRegistered){return;}this.touchAndMouseEventsRegistered=!!({});T2A=this.controls.chartControls || document;N_D=T2A.querySelector(".stx-zoom-in");c_5=T2A.querySelector(".stx-zoom-out");u7c=this.chart.container;P_H=this;A34=function(s6m,W9s,E6C){P_H.addDomEventListener(u7c,s6m,e4J,E6C);i5o.D0H();function e4J(m2c){i5o.D0H();if(P_H.mainSeriesRenderer && P_H.mainSeriesRenderer.nonInteractive){return;}W9s(m2c);}};if(!T68.touchDevice){P8c="m";P8c+="o";P8c+="u";P8c+="seup";Z7q="mouse";Z7q+="mo";Z7q+="ve";A34(Z7q,function(W3A){i5o.D0H();P_H.mousemove(W3A);});A34("mouseenter",function(u0B){P_H.mousemove(u0B);});A34("mousedown",function(P3K){P_H.mousedown(P3K);});A34(P8c,function(g8S){i5o.a9S();P_H.mouseup(g8S);});}else {if(T68.isSurface){V9G="point";V9G+="ermove";A34("mousemove",function(y0I){i5o.a9S();P_H.msMouseMoveProxy(y0I);});A34("mouseenter",function(p1L){P_H.msMouseMoveProxy(p1L);});A34("mousedown",function(h5D){i5o.a9S();P_H.msMouseDownProxy(h5D);});A34("mouseup",function(G1S){i5o.D0H();P_H.msMouseUpProxy(G1S);});A34("pointerdown",function(k8$){i5o.a9S();return P_H.startProxy(k8$);});A34(V9G,function(D9i){P_H.moveProxy(D9i);});A34("pointerenter",function(f3Q){return P_H.moveProxy(f3Q);});A34("pointerup",function(x9V){return P_H.endProxy(x9V);});}else {X8I="touchm";X8I+="o";X8I+="ve";a5J="touchsta";a5J+="rt";if(!T68.isMobile){z1P="mou";z1P+="sem";z1P+="o";z1P+="ve";A34(z1P,function(x$m){i5o.D0H();P_H.iosMouseMoveProxy(x$m);});A34("mouseenter",function(N2p){P_H.iosMouseMoveProxy(N2p);});A34("mousedown",function(D3F){i5o.a9S();P_H.iosMouseDownProxy(D3F);});A34("mouseup",function(K3x){P_H.iosMouseUpProxy(K3x);});}A34(a5J,function(z1U){i5o.a9S();P_H.touchstart(z1U);});A34(X8I,function(z0P){P_H.touchmove(z0P);});A34("touchend",function(T_Z){P_H.touchend(T_Z);});A34("pointerdown",function(v$T){P_H.touchPointerType=v$T.pointerType;});if(N_D){H42="o";H42+="nM";H42+="ouseOv";H42+="er";N_D.removeAttribute(H42);N_D.removeAttribute("onMouseOut");}if(c_5){c_5.removeAttribute("onMouseOver");c_5.removeAttribute("onMouseOut");}}}L5Q=T68.wheelEvent;if(this.captureMouseWheelEvents){A34(L5Q,function(L$I){i5o.D0H();P_H.mouseWheel(L$I);},{passive:!!0});}};T68.ChartEngine.prototype.mousedown=function(O5K){var L1g,R6i,D2f,d7G,M6M,X8A,Q2k,O6t,X$x,P0w,E06,s7R;L1g="mo";L1g+="u";L1g+="s";L1g+="edown";R6i="d";R6i+="o";R6i+="w";R6i+="n";if(this.runPrepend("mousedown",arguments)){return;}this.grabOverrideClick=![];if(!this.displayInitialized){return;}if(!this.displayCrosshairs){return;}if(this.repositioningDrawing){return;}if(this.editingAnnotation){return;}if(O5K.button && O5K.button >= 2){return;}D2f=this.container.getBoundingClientRect();this.top=D2f.top;this.left=D2f.left;this.right=this.left + this.width;this.bottom=this.top + this.height;if(O5K.clientX >= this.left && O5K.clientX <= this.right && O5K.clientY >= this.top && O5K.clientY <= this.bottom){this.insideChart=!!"1";}else {this.insideChart=!({});return;}if(!this.currentPanel){return;}if(this.manageTouchAndMouse && O5K && O5K.preventDefault && this.captureTouchEvents){O5K.preventDefault();}this.mouseTimer=Date.now();this.longHoldTookEffect=!"1";this.hasDragged=!"1";this.userPointerDown=!0;if(this.openDialog === ""){this.registerPointerEvent({x:O5K.clientX,y:O5K.clientY,time:this.mouseTimer},R6i);}d7G=this.currentPanel.chart;for(var m12=0;m12 < this.drawingObjects.length;m12++){M6M=this.drawingObjects[m12];if(M6M.highlighted && !M6M.permanent){if(this.cloneDrawing){X8A=T68.ChartEngine.drawingTools[M6M.name];Q2k=new X8A();Q2k.reconstruct(this,M6M.serialize());this.drawingObjects.push(Q2k);this.activateRepositioning(Q2k);Q2k.repositioner=M6M.repositioner;return;}O6t=this.currentVectorParameters.vectorType;if(!T68.Drawing || !O6t || !T68.Drawing[O6t] || !new T68.Drawing[O6t]().dragToDraw){this.activateRepositioning(M6M);return;}}}X$x=this.mainSeriesRenderer || ({});var {baselineHelper:A32}=this;if(A32.size){if(this.findBaselineHandle(O5K,!![])){return;}}if(this.controls.anchorHandles){var {anchorHandles:i4e}=this.controls;for(var E7H in i4e){var {handle:M39, sd:H9g, highlighted:M1M}=i4e[E7H];if(M1M){this.repositioningAnchorSelector={sd:H9g};M39.classList.add("stx-grab");return;}}}if(this.drawingClick){P0w=737249913;E06=-2097701337;s7R=2;for(var Z$R=1;i5o.U6$(Z$R.toString(),Z$R.toString().length,55758) !== P0w;Z$R++){if(this.currentPanel.subholder != O5K.target){this.drawingClick(this.currentPanel,this.cx,this.cy);}if(this.activeDrawing || this.activeDrawing.dragToDraw){return;}s7R+=+"2";}if(i5o.Z2Z(s7R.toString(),s7R.toString().length,+"36731") !== E06){if(this.currentPanel.subholder === O5K.target){this.drawingClick(this.currentPanel,this.cx,this.cy);}if(this.activeDrawing && this.activeDrawing.dragToDraw){return;}}}this.grabbingScreen=!![];d7G.spanLock=!({});this.yToleranceBroken=!!"";this.grabStartX=O5K.clientX;this.grabStartY=O5K.clientY;this.grabStartMicropixels=this.micropixels;this.grabStartScrollX=d7G.scroll;this.grabStartScrollY=this.currentPanel.yAxis.scroll;this.grabStartCandleWidth=this.layout.candleWidth;this.grabStartYAxis=this.whichYAxis(this.currentPanel);this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:0;this.grabStartPanel=this.currentPanel;setTimeout((function(K39){i5o.a9S();return function(){K39.grabbingHand();};})(this),100);if(this.swipeStart){this.swipeStart(d7G);}if(this.longHoldTime || this.longHoldTime === 0){this.startLongHoldTimer();}this.runAppend(L1g,arguments);};T68.ChartEngine.prototype.mousemove=function(H5x){var q9C,a_y;q9C="en";q9C+="t";i5o.a9S();q9C+="e";q9C+="r";a_y=H5x;T68.ChartEngine.crosshairX=a_y.clientX;T68.ChartEngine.crosshairY=a_y.clientY;if(a_y.type.toLowerCase().indexOf(q9C) > -1){this.positionCrosshairsAtPointer();return;}if(this.runPrepend("mousemove",arguments)){return;}if(!this.displayInitialized){return;}if(this.openDialog !== ""){return;}if(this.baselineHelper.size){this.findBaselineHandle(a_y);}if(this.grabbingScreen && a_y.buttons !== 1){this.cancelLongHold=!!({});this.displayDragOK();this.grabbingScreen=!!0;this.findHighlights(![],!![]);}this.mousemoveinner(a_y.clientX,a_y.clientY);this.runAppend("mousemove",arguments);};T68.ChartEngine.prototype.mouseup=function(c9P){var R3L,S8E,U8c,l22,h73,f_r,z5y,v3H,N4C,x9G,j1H,b$z,w7i,h3R,l3V,l82,B2z;R3L="m";R3L+="ous";R3L+="eup";S8E="u";S8E+="p";if(this.runPrepend("mouseup",arguments)){return;}this.swipe.end=!!({});this.cancelLongHold=!!({});if(this.repositioningDrawing){if(!this.currentVectorParameters.vectorType || Date.now() - this.mouseTimer > 250){this.changeOccurred("vector");T68.clearCanvas(this.chart.tempCanvas,this);this.activateRepositioning(null);this.adjustDrawings();this.draw();return;}this.activateRepositioning(null);}if(this.repositioningBaseline){U8c="m";U8c+="o";U8c+="unt";U8c+="ain";var {handle:f4x}=this.repositioningBaseline;l22=-1211650947;h73=-1612790862;f_r=2;for(var K4S=1;i5o.U6$(K4S.toString(),K4S.toString().length,3516) !== l22;K4S++){this.repositioningBaseline=1;f_r+=2;}if(i5o.U6$(f_r.toString(),f_r.toString().length,+"69241") !== h73){this.repositioningBaseline=6;}this.repositioningBaseline=null;f4x.classList.remove("stx-grab");z5y=this.mainSeriesRenderer || ({});if(z5y.params && z5y.params.baseline && z5y.params.type != U8c){;}this.draw();return;}if(this.repositioningAnchorSelector){T68.Studies.repositionAnchor(this,this.repositioningAnchorSelector.sd);this.repositioningAnchorSelector=null;Object.values(this.controls.anchorHandles).forEach(({handle:k$N})=>{var v5O;v5O="st";v5O+="x";v5O+="-grab";i5o.a9S();return k$N.classList.remove(v5O);});this.findHighlights();return;}v3H=this.userPointerDown;this.userPointerDown=!!"";if(!this.displayInitialized){return;}N4C=this.backOutY(c9P.clientY);x9G=this.backOutX(c9P.clientX);j1H=c9P.which && c9P.which >= 2 || c9P.button && c9P.button >= 2;b$z=this.openDialog !== "";if(!b$z && !j1H){this.registerPointerEvent({x:c9P.clientX,y:c9P.clientY,time:Date.now()},S8E);}w7i=this.isDoubleClick();this.grabbingScreen=!!"";if(this.highlightedDraggable){if(this.dragPlotOrAxis){this.dragPlotOrAxis(x9G,N4C);}this.currentPanel=this.whichPanel(N4C);}h3R=this.currentPanel;this.grabStartYAxis=null;this.displayDragOK();if(this.openDialog !== ""){l3V="stx-";l3V+="drag-chart";if(this.insideChart){this.container.classList.remove(l3V);}return;}if(this.grabOverrideClick){if(!this.overXAxis && !this.overYAxis && this.swipeRelease){this.swipeRelease();}this.container.classList.remove("stx-drag-chart");this.grabOverrideClick=!!0;this.doDisplayCrosshairs();this.updateChartAccessories();return;}if(this.insideChart){this.container.classList.remove("stx-drag-chart");}if(T68.ChartEngine.resizingPanel){this.releaseHandle();return;}if(j1H || c9P.ctrlKey){l82="rig";l82+="htClic";l82+="k";if(this.anyHighlighted && this.bypassRightClick !== !""){this.rightClickHighlighted();if(c9P.preventDefault && this.captureTouchEvents){c9P.preventDefault();}c9P.stopPropagation();return !!"";}this.dispatch(l82,{stx:this,panel:h3R,x:x9G,y:N4C});return !!"1";}if(c9P.clientX < this.left || c9P.clientX > this.right){return;}i5o.a9S();if(c9P.clientY < this.top || c9P.clientY > this.bottom){return;}B2z=h3R && h3R.subholder === c9P.target;if(w7i && (B2z || this.overYAxis || this.overXAxis)){this.doubleClick({button:c9P.button,x:x9G,y:N4C});}else {if(v3H && B2z){if(!this.longHoldTookEffect || this.activeDrawing){this.drawingClick(h3R,x9G,N4C);}if(!this.longHoldTookEffect && this.activeMarker){this.activeMarker.click({cx:x9G,cy:N4C,panel:h3R});}}if(!this.longHoldTookEffect && !this.activeDrawing){this.dispatch("tap",{stx:this,panel:h3R,x:x9G,y:N4C});}}this.runAppend(R3L,arguments);};T68.ChartEngine.prototype.registerPointerEvent=function(f$e,t9m){if(this.pointerEvents[t9m].length > 1){this.pointerEvents[t9m].pop();}i5o.a9S();this.pointerEvents[t9m].unshift(f$e);};T68.ChartEngine.prototype.resetPointerEvent=function(g1I){i5o.a9S();i5o.H6P(7);this.pointerEvents[g1I].splice(i5o.q7n(0,"0"));};T68.ChartEngine.prototype.isDoubleClick=function(x78){var F2f,L64,A_G;F2f=x78?1200:400;var {up:g0S, down:H5H}=this.pointerEvents;this.cancelTouchSingleClick=![];if(g0S.length < +"2" || H5H.length < 2){return !({});}L64=H5H[0].time - g0S[1].time < this.doubleClickTime && Math.pow(g0S[1].x - g0S[0].x,2) + Math.pow(g0S[1].y - g0S[0].y,2) <= F2f && g0S[1].time - H5H[1].time < this.longHoldTime && g0S[0].time - H5H[0].time < this.longHoldTime;if(L64){A_G="d";A_G+="o";A_G+="w";A_G+="n";this.resetPointerEvent("up");this.resetPointerEvent(A_G);this.cancelTouchSingleClick=!!"1";}return L64;};T68.ChartEngine.prototype.doubleClick=function(E5r,j$z,y02){var U_i,f1i,z7a;U_i="doubl";U_i+="eC";U_i+="lick";f1i="doubl";f1i+="eClic";f1i+="k";if(this.runPrepend(f1i,arguments)){return;}if(this.editingAnnotation){return;}if(T68.ChartEngine.drawingLine){return this.undo();}if(this.activeDrawing){return;}z7a=this.activeMarker && this.activeMarker.doubleClick({cx:j$z,cy:y02,panel:this.currentPanel});if(!z7a){this.dispatch("doubleClick",{stx:this,button:E5r,x:j$z,y:y02});}this.runAppend(U_i,arguments);};T68.ChartEngine.prototype.handleMouseOut=function(K$9){var h0X,H57;K$9=K$9 || window.event;if(!T68.withinElement(this.chart.container,K$9.pageX,K$9.pageY)){if(this.runPrepend("handleMouseOut",arguments)){return;}if(!this.grabbingScreen){this.findHighlights(null,!"");}this.undisplayCrosshairs();this.touches=[];this.touching=!({});if(this.activeDrawing && this.userPointerDown){this.userPointerDown=!({});this.drawingLine=!({});h0X=this.backOutY(K$9.pageY);H57=this.backOutX(K$9.pageX);this.drawingClick(this.currentPanel,H57,h0X);}if(this.repositioningAnchorSelector){this.repositioningAnchorSelector=null;}this.insideChart=![];this.overYAxis=!!"";this.overXAxis=!({});this.displaySticky();this.runAppend("handleMouseOut",arguments);}};T68.ChartEngine.prototype.startLongHoldTimer=function(){var O2V,b9g;O2V=this;this.cancelLongHold=!!"";if(this.longHoldTimeout){clearTimeout(this.longHoldTimeout);}i5o.D0H();b9g=function(){if(O2V.cancelLongHold){return;}O2V.longHoldTookEffect=!"";O2V.dispatch("longhold",{stx:O2V,panel:O2V.currentPanel,x:O2V.cx,y:O2V.cy});i5o.a9S();O2V.displayDragOK();};if(this.longHoldTime){this.longHoldTimeout=setTimeout(b9g,this.longHoldTime);}else if(this.longHoldTime === 0){b9g();}};T68.ChartEngine.prototype.grabHandle=function(I9C){if(this.runPrepend("grabHandle",arguments)){return;}if(!I9C){return;}T68.ChartEngine.crosshairY=I9C.top + this.top;T68.ChartEngine.resizingPanel=I9C;I9C.handle.classList.add("stx-grab");i5o.D0H();this.runAppend("grabHandle",arguments);};T68.ChartEngine.prototype.grabbingHand=function(){if(!this.allowScroll){return;}if(!this.grabbingScreen){return;}if(T68.touchDevice){return;}this.container.classList.add("stx-drag-chart");};T68.ChartEngine.prototype.releaseHandle=function(){var X0X;X0X="relea";X0X+="seHa";X0X+="n";X0X+="dle";if(this.runPrepend("releaseHandle",arguments)){return !![];}T68.clearCanvas(this.chart.tempCanvas,this);this.resizePanels();if(T68.ChartEngine.resizingPanel){T68.ChartEngine.resizingPanel.handle.classList.remove("stx-grab");}T68.ChartEngine.resizingPanel=null;this.runAppend(X0X,arguments);};T68.ChartEngine.prototype.findHighlights=function(g8q,X9t){var M4T,t_5,W3j,X4F,S85,Y3x,f4N,p7k,B2R,j6A,D5f,b$l,U3X,T1y,G6o,Y46,D$e,b03,I_U,m6b,r5B,R5B,q6Y,f$d,H7B,E5o,x6W,v_r,K$l,G00,C$P,Y1R,W_2,n4t,a_W,m_q,n5a,g_C,Y5w,Z_6,S4D,O1u,C2C,T$5,i$R,N5I,t09,Y5b,a1e,o4M,i5A,w40;M4T="d";M4T+="ra";M4T+="win";M4T+="g";t_5="highlig";t_5+="htsTapRadius";W3j=this.preferences[g8q?t_5:"highlightsRadius"];this.highlightViaTap=g8q;var {cx:j14, cy:t8h}=this;this.anyHighlighted=!({});if(!this.currentPanel){return;}var {chart:O0P}=this.currentPanel;if(this.activeDrawing){X9t=!!"1";}X4F=!1;S85=null;Y3x=X9t?{}:{forceShow:!!1,type:M4T};f4N={x0:this.tickFromPixel(j14 - W3j,O0P),x1:this.tickFromPixel(j14 + W3j,O0P),y0:this.valueFromPixel(t8h - W3j,this.currentPanel),y1:this.valueFromPixel(t8h + W3j,this.currentPanel),cx0:j14 - W3j,cx1:j14 + W3j,cy0:t8h - W3j,cy1:t8h + W3j,r:W3j};if(this.repositioningDrawing && f4N.x1 - f4N.x0 < ("2" | 2)){f4N.x1++;f4N.x0--;}else if(f4N.x1 == f4N.x0){f4N.x0-=0.5;p7k=-682632090;B2R=-+"1653184673";j6A=2;for(var y3g=1;i5o.U6$(y3g.toString(),y3g.toString().length,38333) !== p7k;y3g++){f4N.x1/=201;j6A+=2;}if(i5o.Z2Z(j6A.toString(),j6A.toString().length,56734) !== B2R){f4N.x1%=663;}f4N.x1+=0.5;}D5f=this.markerHelper && this.markerHelper.chartMap[O0P.name] && this.markerHelper.chartMap[O0P.name].markers;if(!O0P.hideDrawings){for(var h9x=this.drawingObjects.length - 1;h9x >= 0;h9x--){b$l=this.drawingObjects[h9x];if(!this.panels[b$l.panelName])continue;if(this.repositioningDrawing && this.repositioningDrawing != b$l)continue;U3X=b$l.highlighted;T1y=b$l.panelName == this.currentPanel.name;b$l.repositioner=b$l.intersected(this.crosshairTick,this.crosshairValue,f4N);T1y=T1y && b$l.repositioner;if(!X9t && T1y){if(U3X){S85=b$l;if(this.anyHighlighted && this.singleDrawingHighlight){b$l.highlighted=!({});}if(b$l.highlighted && b$l.highlighted != U3X){X4F=!![];};}else if(U3X != b$l.highlight(!"")){if(!S85){S85=b$l;}if(this.anyHighlighted && this.singleDrawingHighlight){b$l.highlighted=!!"";}X4F=!0;}this.anyHighlighted=!"";}else {if(U3X != b$l.highlight(!({}))){X4F=!![];}}if(b$l.highlighted){Y3x.noDelete=b$l.permanent;Y3x.noEdit=!this.callbackListeners.drawingEdit.length;}}}for(G6o in this.layout.studies){Y46=this.layout.studies[G6o];Y46.prev=Y46.highlight;Y46.highlight=this.yaxisMatches(Y46,this.grabStartYAxis);}for(G6o in O0P.seriesRenderers){m6b=O0P.seriesRenderers[G6o];m6b.params.highlight=this.yaxisMatches(m6b,this.grabStartYAxis);for(var C62=0;C62 < m6b.seriesParams.length;C62++){I_U=m6b.seriesParams[C62];I_U.prev=I_U.highlight;I_U.highlight=m6b.params.highlight;}}for(D$e=0;D5f && D$e < D5f.length;D$e++){b03=D5f[D$e];if(!b03.params.box)continue;this.activeMarker=null;b03.prev=D5f[D$e].highlight;b03.highlight=!!0;}if(this.markerHelper){this.markerHelper.highlighted=[];}this.highlightedDataSetField=null;this.highlightedDraggable=null;if(!X9t && !this.anyHighlighted && this.controls.anchorHandles){for(var h6Y in this.controls.anchorHandles){r5B=this.controls.anchorHandles[h6Y];var {handle:o4o, sd:K_H}=r5B;R5B=this.resolveX(j14);q6Y=this.resolveY(t8h);if(o4o){var {left:J3_, top:k3M, right:s$v, bottom:m7H}=o4o.getBoundingClientRect();if(T68.boxIntersects(J3_,k3M,s$v,m7H,R5B,q6Y,R5B,q6Y)){f$d="a";f$d+="nch";f$d+="orHandle";r5B.highlighted=!![];this.anyHighlighted=!!({});X4F=!![];Y3x={message:K_H.name,type:f$d};continue;}if(r5B.highlighted === !!"1"){r5B.highlighted=![];X4F=!![];}}}}if(!X9t && !this.anyHighlighted && O0P.dataSegment){H7B=this.barFromPixel(j14);if(H7B >= 0 && H7B < O0P.dataSegment.length){for(G6o in this.overlays){x6W="fun";x6W+="ction";Y46=this.overlays[G6o];if(Y46.panel != this.currentPanel.name)continue;if(Y46.study.isHighlighted === ![])continue;else if(typeof Y46.study.isHighlighted == x6W){if(Y46.study.isHighlighted(this,j14,t8h)){Y46.highlight=!!"1";this.anyHighlighted=!![];}continue;}v_r=O0P.dataSegment[H7B];if(!v_r)continue;for(var z9U in Y46.outputMap){if(l9l.call(this,H7B,f4N,z9U,Y46.getYAxis(this))){if(Y46.name != Y46.panel){this.anyHighlighted=!!({});}Y46.highlight=z9U;break;}}if(Y46.highlight){this.highlightedDataSetField=z9U;break;;}}for(G6o in O0P.seriesRenderers){if(this.highlightedDataSetField)break;K$l=O0P.seriesRenderers[G6o];G00=K$l.params.panel;if(K$l == this.mainSeriesRenderer)continue;if(!K$l.params.highlightable && !this.currentVectorParameters.vectorType)continue;if(G00 != this.currentPanel.name)continue;for(D$e="0" << 0;D$e < K$l.seriesParams.length;D$e++){C$P="-";C$P+="-";C$P+=">";Y1R="C";Y1R+="l";Y1R+="os";Y1R+="e";I_U=K$l.seriesParams[D$e];W_2=I_U.field;if(!W_2 && !K$l.highLowBars){W_2=this.defaultPlotField || Y1R;}if(I_U.symbol && I_U.subField){W_2+=C$P + I_U.subField;}n4t=K$l.params.yAxis;if(!n4t && G00){n4t=this.panels[G00].yAxis;}if(K$l.params.step && H7B > 0){if(!K$l.caches[I_U.id])continue;E5o=K$l.caches[I_U.id][H7B];if(!E5o && E5o !== +"0")continue;i5o.D0J(38);a_W=K$l.caches[I_U.id][i5o.q7n("1",64,H7B)];if((a_W || a_W === "0" - 0) && t8h + W3j >= E5o && t8h - W3j <= a_W || t8h - W3j <= E5o && t8h + W3j >= a_W){I_U.highlight=!![];this.anyHighlighted=!![];}}else if(l9l.call(this,H7B,f4N,W_2,n4t,K$l,I_U.id)){I_U.highlight=!"";this.anyHighlighted=!![];}if(I_U.highlight){this.highlightedDataSetField=W_2;break;}}}}}n5a=this.preferences.dragging;for(G6o in this.overlays){Y46=this.overlays[G6o];if(Y46.highlight){this.anyHighlighted=!!"1";Y5w=Y46.inputs.display || Y46.name;Y5w=this.translateIf(Y5w);Y3x={message:Y5w,noDelete:Y46.permanent,noEdit:!Y46.editFunction,type:"study"};S85=null;if(n5a === !"" || n5a && n5a.study){m_q=Y46;}g_C=Y46.getYAxis(this);}if(Y46.prev != Y46.highlight){X4F=!!({});}}for(G6o in O0P.seriesRenderers){Z_6=O0P.seriesRenderers[G6o];S4D=Z_6.params.yAxis?Z_6.params.yAxis.textStyle:null;for(var e1s=0;e1s < Z_6.seriesParams.length;e1s++){I_U=Z_6.seriesParams[e1s];if(Z_6.params.highlightable && I_U.highlight){this.anyHighlighted=!![];O1u=I_U.color || S4D;if(O1u == "auto"){O1u=this.defaultColor;}if(I_U.opacity && I_U.opacity !== 1){O1u=T68.hexToRgba(T68.colorToHex(O1u),parseFloat(I_U.opacity));}Y3x={message:I_U.display || I_U.symbol,backgroundColor:O1u,noDelete:I_U.permanent,type:"series"};S85=null;if(n5a === !!({}) || n5a && n5a.series){m_q=Z_6;Z_6.params.highlight=!![];}g_C=Z_6.getYAxis(this);}if(I_U.prev != I_U.highlight){X4F=!0;}}}for(G6o in this.plugins){C2C=this.plugins[G6o];T$5={};if(C2C.findHighlights){T$5=C2C.findHighlights(this,g8q,X9t);if(T$5.somethingChanged){X4F=!!({});}if(T$5.anyHighlighted){this.anyHighlighted=!!1;Y3x=T$5.stickyArgs || ({});}}}i$R=this.whichPanel(t8h);N5I=this.whichYAxis(i$R,j14);if(!g_C){g_C=N5I;}if(this.currentBaseline){g_C=this.currentBaseline.getYAxis(this);}function l9l(c3e,K96,W1Z,k27,z24,r5p){var U3J,j_t,j88,w$W,P3S,s7z,O$o,M7c,A30,F_l,U3t,n0$,t_J,M0M,a1B,Q7I,M_Y,E2L,z3r,p97,n1r,B6J;U3J=this.chart;j_t=this.currentPanel;if(!k27){k27=j_t.yAxis;}j88=W1Z.split("-->");w$W=j88[0];P3S=j88[1];if(!P3S){P3S="Close";}s7z=U3J.dataSegment[H7B];n0$=null;t_J=null;M0M=null;i5o.D0J(1);a1B=new Array(i5o.q7n(1,"3"));Q7I=z24 && z24.caches[r5p];if(s7z && Q7I){A30=Q7I[H7B];n0$=s7z.tick;if(A30 || A30 === 0){a1B[0]=1;}for(M_Y=H7B - +"1";M_Y >= 0;M_Y--){if(Q7I[M_Y] || Q7I[M_Y] === 0){F_l=Q7I[M_Y];i5o.D0J(85);t_J=i5o.q7n(n0$,M_Y,H7B);i5o.D0J(7);a1B[i5o.q7n(0,"1")]=+"1";break;}}for(M_Y=H7B + 1;M_Y < U3J.dataSegment.length;M_Y++){if(Q7I[M_Y] || Q7I[M_Y] === "0" * 1){U3t=Q7I[M_Y];i5o.D0J(85);M0M=i5o.S40(n0$,M_Y,H7B);a1B[2]=1;break;}}}if(t_J === null){O$o=this.getPreviousBar.call(this,U3J,W1Z,H7B);if(O$o){t_J=O$o.tick;F_l=g48(O$o);}}if(M0M === null){M7c=this.getNextBar.call(this,U3J,W1Z,H7B);if(M7c){M0M=M7c.tick;U3t=g48(M7c);}}if(t_J === null && M0M === null){return ![];}if(!Q7I){A30=g48(s7z);F_l=g48(O$o);U3t=g48(M7c);n0$=s7z.tick;if(O$o){t_J=O$o.tick;}if(M7c){M0M=M7c.tick;}}if(!F_l && F_l !== 0){F_l=0;t_J=0;}if(!U3t && U3t !== 0){if(A30 || A30 === +"0"){U3t=A30;i5o.H6P(10);a1B[2]=a1B[i5o.q7n("0",0)];}else {U3t=F_l;a1B[2]=a1B[1];}if(r5p && U3J.series[r5p].parameters.extendToEndOfDataSet){M0M=U3J.dataSet.length - +"1";}else {M0M=t_J;}}if(!A30 && A30 !== 0){A30=U3t;n0$=M0M;a1B[0]=a1B[2];if(F_l === 0 && t_J === 0){F_l=A30;t_J=n0$;a1B[1]=a1B[0];}}E2L=this.pixelFromTransformedValue.bind(this);z3r=this.valueFromPixel.bind(this);A30=z3r(a1B[0]?A30:E2L(A30,j_t,k27),j_t);function g48(m4s){var P8B,G4F,G5X,m7l;if(!m4s){return null;}P8B=m4s[w$W];if(P8B && (P8B[P3S] || P8B[P3S] === +"0")){P8B=P8B[P3S];}if(z24 && z24.getBasis){P8B+=z24.getBasis(m4s,w$W,P3S);}if(!U3J.transformFunc || k27 != U3J.yAxis){return P8B;}else if(m4s.transform && (w$W in m4s.transform)){P8B=m4s.transform[w$W];if(P8B && (P8B[P3S] || P8B[P3S] === 0)){P8B=P8B[P3S];}return P8B;}G4F=-823366544;G5X=1778015045;m7l=2;for(var T7z="1" << 64;i5o.Z2Z(T7z.toString(),T7z.toString().length,+"19843") !== G4F;T7z++){return U3J.transformFunc(this,U3J,P8B);}if(i5o.U6$(m7l.toString(),m7l.toString().length,16541) !== G5X){return U3J.transformFunc(this,U3J,P8B);}return U3J.transformFunc(this,U3J,P8B);}F_l=z3r(a1B[1]?F_l:E2L(F_l,j_t,k27),j_t);U3t=z3r(a1B[2]?U3t:E2L(U3t,j_t,k27),j_t);p97=T68.convertBoxToPixels(this,j_t.name,K96);n1r=T68.convertBoxToPixels(this,j_t.name,{x0:t_J,y0:F_l,x1:n0$,y1:A30});B6J=T68.convertBoxToPixels(this,j_t.name,{x0:n0$,y0:A30,x1:M0M,y1:U3t});if(T68.boxIntersects(p97.x0,p97.y0,p97.x1,p97.y1,n1r.x0,n1r.y0,n1r.x1,n1r.y1,"segment") || T68.boxIntersects(p97.x0,p97.y0,p97.x1,p97.y1,B6J.x0,B6J.y0,B6J.x1,B6J.y1,"segment")){return !![];}return !"1";}if(g_C){if(!g_C.highlight){X4F=!!({});}g_C.highlight=!"";}t09=[];for(var I8e in this.panels){t09=t09.concat(this.panels[I8e].yaxisLHS).concat(this.panels[I8e].yaxisRHS);}for(G6o=0;G6o < t09.length;G6o++){if(g_C == t09[G6o] && !X9t)continue;if(t09[G6o].highlight){X4F=!!({});}t09[G6o].highlight=!1;}for(D$e=0;D5f && D$e < D5f.length;D$e++){b03=D5f[D$e];Y5b=b03.params.box;if(!Y5b)continue;if(b03.params.panelName !== this.currentPanel.name)continue;a1e=T68.convertBoxToPixels(this,this.currentPanel.name,f4N);if(T68.boxIntersects(a1e.x0,a1e.y0,a1e.x1,a1e.y1,Y5b.x0,Y5b.y0,Y5b.x1,Y5b.y1)){this.activeMarker=b03;b03.highlight=!!1;this.markerHelper.highlighted.push(b03);}if(b03.prev != b03.highlight){X4F=!"";}}if(X4F){this.draw();Y3x.panel=i$R;if(this.anyHighlighted && !this.grabStartYAxis){Y3x.panel=i$R;}else {Y3x={};}this.displaySticky(Y3x);this.clearMeasure();if(S85){S85.measure();}}if((n5a === !"" || n5a && n5a.yaxis) && N5I && !N5I.noDraw){this.anyHighlight=!![];m_q=N5I;}if(!this.anyHighlighted){this.setMeasure();}if(m_q && !i$R.noDrag){o4M="stx";o4M+="-";o4M+="draggable";if(this.longHoldTookEffect && !this.cancelLongHold){if(m_q.params){if(m_q.params.dependentOf){m_q=O0P.seriesRenderers[m_q.params.dependentOf];m_q.params.highlight=!!({});}for(G6o in O0P.seriesRenderers){if(O0P.seriesRenderers[G6o].params.dependentOf == m_q.params.name){O0P.seriesRenderers[G6o].params.highlight=!"";}}}this.highlightedDraggable=m_q;if(m_q.getDependents){i5A=m_q.getDependents(this,!!({}));for(G6o in this.overlays){Y46=this.overlays[G6o];if(i5A.indexOf(Y46) > -1){Y46.highlight=!"";}}}}this.container.classList.add(o4M);}else {w40="stx-draggabl";w40+="e";this.container.classList.remove(w40);}this.highlightedDataSetField=this.adjustHighlightedDataSetField(this.highlightedDataSetField);this.displayDrawOK();};T68.ChartEngine.prototype.rightClickHighlighted=function(){if(this.runPrepend("rightClickHighlighted",arguments)){return;}this.deleteHighlighted(!"");this.runAppend("rightClickHighlighted",arguments);};T68.ChartEngine.prototype.deleteHighlighted=function(U2b,x8O){var g10,D$O,f72,H$a,t_R,q_8,P8y,G9Q,a_Y,L0B,q6a,q8b,g_S,r2E,a8x,k_y;g10="deleteH";g10+="ighlight";g10+="ed";if(this.runPrepend("deleteHighlighted",arguments)){return;}this.cancelTouchSingleClick=!!({});T68.clearCanvas(this.chart.tempCanvas,this);D$O=this.bypassRightClick === !!0;if(D$O || !this.bypassRightClick.drawing){for(var o_X=this.drawingObjects.length - 1;o_X >= 0;o_X--){f72=this.drawingObjects[o_X];if(!f72.highlighted)continue;if(U2b){this.rightClickDrawing(f72,x8O);}else if(!f72.permanent){H$a=f72.abort();if(!H$a){t_R=this.exportDrawings();this.drawingObjects.splice(o_X,1);this.undoStamp(t_R,this.exportDrawings());}this.changeOccurred("vector");}}}if(D$O || !this.bypassRightClick.study){for(var u8M in this.overlays){q_8=this.overlays[u8M];if((q_8.overlay || q_8.underlay) && q_8.highlight && !q_8.permanent){if(U2b || x8O){this.rightClickOverlay(u8M,x8O);}else {this.removeOverlay(u8M);}}}}P8y=this.currentPanel.chart;if(D$O || !this.bypassRightClick.series){for(var a00 in P8y.seriesRenderers){G9Q=P8y.seriesRenderers[a00];if(G9Q.params.highlightable){a_Y=this.panels[G9Q.params.panel];L0B=a_Y && a_Y.yAxis.name;for(var K$i=G9Q.seriesParams.length - 1;K$i >= 0;K$i--){q6a=G9Q.seriesParams[K$i];if((G9Q.params.highlight || q6a.highlight) && !q6a.permanent){G9Q.removeSeries(q6a.id);if(G9Q.seriesParams.length < 1){this.removeSeriesRenderer(G9Q);if(G9Q.params.name == L0B){this.electNewPanelOwner(G9Q.params.panel);}else {this.checkForEmptyPanel(G9Q.params.panel);q8b=this.getYAxisByName(a_Y,G9Q.params.name);if(q8b){q8b.name=q8b.studies[0] || q8b.renderers["1" | 1];}}}}}}}}this.draw();this.resizeChart();this.clearMeasure();g_S=this.controls.mSticky;if(g_S){g_S.style.display="none";r2E=-1776811706;a8x=-1920009664;k_y=2;for(var f7t=1;i5o.U6$(f7t.toString(),f7t.toString().length,74662) !== r2E;f7t++){g_S.children[2].innerHTML="";i5o.H6P(28);k_y+=i5o.S40("2",32);}if(i5o.U6$(k_y.toString(),k_y.toString().length,46823) !== a8x){g_S.children["0" >> 64].innerHTML="";}}this.runAppend(g10,arguments);};T68.ChartEngine.prototype.displayDragOK=function(s7d){i5o.a9S();var D7G,u3u,x6n,k35,D4F,s9o,u_I,E4S,F1X,B3O,L94,d7z,v2K,X5w,s45;D7G=this.controls.dragOk;if(D7G){if(!s7d){if(!this.tapForHighlighting || !this.touchingEvent || this.anyHighlighted){this.findHighlights(this.highlightViaTap);};}u3u=this.highlightedDraggable;x6n=u3u && u3u.undraggable && u3u.undraggable(this);k35=this.cx;D4F=this.cy;if(!s7d){if(u3u && !x6n && this.longHoldTookEffect && !this.cancelLongHold){s9o="stx-dra";s9o+="g-chart";u_I=".fie";u_I+="ld";E4S=u3u.inputs && u3u.inputs.display || u3u.params && (u3u.params.display || u3u.params.name) || u3u.name;D7G.querySelector(u_I).setAttribute("text",E4S);p$z.call(this,D7G);D7G.style.display="inline-block";this.draw();this.displaySticky();if(this.grabStartYAxis){this.container.classList.replace("stx-drag-chart","stx-drag-axis");}else {this.container.classList.replace(s9o,"stx-drag-series");}}else {D7G.style.display="none";this.draw();this.container.classList.remove("stx-drag-series");this.container.classList.remove("stx-drag-axis");for(var h8m in this.panels){F1X="r";F1X+="ig";F1X+="ht";B3O="l";B3O+="e";B3O+="f";B3O+="t";L94=this.panels[h8m].subholder.classList;L94.remove("dropzone");L94.remove("all");L94.remove(B3O);L94.remove(F1X);L94.remove("top");L94.remove("bottom");for(d7z=0;d7z < this.panels[h8m].yaxisLHS.length;d7z++){this.panels[h8m].yaxisLHS[d7z].dropzone=null;}for(d7z=0;d7z < this.panels[h8m].yaxisRHS.length;d7z++){this.panels[h8m].yaxisRHS[d7z].dropzone=null;}}}this.draw();}if(u3u){v2K="p";v2K+="x";X5w=D4F + D7G.offsetHeight;s45=Math.max(0,k35 - D7G.offsetWidth);i5o.D0J(0);D7G.style.top=i5o.q7n(X5w,"px");i5o.D0J(0);D7G.style.left=i5o.S40(s45,v2K);p$z.call(this,D7G);}}function p$z(w47){var t3t,l0o;t3t=this.translateIf(w47.querySelector(".field").getAttribute("text"));i5o.D0H();l0o=this.whichYAxis(this.whichPanel(this.cy),this.cx,this.cy);if(l0o && l0o.dropzone == "all"){t3t+="-->" + this.translateIf(l0o.name);}w47.querySelector(".field").innerHTML=t3t;}};T68.ChartEngine.prototype.displayDrawOK=function(){var I5p,K_W,s7Y,n0J,s3L,z03,C2e,Q$F;i5o.D0H();I5p=this.controls.drawOk;if(I5p && T68.Drawing){K_W=T68.Drawing[this.currentVectorParameters.vectorType];if(K_W){K_W=new K_W();}if(this.highlightedDataSetField && K_W && K_W.getYValue){i5o.D0J(21);s7Y=-i5o.S40("255978135",0);i5o.H6P(21);n0J=-i5o.q7n("987213232",0);s3L=2;for(var R3C=+"1";i5o.U6$(R3C.toString(),R3C.toString().length,3564) !== s7Y;R3C++){I5p.style.display="inline-block";z03=this.cy + I5p.offsetHeight;C2e=this.cx - I5p.offsetWidth;i5o.H6P(0);I5p.style.top=i5o.q7n(z03,"px");i5o.H6P(0);I5p.style.left=i5o.q7n(C2e,"px");I5p.querySelector(".field").innerHTML=this.translateIf(this.highlightedDataSetField);s3L+=2;}if(i5o.U6$(s3L.toString(),s3L.toString().length,45301) !== n0J){Q$F="p";Q$F+="x";I5p.style.display=".field";z03=this.cy - I5p.offsetHeight;C2e=this.cx / I5p.offsetWidth;i5o.D0J(14);I5p.style.top=i5o.S40(Q$F,z03);i5o.H6P(14);I5p.style.left=i5o.S40(".field",C2e);I5p.querySelector(".field").innerHTML=this.translateIf(this.highlightedDataSetField);}}else {I5p.style.display="none";}}};T68.ChartEngine.prototype.mouseWheel=function(L7V){var u_Z,r6X,o53,K0D,f8$,A11,L0F,X_m,k5T,l28;u_Z="mou";u_Z+="seWh";u_Z+="e";u_Z+="el";r6X="vertica";r6X+="l";o53="mo";o53+="us";o53+="eWhee";o53+="l";if(this.runPrepend(o53,arguments)){return;}if(L7V.preventDefault){L7V.preventDefault();}if(this.openDialog !== ""){return;}K0D=L7V.deltaX;f8$=L7V.deltaY;if(Math.abs(f8$) > Math.abs(K0D)){K0D=0;}else {f8$=0;}i5o.D0H();this.lastMouseWheelEvent=Date.now();if(Math.abs(K0D) === 0 && Math.abs(f8$) === 0){return;}if(this.allowSideswipe && K0D !== 0){this.lastMove="horizontal";A11=K0D;if(A11 > 50){A11=+"50";}if(A11 < -50){A11=-50;}this.grabbingScreen=!!"1";if(!this.currentPanel){this.currentPanel=this.chart.panel;}this.grabStartX=T68.ChartEngine.crosshairX;this.grabStartY=T68.ChartEngine.crosshairY;this.grabStartScrollX=this.chart.scroll;this.grabStartScrollY=this.currentPanel.yAxis.scroll;this.grabStartMicropixels=this.micropixels;this.grabStartPanel=this.currentPanel;this.mousemoveinner(T68.ChartEngine.crosshairX - A11,T68.ChartEngine.crosshairY);this.updateChartAccessories();this.grabbingScreen=![];return;}this.lastMove=r6X;if(!this.allowZoom){return;}if(!this.displayInitialized){return;}if(!f8$){if(T68.wheelEvent == "mousewheel"){i5o.H6P(86);var b1n=i5o.S40(5,8,14);i5o.D0J(0);var u48=i5o.S40(33,7);f8$=b1n / u48 * L7V.wheelDelta;if(L7V.wheelDeltaX){i5o.D0J(87);var A4b=i5o.q7n(17,20,7,154,2);i5o.H6P(7);var F$c=i5o.q7n(400,440);K0D=A4b / F$c * L7V.wheelDeltaX;}}else {f8$=L7V.detail;}}if(typeof L7V.deltaMode == "undefined"){L7V.deltaMode=L7V.type == "MozMousePixelScroll"?+"0":1;}L0F=-f8$;if(L7V.deltaMode == 1){i5o.H6P(7);L0F*=i5o.q7n(0,"33");}X_m=null;k5T=null;if(this.mouseWheelAcceleration){l28=Math.max(Math.pow(Math.abs(L0F),0.3),1);i5o.H6P(88);X_m=i5o.S40(1,l28,"0.1");i5o.H6P(89);k5T=i5o.q7n(l28,0,1,"0.2");}this.zoomInitiatedByMouseWheel=!"";if(L0F > 0){if(this.reverseMouseWheel){this.zoomOut(null,k5T);}else {this.zoomIn(null,X_m);}}else if(L0F < 0){if(this.reverseMouseWheel){this.zoomIn(null,X_m);}else {this.zoomOut(null,k5T);}}if(this.runAppend(u_Z,arguments)){return;}return !({});};T68.ChartEngine.handleContextMenu=function(O2M){i5o.D0H();var z9Y;for(var f7Y=0;f7Y < T68.ChartEngine.registeredContainers.length;f7Y++){z9Y=T68.ChartEngine.registeredContainers[f7Y].stx;if(z9Y){if(z9Y.anyHighlighted){if(O2M.preventDefault){O2M.preventDefault();}return ![];}}}};if(typeof document != "undefined"){document.addEventListener("contextmenu",T68.ChartEngine.handleContextMenu);}T68.ChartEngine.htmlControls={annotationSave:F3o,annotationCancel:'<span class="stx-btn stx_annotation_cancel" style="display: none; margin-left:10px;">cancel</span>',mSticky:'<div class="stx_sticky"> <span class="mStickyInterior"></span> <span class="mStickyRightClick"><span class="overlayEdit stx-btn" style="display:none"><span>&nbsp;</span></span> <span class="overlayTrashCan stx-btn" style="display:none"><span>&nbsp;</span></span> <span class="mouseDeleteInstructions"><span>(</span><span class="mouseDeleteText">right-click to delete</span><span class="mouseManageText">right-click to manage</span><span class="dragAnchorText">drag to change anchor time</span><span>)</span></span></span><span class="stickyLongPressText">(long-press to drag)</span></div>',drawOk:'<div class="stx_draw_ok"><div class="icon"></div><div class="field"></div></div>',dragOk:'<div class="stx_drag_ok"><div class="icon"></div><div class="field"></div></div>',crossX:X1X,crossY:g_K,chartControls:'<div class="stx_chart_controls" style="display: none; bottom: 22px;"><div class="chartSize"><span class="stx-zoom-out"></span><span class="stx-zoom-in"></span></div></div>',home:Y_x,floatDate:'<div class="stx-float-date" style="visibility: hidden;"></div>',handleTemplate:L66,iconsTemplate:'<div class="stx-panel-control"><div class="stx-panel-title"></div><div class="stx-panel-legend"></div><div class="stx-btn-panel"><span class="stx-ico-up"></span></div><div class="stx-btn-panel"><span class="stx-ico-focus"></span></div><div class="stx-btn-panel"><span class="stx-ico-down"></span></div><div class="stx-btn-panel"><span class="stx-ico-edit"></span></div><div class="stx-btn-panel"><span class="stx-ico-close"></span></div></div>',baselineHandle:'<div class="stx-baseline-handle" style="display: none;"></div>',notificationTray:'<div class="stx_notification_tray"><template><div><span class="icon"></span><span class="message"></span></div></template></div>'};T68.ChartEngine.prototype.registerChartControl=function(W9p,a75,L$Y){var g2j,g8b,l_A,c1P;g2j=".stx";g2j+="-zoom-in";g8b=this.controls;i5o.a9S();if(!g8b || !g8b.chartControls){return;}if(g8b.chartControls.querySelector((8170 != 732?(+"98.93",1520) <= 5231?".":"0x195b" | 88:(+"1.38e+3",0x17d9)) + W9p)){return;}l_A=null;c1P=g8b.chartControls.querySelector(g2j);if(c1P){l_A=document.createElement("span");i5o.D0J(37);l_A.innerHTML=i5o.q7n("</span>",'<span class="stx-tooltip">',a75);i5o.D0J(0);l_A.className=i5o.q7n("stx-chart-control-button ",W9p);c1P.parentNode.appendChild(l_A);if(L$Y){T68.safeClickTouch(l_A,L$Y);}if(!T68.touchDevice){this.makeModal(l_A);}return l_A;}};T68.ChartEngine.prototype.zoomOut=function(Q_0,A$r){var S9W,s$L,H_7,g$W;if(this.runPrepend("zoomOut",arguments)){return;}if(this.preferences.zoomOutSpeed){A$r=this.preferences.zoomOutSpeed;}else if(!A$r){i5o.D0J(8);A$r=i5o.q7n(1,"0.7");}i5o.D0H();if(Q_0 && Q_0.preventDefault){Q_0.preventDefault();}this.cancelTouchSingleClick=!0;function P8I(W9u){i5o.D0H();return function(p0N){var L7T;S9W.zoomSet(p0N,W9u);if(S9W.animations.zoom.hasCompleted){L7T="zoo";L7T+="mOut";if(S9W.runAppend(L7T,arguments)){return;}S9W.changeOccurred("layout");if(S9W.continuousZoom){S9W.continuousZoom.execute(!![]);}}};}S9W=this;for(var X2z in this.charts){s$L=this.charts[X2z];H_7=s$L.width * A$r / this.layout.candleWidth;if(s$L.allowScrollFuture === !({}) && s$L.allowScrollPast === !({}) && H_7 > s$L.dataSet.length){H_7=s$L.dataSet.length;}g$W=this.chart.width / H_7;this.layout.setSpan=null;this.layout.range=null;this.animations.zoom.run(P8I(s$L),this.layout.candleWidth,g$W);}};T68.ChartEngine.prototype.zoomIn=function(k82,V91){var t7i,g$b,H9v,W44;if(this.runPrepend("zoomIn",arguments)){return;}i5o.a9S();if(this.preferences.zoomInSpeed){V91=this.preferences.zoomInSpeed;}else if(!V91){V91=0.7;}if(k82 && k82.preventDefault){k82.preventDefault();}function D9R(f3i){i5o.D0H();return function(h4n){var y4B;t7i.zoomSet(h4n,f3i);if(t7i.animations.zoom.hasCompleted){y4B="la";y4B+="y";y4B+="ou";y4B+="t";if(t7i.runAppend("zoomIn",arguments)){return;}t7i.changeOccurred(y4B);if(t7i.continuousZoom){t7i.continuousZoom.execute();}}};}this.cancelTouchSingleClick=!![];t7i=this;for(var D6q in this.charts){g$b=this.charts[D6q];H9v=g$b.width * V91 / this.layout.candleWidth;if(g$b.maxTicks - H9v < "1" << 0){i5o.D0J(7);var Q6_=i5o.q7n(9,10);H9v=g$b.maxTicks - Q6_;}if(H9v < this.minimumZoomTicks){H9v=this.minimumZoomTicks;}W44=this.chart.width / H9v;this.layout.setSpan=null;this.layout.range=null;this.animations.zoom.run(D9R(g$b),this.layout.candleWidth,W44);}};T68.ChartEngine.prototype.createCrosshairs=function(){var t3X,h_X,q$o,J5n;t3X="createCrossh";t3X+="airs";h_X="cre";h_X+="a";h_X+="teCrosshairs";if(this.runPrepend(h_X,arguments)){return;}if(!this.manageTouchAndMouse || this.mainSeriesRenderer && this.mainSeriesRenderer.nonInteractive){return;}q$o=this.controls.crossX;J5n=this.controls.crossY;if(q$o){if(!q$o.onmousedown){q$o.onmousedown=function(o09){if(o09.preventDefault){o09.preventDefault();}return ![];};}}if(J5n){if(!J5n.onmousedown){J5n.onmousedown=function(x1_){if(x1_.preventDefault){x1_.preventDefault();}return ![];};}}this.runAppend(t3X,arguments);};B3k=!1;T68.ChartEngine.prototype.mousemoveinner=T68.ChartEngine.prototype.mousemoveinner || (function(H6J,K8D){i5o.D0H();if(!B3k){console.error("interaction feature requires activating movement feature.");}B3k=!!({});});};M=r1$=>{var g9l=A2IFV;var V7k;g9l.D0H();V7k=typeof _CIQ !== "undefined"?_CIQ:r1$.CIQ;if(!V7k.Marker){V7k.ChartEngine.helpersToRegister.push(function(k9D){k9D.markerHelper={chartMap:{},classMap:{},domMarkers:[],highlighted:[]};});V7k.ChartEngine.prototype.addToHolder=function(Z_A){var D88,r6p,e0W,W_v;D88=this.panels[Z_A.params.panelName];if(!D88){return;}r6p=Z_A.params;e0W=Z_A.node;W_v=Z_A.stxNodeCreator;if(W_v && W_v.prepareForHolder){e0W=W_v.prepareForHolder(Z_A);}if(r6p.chartContainer){this.container.appendChild(Z_A.node);}else if(r6p.includeAxis){D88.holder.appendChild(Z_A.node);}else {D88.subholder.appendChild(e0W);}Z_A.chart=D88.chart;if(W_v && W_v.addToHolder){W_v.addToHolder(Z_A);}g9l.D0H();if(W_v && W_v.expand){V7k.Marker.initializeScrollBehavior(W_v);}};V7k.ChartEngine.prototype.getMarkerArray=function(C3m,I6v){var X61,y4X,r4k;X61=[];g9l.D0H();for(var A1g in this.markers){for(var k0J="0" ^ 0;k0J < this.markers[A1g].length;k0J++){y4X="pa";y4X+="n";y4X+="elNam";y4X+="e";r4k=this.markers[A1g][k0J];if(C3m == y4X){if(r4k.params.panelName == I6v){X61.push(r4k);}}else if(C3m == "label"){if(A1g == I6v){X61.push(r4k);}}else if(C3m == "all"){X61.push(r4k);}}}return X61;};V7k.ChartEngine.prototype.removeFromHolder=function(L1Z){var N17,d_g,p1_,w_c,f53,k6S;N17=this.panels[L1Z.params.panelName];if(N17){if(L1Z.node.parentNode == N17.holder){N17.holder.removeChild(L1Z.node);}else if(L1Z.node.parentNode == N17.subholder){N17.subholder.removeChild(L1Z.node);}else if(L1Z.node.parentNode == this.container){this.container.removeChild(L1Z.node);}}d_g=this.markers[L1Z.params.label];if(!d_g){return;}for(p1_=0;p1_ < d_g.length;p1_++){if(d_g[p1_] === L1Z){d_g.splice(p1_,1);break;}}w_c=this.markerHelper.chartMap[L1Z.chart.name];if(w_c){for(p1_=0;p1_ < w_c.markers.length;p1_++){if(w_c.markers[p1_] === L1Z){w_c.markers.splice(p1_,1);break;}}}f53=this.markerHelper.classMap[L1Z.className];if(f53){k6S=f53[L1Z.params.panelName];if(k6S){for(p1_=0;p1_ < k6S.length;p1_++){if(k6S[p1_] === L1Z){k6S.splice(p1_,1);break;}}}}};V7k.ChartEngine.prototype.moveMarkers=function(k5J,B_S){var k8A,U3Z;k8A=this.getMarkerArray("panelName",k5J);for(var k3A=0;k3A < k8A.length;k3A++){k8A[k3A].params.panelName=B_S;}for(var q4A in this.markerHelper.classMap){U3Z=this.markerHelper.classMap[q4A][k5J];if(U3Z){this.markerHelper.classMap[q4A][B_S]=U3Z;delete this.markerHelper.classMap[q4A][k5J];}}};V7k.ChartEngine.prototype.establishMarkerTicks=function(){var I6z,q0B;I6z=this.markerHelper.chartMap;for(var L4x in I6z){q0B=I6z[L4x];if(q0B.dataSetLength == this.charts[L4x].dataSet.length)continue;for(var o$V=0;o$V < q0B.markers.length;o$V++){this.setMarkerTick(q0B.markers[o$V]);}}};V7k.ChartEngine.prototype.futureTickIfDisplayed=function(u0o){var S7K,Z$k,Y8B,S9G,w6m,m0g,F03,R3e,j7b;S7K=u0o.chart;if(S7K.dataSet.length < 1){return;}Z$k=S7K.xaxis[S7K.xaxis.length - 1].DT;g9l.H6P(90);var W$k=g9l.q7n(4740640,60008,8,10);Z$k=new Date(Z$k.getTime() - this.timeZoneOffset * W$k);if(u0o.params.x > Z$k){return;}Y8B=S7K.maxTicks - S7K.dataSegment.length;S9G=S7K.dataSet.length + Y8B;g9l.D0H();F03=new Date(+S7K.dataSet[S7K.dataSet.length - 1].DT);R3e=this.standardMarketIterator(F03,null,S7K);j7b=u0o.params.x.getTime();for(var a_$=S7K.dataSet.length;a_$ < S9G;a_$++){w6m=F03.getTime();F03=R3e.next();m0g=F03.getTime();if(m0g == j7b){u0o.tick=a_$;return;}else if(m0g > j7b && w6m < j7b){g9l.H6P(7);u0o.tick=Math.max(g9l.q7n(1,a_$),0);return;}}};V7k.ChartEngine.prototype.setMarkerTick=function(Y6Y){var w8d,K8_,U_k,w0Z,Z7h,J9a;w8d=Y6Y.chart;if(Y6Y.params.xPositioner == "master" && Y6Y.params.x){Y6Y.tick=Math.floor(Y6Y.params.x / this.layout.periodicity);return;}else if(Y6Y.params.xPositioner == "date" && Y6Y.params.x){w0Z=Y6Y.params.x.getTime();for(var J_b=0;J_b < w8d.dataSet.length;J_b++){Z7h=w8d.dataSet[J_b];U_k=Z7h.DT.getTime();K8_=U_k;if(J_b > +"0"){K8_=w8d.dataSet[J_b - 1].DT.getTime();}if(U_k == w0Z){Y6Y.tick=J_b;return;}else if(U_k > w0Z && K8_ < w0Z){g9l.H6P(7);Y6Y.tick=Math.max(g9l.S40(1,J_b),0);return;}else if(w0Z < U_k){Y6Y.tick=null;return;}}if(w8d.dataSet.length < 1){return;}J9a=new Date(+w8d.dataSet[J_b - 1].DT);if(J9a.getTime() < w0Z){Y6Y.params.future=!!({});}Y6Y.tick=null;;}};V7k.ChartEngine.prototype.positionMarkers=function(){var m1F,Z9E,Z_e,H9L,p$n,w9A,n$w;m1F=this;Z9E=this.chart;if(!m1F.markerHelper){return;}if(this.markerDelay || this.markerDelay === ("0" ^ 0)){if(!this.markerTimeout){this.markerTimeout=setTimeout(l2J,this.markerDelay);}}else {l2J();}Z_e=this.getFirstLastDataRecord(Z9E.dataSegment,"tick");g9l.a9S();H9L=this.getFirstLastDataRecord(Z9E.dataSegment,"tick",!"");if(!Z_e || !H9L){return;}p$n=this.getMarkerArray("all");for(var w1E=0;w1E < p$n.length;w1E++){w9A=p$n[w1E];n$w=w9A.stxNodeCreator;if(Z_e.tick <= w9A.tick && w9A.tick <= H9L.tick){if(n$w && n$w.drawMarker){n$w.drawMarker(w9A);}}else if(w9A.attached && n$w.expand){n$w.expand.style.visibility="hidden";}}function l2J(){var R2u,i_U,T3s,h_S;if(m1F.runPrepend("positionMarkers",arguments)){return;}m1F.markerTimeout=null;for(var L7R in m1F.markerHelper.classMap){for(var N9K in m1F.markerHelper.classMap[L7R]){R2u=m1F.markerHelper.classMap[L7R][N9K];i_U=m1F.panels[N9K];if(R2u.length){T3s={stx:m1F,arr:R2u,panel:i_U};T3s.firstTick=i_U.chart.dataSet.length - i_U.chart.scroll;T3s.lastTick=T3s.firstTick + i_U.chart.dataSegment.length;h_S=R2u[0].constructor.placementFunction;if(h_S){h_S(T3s);}else {m1F.defaultMarkerPlacement(T3s);}}}}g9l.D0H();m1F.runAppend("positionMarkers",arguments);}};V7k.Marker=V7k.Marker || (function(z36){var s2h,B2G,K8R,h2M,P2h,u8J,d$2;this.params={xPositioner:"date",yPositioner:"value",panelName:"chart",permanent:!"1",label:"generic",includeAxis:!"1"};V7k.extend(this.params,z36);if(!this.params.node){s2h="D";s2h+="I";s2h+="V";this.params.node=document.createElement(s2h);}B2G=this.params.stx;if(!B2G){K8R="Marker created";K8R+=" without specifying stx";console.log(K8R);return;}if(!this.className){this.className="CIQ.Marker";}if(V7k.derivedFrom(this.params.node,V7k.Marker.NodeCreator)){this.stxNodeCreator=this.params.node;this.node=this.stxNodeCreator.node;}else {this.node=this.params.node;}h2M=this.params.label;if(!B2G.markers[h2M]){B2G.markers[h2M]=[];}B2G.markers[h2M].push(this);P2h=B2G.panels[this.params.panelName];this.chart=P2h.chart;if(!B2G.markerHelper.chartMap[this.chart.name]){B2G.markerHelper.chartMap[this.chart.name]={dataSetLength:0,markers:[]};}B2G.markerHelper.chartMap[this.chart.name].markers.push(this);u8J=B2G.markerHelper.classMap[this.className];if(!u8J){u8J=B2G.markerHelper.classMap[this.className]={};}if(!u8J[this.params.panelName]){u8J[this.params.panelName]=[];}u8J[this.params.panelName].push(this);d$2=this.stxNodeCreator && this.stxNodeCreator.deferAttach;if(!d$2){B2G.addToHolder(this);}B2G.setMarkerTick(this);if(this.stxNodeCreator && this.stxNodeCreator.drawMarker){this.stxNodeCreator.drawMarker(this);}});V7k.Marker.prototype.remove=function(){this.params.stx.removeFromHolder(this);};V7k.Marker.prototype.click=function(W4Y){var S3q;if(typeof arguments[0] === "number"){W4Y={cx:arguments["0" - 0],cy:arguments[+"1"],panel:arguments[3]};}var {cx:i2m, cy:j$b, panel:W6e}=W4Y;g9l.a9S();if(!this.params.stx){return;}S3q=this.params.node;if(S3q.click){S3q.click(i2m,j$b,this,W6e);}};V7k.Marker.prototype.doubleClick=function({cx:h7E, cy:x84, panel:C10}){g9l.D0H();return ![];};V7k.Marker.prototype.render=function(){g9l.D0H();var X7q,P7n;X7q=[this];P7n={stx:this.params.stx,arr:X7q,panel:this.params.stx.panels[this.params.panelName],showClass:this.showClass};this.constructor.placementFunction(P7n);};V7k.Marker.removeByLabel=function(Q9H,B05){var x9I,c3$,x7L;x9I="l";x9I+="ab";x9I+="e";x9I+="l";c3$=Q9H.getMarkerArray(x9I,B05);for(var v5k="0" ^ 0;v5k < c3$.length;v5k++){x7L=c3$[v5k];Q9H.removeFromHolder(x7L);if(x7L.stxNodeCreator && x7L.stxNodeCreator.remove){x7L.stxNodeCreator.remove(x7L);}}Q9H.draw();};V7k.Marker.positionContentVerticalAndHorizontal=function(H5B){var v95,Z3y,B9R,N_q,m3V,g1m,a3X,W23,Y4p,L8u,j_T,p9e;v95=H5B.querySelectorAll(".stx-marker-expand")[0];if(!v95 || !V7k.trulyVisible(v95)){return;}g9l.a9S();Z3y=v95.offsetHeight;B9R=v95.style;B9R.left=B9R.right="";B9R.bottom=B9R.top="";N_q=getComputedStyle(v95);m3V=N_q.left;g1m=N_q.bottom;g9l.H6P(36);var m8S=g9l.q7n(19,3,12);a3X=H5B.offsetLeft + parseInt(m3V,m8S);W23=parseInt(g1m,10);Y4p=H5B.offsetTop - (W23 + Z3y - H5B.offsetHeight);L8u=H5B.parentNode.offsetWidth;j_T=H5B.parentNode.offsetHeight;if(a3X + v95.offsetWidth > L8u){B9R.right=m3V;B9R.left="auto";}if(H5B.offsetTop <= j_T){if(Y4p > j_T - Z3y){B9R.top=j_T - H5B.offsetTop - Z3y + "px";B9R.bottom="auto";}}else {g9l.H6P(0);B9R.top=g9l.q7n(j_T,"px");}if(H5B.offsetTop + H5B.offsetHeight >= 0){if(Y4p < "0" >> 32){p9e="p";p9e+="x";B9R.top=-H5B.offsetTop + p9e;B9R.bottom="auto";}}else {B9R.bottom="0px";}};V7k.Marker.initializeScrollBehavior=function(b_9){var i7h;var {expand:q7J}=b_9;if(!q7J){return;}q7J.addEventListener(V7k.wheelEvent,o8u=>{return o8u.stopPropagation();});var {scrollbarStyling:w04}=V7k.UI || ({});if(w04){w04.refresh(q7J);}else {i7h="scr";i7h+="o";i7h+="l";i7h+="l";q7J.style.overflowY=i7h;}};V7k.ChartEngine.prototype.getBarBounds=function(X7s){var D6f,i7Y,B6_,o3X,L8E,S1S,y5v;D6f="p";D6f+="an";g9l.a9S();D6f+="d";D6f+="f";i7Y=this.layout.chartType;B6_=this.layout.aggregationType;if(B6_ == D6f){o3X={high:Math.max(X7s.pfOpen,X7s.pfClose),low:Math.min(X7s.pfOpen,X7s.pfClose)};}else {o3X={high:X7s.High,low:X7s.Low};}if(X7s.markerHigh){o3X.high=X7s.markerHigh;}if(X7s.markerLow){o3X.low=X7s.markerLow;}if(X7s.Open === undefined){L8E=X7s.Close;}if(X7s.High === undefined){S1S=Math.max(X7s.Open || L8E,X7s.Close);}if(X7s.Low === undefined){y5v=Math.min(X7s.Open || L8E,X7s.Close);}if(!o3X.high && o3X.high !== 0){o3X.high=S1S;}if(!o3X.low && o3X.low !== 0){o3X.low=y5v;}return o3X;};V7k.ChartEngine.prototype.defaultMarkerPlacement=function(g15){var e5s,b$P,u6m,J_X,f1Q,R3a,H40,X3o,C2k,j2$,y6y,z_y,L4w,W7f,z$y,x7i,T_x,u7A,Y7o,i7M,K2M,C$3,X5j,b_J,v2I,A6D,t6b,U2y,X8Y,J2y,E7O,N8e,h7v,E7W;e5s="Clo";e5s+="s";e5s+="e";b$P=g15.panel;u6m=g15.yAxis?g15.yAxis:g15.panel.yAxis;J_X=b$P.chart;f1Q=g15.stx;R3a=f1Q.chart.highLowBars;H40=J_X.defaultPlotField;if(!H40 || R3a){H40=e5s;}X3o={};for(var K_N="0" - 0;K_N < g15.arr.length;K_N++){C2k="a";C2k+="u";C2k+="t";C2k+="o";j2$=g15.arr[K_N];y6y=j2$.params;if(j2$.params.box)continue;z_y=j2$.node;if(!j2$.clientWidth){j2$.clientWidth=z_y.clientWidth;}if(!j2$.clientHeight){j2$.clientHeight=z_y.clientHeight;}L4w=null;W7f=y6y.xPositioner;z$y=y6y.yPositioner;x7i=j2$.tick;T_x=J_X.dataSet;u7A=j2$.clientWidth;if(W7f != "none"){if(W7f == "bar" && y6y.x){if(y6y.x < J_X.xaxis.length){Y7o=J_X.xaxis[y6y.x];if(Y7o){L4w=Y7o.data;}}g9l.H6P(36);var g9N=g9l.q7n(11,0,10);z_y.style.left=Math.round(f1Q.pixelFromBar(y6y.x,J_X) - u7A / +"2") + g9N + "px";}else {if(!x7i && x7i !== 0){if(y6y.future && J_X.scroll < J_X.maxTicks){f1Q.futureTickIfDisplayed(j2$);x7i=j2$.tick;if(!x7i && x7i !== 0){z_y.style.left="-1000px";continue;}}else {z_y.style.left="-1000px";continue;}}if(x7i < T_x.length){L4w=T_x[x7i];}j2$.leftpx=Math.round(f1Q.pixelFromTick(x7i,J_X) - J_X.left - u7A / 2);j2$.rightEdge=j2$.leftpx + u7A;z_y.style.left=j2$.leftpx + "px";if(x7i < g15.firstTick && j2$.rightEdge < J_X.left - 50)continue;;}if(!L4w){g9l.D0J(7);var L3U=g9l.S40(20,21);L4w=T_x[T_x.length - ("1" | L3U)];};}else if(z$y.indexOf("candle") > -1){i7M=getComputedStyle(z_y).left;if(i7M){K2M=f1Q.barFromPixel(parseInt(i7M,10),J_X);if(K2M >= 0){L4w=J_X.xaxis[K2M].data;if(!L4w){g9l.D0J(35);var W9j=g9l.q7n(11,8,5,3,175);L4w=T_x[T_x.length - W9j];};}}}z_y.style.top=C2k;C$3=y6y.y;X5j=j2$.clientHeight;if(z$y != "none"){v2I="b";v2I+="o";v2I+="ttom";A6D="o";A6D+="n_";A6D+="candle";t6b="und";t6b+="er_candle";g9l.D0J(0);var p6m=g9l.q7n(859,15);g9l.D0J(52);var R$G=g9l.q7n(96978,8817,12);g9l.D0J(91);var a8O=g9l.q7n(9,1,6,5,9);g9l.H6P(15);var U59=g9l.q7n(6,135,96);g9l.D0J(11);var X2f=g9l.S40(0,4,39,10);g9l.D0J(39);var z7j=g9l.q7n(27958,3,23961);g9l.H6P(0);var h1B=g9l.S40(604,9066);U2y=z$y + ((p6m,R$G) > "238.66" * a8O?"-":(U59,"7990" * X2f) < (996.14,z7j)?+"0x18f":h1B) + z_y.style.left;X8Y=y6y.chartContainer?f1Q.height:b$P.yAxis.bottom;J2y=0;E7O=0;if(typeof X3o[U2y] == "undefined"){X3o[U2y]=0;}E7O=X3o[U2y];X3o[U2y]+=X5j;if(z$y == "value" && (C$3 || C$3 === "0" - 0)){g9l.H6P(92);var l3Z=g9l.S40(1,58,18,16,20);J2y=Math.round(X8Y - f1Q.pixelFromPrice(C$3,b$P,u6m) - X5j / l3Z) + "px";}else if((z$y == "below_candle" || z$y == t6b) && L4w){N8e="h";N8e+="i";N8e+="g";N8e+="h";b_J=L4w[H40];if(R3a){b_J=f1Q.getBarBounds(L4w)[u6m.flipped?N8e:"low"];}J2y=Math.round(X8Y - f1Q.pixelFromPrice(b_J,b$P,u6m) - X5j - E7O) + "px";}else if(z$y == A6D && L4w){h7v="p";h7v+="x";b_J=L4w[H40];if(R3a){g9l.H6P(41);var a2S=g9l.S40(3,12,38);b_J=(L4w.Low + L4w.High) / a2S;}g9l.D0J(39);var i49=g9l.S40(36,19,15);J2y=Math.round(X8Y - f1Q.pixelFromPrice(b_J,b$P,u6m) - X5j / i49 - E7O) + h7v;}else if(z$y == "top"){J2y=Math.round(X8Y - X5j - E7O - b$P.top) + "px";}else if(z$y == v2I){E7W="p";E7W+="x";J2y=Math.round(E7O) + E7W;}else if(L4w){b_J=L4w[H40];if(R3a){b_J=f1Q.getBarBounds(L4w)[u6m.flipped?"low":"high"];}J2y=Math.round(X8Y - f1Q.pixelFromPrice(b_J,b$P,u6m) + E7O) + "px";}if(z_y.style.bottom != J2y){z_y.style.bottom=J2y;}}V7k.Marker.positionContentVerticalAndHorizontal(z_y);}};V7k.Marker.NodeCreator=function(){};V7k.Marker.NodeCreator.toNode=function(){g9l.D0H();return this.node;};V7k.Marker.Simple=function(t8v){var O6A,p$M,L0N,m2d,R3t;O6A=this.node=document.createElement("div");O6A.className="stx-marker";function z3j(){g9l.D0H();V7k.Marker.positionContentVerticalAndHorizontal(O6A);}O6A.classList.add(t8v.type);if(t8v.category){O6A.classList.add(t8v.category);}p$M=V7k.newChild(O6A,"div","stx-visual");V7k.newChild(O6A,"div","stx-stem");if(t8v.type == "callout"){m2d="di";m2d+="v";R3t=V7k.newChild(p$M,"div","stx-marker-content");V7k.newChild(R3t,"h4",null,t8v.headline);L0N=V7k.newChild(R3t,m2d,"stx-marker-expand");V7k.newChild(L0N,"p",null,t8v.story);}else {L0N=V7k.newChild(O6A,"div","stx-marker-expand");V7k.newChild(L0N,"h4",null,t8v.headline);V7k.newChild(L0N,1176 > (118.59,298.1)?"p":736.93 == (395.28,2710)?(4.21e+3,!({})):(0x256c,4.58e+3),null,t8v.story);V7k.safeClickTouch(L0N,function(k1Y){g9l.D0H();O6A.classList.toggle("highlight");});}V7k.safeClickTouch(p$M,function(w6j){O6A.classList.toggle("highlight");setTimeout(z3j,10);});this.nodeType="Simple";this.expand=L0N;};V7k.inheritsFrom(V7k.Marker.Simple,V7k.Marker.NodeCreator,!({}));}};B=e_g=>{var s4_=A2IFV;var t7c,y8h,L5_,h3x,a84,v_i,u4k,F48;t7c="undefin";t7c+="ed";y8h=typeof _CIQ !== t7c?_CIQ:e_g.CIQ;L5_=typeof _timezoneJS !== "undefined"?_timezoneJS:e_g.timezoneJS;h3x=60000 * 60;a84=h3x * 24;v_i=y8h.Market;y8h.Market=function(Z7e){var m40,o7t;m40="un";m40+="defined";this.market_def=![];this.rules=![];this.normalHours=[];this.extraHours=[];this.class_name="Market";if(!L5_.Date){this.tz_lib=Date;;}else {this.tz_lib=L5_.Date;}this.market_tz="";this.hour_aligned=!"1";this.convertOnDaily=!!"";this.enabled_by_default=![];if(typeof Z7e != m40 && Z7e && !y8h.isEmpty(Z7e)){o7t="und";o7t+="ef";o7t+="ined";if(Z7e.market_definition){Z7e=Z7e.market_definition;}if(Z7e.rules){this.rules=Z7e.rules;}if(Z7e.market_tz){this.market_tz=Z7e.market_tz;}if(Z7e.convertOnDaily){this.convertOnDaily=Z7e.convertOnDaily;}if(typeof Z7e.hour_aligned){this.hour_aligned=Z7e.hour_aligned;}if(typeof Z7e.beginningDayOfWeek !== "undefined"){this.beginningDayOfWeek=Z7e.beginningDayOfWeek;}if(typeof Z7e.enabled_by_default !== o7t){if(Z7e.enabled_by_default instanceof Array){this.enabled_by_default=Z7e.enabled_by_default;}}this.market_def=Z7e;if(this.market_def.name === undefined){this.market_def.name="no market name specified";}}else {return;}y8h.Market._createTimeSegments(this);this.getSessionNames();};y8h.Market.Symbology=function(){};y8h.Market.Symbology.isForeignSymbol=function(l7E){return !1;};s4_.D0H();y8h.Market.Symbology.isFuturesSymbol=function(t_D){return !"1";};y8h.Market.Symbology.isRateSymbol=function(M8r){return !({});};y8h.Market.Symbology.isForexSymbol=function(T7a){s4_.D0H();return !({});};y8h.Market.Symbology.isForexMetal=function(v9V,r0t){s4_.a9S();return !({});};y8h.Market.Symbology.isForexFuturesSymbol=function(U$u){if(y8h.Market.Symbology.isForexSymbol(U$u))return !!({});if(y8h.Market.Symbology.isFuturesSymbol(U$u))return !!"1";s4_.D0H();return ![];};y8h.Market.Symbology.factory=function(J6z){return null;;};y8h.Market.Symbology.encodeTermStructureInstrumentSymbol=function(o1j,B_U){var L37;L37="You are trying to call `CIQ.Mar";L37+="ket.Symbology.encodeTe";L37+="rmStructureInstrumentSymbol` but have not imple";L37+="mented it.";s4_.D0H();console.warn(L37);};if(v_i)y8h.extend(y8h.Market,v_i);y8h.Market.prototype.sessions=null;y8h.Market.prototype.beginningDayOfWeek="0" ^ 0;y8h.Market.prototype.getSessionNames=function(){var P1K,e6$;if(!this.rules){this.sessions=[];}else if(!this.sessions){P1K=[];e6$=[];this.rules.map(function(G1C){if(G1C.name && P1K.indexOf(G1C.name) === -("1" | 0)){P1K.push(G1C.name);e6$.push({name:G1C.name,enabled:G1C.enabled?G1C.enabled:!!0});}});this.sessions=e6$;}s4_.D0H();return this.sessions.slice();};y8h.Market.prototype._find_next_segment=function(a3F,v$U){var v5d,c2H,E9O,S_s;if(!this.market_def)return null;if(!this.rules)return null;v5d=new Date(+a3F);c2H=this.newIterator({begin:v5d,interval:1,inZone:this.market_tz,outZone:this.market_tz});if(this._wasOpenIntraDay(v5d)){E9O=this.zseg_match.close_parts.hours;S_s=this.zseg_match.close_parts.minutes;v5d.setHours(E9O);v5d.setMinutes(S_s);c2H=this.newIterator({begin:v5d,interval:1,inZone:this.market_tz,outZone:this.market_tz});}return c2H.next();};y8h.Market.prototype._find_prev_segment=function(l6S,z6M){var B8d,t2X,z4C,D4l,u9Z;if(!this.market_def)return null;if(!this.rules)return null;B8d=new Date(+l6S);s4_.D0H();t2X=this.newIterator({begin:B8d,interval:"1" | 0,inZone:this.market_tz,outZone:this.market_tz});z4C=this._wasOpenIntraDay(B8d);if(z4C === null){B8d=new Date(B8d - 60000);z4C=this._wasOpenIntraDay(B8d);}else {if(z6M && B8d.getHours() === this.zseg_match.open_parts.hours && B8d.getMinutes() === this.zseg_match.open_parts.minutes || !z6M && B8d.getHours() === this.zseg_match.close_parts.hours && B8d.getMinutes() === this.zseg_match.close_parts.minutes){B8d=t2X.previous();}}if(z4C){D4l=this.zseg_match.open_parts.hours;u9Z=this.zseg_match.open_parts.minutes;B8d.setHours(D4l);B8d.setMinutes(u9Z);t2X=this.newIterator({begin:B8d,interval:1,inZone:this.market_tz,outZone:this.market_tz});B8d=t2X.previous();if(this.zseg_match.close_parts.hours === D4l){if(this.zseg_match.close_parts.minutes === u9Z){if(z6M){return t2X.next();}return B8d;}}if(this.zseg_match.adjacent_child){return B8d;}if(z6M){return t2X.next();}return B8d;}return t2X.previous();};y8h.Market.prototype.disableSession=function(i$k,y7W){var v_k;v_k=!({});if(typeof y7W !== "undefined" && y7W){v_k=!!({});}if(i$k){for(var j7C=0;j7C < this.normalHours.length;j7C++){if(this.normalHours[j7C].name === i$k){this.normalHours[j7C].enabled=v_k;}}for(j7C=0;j7C < this.extraHours.length;j7C++){if(this.extraHours[j7C].name === i$k){this.extraHours[j7C].enabled=v_k;}}}};y8h.Market.prototype.enableSession=function(L$k){var D$J;D$J="enable_in";D$J+="stead";this.disableSession(L$k,D$J);};y8h.Market.prototype.enableAllAvailableSessions=function(){var y7N;s4_.a9S();y7N=this.getSessionNames();for(var J3v=0;J3v < y7N.length;J3v++){this.enableSession(y7N[J3v].name);}};y8h.Market.prototype.getClose=function(H3d,V9x,A1C,z2Y){var p4f,R72;if(!this.market_def)return null;if(!this.rules)return null;p4f=H3d;if(!H3d){p4f=new Date();A1C=null;;}p4f=this._convertToMarketTZ(p4f,A1C);if(typeof V9x !== "undefined"){if(this._wasOpenIntraDay(p4f)){if(this.zseg_match.name === V9x){p4f.setHours(this.zseg_match.close_parts.hours,this.zseg_match.close_parts.minutes,+"0",0);p4f=this._convertFromMarketTZ(p4f,z2Y);return p4f;}}}else {if(this._wasOpenDaily(p4f)){R72=this.zseg_match;while(R72.child_){R72=R72.child_;}while(!R72.enabled){R72=R72.parent_;}p4f.setHours(R72.close_parts.hours,R72.close_parts.minutes,0,0);p4f=this._convertFromMarketTZ(p4f,z2Y);return p4f;}}return null;};y8h.Market.prototype.getNextClose=function(v0K,s0Y,V$3){var p$O,d6K,y6G,Q4f;if(!this.market_def)return null;if(!this.rules)return null;p$O=v0K;if(!v0K){p$O=new Date();s0Y=null;;}p$O=this._convertToMarketTZ(p$O,s0Y);if(!this._wasOpenIntraDay(p$O)){d6K=this.newIterator({begin:p$O,interval:1,inZone:this.market_tz,outZone:this.market_tz});p$O=d6K.next();}y6G=p$O.getDate();Q4f=this.zseg_match;while(Q4f.adjacent_child){Q4f=Q4f.adjacent_child;y6G+=1;}p$O.setDate(y6G);p$O.setHours(Q4f.close_parts.hours,Q4f.close_parts.minutes,0,0);p$O=this._convertFromMarketTZ(p$O,V$3);return p$O;};y8h.Market.prototype.getNextOpen=function(z_a,S_7,Z2r){var y72;if(!this.market_def)return null;if(!this.rules)return null;y72=z_a;if(!z_a){y72=new Date();S_7=null;;}y72=this._convertToMarketTZ(y72,S_7);y72=this._find_next_segment(y72);if(this.zseg_match.adjacent_parent){y72=this.getNextOpen(y72,this.market_tz,this.market_tz);y72=this._convertFromMarketTZ(y72,Z2r);return y72;}y72.setHours(this.zseg_match.open_parts.hours);y72.setMinutes(this.zseg_match.open_parts.minutes);y72=this._convertFromMarketTZ(y72,Z2r);return y72;};y8h.Market.prototype.getOpen=function(d$d,g0l,J6e,M0P){var t6t,T1$;if(!this.market_def)return null;if(!this.rules)return null;t6t=d$d;if(!d$d){t6t=new Date();J6e=null;;}t6t=this._convertToMarketTZ(t6t,J6e);if(typeof g0l !== "undefined"){if(this._wasOpenIntraDay(t6t)){if(this.zseg_match.name == g0l){t6t.setHours(this.zseg_match.open_parts.hours,this.zseg_match.open_parts.minutes,0,"0" >> 32);t6t=this._convertFromMarketTZ(t6t,M0P);return t6t;}}}else {if(this._wasOpenDaily(t6t)){T1$=this.zseg_match;while(T1$.parent_){T1$=T1$.parent_;}while(!T1$.enabled){T1$=T1$.child_;}t6t.setHours(T1$.open_parts.hours,T1$.open_parts.minutes,0,0);t6t=this._convertFromMarketTZ(t6t,M0P);return t6t;}}return null;};y8h.Market.prototype.getNormalOpen=function(){var y3t;y3t="F";y3t+="O";y3t+="RE";y3t+="X";var {market_def:L_K, rules:k$b}=this;if(!(L_K && k$b))return "00:00";if(L_K.normal_daily_open)return L_K.normal_daily_open;if(L_K.name === y3t)return "17:00";return k$b.find(({name:h8c})=>!h8c || h8c === "").open;};y8h.Market.prototype.getNormalClose=function(){var Q8M;Q8M="FO";Q8M+="R";Q8M+="E";Q8M+="X";var {market_def:M5n, rules:a8e}=this;if(!(M5n && a8e))return "24:00";if(M5n.normal_daily_close)return M5n.normal_daily_close;if(M5n.name === Q8M)return "17:00";return a8e.filter(({dayofweek:e4R, name:g6H})=>e4R && (!g6H || g6H === "")).pop().close;};y8h.Market.prototype.getPreviousClose=function(m63,q9S,A9W){var G$Z;if(!this.market_def)return null;if(!this.rules)return null;G$Z=m63;if(!m63){G$Z=new Date();q9S=null;;}G$Z=this._convertToMarketTZ(G$Z,q9S);G$Z=this._find_prev_segment(G$Z,!!0);if(this.zseg_match.adjacent_child){return this.getPreviousClose(G$Z,this.market_tz,this.market_tz);}G$Z.setHours(this.zseg_match.close_parts.hours);G$Z.setMinutes(this.zseg_match.close_parts.minutes);G$Z=this._convertFromMarketTZ(G$Z,A9W);s4_.D0H();return G$Z;};y8h.Market.prototype.getPreviousOpen=function(t28,S4s,Z1r){s4_.D0H();var A4F;if(!this.market_def)return null;if(!this.rules)return null;A4F=t28;if(!t28){A4F=new Date();S4s=null;;}A4F=this._convertToMarketTZ(A4F,S4s);A4F=this._find_prev_segment(A4F,!!"1");if(this.zseg_match.adjacent_parent){return this.getPreviousOpen(A4F,this.market_tz,this.market_tz);}A4F.setHours(this.zseg_match.open_parts.hours);A4F.setMinutes(this.zseg_match.open_parts.minutes);A4F=this._convertFromMarketTZ(A4F,Z1r);return A4F;};y8h.Market.prototype.getSession=function(A8U,d4S){s4_.D0H();A8U=this._convertToMarketTZ(A8U,d4S);if(this._wasOpenIntraDay(A8U) && this.zseg_match){return this.zseg_match.name;}return null;};y8h.Market.prototype.marketZoneNow=function(){s4_.D0H();return this._convertToMarketTZ(new Date());};y8h.Market.prototype.isHourAligned=function(){return this.hour_aligned;};y8h.Market.prototype.isOpen=function(){var I65;I65=new Date();if(this.market_tz){I65=new this.tz_lib(I65.getTime(),this.market_tz);}return this._wasOpenIntraDay(I65);};y8h.Market.prototype.isMarketDay=function(){var u2V;u2V=new Date();if(this.market_tz){u2V=new this.tz_lib(u2V.getTime(),this.market_tz);}return this._wasOpenDaily(u2V);};y8h.Market.prototype.isMarketDate=function(h$M){s4_.D0H();return this._wasOpenDaily(h$M);};y8h.Market.prototype.newIterator=function(p1v){var B81,P6X,w1w,y10,Z4S,U7i,M7n;B81=!({});if(p1v.periodicity){B81=p1v.periodicity;}else if(p1v.multiple){B81=p1v.multiple;}P6X=p1v.interval;if(!P6X){w1w="m";w1w+="in";w1w+="u";w1w+="te";P6X=w1w;}if(P6X == "hour")P6X=60;if(!B81){B81=1;}if(!p1v.begin){p1v.begin=new Date();p1v.inZone=null;}if(P6X == parseInt(P6X,10)){P6X=parseInt(P6X,10);if(p1v.periodicity < 1 / 60){y10="mil";y10+="l";y10+="isecon";y10+="d";B81=B81 * P6X * 60000;P6X=y10;}else if(p1v.periodicity < 1){Z4S="s";Z4S+="econd";B81=B81 * P6X * 60;P6X=Z4S;}else {B81=B81 * P6X;P6X="minute";}}if(p1v.timeUnit){U7i="secon";U7i+="d";M7n="mill";M7n+="isecond";if(p1v.timeUnit === M7n){P6X=p1v.timeUnit;}else if(p1v.timeUnit === U7i){P6X=p1v.timeUnit;}else if(p1v.timeUnit === "tick"){P6X="second";}}if(P6X == "tick")P6X="second";p1v.interval=P6X;p1v.multiple=B81;p1v.market=this;return new y8h.Market.Iterator(p1v);};y8h.Market.prototype._wasOpenDaily=function(N6c){return this._was_open(N6c,![]);};y8h.Market.prototype._wasOpenIntraDay=function(K1a){return this._was_open(K1a,!!({}));};y8h.Market.prototype._was_open=function(X_4,O15){var L$6,S_d,U9s,S7C,g5K,Q5Q,f_8,C1w,L6p,b6d,M0b,Y7_,I96;L$6=this.zseg_match;this.zopen_hour=0;this.zopen_minute="0" ^ 0;this.zclose_hour=0;this.zclose_minute=0;this.zmatch_open=!({});this.zseg_match=null;if(!this.market_def || !this.rules){this.zclose_hour=24;return !!"1";}S_d=!!"";U9s=!!0;S7C=X_4.getFullYear();g5K=X_4.getMonth() + 1;Q5Q=X_4.getDay();s4_.a9S();f_8=X_4.getDate();C1w=X_4.getHours();L6p=X_4.getMinutes();b6d=X_4.getSeconds();Y7_=C1w * 60 * +"60" + L6p * 60 + b6d;if(typeof O15 === "undefined"){O15=!![];}for(I96=0;I96 < this.normalHours.length;I96++){M0b=this.normalHours[I96];if(!M0b.enabled){continue;}S_d=M0b.dayofweek === Q5Q;if(S_d && O15){S_d=Y7_ >= M0b.open && Y7_ < M0b.close;}if(S_d){if(!O15 && this.zseg_match){if(M0b.open_parts.hours > this.zopen_hour || M0b.open_parts.hours == this.zopen_hour && M0b.open_parts.minutes > this.zopen_minute){continue;}}if(M0b !== L$6 && !M0b.adjacent_parent && !M0b.adjacent_child){this.shouldResetToBeginningOfSegment=!!({});}this.zopen_hour=M0b.open_parts.hours;this.zopen_minute=M0b.open_parts.minutes;this.zclose_hour=M0b.close_parts.hours;this.zclose_minute=M0b.close_parts.minutes;this.zmatch_open=Y7_ === M0b.open;this.zseg_match=M0b;if(O15)break;}}for(I96=+"0";I96 < this.extraHours.length;I96++){M0b=this.extraHours[I96];if(!M0b.enabled){continue;}if((1455 < (+"1540",9585)?"2638" >> 0 < (327.75,6113)?(6009,988.33) > +"839.81"?"*":"X":!!"":![]) === M0b.year || S7C === M0b.year){if(g5K === M0b.month && f_8 === M0b.day){U9s=!O15 && M0b.open || Y7_ >= M0b.open && Y7_ < M0b.close;if(!U9s && this.zseg_match){S_d=![];this.zopen_hour=0;this.zopen_minute=0;this.zclose_hour=0;this.zclose_minute="0" * 1;this.zmatch_open=!!"";this.zseg_match=null;}if(U9s){if(!O15 && this.zseg_match){if(M0b.open_parts.hours > this.zopen_hour || M0b.open_parts.hours == this.zopen_hour && M0b.open_parts.minutes > this.zopen_minute){continue;}}this.zopen_hour=M0b.open_parts.hours;this.zopen_minute=M0b.open_parts.minutes;this.zclose_hour=M0b.close_parts.hours;this.zclose_minute=M0b.close_parts.minutes;this.zmatch_open=Y7_ === M0b.open;this.zseg_match=M0b;if(O15)break;}}}}return this.zseg_match;};y8h.Market.prototype._wasClosed=function(A6m){return !this._was_open(A6m,!!"1");};y8h.Market.prototype._wasOpen=function(C_A){return this._was_open(C_A,!!({}));};y8h.Market.prototype._tzDifferenceMillis=function(G0M,I0_,U1y){var f_E,f_a,t8u,t0c;f_E=0;f_a=G0M;t8u=G0M;t0c=f_a.getTimezoneOffset() - t8u.getTimezoneOffset();f_E=t0c * 60 * 1000;return f_E;};y8h.Market._createTimeSegments=function(f3z){var a_f,t1e,V_B,L0y,c0b,o5b,Z5u,z9T,w8j;a_f=function(e3l,U$N){s4_.D0H();if(e3l.close_parts.hours === 24 && U$N.open_parts.hours === 0){if(U$N.open_parts.minutes === ("0" ^ 0)){if(t1e.dayofweek === z9T.dayofweek - 1){return !!1;}if(t1e.dayofweek === 6 && z9T.dayofweek === "0" >> 0){return !!({});}}}return !!0;};for(var O4o=0;O4o < f3z.rules.length;O4o++){V_B="n";V_B+="a";V_B+="m";V_B+="e";L0y="und";L0y+="efine";L0y+="d";c0b=JSON.parse(JSON.stringify(f3z.rules[O4o]));if(typeof c0b.open === L0y && typeof c0b.close === "undefined"){o5b="0";o5b+="0:";o5b+="00";c0b.open="00:00";c0b.close=o5b;}if(!c0b.hasOwnProperty(V_B)){c0b.name="";}try{Z5u="und";Z5u+="ef";Z5u+="i";Z5u+="ned";if(typeof c0b.dayofweek !== Z5u){c0b.year="*";z9T=u4k._createDayOfWeekSegment(f3z,c0b);if(t1e){if(t1e.dayofweek === z9T.dayofweek){t1e.child_=z9T;z9T.parent_=t1e;}else {if(a_f(t1e,z9T)){t1e.adjacent_child=z9T;z9T.adjacent_parent=t1e;}}}t1e=z9T;}else if(typeof c0b.date !== "undefined"){c0b.isDayOfWeek=!"1";c0b.dayofweek=-("1" ^ 0);z9T=u4k._createDateTimeSegment(f3z,c0b);}else {console.log("Error, unknown rule type " + c0b);}if(f3z.enabled_by_default){for(var C3X=0;C3X < f3z.enabled_by_default.length;C3X++){w8j=f3z.enabled_by_default[C3X];if(z9T.name === w8j){z9T.enabled=!![];break;}}}else {;}}catch(z5W){var Q_4;Q_4="Error, creating market ru";Q_4+="les ";console.log(Q_4 + z5W);}}};y8h.Market._timeSegment={};u4k=y8h.Market._timeSegment;u4k.re_wild_card_iso=/^(\*)-(\d\d)-(\d\d)$/;u4k.re_regular_iso=/^(\d\d\d\d)-(\d\d)-(\d\d)$/;u4k.re_split_hours_minutes=/^(\d\d):(\d\d)$/;u4k.re_split_hour_minutes=/^(\d):(\d\d)$/;u4k._hashCode=function(S9M){var X3$,r33,u_U,Y$4;X3$=+"0";if(S9M.length === +"0")return X3$;for((r33=0,Y$4=S9M.length);r33 < Y$4;r33++){u_U=S9M.charCodeAt(r33);X3$=(X3$ << 5) - X3$ + u_U;X3$|=0;;}return X3$;};u4k._splitHoursMinutes=function(a4y){var s9m,c4Q;s9m=u4k.re_split_hour_minutes.exec(a4y);c4Q={hours:NaN,minutes:NaN};if(s9m === null){s9m=u4k.re_split_hours_minutes.exec(a4y);if(s9m === null){return c4Q;}}c4Q.hours=parseInt(s9m[1],10);c4Q.minutes=parseInt(s9m[2],10);return c4Q;};u4k._createDayOfWeekSegment=function(T76,d21){var J7L;J7L={name:d21.name,isDayOfWeek:!!({}),dayofweek:d21.dayofweek,date_str:(602.3,378) > 6960?0xc30:"*",open_parts:u4k._splitHoursMinutes(d21.open),close_parts:u4k._splitHoursMinutes(d21.close),open:u4k._secSinceMidnight(T76,d21.open,!![]),close:u4k._secSinceMidnight(T76,d21.close,!!0),child_:!({}),parent_:!1,adjacent_child:!({}),adjacent_parent:!!"",enabled:![]};if(J7L.name === ""){J7L.enabled=!!1;}J7L.hash_code=this._hashCode((J7L.open + J7L.close).toString());T76.normalHours.push(J7L);return J7L;};u4k._createDateTimeSegment=function(g1a,k0H){var H0i,v50,W6I;H0i=this.re_regular_iso.exec(k0H.date);if(H0i === null){H0i=this.re_wild_card_iso.exec(k0H.date);if(H0i === null){console.log("Warning: invalid date format on rule -> " + k0H.date);return;}v50=(8679,"987" >> 0) != ("7470" ^ 0,494)?+"4230" < (54,"3260" * 1)?"S":(774.92,4830) <= (5640,1340)?611.10:"*":5.17e+2;;}else {v50=parseInt(H0i[1],10);}W6I={name:k0H.name,isDayOfWeek:!({}),dayofweek:-1,year:v50,month:parseInt(H0i[2],10),day:parseInt(H0i["3" << 64],10),date_str:k0H.date,open_parts:u4k._splitHoursMinutes(k0H.open),close_parts:u4k._splitHoursMinutes(k0H.close),open:u4k._secSinceMidnight(g1a,k0H.open,!!"1"),close:u4k._secSinceMidnight(g1a,k0H.close,![]),enabled:![]};if(W6I.name === ""){W6I.enabled=!!1;}W6I.hash_key=this._hashCode(W6I.date_str + W6I.open + W6I.close);g1a.extraHours.push(W6I);return W6I;};u4k._secSinceMidnight=function(e_s,h$a,x4h){var F3u,b4p,a77,h$5;F3u=h$a.split(":");b4p=parseInt(F3u[0],10);a77=parseInt(F3u[1],"10" >> 64);h$5=b4p * 60 * 60 + a77 * 60;if(!x4h){if(b4p === 24){h$5=b4p * 60 * 60 + 1;}}return h$5;};y8h.Market.prototype._convertToMarketTZ=function(Z2J,A4E){var P7H,d98,p_h,r6f;if(A4E){P7H=new this.tz_lib(Z2J.getFullYear(),Z2J.getMonth(),Z2J.getDate(),Z2J.getHours(),Z2J.getMinutes(),Z2J.getSeconds(),Z2J.getMilliseconds(),A4E);}else {d98=-1229625172;p_h=807487669;r6f=2;for(var S6I=+"1";s4_.Z2Z(S6I.toString(),S6I.toString().length,50758) !== d98;S6I++){P7H=new this.tz_lib(Z2J.getFullYear(),Z2J.getMonth(),Z2J.getDate(),Z2J.getHours(),Z2J.getMinutes(),Z2J.getSeconds(),Z2J.getMilliseconds());r6f+=+"2";}if(s4_.U6$(r6f.toString(),r6f.toString().length,52538) !== p_h){P7H=new this.tz_lib(Z2J.getFullYear(),Z2J.getMonth(),Z2J.getDate(),Z2J.getHours(),Z2J.getMinutes(),Z2J.getSeconds(),Z2J.getMilliseconds());}}if(P7H.setTimezone)P7H.setTimezone(this.market_tz);return new Date(P7H.getFullYear(),P7H.getMonth(),P7H.getDate(),P7H.getHours(),P7H.getMinutes(),P7H.getSeconds(),P7H.getMilliseconds());};y8h.Market.prototype._convertFromMarketTZ=function(j2R,Q27){s4_.D0H();var n3U;n3U=new this.tz_lib(j2R.getFullYear(),j2R.getMonth(),j2R.getDate(),j2R.getHours(),j2R.getMinutes(),j2R.getSeconds(),j2R.getMilliseconds(),this.market_tz);if(Q27){if(n3U.setTimezone)n3U.setTimezone(Q27);}else {return new Date(n3U.getTime());}return new Date(n3U.getFullYear(),n3U.getMonth(),n3U.getDate(),n3U.getHours(),n3U.getMinutes(),n3U.getSeconds(),n3U.getMilliseconds());};y8h.Market.Iterator=function(G5H){this.market=G5H.market;this.begin=G5H.begin;this.interval=G5H.interval;this.multiple=G5H.multiple;this.inZone=G5H.inZone;this.outZone=G5H.outZone;this.clock=new y8h.Market.Iterator._Clock(G5H.market,G5H.interval,G5H.multiple);this.intraDay=this.clock.intra_day;if(this.intraDay)this.begin=this.market._convertToMarketTZ(this.begin,G5H.inZone);this.clock._setStart(this.begin);this.clock.minutes_aligned=![];};y8h.Market.Iterator.prototype.date=function(){return this.clock._date();};y8h.Market.Iterator.prototype.futureTick=function(y7F){var x56,o5e,n3Z,Y4u,G_e,A_4,t1X,l62,z7A;this.clock.skip=1;x56=0;if(this.intraDay)o5e=this.market._convertToMarketTZ(y7F.end,this.inZone).getTime();else o5e=y7F.end.getTime();n3Z=this.clock.ctime;if(o5e === n3Z){return x56;}Y4u=2;G_e=+"1000";A_4=0;if(y7F.sample_size){Y4u=y7F.sample_size;}t1X=new Date().getTime();if(o5e > n3Z){this.clock.forward=!0;while(this.clock.ctime < o5e){x56+="1" ^ 0;A_4+=1;this.clock._findNext();if(A_4 === G_e){A_4=0;l62=new Date().getTime();if(l62 - t1X >= Y4u){z7A=(this.clock.ctime - n3Z) / x56;x56=Math.floor((o5e - n3Z) / z7A);break;}}}if(this.clock.ctime > o5e){x56--;}}else {this.clock.forward=![];while(this.clock.ctime > o5e){x56+=1;A_4+=1;this.clock._findPrevious();if(A_4 === G_e){A_4=0;l62=new Date().getTime();if(l62 - t1X >= Y4u){z7A=(n3Z - this.clock.ctime) / x56;x56=Math.floor((n3Z - o5e) / z7A);break;}}}}return x56;};y8h.Market.Iterator.prototype.isHourAligned=function(){s4_.a9S();return !this.intraDay || this.market.isHourAligned();};y8h.Market.Iterator.prototype.isOpen=function(){return this.market.isOpen();};y8h.Market.Iterator.prototype.next=function(e$F){this.clock.skip=1;if(e$F){this.clock.skip=e$F;}s4_.a9S();this.clock.forward=!0;for(var T_y=+"0";T_y < this.clock.skip;T_y++){this.begin=this.clock._findNext();}if(this.intraDay || this.market.convertOnDaily){return this.market._convertFromMarketTZ(this.clock.display_date,this.outZone);}return this.clock.display_date;};y8h.Market.Iterator.prototype.peek=function(){s4_.a9S();return this.clock._peek();};y8h.Market.Iterator.prototype.previous=function(h2p){this.clock.skip=1;s4_.D0H();if(h2p){this.clock.skip=h2p;}this.clock.forward=![];for(var D5v=0;D5v < this.clock.skip;D5v++){this.begin=this.clock._findPrevious();}if(this.intraDay || this.market.convertOnDaily){return this.market._convertFromMarketTZ(this.clock.display_date,this.outZone);}return this.clock.display_date;};y8h.Market.Iterator._Clock=function(u47,s8f,Z4q){var S1N,A$k,G0Q,r9s,Y$E;S1N="millise";S1N+="cond";A$k="s";A$k+="e";A$k+="con";A$k+="d";if(Z4q % +"60" === 0 && s8f === A$k){G0Q="m";G0Q+="inute";s8f=G0Q;Z4q=Z4q / 60;}this.market=u47;this.interval=s8f;this.multiple=Z4q;this.intra_day=![];this.intervals=[];this.max_iters=+"10080";r9s=a84;Y$E=this._dayImpl;if(s8f === S1N){Y$E=this._millisImpl;r9s=1;}else if(s8f === "second"){Y$E=this._secondImpl;r9s=1000;}else if(s8f === "minute"){Y$E=this._minuteImpl;r9s=60000;}else if(s8f === "hour"){Y$E=this._hourImpl;r9s=h3x;}else if(s8f === "day"){Y$E=this._dayImpl;r9s=a84;}else if(s8f === "week"){Y$E=this._weekImpl;r9s=a84 * 7;}else if(s8f === "month"){Y$E=this._monthImpl;r9s=a84 * 30;}else {console.log('Periodicity ERROR: "' + s8f + '" is not a valid interval. Please see setPeriodicity() for details.');}this.tick_time=r9s * Z4q;this.intra_day=this.tick_time < a84;this._findPrevious=this._findNext=Y$E;};F48=y8h.Market.Iterator._Clock.prototype;F48._total_minutes=function(X4_,d2U,f3a,a3d){return (f3a - X4_) * ("60" - 0) - d2U + a3d;};F48._alignMinutes=function(){var J1_,S9O,B4l,e6z,B24;if(!this.market.market_def || this.market.zopen_minute === undefined){return [];}J1_=this.market.zopen_minute;S9O=this.market.zseg_match;if(S9O && S9O.adjacent_parent){J1_=S9O.adjacent_parent.open / 60 - +"1440";}else {if(this.market.isHourAligned() && this.multiple % 60 === 0)J1_=0;}s4_.a9S();B4l=this._total_minutes(this.market.zopen_hour,J1_,this.market.zclose_hour,this.market.zclose_minute);e6z=[];B24=0;while(B24 < B4l){e6z.push(J1_ + B24);B24+=this.multiple;}return e6z;};F48._alignBaseZero=function(K7l){var D2Z,l9v;D2Z=0;l9v=[D2Z];while(!![]){D2Z+=this.multiple;if(D2Z >= K7l){break;}l9v.push(D2Z);}return l9v;};F48._date=function(){var n0h,i3N;n0h=Math.round(this.ctime);i3N=new Date(n0h);s4_.D0H();if(this.intra_day){this.display_date=new Date(n0h + this.shift_millis);}else {this.display_date=i3N;}return i3N;};F48._alignToBoundary=function(O7J,n2Q){var j6X,d87,H7u;j6X=0;d87=+"0";H7u=n2Q;for(var B9Q=0;B9Q < O7J.length - 1;B9Q++){j6X=O7J[B9Q];d87=O7J[B9Q + 1];if(n2Q === j6X || n2Q === d87){break;;}if(n2Q > j6X && n2Q < d87){H7u=j6X;break;}else if(B9Q + 1 === O7J.length - 1){H7u=d87;}}s4_.a9S();return H7u;};F48._peek=function(){return this._date().toString();};F48._seekHr=function(){if(this.forward){this.ctime-=h3x;}else {this.ctime+=h3x;}};F48._setStart=function(P1N){var r0g,P1C;r0g=this.market._tzDifferenceMillis(P1N);P1C=new Date(P1N.getTime() + r0g);this.shift_millis=r0g;this.ctime=P1C.getTime();this.shift_millis=0;this.ctime=P1N.getTime();};F48._tickTock=function(){s4_.a9S();if(this.forward){this.ctime+=this.tick_time;}else {this.ctime-=this.tick_time;}};F48._tockTick=function(){s4_.D0H();if(this.forward){this.ctime-=this.tick_time;}else {this.ctime+=this.tick_time;}};F48._tickTock24=function(){s4_.a9S();this.ctime+=a84;};F48._tockTick24=function(){this.ctime-=a84;};F48._windMaybe=function(Y8_,t26){var S96,p7A,Y3c,D0$;S96=0;p7A=new Date(this.ctime);s4_.a9S();Y3c=![];while(!Y8_.call(this.market,p7A)){t26.call(this);Y3c=!![];p7A=new Date(this.ctime);S96+=1;if(S96 > this.max_iters){D0$="Warning! max iterations (" + this.max_iters;D0$+=") reached with no rule match.";console.log(D0$);break;}}return Y3c;};F48._millisImpl=function(){var X1v,K93,w98,s_5,a03,i5m,F9e,e91,S0z,Z8B;X1v=!"1";if(!this.mperiods_aligned){K93=this._alignBaseZero(1000);w98=new Date(this.ctime);s_5=w98.getMilliseconds();s_5=this._alignToBoundary(K93,s_5);w98.setMilliseconds(0);this.ctime=w98.getTime() + s_5;this.mperiods_aligned=!!"1";X1v=!![];}a03=this._date().getMinutes();this._tickTock();i5m=this._date().getMinutes();if((X1v || a03 != i5m) && !this.market._wasOpenIntraDay(this._date())){F9e=this._date().getSeconds();e91=this._date().getMilliseconds();S0z=this.tick_time;this.tick_time="60000" | 0;Z8B=this.multiple;this.multiple="1" * 1;this._minuteImpl();this.tick_time=S0z;this.multiple=Z8B;this.ctime+="1000" * 1 * F9e + e91;}return this._date();};F48._secondImpl=function(){var u8a,a5Y,b6_,L7D,g63,S_q,i9b,o$f,M4t;u8a=![];if(!this.speriod_aligned){a5Y=this._alignBaseZero(60);b6_=new Date(this.ctime);L7D=b6_.getSeconds();L7D=this._alignToBoundary(a5Y,L7D);b6_.setSeconds(L7D);b6_.setMilliseconds(0);this.ctime=b6_.getTime();this.speriod_aligned=!!1;u8a=!![];}g63=this._date().getMinutes();this._tickTock();S_q=this._date().getMinutes();if((u8a || g63 != S_q) && !this.market._wasOpenIntraDay(this._date())){i9b=this._date().getSeconds();o$f=this.tick_time;this.tick_time=60000;M4t=this.multiple;this.multiple="1" * 1;this._minuteImpl();this.tick_time=o$f;this.multiple=M4t;this.ctime+=1000 * i9b;}return this._date();};F48._minuteImpl=function(){var R_H,T_1,m$s,h3d,z9c,o8h,i9X,Q1j,Q5x,t0S;R_H=this._windMaybe(this.market._wasOpenIntraDay,this._tockTick);T_1=new Date(this.ctime);m$s=T_1.getTimezoneOffset();h3d=T_1.getMinutes();z9c=T_1.getHours();o8h=this._alignMinutes();i9X=this._total_minutes(this.market.zopen_hour,this.market.zopen_minute,z9c,h3d) + this.market.zopen_minute;if(R_H){if(this.forward){i9X=o8h[o8h.length - 1];}else {i9X=o8h[0];}}else {i9X=this._alignToBoundary(o8h,i9X);}z9c=Math.floor(i9X / 60) + this.market.zopen_hour;T_1.setHours(z9c,i9X % 60,0,0);Q1j=T_1.getTimezoneOffset() - m$s;if(this.forward && Q1j < 0 || !this.forward && Q1j > 0){T_1.setTime(T_1.getTime() - Q1j * ("60000" >> 64));}this.ctime=T_1.getTime();this._tickTock();Q5x=this.market.hour_aligned && this.multiple % 60 === 0;if(this._windMaybe(this.market._wasOpenIntraDay,this._tickTock) || !Q5x && this.shouldResetToBeginningOfSegment){T_1=new Date(this.ctime);if(this.forward){T_1.setMinutes(this.market.zopen_minute);T_1.setHours(this.market.zopen_hour);}else {o8h=this._alignMinutes();t0S=o8h[o8h.length - 1];T_1.setMinutes(t0S % +"60");T_1.setHours(Math.floor(t0S / 60) + this.market.zopen_hour);}this.ctime=T_1.getTime();}s4_.a9S();return this._date();};F48._hourImpl=function(){var l6k,s51,G4j,W0d,w8M;this._windMaybe(this.market._wasOpenIntraDay,this._tockTick);l6k=new Date(this.ctime);if(this.market.isHourAligned()){l6k.setMinutes("0" << 32);}else {l6k.setMinutes(this.market.zopen_minute);}l6k.setSeconds(+"0");l6k.setMilliseconds(0);this.ctime=l6k.getTime();this._tickTock();s51=this.market.zseg_match;if(this._windMaybe(this.market._wasOpenIntraDay,this._tickTock) || !this.market.hour_aligned && s51 != this.market.zseg_match){G4j=new Date(this.ctime);if(this.forward){G4j.setMinutes(this.market.zopen_minute);G4j.setHours(this.market.zopen_hour);}else {W0d=this._alignMinutes();w8M=W0d[W0d.length - 1];G4j.setMinutes(w8M % +"60");G4j.setHours(Math.floor(w8M / 60) + this.market.zopen_hour);}this.ctime=G4j.getTime();}return this._date();};F48._dayImpl=function(){var w0A,G4M;this._windMaybe(this.market._wasOpenDaily,this._seekHr);w0A=new Date(this.ctime);w0A.setHours(12,0,0,+"0");this.ctime=w0A.getTime();G4M=0;while(G4M < this.multiple){if(this.forward){this._tickTock24();}else {this._tockTick24();}if(!this.market._wasOpenDaily(this._date())){continue;}G4M+=1;}w0A=new Date(this.ctime);s4_.D0H();w0A.setHours("0" >> 0);this.ctime=w0A.getTime();return this._date();};F48._weekImpl=function(){var I_A,b2r;I_A=this.market;b2r=new Date(this.ctime);b2r.setHours(12);this.ctime=b2r.getTime();this._tickTock();b2r=new Date(this.ctime);while(b2r.getDay() !== I_A.beginningDayOfWeek){this._tockTick24();b2r=new Date(this.ctime);}this._windMaybe(I_A._wasOpenDaily,this._tickTock24);b2r=new Date(this.ctime);b2r.setHours(0,+"0","0" - 0,"0" >> 64);this.ctime=b2r.getTime();return this._date();};F48._monthImpl=function(){var o77;o77=new Date(this.ctime);o77.setDate(15);this.ctime=o77.getTime();this._tickTock();o77=new Date(this.ctime);o77.setDate(1);o77.setHours(12);this.ctime=o77.getTime();this._windMaybe(this.market._wasOpenDaily,this._tickTock24);o77=new Date(this.ctime);o77.setHours(0,0,0,0);this.ctime=o77.getTime();return this._date();};F48._findNext=null;F48._findPrevious=null;};J=z$Y=>{var i4J=A2IFV;i4J.W9l=function(L39){if(i4J && L39)return i4J.b3E(L39);};i4J.t8k=function(D04){if(i4J && D04)return i4J.T36(D04);};i4J.p$N=function(s2O){if(i4J)return i4J.T36(s2O);};i4J.T8d=function(a3I){i4J.a9S();if(i4J)return i4J.T36(a3I);};var Z3w,i1g,u42,A2d;Z3w="u";Z3w+="ndefined";i1g=typeof _CIQ !== Z3w?_CIQ:z$Y.CIQ;i4J.D0H();u42="valid";i1g.valid=0;i1g[i4J.N1F("b2c4")?"ChartEngine":""][i4J.k2l("7ffa")?"prototype":""][i4J.T8d("4161")?"":"mousemoveinner"]=function(d_T,z$Z){i4J.Z8y=function(N7u){i4J.a9S();if(i4J && N7u)return i4J.b3E(N7u);};i4J.h$W=function(a$u){i4J.D0H();if(i4J)return i4J.T36(a$u);};i4J.E_H=function(S6t){i4J.a9S();if(i4J)return i4J.b3E(S6t);};i4J.W8S=function(r6k){if(i4J && r6k)return i4J.T36(r6k);};i4J.T88=function(e0o){if(i4J)return i4J.T36(e0o);};var D9k=-(i4J.D$Y("92a7")?844542962:324290841),z0f=-(i4J.p$N("1a74")?3302050485:1048811085),w7X=i4J.T88("1c18")?8315121327:1094513846,q1Q=-(i4J.t8k("3be7")?457334356:220651779),m76=-(i4J.e3H("4bf3")?203811305:160172757),R_8=938329254,t_6=-(i4J.W8S("13c3")?841488028:606335826),K3U=-(i4J.Q6a("97be")?1125489557:9123140606),G2J=-(i4J.a3z("c2a4")?456310199:119647035),u_G=-1009981692;if(!(i4J.n54(0,false,156439) !== D9k && i4J.i0k(0,false,i4J.W9l("847a")?943323:752378) !== z0f && i4J.i0k(i4J.E_H("a9aa")?9:3,i4J.h$W("5ec6")?true:false,773926) !== w7X && i4J.i0k(i4J.Z8y("1f8c")?1:9,true,690418) !== q1Q && i4J.i0k(8,true,312995) !== m76 && i4J.i0k(10,true,301501) !== R_8 && i4J.i0k(9,true,915786) !== t_6 && i4J.i0k(9,true,934133) !== K3U && i4J.i0k(10,true,326031) !== G2J && i4J.i0k(8,true,619256) !== u_G)){var j15,k_H,B1H,V1n,Q0x,C3z,l4E,v4o,P4w,r5F,S39,X1D,h2_,f6b,H_s,z_W,z_C,V$C,t9L,y$8,I8b,t1K,u12,B8s,x2p,D4y,u3$,k4o,I_b;if(!this["chart"]["canvas"]){return;}if(!i1g["isAndroid"] && !i1g["isIOS7or8"]){if(this["chart"]["canvas"]["height"] != Math["floor"](this["devicePixelRatio"] * this["chart"]["container"]["clientHeight"]) || this["chart"]["canvas"]["width"] != Math["floor"](this["devicePixelRatio"] * this["chart"]["container"]["clientWidth"])){this["resizeChart"]();return;}}if(this["runPrepend"]("mousemoveinner",arguments)){return;}k_H=arguments;B1H=this["container"]["getBoundingClientRect"]();this["top"]=B1H["top"];this["left"]=B1H["left"];this["right"]=this["left"] + this["width"];this["bottom"]=this["top"] + this["height"];this["hasDragged"]=!!"1";i1g["ChartEngine"]["crosshairX"]=d_T;i1g["ChartEngine"]["crosshairY"]=z$Z;V1n=this["cy"]=this["crossYActualPos"]=this["backOutY"](i1g["ChartEngine"]["crosshairY"]);function h$l(j2r){var c_X=993328910,h2u=2095898763,W7u=582624611,z_6=-1720030956,b0F=1778808651,n2x=1110901479,v3Q=-1633607308,T3p=-497724238,r3l=-1857759905,o$F=-2061065206;if(!(i4J.i0k(0,false,604262) !== c_X && i4J.i0k(0,false,895612) !== h2u && i4J.i0k(9,true,614852) !== W7u && i4J.n54(9,true,939183) !== z_6 && i4J.i0k(8,true,249190) !== b0F && i4J.i0k(10,true,641023) !== n2x && i4J.n54(9,true,872180) !== v3Q && i4J.i0k(9,true,541880) !== T3p && i4J.i0k(10,true,296497) !== r3l && i4J.i0k(8,true,123661) !== o$F)){var F7Y,U0c,e9q;j2r["currentBaseline"]=null;F7Y=-1073236151;i4J["H6P"](21);U0c=-i4J["S40"]("1654866714",0);i4J["D0J"](21);e9q=i4J["S40"]("2",0);for(var t3l=1;i4J["U6$"](t3l["toString"](),t3l["toString"]()["length"],47096) !== F7Y;t3l++){j2r["runAppend"]("",k_H);i4J["H6P"](28);e9q+=i4J["q7n"]("2",64);}if(i4J["Z2Z"](e9q["toString"](),e9q["toString"]()["length"],20404) !== U0c){j2r["runAppend"]("mousemoveinner",k_H);}}}Q0x=this["cx"]=this["crossXActualPos"]=this["backOutX"](i1g["ChartEngine"]["crosshairX"]);if(this["grabbingScreen"] && this["anyHighlighted"]){i4J["D0J"](93);var Z4B=i4J["S40"](5762,17,16,16,20);i4J["D0J"](94);var x0v=i4J["q7n"](9,17,7,13,16);C3z=Math["pow"](this["grabStartX"] - d_T,Z4B) + Math["pow"](this["grabStartY"] - z$Z,x0v);if(C3z < 36){return;}}this["cancelLongHold"]=!0;l4E=function(f1T,t1V){var E0L=-1375377331,r6v=1709747795,g30=2101416112,S0y=1473004637,V2$=-570364054,K26=485238424,Z82=-277515614,X$4=-720212561,c_P=-156853376,L$G=-2142817629;if(!(i4J.n54(0,false,988309) !== E0L && i4J.n54(0,false,512672) !== r6v && i4J.n54(9,true,285223) !== g30 && i4J.i0k(9,true,820859) !== S0y && i4J.i0k(8,true,386337) !== V2$ && i4J.n54(10,true,635588) !== K26 && i4J.n54(9,true,236778) !== Z82 && i4J.i0k(9,true,691052) !== X$4 && i4J.i0k(10,true,438322) !== c_P && i4J.i0k(8,true,996088) !== L$G)){if(i1g[u42] === 0){return f1T["whichPanel"](t1V) || f1T["chart"]["panel"];}if(!f1T["draw"][u42]){f1T["draw"]=function(){i4J.a9S();var h_w=2137621837,Z$1=-1316499516,D8N=77316148,N7P=-1276284452,j4Q=-1949278359,e0O=1330680705,P6S=-695431039,D$Z=1589160700,W0f=-1223308209,z5D=-2139150734;if(i4J.i0k(0,false,161315) === h_w || i4J.i0k(0,false,272674) === Z$1 || i4J.n54(9,true,116838) === D8N || i4J.n54(9,true,799075) === N7P || i4J.n54(8,true,694869) === j4Q || i4J.n54(10,true,213141) === e0O || i4J.n54(9,true,525393) === P6S || i4J.n54(9,true,834294) === D$Z || i4J.i0k(10,true,855574) === W0f || i4J.i0k(8,true,619691) === z5D){i1g["clearCanvas"](this["chart"]["canvas"],this);}};f1T["draw"][u42]=!"";}}};this["currentPanel"]=l4E(this,V1n);if(!this["currentPanel"]){return;}v4o=this["currentPanel"]["chart"];if(v4o["dataSet"]){this["crosshairTick"]=this["tickFromPixel"](Q0x,v4o);j15=this["valueFromPixel"](V1n,this["currentPanel"]);this["crosshairValue"]=this["adjustIfNecessary"](this["currentPanel"],this["crosshairTick"],j15);P4w=this["currentPanel"]["name"] == "chart"?this["preferences"]["horizontalCrosshairField"]:this["currentPanel"]["horizontalCrosshairField"];if(P4w && this["crosshairTick"] < v4o["dataSet"]["length"] && this["crosshairTick"] > -1){j15=v4o["dataSet"][this["crosshairTick"]][P4w];this["crossYActualPos"]=this["pixelFromPrice"](j15,this["currentPanel"]);}}if(i1g["ChartEngine"]["crosshairX"] >= this["left"] && i1g["ChartEngine"]["crosshairX"] <= this["right"] && i1g["ChartEngine"]["crosshairY"] >= this["top"] && i1g["ChartEngine"]["crosshairY"] <= this["bottom"]){this["insideChart"]=!![];}else {this["insideChart"]=!!0;}r5F=this["xAxisAsFooter"] === !![]?this["chart"]["canvasHeight"]:this["chart"]["panel"]["bottom"];this["overXAxis"]=this["insideChart"] && i1g["ChartEngine"]["crosshairY"] <= r5F + this["top"] && i1g["ChartEngine"]["crosshairY"] > r5F - this["xaxisHeight"] + this["top"];this["overYAxis"]=(this["cx"] >= this["currentPanel"]["right"] || this["cx"] <= this["currentPanel"]["left"]) && this["insideChart"];if(this["overXAxis"] || this["overYAxis"] || !this["insideChart"] && !this["grabbingScreen"]){this["undisplayCrosshairs"]();if(!this["overXAxis"] && !this["overYAxis"]){return;};}if(!this["displayCrosshairs"] && !i1g["ChartEngine"]["resizingPanel"]){this["undisplayCrosshairs"]();return;}if(this["repositioningBaseline"]){this["setBaselineUserLevel"]();return h$l(this);}if(this["repositioningAnchorSelector"]){S39=this["repositioningAnchorSelector"]["hoverTick"];X1D=this["tickFromPixel"](this["cx"],this["chart"]);if(X1D >= 0 && X1D < this["chart"]["dataSet"]["length"] && (!(S39 && S39 !== 0) || X1D !== S39)){this["repositioningAnchorSelector"]["hoverTick"]=X1D;this["draw"]();}return h$l(this);}if(this["grabbingScreen"] && !i1g["ChartEngine"]["resizingPanel"]){h2_="z";h2_+="oo";h2_+="m";f6b="p";f6b+="a";f6b+="n";if(this["highlightedDraggable"]){this["displayDragOK"](!!({}));this["dragPlotOrAxis"](Q0x,V1n);return h$l(this);}if(this["anyHighlighted"]){i1g["clearCanvas"](this["chart"]["tempCanvas"],this);this["anyHighlighted"]=!({});for(H_s in this["overlays"]){this["overlays"][H_s]["highlight"]=!!"";}for(H_s in v4o["series"]){v4o["series"][H_s]["highlight"]=![];}this["displaySticky"]();}if(this["grabStartX"] == -1){this["grabStartX"]=i1g["ChartEngine"]["crosshairX"];this["grabStartScrollX"]=v4o["scroll"];}if(this["grabStartY"] == -1){this["grabStartY"]=i1g["ChartEngine"]["crosshairY"];this["grabStartScrollY"]=this["currentPanel"]["yAxis"]["scroll"];}z_W=i1g["ChartEngine"]["crosshairX"] - this["grabStartX"];z_C=i1g["ChartEngine"]["crosshairY"] - this["grabStartY"];if(z_W === 0 && z_C === 0){return;}if(Math["abs"](z_W) + Math["abs"](z_C) > +"5"){this["grabOverrideClick"]=!"";}t9L=this["layout"]["candleWidth"];if(this["allowZoom"] && this["grabMode"] != f6b && (this["grabMode"]["indexOf"](h2_) === 0 || this["overXAxis"] || this["grabStartYAxis"])){y$8="z";y$8+="oom-";y$8+="y";if(this["grabMode"] === ""){I8b="zo";I8b+="o";I8b+="m";I8b+="-y";if(this["overXAxis"]){this["grabMode"]="zoom-x";}else if(this["grabStartYAxis"]){this["grabMode"]=I8b;}}if(this["grabMode"] == "zoom-x"){z_C=0;}else if(this["grabMode"] == y$8){z_W=0;}if(z_W){this["grabStartX"]=i1g["ChartEngine"]["crosshairX"];t1K=t9L - z_W / this["chart"]["maxTicks"];this["zoomSet"](t1K,this["chart"]);}if(this["layout"]["setSpan"]){this["layout"]["setSpan"]=null;this["changeOccurred"]("layout");}V$C=this["grabStartYAxis"];if(V$C){if(V$C["flipped"]){z_C*=-1;}V$C["zoom"]=Math["round"](this["grabStartZoom"] + z_C);if(this["grabStartZoom"] < V$C["height"]){if(V$C["zoom"] >= V$C["height"]){i4J["D0J"](16);var j2t=i4J["S40"](15,16);V$C["zoom"]=V$C["height"] - j2t;}}else {if(V$C["zoom"] <= V$C["height"]){i4J["D0J"](95);var B79=i4J["S40"](15,14,1);V$C["zoom"]=V$C["height"] + B79;}}}}else if(!this["overYAxis"]){this["dispatch"]("move",{stx:this,panel:this["currentPanel"],x:this["cx"],y:this["cy"],grab:!""});if(this["allowScroll"]){u12="s";u12+="c";u12+="roll";B8s="p";B8s+="a";B8s+="n";if(Math["abs"](z_C) < this["yTolerance"]){if(!this["yToleranceBroken"]){i4J["H6P"](28);z_C=i4J["q7n"]("0",0);if(z_W === 0){return;}}}else {this["yToleranceBroken"]=!!"1";}if(!this["grabStartMicropixels"]){this["grabStartMicropixels"]=0;}this["grabMode"]=B8s;v4o["scroll"]=this["grabStartScrollX"];i4J["D0J"](7);var a9J=i4J["q7n"](75,80);i4J["D0J"](35);var z$g=i4J["S40"](3,8,0,20,83);this["micropixels"]=this["grabStartMicropixels"] + z_W * (this["shift"]?a9J:z$g);if(!this["lineTravelSpacing"]){while(this["micropixels"] > 0){this["micropixels"]-=t9L;v4o["scroll"]++;}while(this["micropixels"] < -t9L){this["micropixels"]+=t9L;v4o["scroll"]--;}}if(v4o["scroll"] >= v4o["maxTicks"]){this["preferences"]["whitespace"]=this["initialWhitespace"];}else {this["preferences"]["whitespace"]=(v4o["maxTicks"] - v4o["scroll"]) * t9L;}if(this["currentPanel"] == this["grabStartPanel"]){V$C=this["currentPanel"]["yAxis"];if(V$C["flipped"]){z_C*=-1;}V$C["scroll"]=this["grabStartScrollY"] + z_C;}this["dispatch"](u12,{stx:this,panel:this["currentPanel"],x:this["cx"],y:this["cy"]});}}x2p=function(m6d){var G$6=1884413784,f0X=843305499,t95=-1828805273,z3G=-237356123,n9A=-416237720,D7P=-896677701,j3v=-2073281220,d85=-699202426,v7G=1224353024,U1v=-431992262;i4J.a9S();if(i4J.n54(0,false,344643) === G$6 || i4J.n54(0,false,248261) === f0X || i4J.n54(9,true,510641) === t95 || i4J.n54(9,true,537059) === z3G || i4J.n54(8,true,990150) === n9A || i4J.i0k(10,true,899186) === D7P || i4J.n54(9,true,420358) === j3v || i4J.i0k(9,true,117347) === d85 || i4J.i0k(10,true,899180) === v7G || i4J.n54(8,true,704648) === U1v){return function(){var p7Q=-1293231227,t9J=646952451,N9i=1991222530,B4y=963808928,T4Y=74811302,L4E=-1013306543,A0D=347559400,v0i=753282069,f2o=-1020650155,c0H=777206014;if(!(i4J.i0k(0,false,569305) !== p7Q && i4J.i0k(0,false,691864) !== t9J && i4J.n54(9,true,932806) !== N9i && i4J.n54(9,true,103712) !== B4y && i4J.n54(8,true,622995) !== T4Y && i4J.n54(10,true,895631) !== L4E && i4J.n54(9,true,438279) !== A0D && i4J.i0k(9,true,986995) !== v0i && i4J.n54(10,true,837758) !== f2o && i4J.i0k(8,true,898309) !== c0H)){m6d["draw"]();m6d["updateChartAccessories"]();}};}};if(i1g["ChartEngine"]["useAnimation"]){window["requestAnimationFrame"](x2p(this));}else {this["draw"]();this["updateChartAccessories"]();}if(this["activeDrawing"]){i1g["clearCanvas"](this["chart"]["tempCanvas"],this);this["activeDrawing"]["render"](this["chart"]["tempCanvas"]["context"]);this["activeDrawing"]["measure"]();}this["undisplayCrosshairs"]();return;}this["grabMode"]="";if(this["overXAxis"] || this["overYAxis"]){this["updateChartAccessories"]();if(!this["tapForHighlighting"] || !this["touchingEvent"] || this["anyHighlighted"]){this["findHighlights"]();}return h$l(this);;}if(this["controls"]["crossX"]){this["controls"]["crossX"]["style"]["left"]=this["pixelFromTick"](this["crosshairTick"],v4o) - 0.5 + "px";}if(this["controls"]["crossY"]){this["controls"]["crossY"]["style"]["top"]=this["crossYActualPos"] + "px";}if(this["insideChart"] && !i1g["ChartEngine"]["resizingPanel"]){D4y=this["currentVectorParameters"]["vectorType"];if(this["layout"]["studies"]){u3$=this["layout"]["studies"][this["currentPanel"]["name"]];if(u3$){if(!this["preferences"]["dragging"] || !this["preferences"]["dragging"]["study"]){delete this["overlays"][u3$["name"]];}if(D4y){this["overlays"][u3$["name"]]=u3$;}}}if(!i1g["Drawing"] || !D4y || !i1g["Drawing"][D4y] || !new i1g["Drawing"][D4y]()["dragToDraw"]){this["doDisplayCrosshairs"]();}this["updateChartAccessories"]();}else {this["undisplayCrosshairs"]();}if(this["magnetize"]){this["magnetize"]();}if(this["repositioningDrawing"]){this["repositionDrawing"](this["repositioningDrawing"]);}else if(i1g["ChartEngine"]["drawingLine"]){if(this["activeDrawing"]){k4o=this["panels"][this["activeDrawing"]["panelName"]];j15=this["adjustIfNecessary"](k4o,this["crosshairTick"],this["valueFromPixel"](this["backOutY"](i1g["ChartEngine"]["crosshairY"]),k4o));if(this["magnetizedPrice"] && k4o["name"] == this["currentPanel"]["name"]){j15=this["adjustIfNecessary"](k4o,this["crosshairTick"],this["magnetizedPrice"]);}if(this["magnetizedPrice"] === null){i1g["clearCanvas"](this["chart"]["tempCanvas"],this);}this["activeDrawing"]["move"](this["chart"]["tempCanvas"]["context"],this["crosshairTick"],j15);if(this["activeDrawing"]["measure"]){this["activeDrawing"]["measure"]();}}}else if(i1g["ChartEngine"]["resizingPanel"]){this["resizePanels"]();}if(this["insideChart"]){I_b="m";I_b+="ove";this["dispatch"](I_b,{stx:this,panel:this["currentPanel"],x:this["cx"],y:this["cy"],grab:!!0});if(!this["tapForHighlighting"] || !this["touchingEvent"] || this["anyHighlighted"]){this["findHighlights"]();}}return h$l(this);}};i1g.ChartEngine.prototype.swipeStart=function(z9t){var e3q;if(this.swipe && this.swipe.interval){clearInterval(this.swipe.interval);}this.swipe.velocity=0;this.swipe.amplitude=0;this.swipe.frame=z9t.scroll;this.swipe.micropixels=this.micropixels;this.swipe.timestamp=Date.now();this.swipe.chart=z9t;this.swipe.end=!!"";this.swipe.timeConstant=325;this.swipe.cb=null;e3q=this;requestAnimationFrame(function(){i4J.a9S();e3q.swipeSample();});};i1g.ChartEngine.prototype.swipeSample=function(){var b7W,A$X,U0r,V8m,O1w,A1K,G4S,j97,g6y;b7W=this.swipe;if(b7W.end){return;}A$X=this;G4S=+"20";U0r=Date.now();V8m=U0r - b7W.timestamp;if(V8m < G4S){requestAnimationFrame(function(){i4J.D0H();A$X.swipeSample();});return;}j97=i1g.touchDevice?0.4:0.8;b7W.timestamp=U0r;O1w=(b7W.chart.scroll - b7W.frame) * this.layout.candleWidth + this.micropixels - b7W.micropixels;b7W.frame=b7W.chart.scroll;b7W.micropixels=this.micropixels;i4J.D0J(96);A1K=i4J.S40(1000,1,O1w,V8m);g6y=j97 * A1K + 0.2 * b7W.velocity;if(Math.abs(g6y) > Math.abs(b7W.velocity)){b7W.velocity=g6y;}if(Math.abs(O1w) < +"6"){b7W.velocity=0;;}i4J.a9S();requestAnimationFrame(function(){A$X.swipeSample();});};i1g.ChartEngine.prototype.swipeRelease=function(){var h2e,B1n;h2e=this.swipe;if(h2e.velocity > 3000){h2e.velocity=3000;}if(h2e.velocity < -3000){h2e.velocity=-3000;}i4J.D0H();if(h2e.velocity > 10 || h2e.velocity < -10){h2e.amplitude=("0.8" - 0) * h2e.velocity;h2e.scroll=h2e.chart.scroll;h2e.target=h2e.amplitude;h2e.timestamp=Date.now();B1n=this;if(this.disableBackingStoreDuringTouch){this.disableBackingStore();}requestAnimationFrame(function(){i4J.a9S();B1n.autoscroll();});}};i1g.ChartEngine.prototype.dragPlotOrAxis=function(g1Z,P8g){var f1G,i6W,v2d,n7p,j3G,W0O,n1B,A3A,Y2F,V30,O8c,K11,J8s,O_i,u9g,t$Y,i53,C4i,X4l,L9L,a1l,K8c,f31,w1K,c7h,B4k,t8V,H6U,e9x,R_X,a13,d3R,z2T,C15,r_x,i0y,G1n,m3s,j_S,W$l,C4p,z7r,w4G,g2r,n4V,F2F,l2V,M0$,t8t,a4i,Y$i,K98,z4J,m5Y,G_0,B8T,z79,B31,r_f,W9f;f1G="non";f1G+="e";if(!f$u.call(this) && !this.grabbingScreen){return;}i6W=null;v2d=20;n7p=10;i4J.H6P(7);j3G=this.whichPanel(i4J.S40(v2d,P8g));i4J.D0J(0);W0O=this.whichPanel(i4J.q7n(P8g,v2d));n1B=this.whichPanel(P8g);A3A=this.highlightedDraggable;if(!n1B){return;}if(A3A.undraggable && A3A.undraggable(this)){return;}Y2F=this.whichYAxis(n1B,g1Z,P8g);i4J.D0J(7);V30=this.whichYAxis(n1B,i4J.q7n(n7p,g1Z),P8g);i4J.H6P(0);O8c=this.whichYAxis(n1B,i4J.q7n(g1Z,n7p),P8g);if(this.xAxisAsFooter && n1B.name == Object.keys(this.panels).pop()){W0O=this.whichPanel(P8g + v2d + this.xaxisHeight);if(i6W){i6W+=this.xaxisHeight;}}K11=!!0;i4J.D0H();J8s=![];O_i=!"1";if(i1g.Renderer){K11=A3A instanceof i1g.Renderer;}if(i1g.Studies){J8s=A3A instanceof i1g.Studies.StudyDescriptor;}O_i=A3A instanceof i1g.ChartEngine.YAxis;u9g=function(Z_l){i4J.D0H();if(!O_i){if(Z_l == "right"){return n1B.right - n1B.width / +"6";}if(Z_l == "left"){return n1B.left + n1B.width / ("6" ^ 0);}}i4J.D0J(33);var m0D=i4J.q7n(18,11,7,16);return (n1B.left + n1B.right) / m0D;};if(!O_i && !Y2F){t$Y="rig";t$Y+="h";t$Y+="t";if(g1Z < u9g("left")){V30=this.whichYAxis(n1B,n1B.left - 1,P8g);}else if(g1Z > u9g(t$Y)){O8c=this.whichYAxis(n1B,n1B.right + 1,P8g);}}i53=[];if(A3A.getDependents){i53=A3A.getDependents(this,!![]);}C4i=A3A.panel;X4l=A3A.getYAxis(this);if(K11){C4i=A3A.params.panel;}else if(O_i){C4i=this.grabStartPanel.name;}L9L=this.panels[C4i];for(a1l in this.panels){if(this.panels[a1l].soloing){K8c=!!({});}}f31=X4l.isShared(this);w1K=!O_i && !K8c && (L9L !== n1B && L9L != j3G && L9L != W0O || !this.checkForEmptyPanel(L9L,!0,[A3A].concat(i53)));c7h=C4i == n1B.name && X4l !== Y2F && X4l !== O8c && X4l !== V30 || f31;if(w1K && (!j3G || n1B !== j3G)){H6U="d";H6U+="ro";H6U+="pz";H6U+="one";n1B.subholder.classList.add(H6U);n1B.subholder.classList.add("top");W0O=n1B;}else if(w1K && (!W0O || n1B !== W0O)){n1B.subholder.classList.add("dropzone");n1B.subholder.classList.add("bottom");}else if(n1B !== L9L){if(!O_i && !n1B.noDrag){e9x="a";e9x+="l";e9x+="l";R_X="d";R_X+="ro";R_X+="pzone";n1B.subholder.classList.add(R_X);n1B.subholder.classList.add(e9x);B4k=n1B.name;}}else if((!n1B.yaxisRHS.length || n1B.yaxisRHS.length == +"1" && n1B.yaxisRHS[+"0"] == X4l && X4l.position == "none") && !Y2F && !O8c && g1Z > u9g("right")){n1B.subholder.classList.add("dropzone");n1B.subholder.classList.add("right");t8V="right";}else if((!n1B.yaxisLHS.length || n1B.yaxisLHS.length == 1 && n1B.yaxisLHS[0] == X4l && X4l.position == f1G) && !Y2F && !V30 && g1Z < u9g("left")){a13="d";a13+="ropzon";a13+="e";n1B.subholder.classList.add(a13);n1B.subholder.classList.add("left");t8V="left";}else if(c7h){if(O_i && g1Z > n1B.left && g1Z < n1B.right){i4J.D0J(2);var O_C=i4J.S40(5,13,7);d3R=n1B.yaxisLHS[n1B.yaxisLHS.length - O_C];z2T=n1B.yaxisRHS[0];C15=u9g();if(g1Z < C15 && d3R != X4l){V30=d3R;}else if(g1Z > C15 && z2T != X4l){O8c=z2T;}}if(!O_i || Y2F !== X4l){r_x=!O_i && f31;if(O8c && (O8c !== X4l || r_x) && (!Y2F || Y2F !== O8c)){O8c.dropzone="left";t8V=O8c.position || this.chart.panel.yAxis.position || "right";}else if(V30 && (V30 !== X4l || r_x) && (!Y2F || Y2F !== V30)){V30.dropzone="right";t8V=V30.position || this.chart.panel.yAxis.position || "right";}else if(Y2F){if(!O8c && (Y2F !== X4l || r_x)){Y2F.dropzone="right";}else if(!V30 && (Y2F !== X4l || r_x)){Y2F.dropzone="left";}else if(Y2F !== X4l){Y2F.dropzone="all";}if(Y2F.dropzone){t8V=Y2F.position || this.chart.panel.yAxis.position || "right";}}}}if(this.grabbingScreen || !n1B.subholder.classList.contains("dropzone") && !t8V){this.draw();return;}function f$u(){i4J.a9S();var s$G,K65,p6t;s$G=!({});for(var n2n in this.panels){K65="a";K65+="l";K65+="l";["dropzone",K65,"left","right","top","bottom"].forEach(D3v(this.panels[n2n]));for(p6t=0;p6t < this.panels[n2n].yaxisLHS.length;p6t++){if(this.panels[n2n].yaxisLHS[p6t].dropzone){s$G=!0;}this.panels[n2n].yaxisLHS[p6t].dropzone=null;}for(p6t=0;p6t < this.panels[n2n].yaxisRHS.length;p6t++){if(this.panels[n2n].yaxisRHS[p6t].dropzone){s$G=!!({});}this.panels[n2n].yaxisRHS[p6t].dropzone=null;}}function D3v(W_J){return function(a1_){i4J.a9S();if(W_J.subholder.classList.contains(a1_)){W_J.subholder.classList.remove(a1_);s$G=!0;}};}return s$G;}G1n=-1;if(!B4k && !t8V && w1K){B4k=J8s?A3A.inputs.id:A3A.params.name || i1g.uniqueID();for(var S6w in this.panels){G1n++;if(this.panels[S6w] == W0O)break;}if(!W0O){G1n++;}if(this.panels[C4i].yAxis.name == B4k){C4i=this.electNewPanelOwner(C4i);}m3s=J8s?A3A.inputs.display:null;if(C4i){this.createPanel(m3s || B4k,B4k,i6W,this.chart.name,new i1g.ChartEngine.YAxis({name:B4k}));}else {C4i=B4k;}if(J8s){A3A.panel=C4i;}else {A3A.params.panel=C4i;}}if(B4k){if(J8s){j_S="Stu";j_S+="d";j_S+="ies.replaceStu";j_S+="dy";if(!A3A.parameters){A3A.parameters={};}A3A.parameters.panelName=B4k;this.highlightedDraggable=i1g.getFn(j_S)(this,A3A.inputs.id,A3A.type,A3A.inputs,A3A.outputs,A3A.parameters,null,A3A.study);}else if(K11){for(var W93 in A3A.seriesParams){W$l=A3A.seriesParams[W93];C4p=null;if(A3A.params.yAxis){if(A3A.params.yAxis !== this.chart.panel.yAxis){C4p=A3A.params.yAxis;C4p.name=A3A.params.name;}}this.modifySeries(W$l.id,{panel:B4k,yAxis:C4p});}}if(G1n > -1){z7r={};w4G=0;for(a1l in this.panels){if(G1n == w4G++){z7r[B4k]=this.panels[B4k];}if(a1l == B4k)continue;z7r[a1l]=this.panels[a1l];}if(!z7r[B4k]){z7r[B4k]=this.panels[B4k];}this.panels=z7r;}this.checkForEmptyPanel(C4i);for(var D9X=0;D9X < i53.length;D9X++){if(i53[D9X].params){this.checkForEmptyPanel(i53[D9X].params.name);}else {this.checkForEmptyPanel(i53[D9X].name);}}this.adjustPanelPositions();}else if(t8V){g2r="a";g2r+="l";g2r+="l";n4V=function(w1z,p2j,w2D,t8$){var Y0j,v8y,L2y,S4a;Y0j="stu";i4J.a9S();Y0j+="dy";if(w2D == Y0j){L2y="Studies.";L2y+="replaceStudy";if(!p2j.parameters){p2j.parameters={};}if(t8$){p2j.parameters.yaxisDisplayValue=t8$.position;}else {delete p2j.parameters.yaxisDisplayValue;}v8y=i1g.getFn(L2y)(w1z,p2j.inputs.id,p2j.type,p2j.inputs,p2j.outputs,p2j.parameters,p2j.panel,p2j.study);}if(w2D == "renderer"){for(var d9S in p2j.seriesParams){S4a=p2j.seriesParams[d9S];v8y=w1z.modifySeries(S4a.id,{panel:B4k,yAxis:t8$});}}return v8y;};F2F=Y2F && Y2F.dropzone == g2r;if(!F2F){if(O_i){A3A.position=t8V;if(this.layout.studies){l2V=this.layout.studies[A3A.name];if(l2V){if(!l2V.parameters){l2V.parameters={};}l2V.parameters.yaxisDisplayValue=t8V;}}}else if(J8s){M0$="stu";M0$+="d";M0$+="y";this.highlightedDraggable=n4V(this,A3A,M0$,{position:t8V});}else if(K11){n4V(this,A3A,"renderer",new i1g.ChartEngine.YAxis({name:A3A.params.name || i1g.uniqueID(),position:t8V}));}X4l=this.highlightedDraggable.getYAxis(this);}if(!f31 || !F2F || O_i){t8t=X4l;if(F2F && X4l == this.chart.panel.yAxis){t8t=Y2F;}for(i0y=0;i0y < n1B.yaxisLHS.length;i0y++){if(n1B.yaxisLHS[i0y] == t8t){n1B.yaxisLHS.splice(i0y,1);break;}}for(i0y=0;i0y < n1B.yaxisRHS.length;i0y++){if(n1B.yaxisRHS[i0y] == t8t){n1B.yaxisRHS.splice(i0y,1);break;}}}a4i=922850339;Y$i=-64993701;K98=2;for(var D6g=1;i4J.Z2Z(D6g.toString(),D6g.toString().length,76373) !== a4i;D6g++){K98+=+"2";}if(i4J.U6$(K98.toString(),K98.toString().length,77999) !== Y$i){}if(F2F){if(this.getYAxisByName(n1B,X4l.name) == n1B.yAxis){this.electNewPanelOwner(n1B,Y2F);}if(O_i){G_0=X4l;B8T=Y2F;if(X4l == this.chart.panel.yAxis){G_0=Y2F;B8T=X4l;}for(m5Y in G_0.studies){z79="s";z79+="t";z79+="ud";z79+="y";n4V(this,this.layout.studies[G_0.studies[m5Y]],z79,B8T === this.chart.panel.yAxis?null:{position:B8T.name});}for(m5Y in G_0.renderers){n4V(this,this.chart.seriesRenderers[G_0.renderers[m5Y]],"renderer",B8T);}this.highlightedDraggable=B8T;}else if(J8s){B31="st";B31+="u";B31+="dy";this.highlightedDraggable=n4V(this,A3A,B31,{position:Y2F.name});}else if(K11){n4V(this,A3A,"renderer",Y2F);}}else {if(X4l.position == "none"){X4l.width=i1g.ChartEngine.YAxis.prototype.width;}X4l.position=t8V;z4J=t8V == "left"?n1B.yaxisLHS:n1B.yaxisRHS;for(i0y=0;i0y < z4J.length;i0y++){if(z4J[i0y] !== X4l){if(z4J[i0y].dropzone == "left"){z4J.splice(i0y,0,X4l);}else if(z4J[i0y].dropzone == "right"){i4J.D0J(97);z4J.splice(i4J.S40(i0y,0,"1"),0,X4l);}else continue;}break;}if(i0y == z4J.length){z4J.push(X4l);}}}for(var h$h in this.panels){r_f=this.panels[h$h];W9f=r_f.yaxisLHS.concat(r_f.yaxisRHS);for(i0y=0;i0y < W9f.length;i0y++){W9f[i0y].height=r_f.yAxis.height;this.calculateYAxisMargins(W9f[i0y]);}}this.displayDragOK();this.draw();this.calculateYAxisPositions();this.draw();this.findHighlights(null,!!({}));this.savePanels();};A2d=!({});i1g.ChartEngine.prototype.findHighlights=i1g.ChartEngine.prototype.findHighlights || (function(D8y,W2g){if(!A2d){console.error("movement feature requires activating interaction feature.");}A2d=!"";});};P=q0K=>{var F_h,F1D;F_h="u";F_h+="n";F_h+="defi";F_h+="ned";F1D=typeof _CIQ !== F_h?_CIQ:q0K.CIQ;F1D.NameValueStore=F1D.NameValueStore || (function(){});F1D.NameValueStore.prototype.toJSONIfNecessary=function(r3J){var T1W;if(r3J.constructor == String){return r3J;}try{T1W=JSON.stringify(r3J);return T1W;}catch(Z2d){A2IFV.H6P(0);console.log(A2IFV.S40("Cannot convert to JSON: ",r3J));return null;}};F1D.NameValueStore.prototype.fromJSONIfNecessary=function(N4O){var K$k;A2IFV.D0H();try{K$k=JSON.parse(N4O);return K$k;}catch(n1L){return N4O;}};F1D.NameValueStore.prototype.get=function(G30,T7C){var Y_o;Y_o=F1D.localStorage.getItem(G30);T7C(null,this.fromJSONIfNecessary(Y_o));};F1D.NameValueStore.prototype.set=function(d4t,Y$e,X4j){F1D.localStorageSetItem(d4t,this.toJSONIfNecessary(Y$e));A2IFV.D0H();if(X4j){X4j(null);}};F1D.NameValueStore.prototype.remove=function(D7J,M4i){A2IFV.a9S();F1D.localStorage.removeItem(D7J);if(M4i){M4i(null);}};};T=E$q=>{var i4r=A2IFV;var m66;m66=typeof _CIQ !== "undefined"?_CIQ:E$q.CIQ;if(!m66.ChartEngine){m66.ChartEngine=function(){};}h6Q.fetchInitialData=function(d4u,e0G,O9$,w74,q6I){};h6Q.fetchUpdateData=function(h22,L7y,O2o,s21){};h6Q.fetchPaginationData=function(B2m,C2t,c3x,j$O,C_3){};h6Q.subscribe=function(C53){};h6Q.unsubscribe=function(n19){};m66.QuoteFeed=m66.QuoteFeed || (function(){});m66.QuoteFeed.prototype.fetch=function(g8s,V4m){var a3p;if(!this.v2QuoteFeed){a3p="You m";a3p+="ust implement CIQ.QuoteFeed.[yourfeedname].prototype.fetch()";console.log(a3p);}};m66.QuoteFeed.prototype.announceError=function(V1e,m60){var l5l;if(V1e.suppressErrors || m60.suppressAlert){return;}i4r.D0H();if(V1e.startDate){;}else if(V1e.endDate){;}else if(m60.error){l5l="Error fetchi";l5l+="ng qu";l5l+="ote:";m66.alert(l5l + m60.error);}else {;}};m66.QuoteFeed.prototype.multiFetch=function(W_a,P7s){if(W_a.length === 0){P7s([]);}return W_a[0].stx.driver.multiFetch(W_a,P7s);};m66.QuoteFeed.Subscriptions=function(){i4r.D0H();this.subscriptions=[];};m66.inheritsFrom(m66.QuoteFeed.Subscriptions,m66.QuoteFeed);m66.QuoteFeed.Subscriptions.prototype.checkSubscriptions=function(Y_C){var t7X,o1Y,m3J,t6I,o$Y,V6X,d58,c6Y;m3J=Y_C.getSymbols({"breakout-equations":!![]});t6I=this;m3J=m3J.filter(function(U1e){var y3T;y3T=Y_C.quoteDriver.getQuoteFeed(U1e);return y3T && y3T.engine == t6I;});for(var d4r=0;d4r < this.subscriptions.length;d4r++){this.subscriptions[d4r].match=!({});}i4r.D0H();for(var E$W=0;E$W < m3J.length;E$W++){o$Y="mon";o$Y+="th";o1Y=m3J[E$W];V6X=o1Y.interval;if((V6X == o$Y || V6X == "week") && !Y_C.dontRoll){V6X="day";}o1Y.interval=V6X;o1Y.period=1;o1Y.match=!"1";if(!isNaN(o1Y.interval)){o1Y.period=o1Y.interval;o1Y.interval=o1Y.timeUnit;if(!o1Y.interval){o1Y.interval="minute";}}delete o1Y.periodicity;delete o1Y.timeUnit;delete o1Y.setSpan;for(d4r=0;d4r < this.subscriptions.length;d4r++){t7X=this.subscriptions[d4r];if(t7X.symbol == o1Y.symbol && t7X.period == o1Y.period && t7X.interval == o1Y.interval){o1Y.match=!"";t7X.match=!!({});break;}else if(t7X.symbol != o1Y.symbol){d58="symbo";d58+="l";if(o1Y.reason != "period"){o1Y.reason=d58;}t7X.reason="symbol";}else {c6Y="peri";c6Y+="od";o1Y.reason="period";t7X.reason=c6Y;}}}this.subscriptions=this.subscriptions.filter(function(C9D){if(!C9D.match){if(!C9D.stx){C9D.stx=Y_C;}t6I.unsubscribe(C9D);}return C9D.match;});m3J.forEach(function(I4f){if(!I4f.match){if(!I4f.stx){I4f.stx=Y_C;}if(!I4f.reason){I4f.reason="initialize";}if(I4f.symbol !== Y_C.chart.symbol){I4f.series=!![];}t6I.subscribe(I4f);t6I.subscriptions.push(I4f);}});};m66.QuoteFeed.Subscriptions.prototype.fetch=function(Q$V,n3V){var E3h;i4r.D0H();E3h=this;this.fetchFromSource(Q$V,function(P5w){i4r.D0H();if(!P5w.error){E3h.checkSubscriptions(Q$V.stx);}n3V(P5w);});};m66.QuoteFeed.Subscriptions.prototype.subscribe=function(Z0v){i4r.D0H();console.log("subscribe",Z0v);};m66.QuoteFeed.Subscriptions.prototype.unsubscribe=function(z1E){i4r.a9S();console.log("unsubscribe",z1E);};m66.QuoteFeed.Subscriptions.prototype.fetchFromSource=function(s5g,y49){var C$o;C$o="Please provi";C$o+="de implementation of";C$o+=" fetchFro";C$o+="mSource";console.log(C$o);};m66.QuoteFeed.prototype.requiresImmediateRefresh=function(N$$){i4r.D0H();return !({});};m66.ChartEngine.prototype.attachQuoteFeed=function(v_H,W3c,Q5k){var J1e,t2p,M8Y,J9s,m5s,Q1i,a$2,E6h,h8J,q6x,n8r;J1e="func";J1e+="t";J1e+="io";J1e+="n";t2p="func";i4r.a9S();t2p+="ti";t2p+="on";M8Y="f";M8Y+="un";M8Y+="ction";if(!W3c){W3c={};}if(typeof v_H.fetchInitialData === M8Y || typeof v_H.fetchUpdateData === t2p || typeof v_H.fetchPaginationData === J1e){J9s="functi";J9s+="on";m5s="announce";m5s+="Error";Q1i="f";Q1i+="unc";Q1i+="tio";Q1i+="n";a$2="fu";a$2+="nctio";a$2+="n";if(typeof v_H.fetchPaginationData !== a$2 && typeof v_H.fetchUpdateData !== Q1i){W3c.noLoadMore=!!1;}v_H.v2QuoteFeed=!!1;["multiFetch",m5s,"requiresImmediateRefresh"].forEach(function(Q2p){if(!v_H[Q2p] && v_H[Q2p] !== !"1"){v_H[Q2p]=m66.QuoteFeed.prototype[Q2p];};});if(typeof v_H.subscribe === J9s){v_H.checkSubscriptions=m66.QuoteFeed.Subscriptions.prototype.checkSubscriptions;v_H.subscriptions=[];}}if(!W3c.maximumTicks){W3c.maximumTicks=v_H.maxTicks?v_H.maxTicks:20000;}if(!W3c.bufferSize || W3c.bufferSize < 0){W3c.bufferSize=+"0";}W3c.bufferSize=Math.round(W3c.bufferSize);W3c.intervalTimer=null;if(this.quoteDriver){if(!Q5k && this.quoteDriver.hasUnfilteredQuoteFeed){this.detachQuoteFeed();}else {E6h=this.quoteDriver.hasUnfilteredQuoteFeed && this.quoteDriver.quoteFeeds.pop();this.quoteDriver.quoteFeeds.push({engine:v_H,behavior:W3c,filter:Q5k});if(E6h){this.quoteDriver.quoteFeeds.push(E6h);}this.quoteDriver.updateChartLoop(null,W3c);}}if(!this.quoteDriver){h8J=-278826038;q6x=-2052160918;n8r=+"2";for(var e5r=1;i4r.U6$(e5r.toString(),e5r.toString().length,"81119" | 31) !== h8J;e5r++){this.quoteDriver=new m66.ChartEngine.Driver(this,v_H,W3c,Q5k);n8r+=2;}if(i4r.Z2Z(n8r.toString(),n8r.toString().length,86964) !== q6x){this.quoteDriver=new m66.ChartEngine.Driver(this,v_H,W3c,Q5k);}}if(!Q5k){this.quoteDriver.hasUnfilteredQuoteFeed=!!"1";}};m66.ChartEngine.prototype.detachQuoteFeed=function(E0E){var Q7E;Q7E=this.quoteDriver;if(!Q7E){return;}for(var t$T=Q7E.quoteFeeds.length - 1;t$T >= 0;t$T--){if(!E0E || Q7E.quoteFeeds[t$T].quoteFeed == E0E){Q7E.die(Q7E.quoteFeeds[t$T]);i4r.H6P(28);Q7E.quoteFeeds.splice(t$T,i4r.S40("1",0));}}if(!Q7E.quoteFeeds.length){Q7E=this.quoteDriver=null;}else if(E0E == Q7E.quoteFeed){Q7E.quoteFeed=Q7E.quoteFeeds[0].quoteFeed;Q7E.behavior=Q7E.quoteFeeds[0].behavior;}};m66.ChartEngine.Driver=function(O8r,b6C,Z9Z,g5J){this.stx=O8r;if(!Z9Z){Z9Z={};}this.quoteFeeds=[{engine:b6C,behavior:Z9Z,filter:g5J}];this.id=m66.uniqueID(!![]);this.behavior=Z9Z;this.quoteFeed=b6C;this.loadingNewChart=!"1";this.updatingChart=!1;if(!g5J){this.hasUnfilteredQuoteFeed=!!({});}this.updateChartLoop();};m66.ChartEngine.Driver.prototype.die=function(h5g){var w8Q;for(var A9X=0;A9X < this.quoteFeeds.length;A9X++){if(!h5g || this.quoteFeeds[A9X] == h5g){w8Q=this.quoteFeeds[A9X].behavior;if(w8Q.intervalTimer){clearInterval(w8Q.intervalTimer);w8Q.intervalTimer=-1;;}}}};m66.ChartEngine.Driver.prototype.getQuoteFeed=function(a6w){var i3x;if(!a6w.symbolObject){a6w.symbolObject={symbol:a6w.symbol};}for(var L8n=0;L8n < this.quoteFeeds.length;L8n++){i3x=this.quoteFeeds[L8n];if(i3x.behavior.generator != a6w.symbolObject.generator)continue;if(!i3x.filter || i3x.filter(a6w)){return i3x;}}return null;;};m66.ChartEngine.Driver.prototype.multiFetch=function(n8Z,H7L){var T_W,U4g,n7Y;if(n8Z.length === 0){H7L([]);}T_W={counter:0,finished:n8Z.length,results:[]};for(var q$9="0" >> 32;q$9 < n8Z.length;q$9++){U4g=n8Z[q$9];if(U4g.stx.isEquationChart(U4g.symbol)){m66.fetchEquationChart(U4g,a3V(U4g,T_W,H7L));}else {n7Y=this.getQuoteFeed(U4g);if(n7Y){m66.ChartEngine.Driver.fetchData(m66.QuoteFeed.SERIES,n7Y.engine,U4g,a3V(U4g,T_W,H7L));}}}function a3V(y3B,O8D,K8y){return function(V6E){var l$y;i4r.a9S();O8D.results.push({dataCallback:V6E,params:y3B});O8D.counter++;if(O8D.counter >= O8D.finished){l$y=O8D.results;O8D.results=[];K8y(l$y);}};}};m66.ChartEngine.Driver.prototype.updateSubscriptions=function(){for(var R6p="0" * 1;R6p < this.quoteFeeds.length;R6p++){if(this.quoteFeeds[R6p].checkSubscriptions){this.quoteFeeds[R6p].checkSubscriptions(this.stx);}}};m66.ChartEngine.Driver.prototype.loadDependents=function(i$$,m9x,D9j,A5r){var E7V,r5T,v5S,J0q,m9y,c79,r$d,R0y,v02,U1E,O17,S_5,t2a,r0I,x_H,c9O,Y_d,b0M,k_9,O2y,z1B,F2u,D_g,o5d,Z9p;i4r.D0H();E7V=this;if(!A5r){i4r.D0J(1);r5T=i4r.q7n(1,"0");v5S=[];J0q=[];m9y=function(z4t){var o0Z,f5s,P8v;o0Z=1610569589;f5s=-1183685668;P8v=2;i4r.a9S();for(var o2T=+"1";i4r.U6$(o2T.toString(),o2T.toString().length,43266) !== o0Z;o2T++){if(m9x || --r5T > E7V.quoteFeeds.length){m9x(1);}P8v+=2;}if(i4r.U6$(P8v.toString(),P8v.toString().length,27574) !== f5s){if(m9x || --r5T > E7V.quoteFeeds.length){i4r.H6P(10);m9x(i4r.q7n("1",1));}}if(m9x && ++r5T >= E7V.quoteFeeds.length){m9x(null);}};c79=function(U8e){i4r.D0H();if(++r5T < v5S.length){return;}if(!J0q.length){m9y(U8e);}J0q.forEach(function(A0H){E7V.loadDependents(i$$,m9y,D9j,A0H.behavior);});};E7V.quoteFeeds.forEach(function(M0X){i4r.D0H();if(M0X.behavior.generator){J0q.push(M0X);}else {v5S.push(M0X);}});v5S.forEach(function(s1j){i4r.a9S();E7V.loadDependents(i$$,c79,D9j,s1j.behavior);});return;}R0y={};v02=i$$.stx;U1E=i$$.chart;O17=U1E.series;S_5=v02.masterData;x_H=[];c9O={};Y_d=D9j == m66.QuoteFeed.UPDATE;function V3q(X3C){i4r.a9S();return function(P2x){var I6D,p_$,g4e,c2w,g6B,Y_8,h2L,T8G,U3l,p_l;i4r.a9S();I6D=null;for(var Y1v=0;Y1v < P2x.length;Y1v++){p_$=P2x[Y1v];g4e=p_$.dataCallback.error;if(!g4e && g4e !== 0){c2w=p_$.params.symbolObject;g6B=p_$.dataCallback;Y_8=g6B.quotes;h2L=g6B.moreAvailable;T8G=g6B.upToDate;U3l=[];if(v02.getSeries){U3l=v02.getSeries({symbolObject:c2w});}p_l=!1;for(var b6X=0;b6X < U3l.length;b6X++){t2a=U3l[b6X];if(!X3C){if(!i$$.future){t2a.moreAvailable=h2L === ![]?!1:h2L || Y_8.length > (p_$.params.endDate?1:0);}else {t2a.upToDate=T8G === !0?!![]:T8G || Y_8.length <= (p_$.params.startDate?1:0);if(v02.isHistoricalModeSet && Y_8.length < 2){t2a.mostRecentForwardAttempt=new Date();}}t2a.loading=![];}p_l=t2a.parameters.fillGaps || p_l;}Y_8=E7V.cleanup(v02,t2a,Y_8,D9j,i$$,p_l);v02.updateChartData(Y_8,U1E,{secondarySeries:c2w.symbol,noCreateDataSet:!0,noCleanupDates:!!"1",allowReplaceOHL:!0});if(Y_8 && Y_8.length && (!I6D || I6D > Y_8[0].DT)){I6D=Y_8[0].DT;}}}if(P2x.length){v02.createDataSet(null,null,{appending:i$$.originalState.update || i$$.future,appendToDate:I6D});if(!i$$.nodraw){v02.draw();}if(D9j == m66.QuoteFeed.INITIAL){E7V.resetRefreshInterval(A5r.refreshInterval,A5r);}}if(m9x){m9x(null);}};}b0M=D9j == m66.QuoteFeed.PAGINATION;k_9=m66.shallowClone(i$$);for(r$d in O17){t2a=O17[r$d];O2y=t2a.parameters;if(!Y_d){if(!i$$.future && t2a.moreAvailable === ![])continue;if(i$$.future && t2a.upToDate === !!1)continue;;}if(t2a.loading)continue;if(O2y.loadData === ![])continue;if(Y_d || b0M){if(!t2a.endPoints || !Object.keys(t2a.endPoints).length)continue;;}if(O2y.data && !O2y.data.useDefaultQuoteFeed)continue;r0I=O2y.symbolObject;if(!r0I.symbol)continue;if(r0I.generator != A5r.generator)continue;k_9.symbolObject=r0I;k_9.symbol=r0I.symbol;z1B=this.getQuoteFeed(k_9);if(A5r != (z1B && z1B.behavior))continue;F2u=!!1;if(!Y_d){t2a.loading=!0;}for(var d3S=0;d3S < x_H.length;d3S++){if(m66.symbolEqual(x_H[d3S],r0I)){F2u=!"1";}}if(F2u){x_H.push(r0I);c9O[r0I.symbol]=t2a.endPoints;}}D_g=[];for(var x0N=0;x0N < x_H.length;x0N++){r0I=x_H[x0N];o5d=m66.shallowClone(i$$.originalState);o5d.symbol=r0I.symbol;o5d.symbolObject=r0I;if(o5d.update || o5d.future){if(!o5d.endDate){o5d.endDate=i$$.endDate;}o5d.startDate=c9O[r0I.symbol].end;}else {if(!o5d.startDate){o5d.startDate=i$$.startDate;}o5d.endDate=b0M && !i$$.future?c9O[r0I.symbol].begin:i$$.endDate;o5d.ticks=i$$.ticks;}D_g.push(o5d);}if(!D_g.length && Y_d){Z9p={appending:i$$.appending || i$$.originalState.update};if(Z9p.appending){Z9p.appendToDate=i$$.startDate;}v02.createDataSet(null,null,Z9p);if(!i$$.nodraw){v02.draw();}if(m9x){m9x(null);}return;}this.multiFetch(D_g,V3q(Y_d));};m66.ChartEngine.Driver.prototype.cleanup=function(Y3d,v9p,G0h,k4l,N1h,k1I){var m08,S7D,C8r,X_9,B4A,q2j,t4q,v6w,a7B,L6t,c$K,m5D;Y3d.doCleanupDates(G0h,Y3d.layout.interval);if(!N1h.missingBarsCreated && G0h && G0h.length && Y3d.cleanupGaps && k1I !== !({})){C8r=N1h.chart;if(!v9p){S7D=C8r.defaultPlotField;}else {C8r=v9p;X_9=-2130115434;B4A=1988562837;q2j=2;for(var c$X=1;i4r.U6$(c$X.toString(),c$X.toString().length,89641) !== X_9;c$X++){S7D=v9p.parameters.symbol && v9p.id;q2j+=2;}if(i4r.U6$(q2j.toString(),q2j.toString().length,78403) !== B4A){S7D=v9p.parameters.symbol || v9p.id;}}if(k4l == m66.QuoteFeed.PAGINATION && !N1h.loadMoreReplace){if(C8r.endPoints.begin && C8r.endPoints.begin > G0h[G0h.length - 1].DT){t4q="po";t4q+="p";v6w=Y3d.getFirstLastDataRecord(Y3d.masterData,S7D,!1);a7B=-1114560283;L6t=1722881602;c$K=2;for(var f39=1;i4r.Z2Z(f39.toString(),f39.toString().length,7515) !== a7B;f39++){if(v9p){v6w=v6w[S7D];}G0h.push(v6w);c$K+=+"2";}if(i4r.Z2Z(c$K.toString(),c$K.toString().length,72574) !== L6t){if(v9p){v6w=v6w[S7D];}G0h.push(v6w);}m08=t4q;}}else if(k4l == m66.QuoteFeed.UPDATE){if(C8r.endPoints.end && C8r.endPoints.end < G0h[0].DT){m5D=Y3d.getFirstLastDataRecord(Y3d.masterData,S7D,!!({}));if(v9p){m5D=m5D[S7D];}G0h.unshift(m5D);m08="shift";}}G0h=Y3d.doCleanupGaps(G0h,N1h.chart,{cleanupGaps:k1I,noCleanupDates:!!1});if(m08){G0h[m08]();}}return G0h;};i4r.a9S();m66.ChartEngine.Driver.prototype.updateChart=function(J5d){var P7$,I$j,L8o,c4S,Y_z,a$6,l1e,h17,q4Y;if(this.updatingChart){return;}if(this.loadingNewChart){return;}i4r.a9S();function M3j(x2Z,z8v,c4d,y3q){if(z8v.behavior.prefetchAction){z8v.behavior.prefetchAction("updateChart");}return function(j1C){var r7D,w26,j3g;i4r.D0H();I$j++;r7D=z8v.chart;w26=r7D.masterData;if(c4d == r7D.symbol && c4S == L8o.layout.interval && Y_z == L8o.layout.timeUnit && !L8o.isHistoricalMode()){if(!j1C.error){j3g=j1C.quotes;j3g=x2Z.cleanup(L8o,null,j3g,m66.QuoteFeed.UPDATE,z8v);L8o.updateChartData(j3g,r7D,{noCreateDataSet:!!({}),noCleanupDates:!0});r7D.attribution=j1C.attribution;}else if(y3q){y3q.engine.announceError(z8v.originalState,j1C);}}else {x2Z.updatingChart=!({});return;}if(I$j == P7$){x2Z.updatingChart=!({});}if(z8v.behavior.callback){z8v.behavior.callback(z8v);}x2Z.loadDependents(z8v,null,m66.QuoteFeed.UPDATE,z8v.behavior);;};}P7$=Object.keys(this.stx.charts).length;I$j=0;L8o=this.stx;c4S=L8o.layout.interval;Y_z=L8o.layout.timeUnit;for(var r1o in L8o.charts){a$6=L8o.charts[r1o];if(!a$6.symbol)continue;l1e=this.makeParams(a$6.symbol,a$6.symbolObject,a$6);h17=this.getQuoteFeed(l1e);if(a$6.masterData && a$6.masterData.length){l1e.startDate=a$6.endPoints.end;;}l1e.update=!"";l1e.originalState=m66.shallowClone(l1e);if(J5d && J5d != l1e.behavior){this.loadDependents(l1e,null,m66.QuoteFeed.UPDATE,J5d);continue;}this.updatingChart=!!({});q4Y=M3j(this,l1e,a$6.symbol,h17);if(L8o.isEquationChart(l1e.symbol)){m66.fetchEquationChart(l1e,q4Y);}else if(h17){m66.ChartEngine.Driver.fetchData(m66.QuoteFeed.UPDATE,h17.engine,l1e,q4Y);}}};m66.ChartEngine.Driver.prototype.updateChartLoop=function(d1M,H2_){var w3$,p8s;if(!H2_){H2_=this.behavior;}if(H2_.intervalTimer == -1){return;}if(H2_.intervalTimer){clearInterval(H2_.intervalTimer);}w3$=function(U7g,W2y){return function(){if(W2y.noUpdate){return;}U7g.updateChart(W2y);};};for(var g9r=0;g9r < this.quoteFeeds.length;g9r++){p8s=this.quoteFeeds[g9r].behavior;if(H2_ == p8s && !p8s.noUpdate){if(!d1M && d1M !== 0){d1M=p8s.refreshInterval;}if(d1M){H2_.intervalTimer=setInterval(w3$(this,p8s),d1M * 1000);}}}};m66.ChartEngine.Driver.prototype.resetRefreshInterval=function(b3q,C26){(C26 || this.behavior).refreshInterval=b3q;this.updateChartLoop(null,C26);;};m66.ChartEngine.Driver.prototype.loadAll=function(w6p,L3w){var J8j,T0Z;J8j=this;function y3o(){return function(b5U){i4r.D0H();if(b5U){L3w(b5U);}else if(!w6p.moreAvailable && w6p.upToDate){L3w(null);;}else if(++T0Z > 20){L3w("error, moreAvailable not implemented correctly in QuoteFeed");}else {w6p.loadingMore=!({});J8j.checkLoadMore(w6p,!!({}),!![],y3o(),!!({}));}};}i4r.a9S();T0Z=+"0";y3o()();};m66.ChartEngine.Driver.prototype.checkLoadMore=function(Y63,J3w,S92,o_B,Q8z){i4r.D0H();var s5e,e8e,X8j,s0N,S0U,H$V,b2b,o27,t4T,Z_Q,G9j,j3d,c$q,y4h,j$f,g5m,C7y,S4R,A1b,F18,g1h,F0d,y9C;s5e=this.stx;e8e=this;if(Y63.loadingMore || this.loadingNewChart){Y63.initialScroll=Y63.scroll;if(o_B){o_B(null);}return;}X8j=s5e.isHistoricalMode();if(!X8j){s5e.isHistoricalModeSet=!!"";}function T9v(N4c,F5L){var S2j;S2j="c";i4r.D0H();S2j+="hec";S2j+="kLo";S2j+="adMore";if(S0U.prefetchAction){S0U.prefetchAction(S2j);}return function(y5H){var D2O,m6F,F9T,q1D,S_J,a2K,n_k,Y6N,T6T,j3I,M0k,D7_,u4H,k2F,P$0;D2O=N4c.stx;m6F=F5L.chart;i4r.D0H();if(F5L.symbol == m6F.symbol && g5m == D2O.layout.interval && C7y == D2O.layout.timeUnit){if(!F5L.loadMore){F5L.chart.loadingMore=![];}if(!y5H.error){if(!y5H.quotes){y5H.quotes=[];}F9T=y5H.quotes;q1D=m6F.masterData;F9T=N4c.cleanup(D2O,null,F9T,m66.QuoteFeed.PAGINATION,F5L);if(F9T.length && m6F.masterData && m6F.masterData.length){if(F5L.future){S_J=F9T[0];if(S_J.DT && S_J.DT == m6F.masterData[m6F.masterData.length - 1].DT){q1D.pop();}}else {i4r.H6P(16);var s5Z=i4r.q7n(17,18);a2K=F9T[F9T.length - s5Z];n_k=162407022;Y6N=-74994599;T6T=2;for(var P3d=1;i4r.U6$(P3d.toString(),P3d.toString().length,70825) !== n_k;P3d++){if(a2K.DT || -a2K.DT !== ~m6F.masterData[9].DT){F9T.pop();}T6T+=2;}if(i4r.Z2Z(T6T.toString(),T6T.toString().length,"68276" * 1) !== Y6N){if(a2K.DT && ~a2K.DT === -m6F.masterData[5].DT){F9T.pop();}}if(a2K.DT && +a2K.DT == +m6F.masterData[0].DT){F9T.pop();}}}if(!F5L.future){if(y5H.moreAvailable){m6F.moreAvailable=!![];}else if(y5H.moreAvailable === !"1" || !F9T.length){m6F.moreAvailable=!({});}else {m6F.moreAvailable=!"";}}else {if(y5H.upToDate){m6F.upToDate=!!"1";}else if(y5H.upToDate === !!0 || F9T.length > 1){m6F.upToDate=![];}if(D2O.isHistoricalModeSet && F9T.length < 2){m6F.mostRecentForwardAttempt=new Date();};}N4c.tickMultiplier=F9T.length?2:N4c.tickMultiplier * 2;j3I=F9T[0]?F9T[0].DT:F5L.startDate;M0k=F9T[0]?F9T[F9T.length - 1].DT:F5L.endDate;if(!m6F.endPoints.begin || m6F.endPoints.begin > j3I){m6F.endPoints.begin=j3I;}if(!m6F.endPoints.end || m6F.endPoints.end < M0k){m6F.endPoints.end=M0k;}m6F.loadingMore=![];if(F5L.loadMoreReplace){D2O.setMasterData(F9T,m6F,{noCleanupDates:!0});}else if(F5L.future){D7_=426247228;u4H=+"1627668229";k2F=2;for(var J3U=1;i4r.U6$(J3U.toString(),J3U.toString().length,67155) !== D7_;J3U++){D2O.updateChartData(F9T,m6F,{noCreateDataSet:!!"",noCleanupDates:!({})});k2F+=+"2";}if(i4r.U6$(k2F.toString(),k2F.toString().length,54573) !== u4H){D2O.updateChartData(F9T,m6F,{noCreateDataSet:![],noCleanupDates:!"1"});}D2O.updateChartData(F9T,m6F,{noCreateDataSet:!![],noCleanupDates:!![]});}else {m66.addMemberToMasterdata({stx:D2O,chart:m6F,data:F9T,fields:[(9500,1990) === 832.78?(0x2633,417.67):"*"],noCleanupDates:!!({})});}if(F5L.future){P$0={appending:!!({}),appendToDate:F9T[0] && F9T[0].DT};}D2O.createDataSet(undefined,undefined,P$0);if(!Q8z){D2O.draw();}if(S0U.callback){S0U.callback(F5L);}N4c.loadDependents(F5L,o_B,m66.QuoteFeed.PAGINATION);}else {N4c.quoteFeed.announceError(F5L.originalState,y5H);F5L.chart.loadingMore=!"1";if(o_B){o_B(y5H.error);}}}else {return;}};}function n0k(A9x){return !A9x.endPoints.begin || H$V.length - Y63.scroll < S0U.bufferSize || H$V.length - Y63.scroll - s5e.tickFromDate(A9x.endPoints.begin,Y63) < S0U.bufferSize;}s0N=this.makeParams(Y63.symbol,Y63.symbolObject,Y63);if(s5e.currentlyImporting){if(o_B){o_B(null);}return;}S0U=s0N.behavior;H$V=Y63.dataSet;function d35(m5S){Y63.loadingMore=![];i4r.D0H();if(o_B){o_B(m5S);}}function V7z(h2n){return !h2n.endPoints.end || Y63.scroll - Y63.maxTicks + +"1" < S0U.bufferSize || s5e.tickFromDate(h2n.endPoints.end,Y63,null,!!"1") - H$V.length + Y63.scroll - Y63.maxTicks + 2 < S0U.bufferSize;}i4r.D0J(12);var H9y=i4r.q7n(1,4,1);o27=+"1000" * (S0U.forwardPaginationRetryInterval || H9y);t4T=!!0;Z_Q=!({});if(Y63.dataSet.length){for(var Q4A in Y63.series){G9j=Y63.series[Q4A];if(G9j.loading)continue;if(G9j.parameters.loadData === !"1")continue;b2b=!G9j.mostRecentForwardAttempt || G9j.mostRecentForwardAttempt.getTime() + o27 < Date.now();if(G9j.moreAvailable !== !!"" && n0k(G9j)){t4T=!![];}if(b2b && !G9j.upToDate && V7z(G9j)){Z_Q=!!({});}}}b2b=!Y63.mostRecentForwardAttempt || Y63.mostRecentForwardAttempt.getTime() + o27 < Date.now();j3d=(n0k(Y63) || J3w) && Y63.moreAvailable !== ![];c$q=(V7z(Y63) || J3w) && !Y63.upToDate && b2b;y4h=j3d || t4T;j$f=s5e.isHistoricalModeSet && !y4h && (c$q || Z_Q);g5m=s5e.layout.interval;C7y=s5e.layout.timeUnit;S4R=!1;A1b=S0U.findHeadOfData || Y63.masterData && Y63.masterData.length;if(!S0U.noLoadMore && A1b){if(j$f || !s5e.maxDataSetSize || Y63.dataSet.length < s5e.maxDataSetSize){if(y4h || j$f){Y63.initialScroll=Y63.scroll;Y63.loadingMore=!!({});s0N=this.makeParams(Y63.symbol,Y63.symbolObject,Y63);s0N.pagination=!![];s0N.future=j$f;if(Y63.masterData && Y63.masterData.length){if(j$f){s0N.startDate=Y63.endPoints.end;}else {s0N.endDate=Y63.endPoints.begin;}if(j$f && !s0N.startDate){g1h="D";g1h+="T";F18=s5e.getFirstLastDataRecord(Y63.masterData,g1h,!![]);if(F18){s0N.startDate=F18.DT;}}else if(y4h && !s0N.endDate){F18=s5e.getFirstLastDataRecord(Y63.masterData,"DT");if(F18){s0N.endDate=F18.DT;}}}else {s0N.endDate=new Date();}s0N.originalState=m66.shallowClone(s0N);s0N.nodraw=Q8z;if(!j3d && t4T || !c$q && Z_Q){this.loadingMore=!![];this.loadDependents(s0N,d35,m66.QuoteFeed.PAGINATION);if(o_B){o_B(null);}return;}if(s5e.fetchMaximumBars[s5e.layout.aggregationType]){s0N.fetchMaximumBars=!![];if(!s5e.maxMasterDataSize || S0U.maximumTicks < s5e.maxMasterDataSize){s0N.ticks=S0U.maximumTicks;}else {s0N.ticks=s5e.maxMasterDataSize;}}F0d=T9v(this,s0N);if(s5e.isEquationChart(s0N.symbol)){m66.fetchEquationChart(s0N,F0d);}else {if(j$f){s0N.appending=!!1;}y9C=e8e.getQuoteFeed(s0N);if(y9C){m66.ChartEngine.Driver.fetchData(m66.QuoteFeed.PAGINATION,y9C.engine,s0N,F0d);}}S4R=!![];}}}if(!S4R && o_B){o_B(null);}};m66.ChartEngine.Driver.prototype.extendHistoricalData=function({from:V5s},I3b = ()=>{}){var j_s,h7_;var {stx:o$h}=this;var {chart:c1_, layout:D7X}=o$h;var {masterData:i9Z, dataSet:a$m}=c1_;var {interval:l2T, timeUnit:r9z}=D7X;i4r.a9S();j_s=this.makeParams(c1_.symbol,c1_.symbolObject,c1_);h7_=this.getQuoteFeed(j_s);if(c1_.loadingMore || this.loadingNewChart || o$h.currentlyImporting || !i9Z.length || !h7_ || o$h.maxDataSetSize && a$m.length > o$h.maxDataSetSize){return I3b(null);}c1_.loadingMore=!!({});function T$y(J3S,J63){return function({quotes:c9W, moreAvailable:h$u, error:T1u}){if(J63.symbol !== c1_.symbol || l2T !== D7X.interval || r9z !== D7X.timeUnit){return;;}i4r.D0H();c1_.loadingMore=!!0;if(T1u){return I3b(T1u);}c9W=J3S.cleanup(o$h,null,c9W,m66.QuoteFeed.PAGINATION,J63);if(typeof h$u === "boolean"){c1_.moreAvailable=h$u;}else {c1_.moreAvailable=!!c9W.length;}c1_.endPoints.begin=c9W[0].DT;m66.addMemberToMasterdata({stx:o$h,chart:c1_,data:c9W,fields:["*"],noCleanupDates:!![]});o$h.createDataSet();o$h.draw();};}j_s.originalState=Object.assign({},j_s);j_s.startDate=V5s;j_s.endDate=i9Z[0].DT;m66.ChartEngine.Driver.fetchData(m66.QuoteFeed.PAGINATION,h7_.engine,j_s,T$y(this,j_s));};m66.ChartEngine.Driver.prototype.barsToFetch=function(a$i){var e5t,C$a,B7S,T$B,c9n;e5t="mo";e5t+="nth";if(!m66.isValidNumber(this.tickMultiplier)){this.tickMultiplier=2;}C$a=this.stx.layout.interval;B7S=a$i.stx.layout.periodicity;if((C$a == e5t || C$a == "week") && !this.stx.dontRoll){T$B="w";T$B+="e";T$B+="e";T$B+="k";B7S*=C$a == T$B?7:30;}c9n=a$i.stx.chart.maxTicks * B7S;return c9n * this.tickMultiplier;};m66.ChartEngine.Driver.determineStartDate=function(T_4,N6X,i6Z){return this.determineStartOrEndDate(T_4,N6X,i6Z,!0);};m66.ChartEngine.Driver.determineStartOrEndDate=function(F0a,z0r,T77,s_B){i4r.D0H();var D1c;if(s_B || F0a.fetchMaximumBars){D1c=F0a.startDate || z0r.previous(T77);}else {D1c=F0a.future?z0r.next(T77):new Date();}return D1c;};m66.ChartEngine.Driver.prototype.makeParams=function(N_F,o_9,y07){var T2e,h4W,n0L,W3E,q_1,H3w,Y23,t2K,P$X,R4W,P7M,Z1h;T2e="m";T2e+="ont";T2e+="h";h4W=this.stx;n0L=h4W.layout.interval;W3E=this.barsToFetch({stx:h4W});if((n0L == T2e || n0L == "week") && !h4W.dontRoll){n0L="day";}q_1=this.getQuoteFeed({interval:n0L,symbol:N_F,symbolObject:o_9});H3w=q_1 && q_1.behavior;Y23=m66.shallowClone(H3w) || ({});Y23.behavior=H3w;t2K=!({});P$X=[];if(y07.market && y07.market.getSessionNames){P$X=y07.market.getSessionNames();}if(h4W.extendedHours){if(h4W.extendedHours.filter){t2K=!![];}else {i4r.D0J(1);R4W=i4r.S40(1,"1747222390");P7M=-276394982;Z1h=2;for(var v4g=+"1";i4r.U6$(v4g.toString(),v4g.toString().length,33318) !== R4W;v4g++){t2K=h4W.layout.extended;Z1h+=2;}if(i4r.Z2Z(Z1h.toString(),Z1h.toString().length,57174) !== P7M){t2K=h4W.layout.extended;}t2K=h4W.layout.extended;P$X=P$X.filter(function(x09){return x09.enabled || h4W.layout.marketSessions[x09.name];});}}else {P$X=P$X.filter(function(a8W){return a8W.enabled;});}for(var O$X=+"0";O$X < P$X.length;O$X++){P$X[O$X]=P$X[O$X].name;;}m66.extend(Y23,{stx:h4W,symbol:N_F,symbolObject:o_9,chart:y07,interval:n0L,extended:t2K,period:1,ticks:W3E,additionalSessions:P$X,quoteDriverID:this.id},!!({}));if(!Y23.symbolObject){Y23.symbolObject={symbol:N_F};}if(!isNaN(Y23.interval)){Y23.period=parseInt(Y23.interval,10);Y23.interval=h4W.layout.timeUnit;if(!Y23.interval){Y23.interval="minute";}}return Y23;};m66.ChartEngine.Driver.prototype.newChart=function(U7x,Q53){var i_D,d5X,L1V,U5P,c4J,J5R,E0l,R0a,s2N;i_D=this.stx;d5X=U7x.symbol;L1V=i_D.layout.interval;U5P=i_D.layout.timeUnit;c4J=U7x.chart;c4J.moreAvailable=null;c4J.upToDate=null;c4J.loadingMore=![];c4J.attribution=null;J5R=this.makeParams(d5X,U7x.symbolObject,c4J);m66.extend(J5R,U7x,!!({}));E0l=this.getQuoteFeed(J5R);R0a=J5R.behavior;if(i_D.fetchMaximumBars[i_D.layout.aggregationType] || U7x.fetchMaximumBars){if(!i_D.maxMasterDataSize || R0a.maximumTicks < i_D.maxMasterDataSize){J5R.ticks=R0a.maximumTicks;}else {J5R.ticks=i_D.maxMasterDataSize;}J5R.fetchMaximumBars=!!"1";}this.loadingNewChart=!!"1";this.updatingChart=![];function a7U(L4M,V2Q){if(R0a.prefetchAction){R0a.prefetchAction("newChart");}i4r.a9S();return function(Z48){var x5x,F96,e9U,B8W;x5x=V2Q.chart;F96=Z48.quotes;e9U=!({});if(d5X == x5x.symbol && L1V == i_D.layout.interval && U5P == i_D.layout.timeUnit){L4M.loadingNewChart=![];if(!Z48.error){F96=L4M.cleanup(i_D,null,F96,m66.QuoteFeed.INITIAL,V2Q);i_D.setMasterData(F96,x5x,{noCleanupDates:!!1});x5x.endPoints={};x5x.endPoints.begin=F96[0]?F96[0].DT:V2Q.startDate;x5x.endPoints.end=F96[0]?F96[F96.length - +"1"].DT:V2Q.endDate;if(!F96){x5x.moreAvailable=!!"";x5x.upToDate=!!({});}else {x5x.moreAvailable=Z48.moreAvailable === !"1"?!({}):!!1;x5x.upToDate=Z48.upToDate;}x5x.attribution=Z48.attribution;if(U7x.initializeChart){i_D.initializeChart();}i_D.createDataSet();e9U=!![];}else {E0l.engine.announceError(V2Q.originalState,Z48);}}else {if(Q53){Q53("orphaned");}return;}for(var u6a in x5x.series){x5x.series[u6a].endPoints={};x5x.series[u6a].moreAvailable=null;x5x.series[u6a].upToDate=null;}B8W=x5x.masterData;if(B8W && B8W.length){V2Q.startDate=B8W[0].DT;V2Q.endDate=B8W[B8W.length - 1].DT;}if(R0a.callback){R0a.callback(V2Q);}L4M.loadDependents(V2Q,function(){if(e9U && !V2Q.nodraw){L4M.stx.home();}if(Q53){Q53(Z48.error);}L4M.stx.dispatch("newChart",{stx:L4M.stx,symbol:L4M.stx.chart.symbol,symbolObject:L4M.stx.chart.symbolObject,moreAvailable:L4M.stx.chart.moreAvailable,upToDate:L4M.stx.chart.upToDate,quoteDriver:L4M});L4M.resetRefreshInterval(R0a.refreshInterval,R0a);},m66.QuoteFeed.INITIAL);};}J5R.originalState=m66.shallowClone(J5R);s2N=a7U(this,J5R);if(this.stx.isEquationChart(J5R.symbol)){m66.fetchEquationChart(J5R,s2N);}else if(E0l){m66.ChartEngine.Driver.fetchData(m66.QuoteFeed.INITIAL,E0l.engine,J5R,s2N);}};function h6Q(){}m66.QuoteFeed.INITIAL=1;m66.QuoteFeed.UPDATE=2;m66.QuoteFeed.PAGINATION=3;m66.QuoteFeed.SERIES=4;m66.ChartEngine.Driver.fetchData=function(H8j,e4M,M0n,Y9m){i4r.D0H();var f8y;if(!M0n.symbol){return Y9m({quotes:[]});}if(e4M.v2QuoteFeed){f8y="f";f8y+="unction";if(typeof e4M.subscribe !== f8y){m66.ChartEngine.Driver.fetchDataInContext(H8j,e4M,M0n,Y9m);}else {m66.ChartEngine.Driver.fetchDataInContext(H8j,e4M,M0n,(function(R6C){if(!R6C.error){this.checkSubscriptions(M0n.stx);}Y9m(R6C);}).bind(e4M));}}else {M0n.stx.convertToDataZone(M0n.startDate);M0n.stx.convertToDataZone(M0n.endDate);e4M.fetch(M0n,Y9m);}};m66.ChartEngine.Driver.fetchDataInContext=function(q5R,y_H,R9g,c4h){var r6V,u3D,N7b,d$Y,A2L,W7c,n4T,L50,Y4t,h60;r6V="functi";r6V+="on";W7c=R9g.stx;if(!W7c.chart.market.newIterator){console.error("quoteFeed feature requires first activating market feature.");return;}i4r.a9S();if(q5R === m66.QuoteFeed.SERIES){R9g.series=!0;q5R=m66.QuoteFeed.INITIAL;if(R9g.endDate && !R9g.startDate || R9g.future){q5R=m66.QuoteFeed.PAGINATION;}else if(R9g.startDate && !R9g.endDate){q5R=m66.QuoteFeed.UPDATE;}}n4T=Math.min(R9g.ticks,R9g.maximumTicks);if(y_H.maxTicks){n4T=Math.min(n4T,y_H.maxTicks);}L50=R9g.symbolObject.masterSymbol || R9g.symbol;switch(q5R){case m66.QuoteFeed.UPDATE:if(W7c.isHistoricalModeSet){W7c.quoteDriver.updatingChart=!!0;return;}if(R9g.startDate){Y4t=R9g.startDate;}else {Y4t=new Date();i4r.D0J(40);Y4t.setHours(i4r.q7n(96,"0"),0,0,0);}if(typeof y_H.fetchUpdateData === "function"){y_H.fetchUpdateData(L50,W7c.convertToDataZone(Y4t),R9g,c4h);}break;case m66.QuoteFeed.INITIAL:A2L=R9g.endDate || new Date();u3D={begin:A2L,interval:R9g.interval,periodicity:R9g.interval == "tick"?W7c.chart.xAxis.futureTicksInterval:R9g.period,outZone:W7c.dataZone};N7b=W7c.chart.market.newIterator(u3D);d$Y=m66.ChartEngine.Driver.determineStartDate(R9g,N7b,n4T);if(R9g.endDate){A2L=R9g.endDate;}if(typeof y_H.fetchInitialData === "function"){y_H.fetchInitialData(L50,d$Y,W7c.convertToDataZone(A2L),R9g,c4h);}break;case m66.QuoteFeed.PAGINATION:u3D={begin:R9g.endDate || R9g.startDate,interval:R9g.interval,periodicity:R9g.interval == "tick"?W7c.chart.xAxis.futureTicksInterval:R9g.period,outZone:W7c.dataZone};N7b=W7c.chart.market.newIterator(u3D);h60=m66.ChartEngine.Driver.determineStartOrEndDate(R9g,N7b,n4T,!R9g.future);d$Y=R9g.startDate || h60;A2L=R9g.endDate || h60;if(!R9g.startDate){R9g.stx.convertToDataZone(A2L);}else {R9g.stx.convertToDataZone(d$Y);}if(typeof y_H.fetchPaginationData === r6V){if(W7c.maxMasterDataSize && W7c.maxMasterDataSize <= W7c.masterData.length){return;}y_H.fetchPaginationData(L50,d$Y,A2L,R9g,function(F_D){if(A2L >= Date.now()){W7c.isHistoricalModeSet=![];}if(c4h){c4h(F_D);}});}break;default:console.error("Illegal fetchData constant");}};};W=Y4n=>{var T3x;T3x=typeof _CIQ !== "undefined"?_CIQ:Y4n.CIQ;T3x.ChartEngine.prototype.addSeries=function(z_G,R7_,h$S){var w58=A2IFV;var d4B,T40,U1C,p18,o2M,L7g,s7y,a8H,O6J,E0H,N4M,X2L,a0R,x_W,Q8n,Q5$,V3n,U_c,b0E;d4B="add";d4B+="S";d4B+="eries";T40=this.runPrepend("addSeries",arguments);if(T40){return T40;}U1C=z_G?z_G:null;p18=z_G;if(!z_G){z_G=T3x.uniqueID();}if(R7_ && R7_.panel === !![]){R7_.panel=z_G;}o2M={parameters:R7_?T3x.clone(R7_):{},yValueCache:[],display:U1C,id:z_G,loading:R7_?R7_.loadData !== !({}):!![]};o2M.parameters.yAxis=R7_ && R7_.yAxis;R7_=o2M.parameters;if(R7_.symbol){p18=R7_.symbol;}if(R7_.isComparison){R7_.shareYAxis=!!1;}if(R7_.yAxis && !(R7_.yAxis instanceof T3x.ChartEngine.YAxis)){R7_.yAxis=new T3x.ChartEngine.YAxis(R7_.yAxis);;}T3x.ensureDefaults(R7_,{chartName:this.chart.name,symbolObject:{symbol:p18},panel:this.chart.panel.name,fillGaps:![],action:"add-series"});if(("display" in R7_)){o2M.display=R7_.display;}L7g=this.charts[R7_.chartName];s7y=R7_.symbolObject;w58.a9S();p18=R7_.symbol=s7y.symbol;if(!o2M.display){o2M.display=p18 || R7_.field;}o2M.endPoints={};function k3E(D3w){w58.a9S();return function(c5R){var o_d,R_i,a5q;o_d="sy";o_d+="mb";o_d+="olChange";w58.D0H();if(!c5R.error){R_i=c5R.quotes;a5q=R7_.fillGaps;if(!X2L.cleanupGaps){a5q=!1;}R_i=X2L.doCleanupGaps(R_i,X2L.chart,{cleanupGaps:a5q});X2L.updateChartData(R_i,X2L.chart,{secondarySeries:p18,noCreateDataSet:!!({}),noCleanupDates:!"",allowReplaceOHL:!!({})});o2M.loading=!({});o2M.moreAvailable=c5R.moreAvailable;o2M.upToDate=c5R.upToDate;u6T(X2L,o2M);}if(R7_.action !== null && !O6J.length){X2L.dispatch(a0R?"symbolImport":o_d,{stx:X2L,symbol:D3w.symbol,symbolObject:D3w.symbolObject,action:R7_.action,id:o2M.id,parameters:R7_});}if(h$S){h$S.call(X2L,c5R.error,o2M);}};}if(!R7_.gapDisplayStyle && R7_.gapDisplayStyle !== !!""){R7_.gapDisplayStyle=R7_.gaps;}if(R7_.isComparison){a8H="tra";a8H+="n";a8H+="spare";a8H+="nt";if(R7_.gapDisplayStyle === undefined){R7_.gapDisplayStyle=a8H;}}O6J=this.getSeries({symbolObject:s7y,chart:L7g,includeMaster:!!({})});E0H=R7_.panel;if(!this.panels[E0H]){N4M=R7_.yAxis || new T3x.ChartEngine.YAxis();N4M.name=z_G;this.createPanel(z_G,E0H,null,null,N4M);if(!this.preferences.dragging || !this.preferences.dragging.series){R7_.highlightable=!!0;}}else {if(!R7_.yAxis && !R7_.shareYAxis){R7_.yAxis=new T3x.ChartEngine.YAxis({name:z_G,position:"none"});}}L7g.series[z_G]=o2M;X2L=this;a0R=this.currentlyImporting;if(R7_.isComparison && L7g.forcePercentComparison && R7_.panel == L7g.panel.name && (!R7_.yAxis || R7_.yAxis == L7g.yAxis)){this.setChartScale("percent");}x_W=L7g.masterData;if(!x_W){x_W=L7g.masterData=this.masterData=[];}Q8n=x_W.length;if(R7_.data && !R7_.data.useDefaultQuoteFeed){Q5$={symbol:p18,symbolObject:s7y,action:R7_.action};k3E(Q5$)({quotes:R7_.data});}else if(O6J.length){o2M.endPoints=O6J[0].endPoints;o2M.loading=O6J[0].loading;u6T(this,o2M);if(h$S){setTimeout(function(){w58.a9S();h$S.call(X2L,null,o2M);},"0" << 0);}}else if(this.quoteDriver && R7_.loadData !== !"1"){V3n=this.quoteDriver;U_c=V3n.makeParams(p18,s7y,L7g);if(Q8n){U_c.startDate=x_W[0].DT;U_c.endDate=this.isHistoricalMode()?x_W[x_W.length - 1].DT:new Date();}if(U_c.stx.isEquationChart(U_c.symbol)){T3x.fetchEquationChart(U_c,k3E(U_c));}else {b0E=V3n.getQuoteFeed(U_c);if(b0E){T3x.ChartEngine.Driver.fetchData(4,b0E.engine,U_c,k3E(U_c));}}}else {u6T(this,o2M);if(h$S){h$S.call(this,null,o2M);}}function u6T(x0E,H6g){var z_5,K9b,w2t,g8G;z_5=R7_.renderer || "Lines";K9b=R7_.name || z_G;if(R7_.yAxis && !(R7_.yAxis instanceof T3x.ChartEngine.YAxis) && !a0R){R7_.yAxis.name=K9b;}if(!R7_.renderer && !R7_.name && !R7_.color && !R7_.chartType){return;}w58.a9S();w2t=x0E.getSeriesRenderer(K9b);if(!w2t){g8G={name:K9b,overChart:R7_.overChart !== ![],useChartLegend:!!({})};if(R7_.chartType){w2t=T3x.Renderer.produce(R7_.chartType,T3x.extend({highlightable:R7_.highlightable,dependentOf:R7_.dependentOf,panel:R7_.panel,yAxis:R7_.yAxis,baseline:R7_.baseline},g8G));}else {T3x.ensureDefaults(R7_,g8G);w2t=new T3x.Renderer[z_5]({params:R7_});}if(!w2t){return;}x0E.setSeriesRenderer(w2t);}w2t.attachSeries(z_G,R7_);if(R7_.loadData !== !"1"){w2t.ready();}x0E.layout.symbols=x0E.getSymbols({"include-parameters":!!"1","exclude-studies":!![]});x0E.changeOccurred("layout");}this.runAppend(d4B,arguments);return o2M;};T3x.ChartEngine.prototype.getSeries=function(M63){var L$8,R6V,G72,G6z,b91;L$8=M63.chart?M63.chart:this.chart;R6V=L$8.series;G72=M63.symbolObject;if(!G72){G72={symbol:M63.symbol};}G6z=[];for(var C9Q in R6V){b91=R6V[C9Q];if(T3x.symbolEqual(G72,b91.parameters.symbolObject)){G6z.push(b91);}}if(M63.includeMaster){if(T3x.symbolEqual(G72,L$8.symbolObject)){G6z.push({});}}A2IFV.a9S();return G6z;};T3x.ChartEngine.prototype.modifySeries=function(N3E,L_r,X_F){var N20,q_O,S_A,x43,k_E,z3z,x5j,s6C,Y_9,X_z,O80,Y1F,e$J,T74,x36;N20="modify";N20+="Series";if(this.runPrepend(N20,arguments)){return;}if(!L_r){return;}if(typeof N3E === "string"){x43=L_r.chartName?this.charts[L_r.chartName]:this.chart;S_A=N3E;q_O=x43.series[S_A];}else {q_O=N3E;S_A=q_O.id;x43=this.charts[q_O.parameters.chartName];}if(!q_O){return;}T3x.extend(q_O.parameters,L_r,!0);this.getRendererFromSeries(S_A).modifyRenderer(L_r);k_E=q_O.parameters;for(var R9i in x43.seriesRenderers){x5j=x43.seriesRenderers[R9i];s6C=x5j.params;Y_9=x5j.seriesParams;for(var D5P=0;D5P < Y_9.length;++D5P){X_z=Y_9[D5P];O80=this.panels[X_z.panel];Y1F=O80 && O80.yAxis.name;if(X_z.id === q_O.id){if(k_E.panel === !0){k_E.panel=k_E.dependentOf || k_E.name;}s6C.panel=k_E.panel;if(L_r.yAxis){if(!(L_r.yAxis instanceof T3x.ChartEngine.YAxis)){L_r.yAxis=new T3x.ChartEngine.YAxis(L_r.yAxis);;}s6C.yAxis=L_r.yAxis;}if(k_E.panel != X_z.panel && s6C.name == Y1F){this.electNewPanelOwner(X_z.panel);;}else {e$J=this.getYAxisByName(k_E.panel,s6C.name);if(e$J && k_E.yAxis && e$J.name !== k_E.yAxis.name){e$J.name=this.electNewYAxisOwner(e$J);}}if(!k_E.field){k_E.field=null;}x5j.attachSeries(S_A,T3x.ensureDefaults(k_E,X_z));if(!k_E.field){k_E.field=k_E.subField;}delete k_E.subField;if(k_E.isComparison && x43.forcePercentComparison && k_E.panel == x43.panel.name && (!q_O.parameters.yAxis || k_E.yAxis.name == x43.yAxis.name)){this.setChartScale("percent");}z3z=x5j;break;}}}this.changeOccurred("layout");T3x.getFn("Drawing.updateSource")(this,q_O.parameters.symbol || S_A,null,q_O.parameters.panel);this.runAppend("modifySeries",arguments);if(X_F !== !""){T74=z3z.getDependents(this);for(var l8q=0;l8q < T74.length;l8q++){this.modifySeries(T74[l8q].params.name,{panel:z3z.params.panel,yAxis:q_O.parameters.yAxis},!!1);}x36=x43.seriesRenderers[z3z.params.dependentOf];if(x36){if(x36.params.yAxis != q_O.parameters.yAxis || x36.params.panel != z3z.params.panel){this.modifySeries(z3z.params.dependentOf,{panel:z3z.params.panel,yAxis:q_O.parameters.yAxis},!!({}));}}}this.draw();return q_O;};T3x.ChartEngine.prototype.deleteSeries=function(H2d,l$n,H2Z){var A2p,l1G,s1b,X85,V2s,q_S,C7N,m7B;A2p="ob";A2p+="j";A2p+="ect";if(this.runPrepend("deleteSeries",arguments)){return;}H2Z=H2Z?H2Z:{};l1G=H2Z.action?H2Z.action:"remove-series";if(typeof H2d === A2p){s1b=H2d.id;l$n=l$n || this.charts[H2d.parameters.chartName];}else {s1b=H2d;l$n=l$n || this.chart;}X85=l$n.series[s1b];if(!X85){return;}V2s=X85.parameters.loadData;q_S=X85.parameters.symbolObject;delete l$n.series[s1b];C7N=this.getSeries({symbolObject:q_S,includeMaster:!0});if(V2s === !!""){C7N.push(s1b);}if(!C7N.length){this.cleanMasterData(q_S,l$n);}m7B=this.panels[X85.parameters.panel];if(m7B){this.checkForEmptyPanel(m7B);}this.createDataSet();if(!C7N.length){this.dispatch(this.currentlyImporting?"symbolImport":"symbolChange",{stx:this,symbol:q_S.symbol,symbolObject:q_S,id:s1b,action:l1G});}if(this.quoteDriver){this.quoteDriver.updateSubscriptions();}this.runAppend("deleteSeries",arguments);};T3x.ChartEngine.prototype.removeSeries=function(Y2C,O7U){var t7o,r0G,P$U,M06,T4t,b_R,U_u,j4a;t7o="re";t7o+="mov";t7o+="eSerie";t7o+="s";if(this.runPrepend(t7o,arguments)){return;}P$U=![];if(typeof Y2C === "object"){r0G=Y2C.id;O7U=O7U || this.charts[Y2C.parameters.chartName];}else {r0G=Y2C;O7U=O7U || this.chart;}for(var U1a in O7U.seriesRenderers){M06=O7U.seriesRenderers[U1a];T4t=this.panels[M06.params.panel];b_R=T4t && T4t.yAxis.name;for(var g02=M06.seriesParams.length - 1;g02 >= 0;g02--){U_u=M06.seriesParams[g02];if(U_u.id === r0G){M06.removeSeries(r0G);if(M06.seriesParams.length < 1){this.removeSeriesRenderer(M06);if(M06.params.name == b_R){this.electNewPanelOwner(M06.params.panel);}else {if(!this.checkForEmptyPanel(M06.params.panel)){j4a=this.getYAxisByName(T4t,M06.params.name);if(j4a){j4a.name=j4a.studies[0] || j4a.renderers[1];}}}}P$U=!![];}}}if(!P$U){this.deleteSeries(r0G,O7U);}this.resetDynamicYAxis();this.draw();this.resizeChart();this.runAppend("removeSeries",arguments);};T3x.Comparison=T3x.Comparison || (function(){});T3x.Comparison.initialPrice=100;T3x.Comparison.getInitialPrice=function(k45){var g3h,g4T,z5L;if(k45.initialComparisonPrice){return k45.initialComparisonPrice;}k45.initialComparisonPrice=+"100";g3h=T3x.Comparison.initialPrice;if(typeof g3h == "number"){k45.initialComparisonPrice=g3h;}if(typeof g3h == "string"){if(k45.series[g3h] || g3h === ""){g4T="Close";if(k45.defaultPlotField){if(!k45.highLowBars){g4T=k45.defaultPlotField;}}for(var R3c=k45.dataSet.length - k45.scroll - 1;R3c < k45.dataSet.length;R3c++){z5L=k45.dataSet[R3c];if(z5L){if(z5L[g3h] && z5L[g3h][g4T]){k45.initialComparisonPrice=z5L[g3h][g4T];break;}else if(g3h === "" && z5L[g4T]){k45.initialComparisonPrice=z5L[g4T];break;}}}}}return k45.initialComparisonPrice;};T3x.Comparison.priceToPercent=function(p7r,d8c,E1w){var n_Q=A2IFV;n_Q.D0H();var Y16;Y16=T3x.Comparison.baseline || E1w;n_Q.H6P(98);var t29=n_Q.S40(3,30000,6,3,3);n_Q.H6P(36);var J5X=n_Q.S40(9519,500,19);return Math.round((E1w - Y16) / Y16 * ("100" - 0) * t29) / J5X;};T3x.Comparison.percentToPrice=function(k8f,O2N,U8d){var w7d;A2IFV.D0H();w7d=T3x.Comparison.baseline || "1" | 0;A2IFV.H6P(99);return A2IFV.S40(w7d,1,U8d,100);};T3x.Comparison.priceToRelative=function(a4o,o_E,C9S){var v_s,y5w;v_s=T3x.Comparison.baseline || C9S;y5w=T3x.Comparison.getInitialPrice(o_E);A2IFV.H6P(100);return A2IFV.q7n(v_s,y5w,C9S);};T3x.Comparison.relativeToPrice=function(J59,v21,Q8V){var n8O,U8U;A2IFV.D0H();n8O=T3x.Comparison.baseline || 1;U8U=T3x.Comparison.getInitialPrice(v21);A2IFV.D0J(100);return A2IFV.S40(U8U,n8O,Q8V);};T3x.Comparison.createComparisonSegmentInner=function(G1a,r25){var J8u=A2IFV;J8u.a9S();var a9y,r8a,e2o,l_b,C7o,u9t,R8Y,t4y,T_o,d6b,W_f,L92,G08,y$_,T_V,I0C,V8T,I6g,J9h,B9X,T2N,e98,x$c,k8a,M_U,F2a;a9y="i";a9y+="qPrevClose";r8a="C";r8a+="los";r8a+="e";e2o=[];for(l_b in r25.series){R8Y=r25.series[l_b].parameters;if(R8Y.isComparison){e2o.push(R8Y.symbol);}}t4y=[r8a,"Open","High","Low",a9y];T_o=G1a.chart.highLowBars;if(r25.defaultPlotField && !T_o){t4y.unshift(r25.defaultPlotField);}d6b=t4y[0];W_f=G1a.layout.studies;for(var D6A in W_f){L92=W_f[D6A];C7o=G1a.panels[L92.panel];u9t=L92.getYAxis(G1a);if(!C7o || C7o.yAxis != u9t)continue;for(l_b in L92.outputMap){t4y.push(l_b);}for(var f9r=+"0";f9r <= 2;f9r++){t4y.push(L92.name + "_hist" + (f9r?f9r:""));}if(L92.referenceOutput){t4y.push(L92.referenceOutput + (("970.95" - 0,"753.83" * 1) !== 8870?" ":9198 > 8553?35.02:(0x9e2,0x15f3)) + L92.name);}}for(var E0M in G1a.plugins){G08=G1a.plugins[E0M];if(!G08.transformOutputs)continue;for(l_b in G08.transformOutputs){t4y.push(l_b);}}r25.initialComparisonPrice=null;r25.dataSegment=[];y$_=null;J8u.D0J(101);var G8b=J8u.S40(12,11,17,88,927);T_V=r25.dataSet.length - r25.scroll - ("1" >> G8b);if(G1a.startComparisonsAtFirstVisibleBar){T_V+=1;}I0C=r25.maxTicks + +"3";for(var N2V=0;N2V <= I0C;N2V++){if(N2V == I0C){N2V=-1;}J8u.D0J(0);V8T=J8u.S40(T_V,N2V);if(V8T < r25.dataSet.length && V8T >= 0){I6g=r25.dataSet[V8T];J9h=I6g[d6b];if(!y$_){if(J9h === 0 || J9h === null){if(N2V < 0)break;else continue;;}y$_=T3x.clone(I6g);}if(!I6g.transform){I6g.transform={cache:{},DT:I6g.DT,Date:I6g.Date};}if(!T3x.Comparison.baseline && J9h){y$_=T3x.clone(I6g);}T3x.Comparison.baseline=y$_[d6b];for(B9X=0;B9X < t4y.length;B9X++){l_b=t4y[B9X];if(I6g[l_b] || I6g[l_b] === 0){I6g.transform[l_b]=r25.transformFunc(G1a,r25,I6g[l_b]);}}for(B9X=0;B9X < e2o.length;B9X++){l_b=e2o[B9X];T2N=r25.series[l_b];if(N2V == -("1" * 1) && T2N && T2N.parameters.isComparison){delete I6g.transform[l_b];continue;}e98=I6g[l_b];for(var w9M=0;e98 && w9M < t4y.length;w9M++){x$c=e98[t4y[w9M]];if(x$c || x$c === +"0"){k8a=y$_[l_b] && y$_[l_b][t4y[0]];if(!k8a && k8a !== 0){if(!y$_[l_b]){y$_[l_b]={};}y$_[l_b][t4y[w9M]]=k8a=x$c * T3x.Comparison.baseline / I6g[d6b];}if(k8a !== 0){M_U=T3x.Comparison.baseline || 1;J8u.D0J(102);F2a=J8u.S40(k8a,x$c,M_U);if(!I6g.transform[l_b]){I6g.transform[l_b]={};}I6g.transform[l_b][t4y[w9M]]=r25.transformFunc(G1a,r25,F2a);}}}}r25.dataSegment.push(I6g);}else if(V8T < 0){r25.dataSegment.push(null);}if(N2V < 0)break;;}};T3x.Comparison.priceFormat=function(t1v,D_K,i_z){var l_J=A2IFV;var U2j,w7D;if(i_z === null || typeof i_z == "undefined" || isNaN(i_z)){return "";}U2j=D_K.yAxis.priceTick;w7D=t1v.internationalizer;if(w7D){if(U2j >= 5){l_J.D0J(14);i_z=w7D.percent.format(l_J.S40(100,i_z));}else if(U2j >= 0.5){l_J.H6P(103);i_z=w7D.percent1.format(l_J.S40(i_z,0,"100"));}else if(U2j >= 0.05){l_J.H6P(14);i_z=w7D.percent2.format(l_J.S40(100,i_z));}else if(U2j >= 0.005){l_J.D0J(14);i_z=w7D.percent3.format(l_J.S40(100,i_z));}else {l_J.D0J(8);i_z=w7D.percent4.format(l_J.q7n(i_z,"100"));}}else {if(U2j >= "5" * 1){l_J.H6P(52);var N0p=l_J.S40(860,84,11);l_J.H6P(7);var N$7=l_J.S40(15831,21108);l_J.H6P(7);var I7A=l_J.S40(27540,32130);l_J.D0J(104);var p3S=l_J.q7n(4,9623,20,756);l_J.H6P(6);var V4o=l_J.q7n(1201,100,8,4,44);i_z=i_z.toFixed(0) + (("3860" >> N0p,N$7) > I7A?"%":478.36 !== (+"8740",p3S)?(!"",V4o):("i",257.08));}else if(U2j >= "0.5" - 0){l_J.D0J(105);var Z$J=l_J.q7n(30,20,15,6,1);l_J.D0J(0);var J_i=l_J.S40(75,1356);l_J.D0J(12);var a5a=l_J.q7n(2290,20,1);l_J.D0J(106);var f5A=l_J.q7n(3,3112,2079,5,4);l_J.H6P(107);var b4r=l_J.q7n(6,17,15003,1,937);l_J.D0J(98);var s62=l_J.q7n(8,14560,14,11,2);l_J.H6P(15);var z6C=l_J.S40(19,7596,5083);l_J.D0J(108);var O03=l_J.S40(3920,15680,16,276);i_z=i_z.toFixed(Z$J) + ((J_i,a5a) != f5A?b4r > s62?(z6C,!!({})):"%":O03);}else if(U2j >= 0.05){l_J.D0J(0);var x2n=l_J.S40(0,2);l_J.D0J(109);var U_x=l_J.q7n(18,1241,6,1,1);l_J.D0J(7);var H4b=l_J.S40(5,8225);l_J.D0J(7);var o1u=l_J.S40(8,3838);l_J.H6P(36);var S6v=l_J.S40(23,7357,4);l_J.D0J(0);var t5N=l_J.S40(0,1);l_J.D0J(36);var c1U=l_J.S40(8727,512,19);l_J.D0J(110);var O1$=l_J.q7n(9,9860,18,18,3184761);l_J.H6P(111);var R44=l_J.q7n(15,1,1,9,6);l_J.D0J(111);var q_R=l_J.S40(9337,932,9320,5,2);l_J.H6P(36);var s1f=l_J.q7n(11,9811,9);l_J.D0J(33);var F6S=l_J.q7n(26,5969,10,17);i_z=i_z.toFixed(x2n) + (+"8407" > (U_x,H4b)?"%":o1u == (S6v,"2925" * t5N)?(c1U,O1$):(+"86.97","770.58" * R44) >= (q_R,s1f)?!!({}):("h",F6S));}else if(U2j >= +"0.005"){l_J.H6P(52);var I58=l_J.q7n(57,12,5);i_z=i_z.toFixed(I58) + (+"3433" <= (+"3942",905.78)?("0x169b" ^ 0,843.52):"%");}else {l_J.D0J(112);var t2w=l_J.q7n(16,2,8,15,13);i_z=i_z.toFixed(t2w) + "%";}}if(parseFloat(i_z) === 0 && i_z.charAt(0) == "-"){l_J.H6P(40);i_z=i_z.substring(l_J.q7n(64,"1"));}l_J.a9S();return i_z;};T3x.ChartEngine.prototype.setComparison=function(z4V,t1I,q6C){var d3a=A2IFV;var k6Y,L_l,V27,c8m,N9w,I8Y,B_Y,m6T;k6Y="percen";k6Y+="t";L_l="str";L_l+="ing";if(!t1I){t1I=this.chart;}if(typeof t1I == L_l){t1I=this.charts[t1I];}if(q6C || q6C === ""){T3x.Comparison.initialPrice=q6C;}if(z4V === !0){if(t1I.isComparison){return;}z4V="percent";}this.resetDynamicYAxis();V27=t1I.panel.yAxis;c8m=V27.priceFormatter == T3x.Comparison.priceFormat;switch(z4V){case "relative":this.setTransform(t1I,T3x.Comparison.priceToRelative,T3x.Comparison.relativeToPrice);if(c8m){d3a.D0J(40);N9w=d3a.S40(32,"1079035736");I8Y=-840809156;B_Y=2;for(var e1Z=1;d3a.U6$(e1Z.toString(),e1Z.toString().length,4151) !== N9w;e1Z++){V27.priceFormatter=V27.originalPriceFormatter?V27.originalPriceFormatter.func:null;V27.originalPriceFormatter=null;B_Y+=2;}if(d3a.U6$(B_Y.toString(),B_Y.toString().length,71797) !== I8Y){V27.priceFormatter=V27.originalPriceFormatter?V27.originalPriceFormatter.func:+"1";V27.originalPriceFormatter=1;}}V27.whichSet="dataSegment";t1I.isComparison=!"";break;case k6Y:m6T="dataSegme";m6T+="nt";this.setTransform(t1I,T3x.Comparison.priceToPercent,T3x.Comparison.percentToPrice);if(!c8m){V27.originalPriceFormatter={func:V27.priceFormatter};V27.priceFormatter=T3x.Comparison.priceFormat;}V27.whichSet=m6T;t1I.isComparison=!![];break;default:this.unsetTransform(t1I);if(c8m){V27.priceFormatter=V27.originalPriceFormatter?V27.originalPriceFormatter.func:null;V27.originalPriceFormatter=null;}V27.whichSet="dataSet";t1I.isComparison=!1;break;}};T3x.ChartEngine.prototype.setChartScale=function(Q3S){var Z9s,b4Y,o3c;Z9s="li";Z9s+="n";Z9s+="ea";Z9s+="r";b4Y=this.chart;o3c={percent:!!"1",relative:!![]};if(!Q3S){Q3S=Z9s;}if(o3c[Q3S]){this.setComparison(Q3S,b4Y,T3x.Comparison.initialPrice);}else if(o3c[this.layout.chartScale]){this.setComparison(!"1",b4Y);}this.layout.chartScale=Q3S;if(b4Y.canvas){this.draw();}this.changeOccurred("layout");};};U=U$7=>{var z$W=A2IFV;var a$R,b22;function L8C(){var t12,C_R,X4z,c64,J$F,D68,q8$;t12="scri";t12+="pt";C_R=-708624285;X4z=-1302474083;c64=2;for(var I4W=1;z$W.Z2Z(I4W.toString(),I4W.toString().length,1096) !== C_R;I4W++){if(a$R.Share.html2canvasLocation){return a$R.Share.html2canvasLocation;}c64+=2;}if(z$W.U6$(c64.toString(),c64.toString().length,61088) !== X4z){if(a$R.Share.html2canvasLocation){return a$R.Share.html2canvasLocation;}}z$W.a9S();J$F=document.getElementsByTagName(t12);for(var v2_=0;v2_ < J$F.length;v2_++){D68="s";D68+="h";D68+="are.js";q8$=J$F[v2_];if(q8$.src && q8$.src.indexOf(D68) > -+"1"){return q8$.src.replace(/standard\/share\.js/,"") + "thirdparty/";}}return "js/thirdparty/";}function P1G(D$i,S$t,W9C){var r8W,W36,J8A,s3p,s84,T2W,i9O,a06,j03;if(!S$t){S$t={};}r8W=[];W36="ciq-no-share";J8A=document.querySelector("body");if(S$t.hide && S$t.hide instanceof Array){s3p=S$t.hide.join(", ");s84=document.querySelectorAll(s3p);for(var Z15=0;Z15 < s84.length;Z15++){s84[Z15].classList.add(W36);}}J8A.classList.add("sharing");T2W=D$i.chart.container.getElementsByTagName("svg");i9O=[];a06=0;for(;a06 < T2W.length;a06++){j03=T2W[a06];i9O.push(j03.innerHTML);s0A(j03);}b22(D$i.chart.container,{allowTaint:!({}),logging:![],width:S$t.width || null,height:S$t.height || null,backgroundColor:S$t.background || null,useCORS:!0}).then(function(y9q){if(W9C){W9C(null,S$t.data?y9q.toDataURL("image/png"):y9q);}for(a06=0;a06 < T2W.length;a06++){T2W[a06].innerHTML=i9O[a06];}J8A.classList.remove("sharing");}).catch(function(i4W){var W5O;W5O="sh";W5O+="ari";W5O+="ng";if(W9C){W9C(i4W);}for(a06=+"0";a06 < T2W.length;a06++){T2W[a06].innerHTML=i9O[a06];}J8A.classList.remove(W5O);});}z$W.a9S();function s0A(u_l){var E64,u_O,R$k;E64="alignment";E64+="-baseline";if(!u_l.style){return;}u_O=getComputedStyle(u_l);R$k=[E64,"dominant-baseline","fill","fill-opacity","font-family","font-size","font-variant","font-weight","text-align","text-anchor"];R$k.forEach(function(c2m){z$W.a9S();if(!u_l.style[c2m] && u_O[c2m]){u_l.style[c2m]=u_O[c2m];}});for(var o8B in u_l.children){s0A(u_l.children[o8B]);}}function x85(u1z){z$W.a9S();if(typeof html2canvas === "undefined"){if(typeof requirejs !== "undefined"){try{return requirejs(["html2canvas.min.js"],function(j0M){b22=j0M;z$W.D0H();return u1z();});}catch(i_3){console.warn("Require loading has failed, attempting to load html2canvas manually.");}}a$R.loadScript(L8C() + "html2canvas.min.js",function(){z$W.a9S();b22=html2canvas;return u1z();});}else {b22=html2canvas;return u1z();}}a$R=typeof _CIQ !== "undefined"?_CIQ:U$7.CIQ;a$R.Share=a$R.Share || (function(){});a$R.Share.FullChart2PNG=function(T0V,b6D,B$b){var u4I;z$W.D0H();u4I="u";u4I+="nd";u4I+="efined";if(!T0V || !T0V.chart){return;}if(typeof html2canvas === u4I){return x85(function(){return P1G(T0V,b6D,B$b);});}b22=html2canvas;P1G(T0V,b6D,B$b);};a$R.Share.createImage=function(X5f,g84,d8E){var k1C,H47,A88,P4s,P83,N8N,B0e,D0Q,A1J;k1C="im";k1C+="g";H47=[].slice.call(arguments);d8E=H47.pop();if(g84 === null || typeof g84 != "object"){g84={widthPX:H47[1],heightPX:H47[2],imageType:H47[3]};}A88=g84.widthPX;P4s=g84.heightPX;P83=g84.imageType;N8N=X5f.chart.canvas.height;B0e=X5f.chart.canvas.width;if(X5f.chart.canvas.style.height){N8N=a$R.stripPX(X5f.chart.canvas.style.height);B0e=a$R.stripPX(X5f.chart.canvas.style.width);}if(A88 && P4s){N8N=P4s;B0e=A88;}else if(P4s){B0e=X5f.chart.canvas.width * (N8N / X5f.chart.canvas.height);}else if(A88){B0e=A88;N8N=X5f.chart.canvas.height * (A88 / X5f.chart.canvas.width);}D0Q=P83?"image/" + P83:"image/png";A1J=document.createElement(k1C);A1J.onload=function(){a$R.Share.FullChart2PNG(X5f,{image:this,width:B0e,height:N8N,hide:g84.hide},function(w2Z,t0y){z$W.D0H();var h$V;if(w2Z){h$V="Error producin";h$V+="g canvas snap";h$V+="shot: ";z$W.D0J(0);console.warn(z$W.q7n(h$V,w2Z));}else {try{d8E(t0y.toDataURL(D0Q));;}catch(r6b){console.warn("Safari devices do not handle CORS enabled images. Using the charts' canvas as a fallback.");d8E(A1J.src);}}});};A1J.src=X5f.chart.canvas.toDataURL(D0Q);};a$R.Share.uploadImage=function(W$X,O4Q,p9c,e0E){var H5$;if(!p9c){p9c={};}z$W.D0H();p9c.image=W$X;H5$=a$R.postAjax(O4Q,JSON.stringify(p9c),function(u0Z,U6f){if(u0Z != 200){e0E(u0Z,null);return;}e0E(null,U6f);});if(!H5$){e0E(0,null);}};a$R.Share.shareChart=function(x6G,Z_k,A$0){a$R.Share.createImage(x6G,{},function(S7F){var d63,B4I,P_J,Q9E,S08,x5V;z$W.a9S();d63=a$R.uniqueID();B4I="https://share.chartiq.com";z$W.D0J(37);P_J=z$W.q7n(d63,B4I,"/upload/");if(Z_k){if(Z_k.host){B4I=Z_k.host;}if(Z_k.path){P_J=B4I + Z_k.path + (("5133" << 0,520.23) != +"537.56"?"/":+"0x96c") + d63;}}Q9E=x6G.getStartDateOffset();S08={layout:x6G.exportLayout(),drawings:x6G.exportDrawings(),xOffset:Q9E,startDate:x6G.chart.dataSegment[Q9E].Date,endDate:x6G.chart.dataSegment[x6G.chart.dataSegment.length - 1].Date,id:d63,symbol:x6G.chart.symbol};x5V={id:d63,image:S7F,config:S08};a$R.Share.uploadImage(S7F,P_J,x5V,function(W92,G6I){if(W92 !== null){a$R.alert("error sharing chart: ",W92);}else {z$W.D0J(0);A$0(z$W.q7n(B4I,G6I));}});;});};};R=s0v=>{var r6U=A2IFV;var G99,h91,v72,A$D;G99=1908465696;h91=+"1307475919";v72=+"2";for(var w2r=1;r6U.Z2Z(w2r.toString(),w2r.toString().length,46458) !== G99;w2r++){A$D=!_CIQ === ""?_CIQ:s0v.CIQ;v72+=2;}if(r6U.U6$(v72.toString(),v72.toString().length,14190) !== h91){A$D=typeof _CIQ !== "undefined"?_CIQ:s0v.CIQ;}r6U.a9S();A$D.ChartEngine.prototype.setRange=function(X8N,M8u){var f_p,w2c,P2N,T5W,R5k,y$a,k6L,A7T,L36,V3V,a$7,u8G,L$P,T75,Z2N,m8y,B6W,s28,c_h,A7a,x21,B$L,c3A,E7K,A3P,P5i,h0C,o7I,G6w,T_S,m3P,t6L,r_3,E0I;function n6w(h8K){var z4N,E2w,R2R,g8o,j9Z,W7V,e0Z,y0u,Q_r,P_Z,F2A,W_Q,y89,l$x,X99,y50,A3W,r1L,f6E,R_7,T9A,B0c,z3c,w96;z4N="l";z4N+="a";z4N+="you";z4N+="t";E2w="d";E2w+="a";E2w+="y";R2R="undef";R2R+="ined";if(typeof h8K == R2R){h8K=null;}g8o=+"0";j9Z=+"0";W7V=new Date();r6U.a9S();e0Z=X8N.base;y0u=X8N.periodicity;Q_r=y$a.layout;if(X8N.goIntoFuture && (!w2c.masterData.length || P2N > w2c.masterData[w2c.masterData.length - 1].DT)){P_Z=w2c.masterData.length?w2c.masterData.pop():{DT:P2N};r6U.H6P(40);F2A=r6U.S40(32,"33390567");W_Q=+"1303637610";y89=2;for(var K2k=1;r6U.U6$(K2k.toString(),K2k.toString().length,27995) !== F2A;K2k++){l$x=y$a.doCleanupGaps([P_Z,{DT:T5W}],w2c,{cleanupGaps:"",noCleanupDates:!!0});y$a.setMasterData(w2c.masterData.concat(l$x),w2c,{noCleanupDates:!1});r6U.D0J(40);y$a.createDataSet(1,r6U.q7n(64,"1"),{appending:!1});y89+=2;}if(r6U.Z2Z(y89.toString(),y89.toString().length,81742) !== W_Q){l$x=y$a.doCleanupGaps([P_Z,{DT:T5W}],w2c,{cleanupGaps:"gap",noCleanupDates:!!({})});y$a.setMasterData(w2c.masterData.concat(l$x),w2c,{noCleanupDates:!!({})});y$a.createDataSet(null,null,{appending:!![]});}}X99=w2c.dataSet;y50=X99.length;if(!X99 || y50 === 0){if(M8u){M8u(h8K);}return;}if(e0Z === E2w && y0u && y0u.interval === "day"){r1L=X8N.multiplier;g8o=y50 < r1L?0:y50 - r1L;r6U.D0J(7);j9Z=r6U.S40(1,y50);}else if(e0Z === "today" && X99[y50 - 1].DT.getDate() < W7V.getDate()){f6E=new Date(X99[y50 - +"1"].DT.getTime());R_7=f6E.getTime();A3W=+"0";for(var J4U=y50 - 1;J4U >= 0;J4U--){if(X99[J4U] && X99[J4U].DT.getDate() != f6E.getDate()){f6E=new Date(+X99[J4U + 1].DT);r6U.H6P(0);A3W=r6U.q7n(J4U,1);break;}}g8o=A3W;r6U.D0J(7);j9Z=r6U.q7n(1,y50);}else {T9A="a";T9A+="l";T9A+="l";if(X8N.base != T9A && (P2N.getTime() >= X99[0].DT.getTime() || X8N.goIntoPast)){g8o=y$a.tickFromDate(P2N,w2c,null,!0);}else {g8o=0;}if(X8N.base != "all" && (T5W.getTime() <= X99[y50 - 1].DT.getTime() || X8N.goIntoFuture)){j9Z=y$a.tickFromDate(T5W,w2c);if(j9Z > y50 - 1){j9Z--;};}else {r6U.H6P(7);j9Z=r6U.q7n(1,y50);}}r6U.D0J(113);B0c=r6U.S40(64,"1",g8o,j9Z);if(B0c < 1){if(M8u){M8u(h8K);}return;}z3c=X8N.padding || 0;if(j9Z < y50 - 1){z3c=0;}w96=(w2c.width - z3c) / B0c;y$a.setCandleWidth(w96,w2c);r6U.D0J(114);w2c.scroll=r6U.S40(j9Z,y50,"1",B0c);y$a.micropixels=1;for(var B6b in y$a.panels){y$a.calculateYAxisMargins(y$a.panels[B6b].yAxis);}if(!X8N.dontSaveRangeToLayout){delete X8N.chart;delete Q_r.setSpan;Q_r.range=X8N;;}else {delete Q_r.range;}y$a.draw();y$a.changeOccurred(z4N);if(!f_p){y$a.dispatch("periodicity",{stx:y$a,differentData:P5i,prevPeriodicity:{interval:c3A,periodicity:E7K,timeUnit:A3P}});}if(M8u){M8u(h8K);}}if(A$D.isEmpty(X8N)){X8N={dtLeft:arguments[0],dtRight:arguments[1],padding:arguments[2],chart:arguments[3]};M8u=arguments[4];}if(this.staticRange){X8N.goIntoPast=X8N.goIntoFuture=!!"1";}if(!X8N.chart){X8N.chart=this.chart;}if(typeof X8N.padding == "undefined"){X8N.padding=0;}f_p=![];w2c=X8N.chart;P2N=typeof X8N.dtLeft === "string"?new Date(X8N.dtLeft):X8N.dtLeft;T5W=new Date();function K$d(x3b,r0x,K8a,t1s,m6n,P06){var B6f,a2h,f9P,Y0C;B6f=0;r6U.H6P(7);a2h=r6U.q7n(r0x,x3b);if(A$D.ChartEngine.isDailyInterval(K8a)){f9P="w";f9P+="eek";if(K8a == "month"){B6f=a2h / A$D.MONTH / t1s;}else if(K8a == f9P){B6f=a2h / A$D.WEEK / t1s;}else {B6f=a2h / A$D.DAY / t1s;}}else {if(!isNaN(K8a)){Y0C="secon";Y0C+="d";if(m6n == "millisecond"){r6U.H6P(115);B6f=r6U.q7n(K8a,t1s,a2h);}else if(m6n == Y0C){B6f=a2h / A$D.SECOND / (t1s * K8a);}else {B6f=a2h / A$D.MINUTE / (t1s * K8a);}}}return Math.round(B6f);;}if(X8N.dtRight){T5W=typeof X8N.dtRight === "string"?new Date(X8N.dtRight):X8N.dtRight;}if(!P2N){R5k=this.standardMarketIterator(T5W,null,w2c);P2N=R5k.previous(w2c.maxTicks);if(!X8N.periodicity){f_p=!!({});}}r6U.a9S();w2c.inflectionPoint=P2N;this.layout.range={dtLeft:P2N,dtRight:T5W};y$a=this;k6L=0;if(this.quoteDriver){if(f_p){A7T=this.layout.interval;V3V=this.layout.timeUnit;L36=this.layout.periodicity;}else if(X8N.periodicity){a$7=A$D.cleanPeriodicity(X8N.periodicity.period,X8N.periodicity.interval,X8N.periodicity.timeUnit);A7T=a$7.interval;V3V=a$7.timeUnit;L36=a$7.period;}else {u8G=T5W.getTime() - P2N.getTime();if(!this.autoPickCandleWidth.turnOn){L$P=this.staticRangePeriodicityMap;T75=null;for(var Z9k=+"0";Z9k < L$P.length;Z9k++){Z2N=L$P[Z9k];if(u8G / Z2N.rangeInMS < +"1.001"){T75=Z2N;break;}}A7T=T75.interval;L36=T75.periodicity;V3V=T75.timeUnit;}else {m8y=0;if(this.autoPickCandleWidth.candleWidth){m8y=this.autoPickCandleWidth.candleWidth;}else {m8y=this.chart.barsHaveWidth?"5" << 64:2;}B6W=w2c.width / m8y;s28=this.dynamicRangePeriodicityMap;A7T=s28[0].interval;L36=1;for(var U0t=0;U0t < s28.length;U0t++){A7a=u8G / s28[U0t].rangeInMS;if(A7a < B6W){if(s28[U0t - 1]){A7T=s28[U0t - 1].interval;V3V=s28[U0t - 1].timeUnit;r6U.D0J(14);L36=Math.ceil(r6U.q7n(B6W,c_h));}else {A7T=s28[U0t].interval;V3V=s28[U0t].timeUnit;L36=1;}break;}c_h=A7a;}}}x21=this.chart.scroll;B$L=this.layout.candleWidth;c3A=this.layout.interval;E7K=this.layout.periodicity;A3P=this.layout.timeUnit;this.chart.scroll=this.chart.maxTicks=K$d(T5W.getTime(),P2N.getTime(),A7T,L36,V3V,this.dontRoll);this.layout.candleWidth=this.chart.width / this.chart.maxTicks;P5i=this.needDifferentData({period:L36,interval:A7T,timeUnit:V3V});if(Object.keys(this.chart.endPoints).length && (this.chart.endPoints.begin > P2N || this.chart.endPoints.end < T5W)){P5i=!0;}if(!this.chart.masterData || !this.chart.masterData.length || P5i || X8N.forceLoad){h0C="w";h0C+="e";h0C+="e";h0C+="k";this.layout.interval=A7T;this.layout.periodicity=L36;this.layout.timeUnit=V3V;if(!this.layout.timeUnit){o7I="t";o7I+="i";o7I+="c";o7I+="k";if(A$D.ChartEngine.isDailyInterval(this.layout.interval)){this.layout.timeUnit=null;}else if(this.layout.interval == "second"){this.layout.timeUnit="second";}else if(this.layout.interval != o7I){this.layout.timeUnit="minute";}}G6w={symbol:w2c.symbol,symbolObject:w2c.symbolObject,chart:w2c,nodraw:!!"1"};if(this.layout.interval == "tick"){r6U.H6P(10);T_S=r6U.q7n("1123097109",20);m3P=-953471532;t6L=2;for(var z8i="1" | 1;r6U.Z2Z(z8i.toString(),z8i.toString().length,19603) !== T_S;z8i++){G6w.startDate=P2N;t6L+=2;}if(r6U.Z2Z(t6L.toString(),t6L.toString().length,34020) !== m3P){G6w.startDate=P2N;}G6w.startDate=P2N;G6w.endDate=T5W;}if(!this.displayInitialized){G6w.initializeChart=!!1;}r_3={symbol:w2c.symbol,symbolObject:w2c.symbolObject,interval:this.layout.interval};if((r_3.interval == "month" || r_3.interval == h0C) && !this.dontRoll){r_3.interval="day";}E0I=Math.max(this.quoteDriver.getQuoteFeed(r_3).behavior.bufferSize + 50,+"200");R5k=this.standardMarketIterator(P2N,null,w2c);G6w.startDate=new Date(R5k.previous(E0I).getTime());R5k=this.standardMarketIterator(T5W,null,w2c);G6w.endDate=new Date(R5k.next(E0I).getTime());if(G6w.endDate < Date.now()){this.isHistoricalModeSet=!!({});}this.clearCurrentMarketData(this.chart);clearTimeout(this.streamParameters.timeout);this.quoteDriver.newChart(G6w,n9k);}else {if(this.layout.interval != A7T || this.layout.periodicity != L36 || this.layout.timeUnit != V3V || !this.chart.dataSegment || !this.chart.dataSegment["0" * 1] || this.chart.dataSegment[0].DT != w2c.inflectionPoint){this.layout.interval=A7T;this.layout.periodicity=L36;this.layout.timeUnit=V3V;this.createDataSet();}n9k();}}else {n6w();}function n9k(t_3){var Z2u;if(t_3 && k6L === "0" * 1){w2c.scroll=x21;y$a.setCandleWidth(B$L);y$a.layout.interval=c3A;y$a.layout.periodicity=E7K;y$a.layout.timeUnit=A3P;if(M8u){M8u(t_3);}return;}k6L++;if(k6L > 10){Z2u="CIQ.ChartEngine.setRange(): Too many loads (10) from server. Stoppi";Z2u+="ng. Check periodicity logic.";console.log(Z2u);n6w();return;}n6w();;}};A$D.ChartEngine.prototype.setSpan=function(a7O,p83){var T3j,p7Y,X1w,h_7,v5B,i3t,M1N,h8o,q2n,G$U,S37,x7$,Z6c,d$6,a9k,L0a,T1Y,E0R,c_Y,U6W;T3j="ob";function o3n(z27,Q_I){var q2L;if(!d$6){return z27;}q2L=7;if(Q_I){z27.setHours(z27.getHours() + q2L);}else {z27.setHours(z27.getHours() - q2L);if(!i3t.isMarketDate(z27)){z27.setDate(z27.getDate() - 2);};}return z27;}T3j+="j";T3j+="e";T3j+="ct";p7Y=arguments[0];X1w=arguments[1];h_7=arguments[2];v5B=arguments[+"3"];if(typeof a7O == T3j){p7Y=a7O.period?a7O.period:a7O.multiplier?a7O.multiplier:1;X1w=a7O.interval?a7O.interval:a7O.base?a7O.base:a7O.span?a7O.span:a7O.period;h_7=a7O.padding;v5B=a7O.chart;}else {a7O={period:p7Y,interval:X1w,padding:h_7,chart:v5B};p83=arguments[5];}if(!v5B){v5B=this.chart;}i3t=v5B.market;X1w=X1w.toLowerCase();if(X1w == "all"){a7O.dontSaveRangeToLayout=!!"1";this.displayAll(a7O,p83);return;}h8o=X1w;q2n=1;if(X1w == "today"){h8o="day";}else if(X1w == "year"){G$U="m";G$U+="on";G$U+="t";G$U+="h";h8o=G$U;q2n=12;}S37=A$D.shallowClone(a7O);x7$={begin:i3t.marketZoneNow(),interval:h8o,period:q2n};Z6c=x7$.begin;d$6=A$D.Market.Symbology.isForexSymbol(v5B.symbol);if(X1w === "ytd"){Z6c=q_v(Z6c);Z6c.setMonth(0);Z6c.setDate(1);}else if(X1w === "month"){Z6c=q_v(new Date());Z6c.setMonth(Z6c.getMonth() - p7Y);}else if(X1w === "year"){Z6c=q_v(new Date());Z6c.setFullYear(Z6c.getFullYear() - p7Y);}else if(X1w === "week"){Z6c=q_v(new Date());Z6c.setDate(Z6c.getDate() - p7Y * 7);}else if(X1w === "day" && p7Y == "1" * 1 && i3t.isMarketDay()){a9k=Z6c.getHours();L0a=Z6c.getMinutes();T1Y=Z6c.getSeconds();E0R=Z6c.getMilliseconds();M1N=i3t.newIterator(x7$);Z6c=M1N.previous();Z6c.setHours(a9k,L0a,T1Y,E0R);Z6c=i3t._convertFromMarketTZ(Z6c);}else if(X1w === "today"){x7$.begin=o3n(Z6c,!![]);M1N=i3t.newIterator(x7$);if(i3t.isOpen() || i3t.getPreviousOpen().getDate() == Z6c.getDate()){M1N.next();}Z6c=M1N.previous();o3n(Z6c);S37.goIntoFuture=!!1;S37.dtRight=new Date(+Z6c);S37.dtRight.setDate(Z6c.getDate() + 1);S37.dtRight=i3t._convertFromMarketTZ(S37.dtRight);if(!d$6){Z6c.setHours(M1N.market.zopen_hour);Z6c.setMinutes(M1N.market.zopen_minute);Z6c.setSeconds(0);}Z6c=i3t._convertFromMarketTZ(Z6c);}else {c_Y="d";c_Y+="ay";if(X1w == "day"){x7$.begin=o3n(Z6c,!!({}));}M1N=i3t.newIterator(x7$);if(p7Y == 1){p7Y++;}r6U.H6P(7);Z6c=M1N.previous(r6U.S40(1,p7Y));if(X1w == c_Y){Z6c=i3t._convertFromMarketTZ(o3n(Z6c));}}S37.dtLeft=Z6c;if(S37.maintainPeriodicity){S37.periodicity={};S37.periodicity.interval=this.layout.interval;S37.periodicity.period=this.layout.periodicity;}v5B.spanLock=![];S37.dontSaveRangeToLayout=!"";function q_v(Y7x){Y7x.setHours(0);Y7x.setMinutes(0);Y7x.setSeconds(+"0");Y7x.setMilliseconds(0);return Y7x;}U6W=this;this.setRange(S37,function(I0I){U6W.layout.setSpan=a7O;U6W.changeOccurred("layout");r6U.a9S();if(X1w == "today"){v5B.spanLock=!!({});;}if(p83){p83(I0I);}});};A$D.ChartEngine.prototype.getSpanCandleWidth=function(U6S){var K8t,I$x,b6U,R87,V9f,w7K,K9n,H7M,S3p,W2w;K8t="mont";K8t+="h";if(!U6S || !U6S.base || !U6S.multiplier){return;}I$x=parseFloat(U6S.multiplier);b6U=U6S.base;R87=new Date();V9f=new Date();if(b6U == "year"){V9f.setFullYear(V9f.getFullYear() - I$x);}else if(b6U == K8t){w7K=391528754;K9n=1131678275;H7M=2;for(var f_z=1;r6U.Z2Z(f_z.toString(),f_z.toString().length,84725) !== w7K;f_z++){V9f.setMonth(V9f.getMonth() % I$x);H7M+=2;}if(r6U.U6$(H7M.toString(),H7M.toString().length,90186) !== K9n){V9f.setMonth(V9f.getMonth() - I$x);}}else if(b6U == "day"){V9f.setDate(V9f.getDate() - I$x);}else if(b6U == "week"){V9f.setDate(V9f.getDate() - 7 * I$x);}else if(b6U == "YTD"){V9f.setMonth(0);r6U.H6P(10);V9f.setDate(r6U.S40("1",0));}r6U.H6P(94);var X49=r6U.q7n(2,7,16,12011,13000);r6U.H6P(52);r6U.a9S();var z25=r6U.q7n(660,72,10);r6U.D0J(0);var U4O=r6U.S40(49,11);r6U.H6P(94);var e49=r6U.S40(14,18,3,17,42);S3p=(R87.getTime() - V9f.getTime()) / X49 / z25 / U4O / e49;r6U.H6P(116);S3p=r6U.S40(S3p,7,"5",32);W2w=this.chart.width / S3p;return W2w;};A$D.ChartEngine.prototype.displayAll=function(t$J,T8M){var U6n,F8L,D0d;var {chart:w1O, layout:x2j}=this;if(t$J && t$J.chart){w1O=t$J.chart;}function Z94(z4v){if(!z4v){U6n.quoteDriver.loadAll(w1O,i6e);}}function i6e(){var Y1C;if(!w1O.masterData || !w1O.masterData.length){return;}Y1C=A$D.clone(t$J);Y1C.dtLeft=w1O.endPoints.begin.DT;Y1C.dtRight=w1O.endPoints.end.DT;Y1C.periodicity={};Y1C.periodicity.interval=x2j.interval;Y1C.periodicity.period=x2j.periodicity;Y1C.periodicity.timeUnit=x2j.timeUnit;r6U.D0H();U6n.setRange(Y1C,function(b75){U6n.layout.setSpan={base:t$J.base,multiplier:t$J.multiplier};U6n.changeOccurred("layout");r6U.a9S();for(var c$Y in U6n.panels){U6n.calculateYAxisMargins(U6n.panels[c$Y].yAxis);}U6n.draw();if(T8M){T8M(b75);}});}U6n=this;if(!this.quoteDriver){i6e();return;}F8L=t$J.maintainPeriodicity?{period:x2j.periodicity,interval:x2j.interval,timeUnit:x2j.timeUnit}:{period:+"1",interval:"month",timeUnit:null};F8L=t$J.periodicity?t$J.periodicity:F8L;F8L=A$D.cleanPeriodicity(F8L.period,F8L.interval,F8L.timeUnit);D0d=this.needDifferentData(F8L);this.layout.periodicity=F8L.period;this.layout.interval=F8L.interval;this.layout.timeUnit=F8L.timeUnit;r6U.a9S();if(t$J.forceLoad || D0d){this.clearCurrentMarketData(this.chart);this.quoteDriver.newChart({noDraw:!![],symbol:this.chart.symbol,symbolObject:this.chart.symbolObject,chart:this.chart,initializeChart:!![],fetchMaximumBars:!!"1"},Z94);}else {if(w1O.moreAvailable || !w1O.upToDate){Z94();}else {this.createDataSet();i6e();}}};};D=l86=>{var X8z=A2IFV;X8z.a9S();var F3g;F3g=typeof _CIQ !== "undefined"?_CIQ:l86.CIQ;F3g.ChartEngine.prototype.importLayout=function(i2y,s6M){var y_x,B8I,D4G,S7V,p5a,e_4,R$_,E1j,s8v,L1M,M64,w0d,i6U,b0W,g8m,m2A,c2K,Q67,I1$,H0B,B3z,r6H,n7R,Y8d,H2v,k1O,h4X,l$k,O1G,f6h;if(!i2y){if(s6M.cb){s6M.cb();}return;}y_x=this;B8I=[];if(typeof s6M !== "object"){s6M={managePeriodicity:arguments[1],preserveTicksAndCandleWidth:arguments[2]};}D4G=this.layout;S7V=F3g.shallowClone(D4G);p5a=s6M.managePeriodicity;e_4=s6M.cb;R$_=s6M.seriesCB;E1j=s6M.noDataLoad;s8v=s6M.preserveTicksAndCandleWidth;L1M=null;if(this.exportDrawings){L1M=this.exportDrawings();this.abortDrawings();}this.currentlyImporting=!![];for(var o$I in D4G.studies){M64=D4G.studies[o$I];F3g.getFn("Studies.removeStudy")(this,M64);}this.overlays={};w0d=F3g.shallowClone(this.panels);this.panels={};i6U=F3g.clone(i2y);D4G.periodicity=S7V.periodicity;function E$1(B9v){var E1c,P1I;for(var T3w=+"0";T3w < B8I.length;T3w++){E1c="yaxisL";E1c+="HS";P1I=B8I[T3w];U_Z(P1I,E1c);U_Z(P1I,"yaxisRHS");}y_x.chart.yAxis=y_x.chart.panel.yAxis;function U_Z(M_W,V_i){var c20,W5c,I48,U7J;if(!M_W[V_i] || !M_W[V_i].length){return;}c20=B9v[M_W.name];if(!c20){return;}W5c=c20[V_i];I48=new Array(W5c.length);for(var R3B=+"0";R3B < W5c.length;R3B++){U7J=M_W[V_i].indexOf(W5c[R3B].name);if(U7J > -1){I48[U7J]=W5c[R3B];}else {I48.push(W5c[R3B]);}}if(I48.length){c20[V_i]=I48.filter(c2l);}}function c2l(p4I){return !!p4I;}}D4G.interval=S7V.interval;D4G.timeUnit=S7V.timeUnit;D4G.setSpan=S7V.setSpan;function e$H(F2v){var G$F,m4f,G$k,j6L,K__;G$F="lay";G$F+="out";if(L1M){y_x.importDrawings(L1M);}y_x.currentlyImporting=!"1";if(F2v){return;}j6L=[];for(var k_w in y_x.chart.series){K__="s";K__+="tu";K__+="dy";if(!y_x.removeSeries)break;G$k=y_x.chart.series[k_w];if(G$k.parameters.bucket == K__){m4f=!!({});y_x.removeSeries(G$k);j6L.push(G$k);}}for(var m2U=0;m2U < j6L.length;m2U++){G$k=j6L[m2U];y_x.addSeries(G$k.id,G$k.parameters,X1C);}if(!m4f){y_x.draw();}y_x.updateListeners(G$F);function X1C(){y_x.createDataSet();E$1(y_x.panels);y_x.calculateYAxisPositions();y_x.draw();}X8z.D0H();y_x.changeOccurred("layout");;}D4G.range=S7V.range;if(s8v){D4G.candleWidth=S7V.candleWidth;}else {if(!D4G.candleWidth){D4G.candleWidth=+"8";}}this.setCandleWidth(D4G.candleWidth);if(D4G.flipped){this.flipChart(D4G.flipped);}b0W=i6U.panels;Q67=function(o2I,a9B){X8z.a9S();return o2I.index < a9B.index?-1:"1" ^ 0;};for(g8m in b0W){if(!(("index" in b0W[g8m]))){Q67=null;}m2A=b0W[g8m];m2A.name=g8m;B8I.push(m2A);}D4G.panels={};I1$=null;if(B8I.length > 0){if(Q67){B8I.sort(Q67);}for(var h_M="0" >> 64;h_M < B8I.length;++h_M){m2A=B8I[h_M];c2K=m2A.yAxis?new F3g.ChartEngine.YAxis(m2A.yAxis):null;this.stackPanel(m2A.display,m2A.name,m2A.percent,m2A.chartName,c2K);if(m2A.soloing){I1$=this.panels[m2A.name];}}}if(F3g.isEmpty(b0W)){this.stackPanel("chart","chart",1,"chart");}this.resizeCanvas();for(var c48 in w0d){H0B=w0d[c48];B3z=this.panels[c48];if(B3z){this.container.removeChild(B3z.holder);if(H0B.handle){this.container.removeChild(H0B.handle);}r6H={holder:!![],subholder:!!"1",display:!"",icons:!0};for(var S6f in r6H){B3z[S6f]=H0B[S6f];}this.configurePanelControls(B3z);if(H0B.chart.panel == H0B){H0B.chart.panel=B3z;};}else {this.privateDeletePanel(H0B);}}this.chart.panel=this.panels.chart;E$1(this.panels);F3g.dataBindSafeAssignment(D4G,F3g.clone(i6U));n7R=F3g.clone(D4G.studies);delete D4G.studies;for(var k_a in n7R){Y8d=n7R[k_a];F3g.getFn("Studies.addStudy")(this,Y8d.type,Y8d.inputs,Y8d.outputs,Y8d.parameters,Y8d.panel);}if(this.extendedHours){this.extendedHours.prepare(D4G.extended,D4G.marketSessions);}if(typeof D4G.chartType == "undefined"){D4G.chartType="line";}this.setMainSeriesRenderer();if(I1$){this.panelSolo(I1$);}this.adjustPanelPositions();E$1(this.panels);this.storePanels();if(!E1j){if(i6U.symbols && i6U.symbols.length){H2v={chart:this.chart};if(!s8v && p5a && i6U.range && Object.keys(i6U.range).length){H2v.range=i6U.range;}else if(!s8v && p5a && i6U.setSpan && Object.keys(i6U.setSpan).length){H2v.span=i6U.setSpan;}else if(p5a && i6U.interval){H2v.periodicity={interval:i6U.interval,period:i6U.periodicity,timeUnit:i6U.timeUnit};}else {H2v.periodicity={interval:S7V.interval,period:S7V.periodicity,timeUnit:S7V.timeUnit};}k1O=i6U.symbols[0].symbolObject || i6U.symbols[0].symbol;this.loadChart(k1O,H2v,function(Z8L){X8z.a9S();var Y4Y,m9Q;if(!Z8L){for(var L0n,u0p=1;u0p < i6U.symbols.length;++u0p){if(!y_x.addSeries)break;L0n=i6U.symbols[u0p];if(!L0n.parameters){L0n.parameters={};}Y4Y=F3g.clone(L0n.parameters);if(this.panels[Y4Y.panel]){y_x.addSeries(L0n.id,Y4Y,R9m);}else {m9Q="Warning: Seri";m9Q+="es \"";console.warn(m9Q + L0n.id + '" could not be imported due to a missing corresponding panel "' + Y4Y.panel + ((2540,+"616") >= "2100" * 1?+"578.57" <= 8680?(7.32e+3,"S"):!!0:'"'));}}if(i6U.chartScale){y_x.setChartScale(i6U.chartScale);}}e$H(Z8L);if(e_4){e_4.apply(null,arguments);}});return;}if(p5a){if(!s8v && this.setRange){h4X=i6U.range;if(h4X && Object.keys(h4X).length && this.chart.symbol){this.setRange(h4X,function(){e$H();if(e_4){e_4();}});return;}else if(i6U.setSpan && Object.keys(i6U.setSpan).length && this.chart.symbol){this.setSpan(i6U.setSpan,function(){X8z.a9S();e$H();if(e_4){e_4();}});return;}}l$k=i6U.interval;O1G=i6U.periodicity;f6h=i6U.timeUnit;if(isNaN(O1G)){O1G=1;}if(!l$k){l$k="day";}this.setPeriodicity({period:O1G,interval:l$k,timeUnit:f6h},function(){e$H();if(e_4){e_4();}});return;}}if(p5a){D4G.periodicity=i6U.periodicity;D4G.interval=i6U.interval;D4G.timeUnit=i6U.timeUnit;D4G.setSpan=i6U.setSpan;}this.createDataSet();if(!s8v){this.home();}function R9m(){y_x.calculateYAxisPositions();E$1(y_x.panels);if(R$_){R$_();}}e$H();if(e_4){e_4();}};F3g.ChartEngine.prototype.exportLayout=function(Z8Y){X8z.D0H();var c6l,s6E,r1f,w0V,J83,H9Y,B_R,l5w;c6l={};for(var g2X in this.layout){s6E="pane";s6E+="ls";r1f="stu";r1f+="d";r1f+="ies";if(g2X != "studies" && g2X != "panels" && g2X != "drawing"){c6l[g2X]=F3g.clone(this.layout[g2X]);}else if(g2X == r1f){c6l.studies={};}else if(g2X == s6E){c6l.panels={};}}w0V=0;for(var I5N in this.panels){J83=this.panels[I5N];if(J83.exportable === ![])continue;H9Y=c6l.panels[I5N]={};H9Y.percent=J83.percent;H9Y.display=J83.display;H9Y.chartName=J83.chart.name;H9Y.soloing=J83.soloing;H9Y.index=w0V++;H9Y.yAxis={name:J83.yAxis.name,position:J83.yAxis.position};if(J83.yaxisLHS){H9Y.yaxisLHS=h5A(J83.yaxisLHS);}if(J83.yaxisRHS){H9Y.yaxisRHS=h5A(J83.yaxisRHS);}}function h5A(L2N){var V59;V59=[];for(var m9R=0;m9R < L2N.length;m9R++){V59.push(L2N[m9R].name);}X8z.a9S();return V59;}for(var D9w in this.layout.studies){B_R=c6l.studies[D9w]={};l5w=this.layout.studies[D9w];B_R.type=l5w.type;B_R.inputs=F3g.clone(l5w.inputs);B_R.outputs=F3g.clone(l5w.outputs);B_R.panel=l5w.panel;B_R.parameters=F3g.clone(l5w.parameters);}if(Z8Y){c6l.symbols=this.getSymbols({"include-parameters":!![],"exclude-studies":!"","exclude-generated":!0});}else {delete c6l.symbols;}return c6l;};F3g.ChartEngine.prototype.importPreferences=function(N_8){F3g.extend(this.preferences,N_8);if(N_8.timeZone){this.setTimeZone(this.dataZone,N_8.timeZone);}if(N_8.language && F3g.I18N){F3g.I18N.localize(this,N_8.language);}this.changeOccurred("preferences");};F3g.ChartEngine.prototype.exportPreferences=function(){X8z.D0H();return this.preferences;};};N=m$6=>{var p8o,S9B,W9k,i3c,q1N,t05,I$$,i2v,s1q,w8y,N1H,Y$r,M34,z5d,j6q,W7j;p8o="Tr";p8o+="ue Ra";p8o+="nge";S9B="Expo";S9B+="ne";S9B+="ntial";W9k="Trian";W9k+="gular";i3c="Exponenti";i3c+="al";q1N="Expo";q1N+="ne";q1N+="ntial";t05="W";t05+="e";t05+="lles Wilder";I$$="Weigh";I$$+="t";I$$+="ed";i2v="Triangul";i2v+="ar";s1q="exponen";s1q+="tial";w8y="w";w8y+="ma";N1H="em";N1H+="a";Y$r="m";Y$r+="a";M34="u";M34+="n";M34+="defined";z5d="un";z5d+="defined";j6q=typeof _CIQ !== z5d?_CIQ:m$6.CIQ;W7j=typeof _timezoneJS !== M34?_timezoneJS:m$6.timezoneJS;if(j6q.ChartEngine){j6q.ChartEngine.prototype.rightClickOverlay=function(Q0a,L$K){var e4V,m3T;e4V="rig";e4V+="htClickOverla";e4V+="y";if(this.runPrepend("rightClickOverlay",arguments)){return;}m3T=this.overlays[Q0a];if(m3T.editFunction){m3T.editFunction(L$K);}else {this.removeOverlay(Q0a);}this.runAppend(e4V,arguments);};j6q.ChartEngine.prototype.addOverlay=function(Z5q){var e3R,O64,K6G,F_Y;e3R="a";e3R+="ddOverl";e3R+="ay";if(this.runPrepend(e3R,arguments)){return;}A2IFV.D0H();O64=+"1520886097";K6G=1981641975;F_Y=2;for(var w3o=1;A2IFV.U6$(w3o.toString(),w3o.toString().length,3782) !== O64;w3o++){this.overlays[Z5q.name]=Z5q;this.runAppend("addOverlay",arguments);F_Y+=2;}if(A2IFV.U6$(F_Y.toString(),F_Y.toString().length,5784) !== K6G){this.overlays[Z5q.name]=Z5q;this.runAppend("",arguments);}};j6q.ChartEngine.prototype.removeOverlay=function(Q8D){var C23,S7P,p0v,N4k,V1r,Q2z,y4A;C23="remo";C23+="veOv";C23+="erl";C23+="ay";if(this.runPrepend(C23,arguments)){return;}S7P=this.overlays[Q8D];for(var I$E in this.overlays){p0v="F";p0v+="i";p0v+="el";p0v+="d";N4k=this.overlays[I$E];V1r=[p0v];if(j6q.Studies){V1r=j6q.Studies.getFieldInputs(N4k);}for(var x4p="0" ^ 0;x4p < V1r.length;x4p++){if(S7P.outputMap[N4k.inputs[V1r[x4p]]]){this.removeOverlay(N4k.name);}}}A2IFV.a9S();if(S7P){this.cleanupRemovedStudy(S7P);Q2z=this.panels[S7P.panel];delete this.overlays[Q8D];this.checkForEmptyPanel(S7P.panel);}if(!this.currentlyImporting){y4A="lay";y4A+="out";this.displaySticky();this.createDataSet();this.changeOccurred(y4A);}this.resetDynamicYAxis();this.runAppend("removeOverlay",arguments);};j6q.ChartEngine.prototype.cleanupRemovedStudy=function(i94){if(!i94){return;}if(i94.study.removeFN){i94.study.removeFN(this,i94);}for(var f7Z in this.plugins){if(f7Z.indexOf("{" + i94.id + (+"459.68" != (541.96,9440)?"}":265.78)) > -1){delete this.plugins[f7Z];}}if(this.layout.studies){delete this.layout.studies[i94.name];}delete this.overlays[i94.name];if(j6q.Studies){j6q.Studies.removeStudySymbols(i94,this);}A2IFV.D0H();if(this.quoteDriver){this.quoteDriver.updateSubscriptions();}};}j6q.Studies=j6q.Studies || (function(){});j6q.Studies.DEFAULT_INPUTS={Period:14};j6q.Studies.DEFAULT_OUTPUTS={Result:"auto"};j6q.Studies.sortForProcessing=e1Y=>{var g4M,Q8H;g4M=[];function S_u(I7b,x6L){I7b.forEach(d_z=>{var g43;if(x6L.indexOf(d_z) == -+"1"){g43=d_z.getDependents(e1Y);if(g43.length){S_u(g43,x6L);}x6L.unshift(d_z);}});}Q8H=e1Y.layout.studies;if(Q8H){S_u(Object.values(Q8H),g4M);}return g4M;};j6q.Studies.StudyDescriptor=function(a_6,T_d,P2v,W3y,Z1X,c76){var g9y,V_T,k6H;g9y="u";g9y+="nde";g9y+="fin";g9y+="ed";V_T="Cl";V_T+="o";V_T+="s";V_T+="e";this.name=a_6;this.type=T_d;this.panel=P2v;this.inputs=W3y;this.outputs=Z1X;this.parameters=c76;this.outputMap={};this.min=null;this.max=null;A2IFV.D0J(1);this.startFrom=A2IFV.q7n(1,"0");this.subField=V_T;k6H=j6q.Studies.studyLibrary[T_d];if(!k6H){k6H={};if(P2v == "chart" || !P2v && c76 && c76.chartName == "chart"){this.overlay=!"";}}if(typeof k6H.inputs == "undefined"){k6H.inputs=j6q.clone(j6q.Studies.DEFAULT_INPUTS);}if(typeof k6H.outputs == g9y){k6H.outputs=j6q.clone(j6q.Studies.DEFAULT_OUTPUTS);}this.study=k6H;A2IFV.D0H();this.libraryEntry=k6H;;};j6q.Studies.StudyDescriptor.prototype.getYAxis=function(Z0h){var p7C,I$3,S5o;p7C=this.yAxis;if(this.parameters){I$3=this.parameters.yaxisDisplayValue;}if(!p7C){S5o=Z0h.panels[this.panel];if(S5o){p7C=Z0h.getYAxisByName(S5o,I$3) || Z0h.getYAxisByName(S5o,this.name) || S5o.yAxis;}}if(!p7C){p7C=Z0h.getYAxisByName(Z0h.chart.panel,I$3) || Z0h.chart.panel.yAxis;}return p7C;};j6q.Studies.StudyDescriptor.prototype.getContext=function(G19){return G19.chart.context;};j6q.Studies.StudyDescriptor.prototype.getDependents=function(v0$,x9J){var M6W,e2L,K3H;M6W=[];for(var O8N in v0$.layout.studies){e2L=v0$.layout.studies[O8N];if(e2L == this)continue;K3H=j6q.Studies.getFieldInputs(e2L);for(var x4v=0;x4v < K3H.length;x4v++){if(e2L.inputs[K3H[x4v]].includes(this.name)){if(x9J && e2L.parameters && e2L.parameters.panelName)continue;M6W.push(e2L);M6W=M6W.concat(e2L.getDependents(v0$,x9J));break;}}}A2IFV.a9S();return M6W;};j6q.Studies.StudyDescriptor.prototype.undraggable=function(O0q){var W8Y;W8Y=this.study.attributes;if(W8Y){if(W8Y.panelName && W8Y.panelName.hidden){return !!"1";}if(W8Y.yaxisDisplayValue && W8Y.yaxisDisplayValue.hidden){return !"";}}return !!0;};j6q.Studies.StudyDescriptor.prototype.appendFutureTicks=function(J4H,h08){var X3c,v7l,K0K,E2t;X3c=J4H.chart.scrubbed;A2IFV.a9S();if(!X3c.length){return;}v7l=J4H.standardMarketIterator(X3c[X3c.length - 1].DT);for(K0K=h08.length - ("1" >> 0);K0K >= 0;K0K--){E2t=h08[K0K];for(var W$9 in E2t){if(E2t[W$9] || E2t[W$9] === 0){K0K=-1;break;}}if(K0K == -1)break;h08.pop();}for(K0K=0;K0K < h08.length;K0K++){E2t=h08[K0K];if(!E2t.DT){E2t.DT=v7l.next();}if(!E2t.displayDate){J4H.setDisplayDate(E2t);}E2t.futureTick=!![];X3c.push(E2t);}};j6q.Studies.generateID=function(l26,N2j,B2V,k0I,I8O){var r9M=A2IFV;var Q4_,j6h,D7C,P3z,e0T,l2k,f$a,i3S;Q4_=j6q.Studies.studyLibrary[N2j];r9M.H6P(37);j6h=r9M.q7n("\u200c","\u200c",I8O || N2j);D7C=j6h;if(Q4_){if(Q4_.customRemoval){return D7C;}}r9M.D0H();if(!j6q.isEmpty(B2V)){P3z=!!1;for(var l1U in B2V){e0T="Anc";e0T+="h";e0T+="or Selector";if(["id","display","Shading",e0T].includes(l1U)){continue;}l2k=B2V[l1U];if(l2k == "field")continue;l2k=l2k.toString();if(j6q.Studies.prettify[l2k] !== undefined){l2k=j6q.Studies.prettify[l2k];}if(P3z){f$a=" ";f$a+="(";P3z=!!0;D7C+=f$a;}else {if(l2k){D7C+=",";}}D7C+=l2k;}if(!P3z){D7C+=(372.94,+"5750") == 459?6814 === "9149" << 64?6.33e+3:("e",0x24ee):")";}}if(k0I && k0I.indexOf(D7C) === 0){return k0I;}if(l26.layout.studies && l26.layout.studies[D7C]){for(var t3A=2;t3A < 50;t3A++){r9M.D0J(37);i3S=r9M.q7n(t3A,D7C,446.63 == 522.61?!!({}):"-");if(!l26.layout.studies[i3S]){D7C=i3S;break;}}}return D7C;};j6q.Studies.DialogHelper=function(G1K){var e_2=A2IFV;var p2N,H0p,z5X,h1I,m7q,m8N,g6E,t91,F7F,m9h,Z4x,u$X,q1x,M9h,E4D,A7X,H65,g6U,Q3K,L2m,d8I,s0R,u93,S6O,v3D,A6C,P3P,j6g,e$6,g0w,e8r,E$2,l1w,F17,v$y,A4$,a3Y,D$l,g1H,M4I,z7Q,a6L,m6J,l7B,B8u;p2N="u";p2N+="ndefi";p2N+="n";p2N+="ed";H0p=this.stx=G1K.stx;z5X=this.sd=G1K.sd;this.name=z5X?z5X.type:G1K.name;function V7Z(y$3,k4e){if(!this.attributes[y$3]){this.attributes[y$3]={};}if(k4e){this.attributes[y$3].hidden=!!({});}}this.signal=1;this.inputs=[];function U$e(X27){var Z9n,L6Z,U47,Y7F;Z9n="se";Z9n+="lect";L6Z={};U47=X27.defaults;Y7F={name:X27.name,heading:H0p.translateIf(X27.label),defaultValue:U47[0],value:X27.value,options:L6Z,type:Z9n};for(var w7P=0;w7P < U47.length;w7P++){L6Z[U47[w7P]]=H0p.translateIf(U47[w7P]);}if(X27.color !== undefined){Y7F.defaultColor=H0p.defaultColor;Y7F.color=X27.color;}return Y7F;}this.outputs=[];this.parameters=[];h1I=this.libraryEntry=z5X?z5X.study:j6q.Studies.studyLibrary[G1K.name];if(typeof h1I.inputs == p2N){h1I.inputs=j6q.clone(j6q.Studies.DEFAULT_INPUTS);}if(typeof h1I.outputs == "undefined"){h1I.outputs=j6q.clone(j6q.Studies.DEFAULT_OUTPUTS);}m7q=z5X && H0p.panels[z5X.panel]?H0p.panels[z5X.panel]:H0p.chart.panel;m8N=m7q.chart;this.title=H0p.translateIf(h1I.name);this.attributes=j6q.clone(h1I.attributes);if(!this.attributes){this.attributes={};}for(var H8a in this.attributes){g6E=this.attributes[H8a];for(var k62 in g6E){if(typeof g6E[k62] == "function"){g6E[k62]=g6E[k62].call(z5X);}}}t91=[];F7F=H0p.layout.studies;m9h=[];if(z5X){m9h=Array.prototype.concat(z5X,z5X.getDependents(H0p));}function q20(l$7){var Y7T,O8G;Y7T="a";Y7T+="li";function q$1(P5Y,r6B){e_2.a9S();return "Panel " + r6B.toString();}Y7T+="a";Y7T+="s";if(l1w == Y7T){O8G=1;for(var Y3W in H0p.panels){if(Y3W == l$7){return q$1(Y3W,O8G);}O8G++;}}return l$7;}for(var l3u in F7F){if(m9h.indexOf(F7F[l3u]) > -1)continue;for(var z4I in F7F[l3u].outputMap){t91.push(z4I);}}function P_T(N5u){var u9z,V18;u9z="checkb";u9z+="ox";e_2.D0H();V18={name:N5u.name,heading:H0p.translateIf(N5u.label),defaultValue:N5u.defaults,value:N5u.value,type:u9z};return V18;}for(var T0B in h1I.inputs){Z4x={};this.inputs.push(Z4x);Z4x.name=T0B;Z4x.heading=H0p.translateIf(T0B);u$X=h1I.inputs[T0B];if(z5X && z5X.inputs && typeof z5X.inputs[T0B] != "undefined" && z5X.inputs[T0B] !== null){Z4x.value=z5X.inputs[T0B];}else {Z4x.value=h1I.inputs[T0B];}Z4x.defaultInput=h1I.inputs[T0B];if(!this.attributes[T0B]){this.attributes[T0B]=j6q.Studies.inputAttributeDefaultGenerator(Z4x.defaultInput);}if(u$X.constructor == Number){Z4x.type="number";}else if(u$X.constructor == String){q1x=j6q.Studies.movingAverageHelper(H0p,Z4x.defaultInput);if(q1x){M9h="o";M9h+="p";M9h+="t";M9h+="ions";Z4x.type="select";Z4x.defaultInput=q1x;E4D=j6q.Studies.movingAverageHelper(H0p,Z4x.value);if(!E4D){E4D=Z4x.value;}Z4x.value=E4D;Z4x.options=j6q.Studies.movingAverageHelper(H0p,M9h);}else if(u$X == "field"){A7X="hl/";A7X+="2";Z4x.type="select";Z4x.options={};H65=["Open","High","Low","Close","Adj_Close",A7X,"hlc/3","hlcc/4","ohlc/4",m8N.defaultPlotField].concat(t91);for(var s6A=0;s6A < H65.length;s6A++){g6U=H65[s6A];Z4x.options[g6U]=H0p.translateIf(g6U);}if(Z4x.value == "field"){Z4x.value="Close";}if(Z4x.defaultInput == "field"){Z4x.defaultInput="Close";}}else {Q3K="hh:mm";Q3K+=":ss";L2m="yyyy-m";L2m+="m-dd";d8I="t";d8I+="e";d8I+="x";d8I+="t";Z4x.type=d8I;if(this.attributes[T0B].placeholder == L2m){Z4x.type="date";}else if(this.attributes[T0B].placeholder == Q3K){Z4x.type="time";}}}else if(u$X.constructor == Boolean){Z4x.type="checkbox";if(Z4x.value === !0 || Z4x.value == "true" || Z4x.value == "on"){Z4x.value=!!1;}}else if(u$X.constructor == Array){Z4x.type="select";Z4x.options={};for(var X3s=0;X3s < u$X.length;X3s++){Z4x.options[u$X[X3s]]=H0p.translateIf(u$X[X3s]);}if(Z4x.value.constructor == Array){Z4x.value=Z4x.value[0];}if(this.attributes[T0B].defaultSelected){Z4x.defaultInput=this.attributes[T0B].defaultSelected;}else {e_2.D0J(21);Z4x.defaultInput=u$X[e_2.S40("0",0)];}}}this.dateTimeInputs=[];for(var H9_=0;H9_ < this.inputs.length;H9_++){s0R="d";s0R+="at";s0R+="e";u93=this.inputs[H9_];if(u93.type == s0R){S6O=" ";S6O+="Date";v3D=u93.name.substring(0,u93.name.indexOf(S6O));for(var t9e=0;t9e < this.inputs.length;t9e++){A6C="t";A6C+="i";A6C+="m";A6C+="e";P3P=this.inputs[t9e];if(P3P.type == A6C){if(P3P.name == v3D + " Time"){this.dateTimeInputs.push(v3D);break;}}}}}this.adjustInputTimesForDisplayZone();for(T0B in h1I.outputs){j6g={name:T0B,heading:H0p.translateIf(T0B)};j6g.color=j6g.defaultOutput=h1I.outputs[T0B];if(z5X && z5X.outputs && z5X.outputs[T0B]){j6g.color=z5X.outputs[T0B];}if(j6g.color == "auto"){j6g.color=H0p.defaultColor;}this.outputs.push(j6g);}e$6=z5X?z5X.parameters:null;if(h1I.parameters){g0w=h1I.parameters.init;if(g0w){if(g0w.studyOverZonesEnabled !== undefined){e8r={name:"studyOverZones",heading:H0p.translateIf("Show Zones"),defaultValue:g0w.studyOverZonesEnabled,value:g0w.studyOverZonesEnabled};if(e$6 && (e$6.studyOverZonesEnabled || e$6.studyOverZonesEnabled === !({}))){e8r.value=e$6.studyOverZonesEnabled;}e8r.type="checkbox";this.parameters.push(e8r);}if(g0w.studyOverBoughtValue !== undefined){E$2="t";E$2+="e";E$2+="x";E$2+="t";e8r={name:"studyOverBought",heading:H0p.translateIf("OverBought"),defaultValue:g0w.studyOverBoughtValue,value:g0w.studyOverBoughtValue,defaultColor:g0w.studyOverBoughtColor,color:g0w.studyOverBoughtColor};if(e$6 && e$6.studyOverBoughtValue){e8r.value=e$6.studyOverBoughtValue;}if(e$6 && e$6.studyOverBoughtColor){e8r.color=e$6.studyOverBoughtColor;}if(e8r.color == "auto"){e8r.color=H0p.defaultColor;}e8r.type=E$2;this.parameters.push(e8r);}if(g0w.studyOverSoldValue !== undefined){e8r={name:"studyOverSold",heading:H0p.translateIf("OverSold"),defaultValue:g0w.studyOverSoldValue,value:g0w.studyOverSoldValue,defaultColor:g0w.studyOverSoldColor,color:g0w.studyOverSoldColor};if(e$6 && e$6.studyOverSoldValue){e8r.value=e$6.studyOverSoldValue;}if(e$6 && e$6.studyOverSoldColor){e8r.color=e$6.studyOverSoldColor;}if(e8r.color == "auto"){e8r.color=H0p.defaultColor;}e8r.type="text";this.parameters.push(e8r);}if(!this.attributes.studyOverBoughtValue){this.attributes.studyOverBoughtValue={};}if(!this.attributes.studyOverSoldValue){this.attributes.studyOverSoldValue={};}}}l1w=this.panelSelect=G1K.panelSelect;F17=this.axisSelect=G1K.axisSelect;e_2.a9S();if(G1K.addWhenDone){F17=l1w=!({});}if(F17 || l1w){v$y="yaxisDis";v$y+="play";v$y+="Valu";v$y+="e";if(!z5X){z5X=j6q.Studies.addStudy(H0p,G1K.name,null,null,{calculateOnly:!!({})});j6q.Studies.removeStudy(H0p,z5X);}if(l1w){A4$="Sho";A4$+="w";A4$+=" ";A4$+="as Underlay";a3Y="A";a3Y+="uto";this.parameters.push(U$e({label:"Panel",name:"panelName",defaults:(function(){var b$b;b$b=[];e_2.a9S();b$b.push("Auto");for(var O4N in H0p.panels){if(O4N != z5X.panel || !e$6 || !e$6.panelName){b$b.push(q20(O4N));}}if(!H0p.checkForEmptyPanel(z5X.panel,!![],z5X)){b$b.push("New panel");}return b$b;})(),value:e$6 && e$6.panelName?q20(e$6.panelName):a3Y}),P_T({label:A4$,name:"underlay",defaults:!!"",value:z5X.underlay || z5X.parameters && z5X.parameters.underlayEnabled}));}e_2.H6P(1);D$l=-e_2.S40(1,"1361208857");e_2.D0J(1);g1H=-e_2.q7n(1,"729350451");M4I=2;for(var o5F="1" - 0;e_2.U6$(o5F.toString(),o5F.toString().length,66596) !== D$l;o5F++){z7Q=H0p.getYAxisByName(m7q,z5X.name);M4I+=2;}if(e_2.U6$(M4I.toString(),M4I.toString().length,59405) !== g1H){z7Q=H0p.getYAxisByName(m7q,z5X.name);}if(F17){a6L="flip";a6L+="p";a6L+="ed";m6J="I";m6J+="nvert Y-Axi";m6J+="s";l7B="d";l7B+="ef";l7B+="au";l7B+="lt";B8u="Y-A";B8u+="x";B8u+="is";this.parameters.push(U$e({label:B8u,name:"yaxisDisplay",defaults:(function(){var e9t,S7e,X2g,k2E,K2m;e9t="shar";e9t+="ed";S7e="lef";S7e+="t";X2g="r";X2g+="i";X2g+="gh";X2g+="t";k2E=m7q.yaxisLHS.concat(m7q.yaxisRHS);K2m=[];K2m.push("default",X2g,S7e,"none",e9t);for(var n2d=+"0";n2d < k2E.length;n2d++){if(k2E[n2d] != z7Q){K2m.push(k2E[n2d].name);}}return K2m;})(),value:e$6 && e$6.yaxisDisplayValue || z7Q && z7Q.position || (z5X.panel != z5X.name?"shared":m7q.yAxis.position || l7B),color:z7Q && z7Q.textStyle?z7Q.textStyle:"auto"}),P_T({label:m6J,name:a6L,defaults:![],value:e$6?e$6.flippedEnabled:z7Q?z7Q.flipped:![]}));}V7Z.call(this,"flippedEnabled",!z7Q && z5X.panel != z5X.name);V7Z.call(this,"underlayEnabled",h1I.underlay);V7Z.call(this,"panelName",h1I.seriesFN === null);V7Z.call(this,v$y,h1I.seriesFN === null || h1I.yAxis && h1I.yAxis.noDraw);}};j6q.Studies.DialogHelper.prototype.updateStudy=function(z9n){var p4n,a_q,p3q,u09;p4n={};a_q=this.sd;p3q=this.libraryEntry;if(!p3q){p3q={};}if(!a_q){a_q=p3q;}p4n.inputs=j6q.clone(a_q.inputs);p4n.outputs=j6q.clone(a_q.outputs);p4n.parameters=j6q.clone(a_q.parameters);function q2g(k3n){var c88=A2IFV;var f7B,O$k,p6o,R9w;if(this.panelSelect == "alias"){f7B=I0B(k3n);if(f7B){for(var D83 in this.stx.panels){if(!--f7B){return D83;}}}}O$k=-1771844819;p6o=-225640795;c88.H6P(21);R9w=c88.q7n("2",0);function I0B(q3I){c88.D0H();var e6m;e6m=q3I.match(/.* (\d)/);return e6m && e6m[+"1"];}for(var h0$=1;c88.U6$(h0$.toString(),h0$.toString().length,84155) !== O$k;h0$++){return k3n;}if(c88.Z2Z(R9w.toString(),R9w.toString().length,+"20071") !== p6o){return k3n;}}this.adjustInputTimesForDisplayZone(z9n);if(z9n.parameters && z9n.parameters.panelName){z9n.parameters.panelName=q2g.call(this,z9n.parameters.panelName);}j6q.extend(p4n,z9n);if(!p4n.parameters){p4n.parameters={};}if(p4n.inputs && p4n.inputs.id){a_q=j6q.Studies.replaceStudy(this.stx,p4n.inputs.id,this.name,p4n.inputs,p4n.outputs,p4n.parameters,null,a_q.study);}else {a_q=j6q.Studies.addStudy(this.stx,this.name,p4n.inputs,p4n.outputs,p4n.parameters,null,a_q.study);}u09=new j6q.Studies.DialogHelper({stx:this.stx,sd:a_q,axisSelect:this.axisSelect,panelSelect:this.panelSelect});for(var B$g in u09){if(B$g != "signal"){this[B$g]=u09[B$g];}}A2IFV.D0H();this.signal*=-1;;};j6q.Studies.DialogHelper.prototype.adjustInputTimesForDisplayZone=function(H58){var t6G=A2IFV;var X4r,q_n,k1t,R7J,j7_,g2V,z6x,B2N,Z1m,y2_;if(this.stx.displayZone){for(var i9J=0;i9J < this.dateTimeInputs.length;i9J++){X4r=this.dateTimeInputs[i9J];g2V="";if(H58 && H58.inputs){t6G.H6P(0);k1t=H58.inputs[t6G.S40(X4r," Date")];t6G.D0J(0);R7J=H58.inputs[t6G.S40(X4r," Time")];if(k1t){g2V=k1t;}if(R7J){g2V+=R7J;}}for(q_n=0;q_n < this.inputs.length;q_n++){z6x=" D";z6x+="ate";j7_=this.inputs[q_n];if(!k1t && k1t !== "" && j7_.name == X4r + z6x){g2V=j7_.value + g2V;}else if(!R7J && R7J !== "" && j7_.name == X4r + " Time"){g2V+=j7_.value;}}g2V=g2V.replace(/\D/g,"");if(g2V.length < 12){return;}B2N=j6q.strToDateTime(g2V);if(!isNaN(B2N.valueOf())){if(H58){if(!H58.inputs){H58.inputs={};}Z1m=j6q.convertTimeZone(B2N,this.stx.displayZone);t6G.D0J(0);H58.inputs[t6G.q7n(X4r," Date")]=j6q.yyyymmdd(Z1m);t6G.H6P(0);H58.inputs[t6G.S40(X4r," Time")]=j6q.hhmmss(Z1m);}else {Z1m=j6q.convertTimeZone(B2N,null,this.stx.displayZone);for(q_n=0;q_n < this.inputs.length;q_n++){y2_=" Tim";y2_+="e";j7_=this.inputs[q_n];if(j7_.name == X4r + " Date"){j7_.value=j6q.yyyymmdd(Z1m);}if(j7_.name == X4r + y2_){j7_.value=j6q.hhmmss(Z1m);}}}}}}};j6q.Studies.prepareStudy=function(d$s,M55,U9N){var j71=A2IFV;var d9p;d9p="undefin";d9p+="e";d9p+="d";if(typeof M55.calculateFN == d9p){M55.useRawValues=!!({});}if(j6q.isEmpty(U9N.outputMap)){for(var O3Q in U9N.outputs){if(M55.useRawValues){U9N.outputMap[O3Q]=O3Q;}else {j71.D0J(62);var f2R=j71.S40(11,423,7,42);j71.D0J(101);var C6d=j71.S40(4,14,11,4286,55804);j71.H6P(57);var u0F=j71.S40(4772,9548,6,2);j71.D0J(90);var F7B=j71.q7n(113050,7106,2,8);j71.D0J(0);var B5L=j71.q7n(1040,10);j71.D0J(52);var r0P=j71.q7n(67090,3532,20);j71.D0J(0);var o0o=j71.S40(489,3421);j71.H6P(109);var P3M=j71.q7n(2,602,20,10,6558);j71.D0J(117);var g51=j71.S40(8,5,20,16);j71.H6P(118);var c2M=j71.q7n(780,15,65,15,325);j71.D0J(15);var n$X=j71.q7n(10,1160,30);U9N.outputMap[O3Q + (("4849" | f2R) > C6d?" ":(u0F,F7B) !== (B5L,"3990" | 0)?r0P < (o0o,P3M)?"0x1ca7" * g51:(c2M,"k"):(n$X,+"5.07e+3")) + U9N.name]=O3Q;}}}};j6q.Studies.rejiggerDerivedStudies=function(G4I,X_T,U5i){var D6h,B4j,E5Z,x4N,e69,L87,V9Z,Y38,E3S;D6h=X_T.name;B4j=X_T.panel;E5Z=X_T.getDependents(G4I);for(var s6h=+"0";s6h < E5Z.length;s6h++){x4N=E5Z[s6h];e69=j6q.clone(x4N.inputs);L87=e69.id;if(!L87)continue;V9Z=!({});Y38=j6q.Studies.getFieldInputs(x4N);for(var R1B=0;R1B < Y38.length;R1B++){e69[Y38[R1B]]=e69[Y38[R1B]].replace(D6h,U5i);}E3S=j6q.Studies.replaceStudy(G4I,L87,x4N.type,e69,x4N.outputs,j6q.extend(x4N.parameters,{rejiggering:!![]}),null,x4N.study);delete E3S.parameters.rejiggering;}};j6q.Studies.removeStudySymbols=function(v6F,m0A){A2IFV.D0H();if(v6F.series){for(var R$m in v6F.series){m0A.deleteSeries(v6F.series[R$m],null,{action:"remove-study"});}};};j6q.Studies.replaceStudy=function(S8X,l3n,r80,M46,p99,q2x,H8d,A7Z){var K73,X2v,b_z,V2z;if(!q2x){q2x={};}if(l3n){q2x.replaceID=l3n;}l3n=q2x.replaceID;K73=S8X.layout.studies[l3n];j6q.Studies.removeStudySymbols(K73,S8X);if(K73.attribution){S8X.removeFromHolder(K73.attribution.marker);}if(S8X.quoteDriver){S8X.quoteDriver.updateSubscriptions();}if(M46){if(M46.id == M46.display){delete M46.display;}delete M46.id;}X2v=j6q.Studies.addStudy(S8X,r80,M46,p99,q2x,H8d,A7Z);X2v.highlight=K73.highlight;X2v.uniqueId=K73.uniqueId;V2z={};for(b_z in S8X.layout.studies){if(b_z == l3n){V2z[X2v.name]=X2v;}else {V2z[b_z]=S8X.layout.studies[b_z];}}S8X.layout.studies=V2z;V2z={};for(b_z in S8X.overlays){if(b_z == l3n){if(X2v.overlay || X2v.underlay){V2z[X2v.name]=X2v;}}else {V2z[b_z]=S8X.overlays[b_z];}}S8X.overlays=V2z;if(!S8X.overlays[X2v.name] && (X2v.overlay || X2v.underlay)){S8X.addOverlay(X2v);}S8X.checkForEmptyPanel(K73.panel);if(!q2x.rejiggering){S8X.initializeDisplay(S8X.chart);j6q.Studies.rejiggerDerivedStudies(S8X,K73,X2v.inputs.id,X2v.panel);S8X.changeOccurred("layout");if(!S8X.currentlyImporting && !q2x.calculateOnly && X2v.chart.dataSet){S8X.createDataSet(null,X2v.chart);}S8X.draw();}j6q.transferObject(K73,X2v);S8X.layout.studies[X2v.name]=K73;S8X.overlays[X2v.name]=K73;S8X.chart.state.studies.sorted=null;return K73;};j6q.Studies.addStudy=function(r8$,H4M,v1a,b7R,Y0N,X$i,l36){var I9I=A2IFV;var E2y,k6W,Z_W,a$e,K1h,E0f,R_9,p1K,v4D,j26,r5G,Z58,j6H;E2y=l36?l36:j6q.Studies.studyLibrary[H4M];if(!Y0N){Y0N={};}if(E2y){if(E2y.inputs){k6W=j6q.clone(E2y.inputs);for(var P6t in k6W){if(k6W[P6t] instanceof Array){if(E2y.attributes && E2y.attributes[P6t] && E2y.attributes[P6t].defaultSelected){k6W[P6t]=E2y.attributes[P6t].defaultSelected;}else {k6W[P6t]=k6W[P6t][0];}}}v1a=j6q.extend(k6W,v1a);}if(E2y.outputs){b7R=j6q.extend(j6q.clone(E2y.outputs),b7R);}Z_W=E2y.parameters;if(Z_W && Z_W.init){Y0N=j6q.extend(j6q.clone(Z_W.init),Y0N);}if(Z_W && !Y0N.display){Y0N.display=Z_W.display;}}if(!v1a){v1a=j6q.clone(j6q.Studies.DEFAULT_INPUTS);}if(!b7R){b7R=j6q.clone(j6q.Studies.DEFAULT_OUTPUTS);}if(!Y0N.chartName){Y0N.chartName="chart";}if(Y0N.panelName == "Auto" || Y0N.panelName == "Default panel"){Y0N.panelName="";}if(v1a.Period < 1){v1a.Period=1;}a$e=null;if(!r8$.layout.studies){r8$.layout.studies={};}if(E2y && E2y.initializeFN){a$e=E2y.initializeFN(r8$,H4M,v1a,b7R,Y0N,X$i,l36);}else {a$e=j6q.Studies.initializeFN(r8$,H4M,v1a,b7R,Y0N,X$i,l36);}if(!a$e){I9I.H6P(0);console.log(I9I.q7n("CIQ.Studies.addStudy: initializeFN() returned null for ",H4M));return;}l36=a$e.study;a$e.chart=r8$.charts[Y0N.chartName];a$e.type=H4M;a$e.permanent=l36.permanent;a$e.customLegend=l36.customLegend;a$e.uniqueId=j6q.uniqueID();j6q.Studies.prepareStudy(r8$,l36,a$e);K1h=r8$.chart.state.studies;if(!K1h){K1h=r8$.chart.state.studies={};}K1h.sorted=null;if(!Y0N.replaceID){r8$.layout.studies[a$e.inputs.id]=a$e;if(a$e.overlay || a$e.underlay){r8$.addOverlay(a$e);}if(!r8$.currentlyImporting && !Y0N.calculateOnly && a$e.chart.dataSet){r8$.createDataSet(null,a$e.chart);}}else {E0f=!0;delete Y0N.replaceID;}if(r8$.quoteDriver){r8$.quoteDriver.updateSubscriptions();}if(Y0N.calculateOnly){R_9="lay";R_9+="o";R_9+="u";R_9+="t";r8$.changeOccurred(R_9);return a$e;}p1K=r8$.panels[a$e.panel];v4D=![];j26=!(a$e.overlay || a$e.underlay);if(j26 && l36.horizontalCrosshairFieldFN){p1K.horizontalCrosshairField=l36.horizontalCrosshairFieldFN(r8$,a$e);}if(r8$.editCallback){v4D=!0;}else if(j26){if(r8$.callbackListeners.studyPanelEdit && r8$.callbackListeners.studyPanelEdit.length){v4D=!!({});}}else {if(r8$.callbackListeners.studyOverlayEdit && r8$.callbackListeners.studyOverlayEdit.length){v4D=!!({});}}if(v4D){Y0N.editMode=!!({});r5G=![];for(var q4l in a$e.inputs){if(q4l == "id")continue;if(q4l == "display")continue;r5G=!!1;break;}if(!r5G){for(var D3H in a$e.outputs){r5G=!![];break;}}if(r5G){if(typeof a$e.study.edit != "undefined"){if(a$e.study.edit){Z58=(function(K3h,j5i,c8F,m_O){I9I.D0H();return function(){j6q.clearCanvas(K3h.chart.tempCanvas,K3h);j5i.study.edit(j5i,{stx:K3h,inputs:c8F,outputs:m_O,parameters:Y0N});};})(r8$,a$e,v1a,b7R,Y0N);r8$.setPanelEdit(p1K,Z58);a$e.editFunction=Z58;}}else if(!j26){Z58=(function(G1p,z46,H3N,Z4c,v9Y){I9I.a9S();return function(s7o){I9I.a9S();j6q.clearCanvas(G1p.chart.tempCanvas,G1p);G1p.dispatch("studyOverlayEdit",{stx:G1p,sd:z46,inputs:H3N,outputs:Z4c,parameters:v9Y,forceEdit:s7o});};})(r8$,a$e,v1a,b7R,Y0N);a$e.editFunction=Z58;}else {if(r8$.editCallback){Z58=(function(Q2r,R2K,I81,q2r){I9I.a9S();return function(){var i9o;i9o=Q2r.editCallback(Q2r,R2K);j6q.clearCanvas(Q2r.chart.tempCanvas,Q2r);j6q.Studies.studyDialog(Q2r,H4M,i9o,{inputs:I81,outputs:q2r,parameters:Y0N});};})(r8$,a$e,v1a,b7R,Y0N);if(p1K.name != "chart"){r8$.setPanelEdit(p1K,Z58);}}else {j6H="ch";j6H+="a";j6H+="rt";Z58=(function(F2b,x_8,r57,x_t,V74){return function(){j6q.clearCanvas(F2b.chart.tempCanvas,F2b);F2b.dispatch("studyPanelEdit",{stx:F2b,sd:x_8,inputs:r57,outputs:x_t,parameters:V74});};})(r8$,a$e,v1a,b7R,Y0N);if(p1K.name != j6H){r8$.setPanelEdit(p1K,Z58);a$e.editFunction=Z58;}}}}}r8$.changeOccurred("layout");if(!E0f){r8$.draw();}return a$e;};j6q.Studies.removeStudy=function(N$F,j$e){var k_5,o5u,O4O,I8D;k_5=N$F.panels[j$e.panel];o5u=k_5 && k_5.yAxis.name;if(j$e.overlay || j$e.underlay){N$F.removeOverlay(j$e.name);}O4O=N$F.panels[j$e.panel];if(j$e.attribution){N$F.removeFromHolder(j$e.attribution.marker);}delete N$F.layout.studies[j$e.name];if(O4O && !N$F.checkForEmptyPanel(O4O)){if(o5u == j$e.name){N$F.electNewPanelOwner(O4O);}I8D=N$F.getYAxisByName(j$e.panel,j$e.name);if(I8D){I8D.name=I8D.studies[+"1"] || I8D.renderers[0];}}N$F.draw();A2IFV.D0H();N$F.resizeChart();};j6q.Studies.getPanelFromFieldName=function(P2M,p$Y){var F$i,c6g,v6B,y3W,d_J;F$i=j6q.Studies.getFieldInputs(p$Y);if(!F$i.length){return null;}c6g=P2M.layout.studies;if(!c6g){return null;}v6B={};for(var s2F in c6g){for(var z0V in c6g[s2F].outputMap){v6B[z0V]=c6g[s2F].panel;}}for(var Y5g=0;Y5g < F$i.length;Y5g++){y3W=p$Y.inputs[F$i[Y5g]];if(y3W){d_J=v6B[y3W];if(d_J){return d_J;}}}return null;};j6q.Studies.createLibraryHash=function(){var u6E=A2IFV;var c3o,t8_,Q3L;c3o=-308398831;u6E.D0J(10);t8_=-u6E.q7n("231253380",0);u6E.H6P(21);Q3L=u6E.q7n("2",0);for(var n8u=1;u6E.Z2Z(n8u.toString(),n8u.toString().length,23553) !== c3o;n8u++){return Object.keys(j6q.Studies.studyLibrary).join(1191 == ("1431" * 1,2918)?(128847,545935) === (929733,97506)?183067 == (4745,788)?("h",!({})):!![]:("h","|"):"h");}if(u6E.Z2Z(Q3L.toString(),Q3L.toString().length,60065) !== t8_){return Object.keys(j6q.Studies.studyLibrary).join(9850 === (6966,3044)?(958.62,460.86) !== ("698.48" - 0,551.6)?817.11 !== (4200,266)?("I",!0):!!"":("i","h"):"|");};};j6q.Studies.displayStudies=function(q1m,e56,j6O){var J0y,l7f,i04,d$Z,x26,v0Q,H3M,S$e,W51,o5N,r8J,Y68,H9q,z5z,j1n,d7h;if(j6O){e56.studyLibraryHash=j6q.Studies.createLibraryHash();}J0y=q1m.layout.studies;if(!J0y){return;}l7f={};l7f[e56.name]=!0;for(var f$q in J0y){i04="u";i04+="n";i04+="defined";d$Z=J0y[f$q];x26=d$Z.study;if(!x26)continue;v0Q=d$Z.underlay || d$Z.parameters && d$Z.parameters.underlayEnabled;if(j6O && !v0Q || !j6O && v0Q)continue;H3M=j6q.clone(x26.renderer);if(H3M && !(H3M instanceof Array)){H3M=[H3M];}S$e=q1m.panels[d$Z.panel];if(S$e){if(S$e.chart != e56)continue;if(S$e.hidden)continue;if(!l7f[S$e.name]){W51=d$Z.permanent || !q1m.manageTouchAndMouse;if(S$e.closeX){if(W51){S$e.closeX.style.display="none";}}else if(S$e.close){o5N="no";o5N+="ne";if(W51){S$e.close.style.display=o5N;}}if(S$e.edit){if(W51){S$e.edit.style.display="none";}}l7f[S$e.name]=W51;}}else {if(q1m.currentlyImporting){delete J0y[f$q];}continue;}r8J=d$Z.chart.dataSegment;if(d$Z.panel == d$Z.parameters.chartName && (!d$Z.parameters || !d$Z.parameters.panelName)){Y68=j6q.Studies.getPanelFromFieldName(q1m,d$Z);if(Y68 && d$Z.panel != Y68){d$Z.panel=Y68;}}if(typeof x26.seriesFN == i04){if(H3M){if(!d$Z.overlay){j6q.Studies.createYAxis(q1m,d$Z,r8J,S$e);}for(var A9R=0;A9R < H3M.length;A9R++){H9q=H3M[A9R];for(var x$C in d$Z.outputMap){if(d$Z.outputMap[x$C] == H9q.field){H9q.field=x$C;}}if(!H9q.field)continue;H9q.panel=d$Z.panel;z5z=H9q.binding;if(z5z){for(var O4f in z5z){j1n=j6q.Studies.determineColor(d$Z.outputs[z5z[O4f]]);if(j1n && j1n != "auto"){H9q[O4f]=j1n;};}}H9q.yAxis=null;d7h=j6q.Renderer.produce(H9q.type,H9q);d7h.stx=q1m;d7h.attachSeries(null,H9q).draw();}}else {j6q.Studies.displaySeriesAsLine(q1m,d$Z,r8J);}if(S$e){j6q.Studies.displayError(q1m,d$Z);}}else {if(x26.seriesFN){if(S$e){x26.seriesFN(q1m,d$Z,r8J);j6q.Studies.displayError(q1m,d$Z);}}}}};j6q.Studies.displayError=function(G4U,o5a,f4W){var Z5m,I4L,z9a;Z5m="Not enough da";Z5m+="ta to";Z5m+=" compu";Z5m+="te ";if(!o5a.error){return;}I4L=f4W && f4W.panel?f4W.panel:o5a.panel;z9a=o5a.error === !!({})?G4U.translateIf(Z5m) + G4U.translateIf(o5a.study.name):G4U.translateIf(o5a.error);if(f4W && (f4W.h !== "center" || f4W.v !== "bottom")){G4U.watermark(I4L,f4W);return;}G4U.displayErrorAsWatermark(I4L,z9a);};j6q.Studies.calculateMinMaxForDataPoint=function(M$0,v$t,d_L){A2IFV.D0H();var i4v,X8t,n22;i4v=Number.MAX_VALUE;X8t=Number.MAX_VALUE * -("1" - 0);for(var N8H=0;N8H < d_L.length;N8H++){n22=d_L[N8H][v$t];if(n22 === null || typeof n22 == "undefined")continue;if(isNaN(n22))continue;i4v=Math.min(n22,i4v);X8t=Math.max(n22,X8t);}return {min:i4v,max:X8t};};j6q.Studies.getYAxisParameters=function(P1M,X05){var o3o,B1Y,p8M,Z2j;A2IFV.a9S();o3o={};B1Y=P1M.layout.studies && P1M.layout.studies[X05.name];if(B1Y){p8M=B1Y.study;if(p8M.yaxis || p8M.yAxisFN){o3o.noDraw=!![];}else {if(p8M.parameters && p8M.parameters.excludeYAxis){o3o.noDraw=!!"1";}o3o.ground=p8M.yAxis && p8M.yAxis.ground;if(X05){if(p8M.range != "bypass"){Z2j="0 t";Z2j+="o 100";if(p8M.range == Z2j){o3o.range=[0,100];}else if(p8M.range == "-1 to 1"){o3o.range=[-1,1];}else {if(p8M.range == "0 to max"){o3o.range=[0,Math.max(0,X05.high)];}else if(p8M.centerline || p8M.centerline === 0){o3o.range=[Math.min(p8M.centerline,X05.low),Math.max(p8M.centerline,X05.high)];}}}if(o3o.range){X05.low=o3o.range[0];X05.high=o3o.range[1];}if(B1Y.min){X05.min=B1Y.min;}if(B1Y.max){X05.max=B1Y.max;}if(B1Y.parameters && B1Y.parameters.studyOverZonesEnabled){o3o.noDraw=!!1;}}}}return o3o;};j6q.Studies.doPostDrawYAxis=function(c_V,v9g){var V9s,U9e,a7d,r_l,e0J;for(var i7j in c_V.layout.studies){V9s=c_V.layout.studies[i7j];U9e=c_V.panels[V9s.panel];if(!U9e || U9e.hidden)continue;a7d=V9s.getYAxis(c_V);if(a7d != v9g)continue;r_l=V9s.study;if(v9g.name == V9s.name){if(r_l.yaxis){r_l.yaxis(c_V,V9s);}if(r_l.yAxisFN){r_l.yAxisFN(c_V,V9s);};}j6q.Studies.drawZones(c_V,V9s);if(!V9s.error){e0J=r_l.centerline;if(e0J || e0J === 0 || e0J !== null && v9g.highValue > +"0" && v9g.lowValue < +"0"){j6q.Studies.drawHorizontal(c_V,V9s,null,e0J || 0,v9g);}}}};j6q.Studies.displaySeriesAsLine=function(p8t,a0S,P8R){var x40;if(!P8R.length){return;}x40=p8t.panels[a0S.panel];if(!x40 || x40.hidden){return;}A2IFV.D0H();for(var U$K in a0S.outputMap){j6q.Studies.displayIndividualSeriesAsLine(p8t,a0S,x40,U$K,P8R);}};j6q.Studies.displaySeriesAsHistogram=function(T$m,R$v,a71){var V_q,W_6,F1P,A$9,Q6K,K0_,a5j,o$O,J2v,X_j;if(!a71.length){return;}V_q=T$m.panels[R$v.panel];if(!V_q){return;}if(V_q.hidden){return;}W_6=[];for(var K31 in R$v.outputMap){F1P=R$v.outputs[R$v.outputMap[K31]];if(!F1P)continue;A$9=0.3;if(typeof F1P == "object"){A$9=F1P.opacity;F1P=F1P.color;}Q6K={field:K31,fill_color_up:F1P,border_color_up:F1P,fill_color_down:F1P,border_color_down:F1P};if(R$v.underlay){Q6K.opacity_up=Q6K.opacity_down=A$9 || "0.3" * 1;}W_6.push(Q6K);}A2IFV.D0H();K0_=R$v.getYAxis(T$m);a5j=R$v.inputs;o$O=a5j.WidthFactor;if(R$v.study && R$v.study.parameters){J2v=R$v.study.parameters;if(typeof J2v.widthFactor !== "undefined"){o$O=J2v.widthFactor;}}X_j={name:R$v.name,type:a5j.HistogramType?a5j.HistogramType:"overlaid",panel:R$v.panel,yAxis:K0_,widthFactor:o$O || 0.5,bindToYAxis:!![],highlight:R$v.highlight};T$m.drawHistogram(X_j,W_6);};j6q.Studies.displayIndividualSeriesAsLine=function(a7X,z0H,b3B,k$l,P0P){var u5x,P5J,f3h,A6W,M8e,t4p,F38,a$g,u1n,L1c,t7C,e9T,h3i,a$d,j9G,L6M,w5v;u5x="t";u5x+="rans";u5x+="p";u5x+="arent";P5J="st";P5J+="ring";if(!b3B.height){b3B.height=b3B.bottom - b3B.top;}f3h=z0H.getContext(a7X);A6W=z0H.outputs[z0H.outputMap[k$l]];if(!A6W){return;}f3h.save();if(typeof A6W === P5J){A6W={color:A6W,width:1};}f3h.lineWidth=A6W.width || 1;M8e=A6W.color;if(M8e == "auto"){M8e=a7X.defaultColor;}f3h.strokeStyle=M8e;t4p=A6W.pattern;f3h.setLineDash(j6q.borderPatternToArray(f3h.lineWidth,t4p));f3h.lineDashOffset=0;F38=+"0";a$g=z0H.study;u1n=z0H.getYAxis(a7X);F38=a7X.decimalPlacesFromPriceTick(u1n.priceTick);if(z0H.overlay || z0H.underlay){F38=null;}if(u1n.decimalPlaces || u1n.decimalPlaces === 0){F38=u1n.decimalPlaces;}L1c=null;if(z0H.parameters){L1c=z0H.parameters.label;}t7C=a$g.parameters;if(!t7C){t7C={};}e9T=t7C.plotType == "step";if(z0H.series){for(var L1k in z0H.series){h3i=z0H.series[L1k].parameters.type;if(h3i){A2IFV.H6P(68);e9T=A2IFV.S40(h3i,"step");}}}if(t7C.noLabels){L1c=![];}if(!z0H.noSlopes && z0H.noSlopes !== !({})){z0H.noSlopes=t7C.noSlopes;}if(!z0H.extendToEnd && z0H.extendToEnd !== !!""){z0H.extendToEnd=t7C.extendToEnd;}a$d=L1c || a7X.preferences.labels && L1c !== ![];j9G=z0H.gaplines;if(j9G === !({})){j9G=u5x;}A2IFV.a9S();L6M=z0H.inputs.Symbol;w5v=j9G?a7X.getGapColorFunction(L6M,k$l,A6W,j9G):null;a7X.plotDataSegmentAsLine(k$l,b3B,{yAxis:u1n,skipTransform:a7X.panels[z0H.panel].name != z0H.chart.name,label:a$d,labelDecimalPlaces:F38,noSlopes:z0H.noSlopes,step:e9T,alignStepToSide:z0H.alignStepToSide,extendToEndOfLastBar:z0H.extendToEndOfLastBar,width:z0H.lineWidth,extendToEndOfDataSet:z0H.extendToEnd,gapDisplayStyle:j9G,highlight:z0H.highlight},w5v);if(a$g.appendDisplaySeriesAsLine){a$g.appendDisplaySeriesAsLine(a7X,z0H,P0P,k$l,b3B);}f3h.restore();};j6q.Studies.drawHorizontal=function(l4N,c0s,V6q,Y2V,T9s,x2J){var F8X,t4M,f0U;F8X=l4N.panels[c0s.panel];t4M=l4N.getBackgroundCanvas().context;if(!F8X){return;}if(!x2J){x2J=T9s.textStyle;}A2IFV.D0H();f0U=l4N.pixelFromPrice(Y2V,F8X,T9s);if(f0U > T9s.top && f0U < T9s.bottom){l4N.plotLine(F8X.left,F8X.right,f0U,f0U,x2J,"segment",t4M,!!0,{opacity:x2J && x2J.opacity?x2J.opacity:0.5});}};j6q.Studies.displayHistogramWithSeries=function(b2W,B3s,o2H){var n_f,f$Y;n_f=b2W.panels[B3s.panel];f$Y=0.5;A2IFV.D0H();if(B3s.underlay){f$Y=0.3;}j6q.Studies.createHistogram(b2W,B3s,o2H,!!"",f$Y);j6q.Studies.displaySeriesAsLine(b2W,B3s,o2H);};j6q.Studies.drawZones=function(x3l,I3$,l3k){var e2Y=A2IFV;var L58,d8M,g4H,s24,p54,q$5,u3g,d$n,i2V,R2i,K5l,P$G,e$C,B_V,g6F,Z4v,A3C,G1d,T1f,g7G,I5S,A40,i_P,u5O,x3c,n3B,O1a,l06;L58="borde";L58+="r";d8M="l";d8M+="ef";d8M+="t";g4H="aut";g4H+="o";if(!I3$.parameters || !I3$.parameters.studyOverZonesEnabled){return;}s24=parseFloat(I3$.parameters.studyOverSoldValue);p54=parseFloat(I3$.parameters.studyOverBoughtValue);q$5=I3$.parameters.studyOverSoldColor;u3g=I3$.parameters.studyOverBoughtColor;d$n=I3$.zoneOutput;if(!d$n){d$n="Result";}i2V=j6q.Studies.determineColor(I3$.outputs[d$n]);if(!i2V || i2V == g4H || j6q.isTransparent(i2V)){i2V=x3l.defaultColor;}if(!q$5){q$5=i2V;}if(!q$5 || q$5 == "auto" || j6q.isTransparent(q$5)){q$5=x3l.defaultColor;}if(!u3g){u3g=i2V;}if(!u3g || u3g == "auto" || j6q.isTransparent(u3g)){u3g=x3l.defaultColor;}R2i=x3l.panels[I3$.panel];K5l=I3$.getYAxis(x3l);P$G=K5l.displayBorder;if(x3l.axisBorders === !"1"){P$G=!({});}if(x3l.axisBorders === !""){P$G=!!({});}if(K5l.width === 0){P$G=!"1";}e$C=x3l.getYAxisCurrentPosition(K5l,R2i);e2Y.D0J(68);B_V=e2Y.S40(e$C,d8M);g6F=K5l.justifyRight;if(!g6F && g6F !== !!0){if(x3l.chart.yAxis.justifyRight || x3l.chart.yAxis.justifyRight === !"1"){g6F=x3l.chart.yAxis.justifyRight;}else {g6F=B_V;}}Z4v=Math.round(K5l.left + (B_V?K5l.width:0)) + 0.5;A3C=P$G?3:0;G1d=x3l.getBackgroundCanvas().context;T1f=G1d.fillStyle;G1d.globalAlpha=0.2;x3l.startClip(R2i.name,!![]);G1d.beginPath();g7G=Math.round(x3l.pixelFromPrice(p54,R2i,K5l)) + 0.5;G1d.strokeStyle=u3g;G1d.moveTo(R2i.left,g7G);G1d.lineTo(R2i.right,g7G);G1d.stroke();G1d.closePath();G1d.beginPath();e2Y.H6P(119);var J$Z=e2Y.q7n(3,3,7,0,14);I5S=Math.round(x3l.pixelFromPrice(s24,R2i,K5l)) + "0.5" * J$Z;G1d.strokeStyle=q$5;G1d.moveTo(R2i.left,I5S);G1d.lineTo(R2i.right,I5S);G1d.stroke();G1d.closePath();A40=new j6q.Plotter();A40.newSeries(L58,"stroke",x3l.canvasStyle("stx_grid_border"));if(P$G){i_P=B_V?Z4v - A3C:Z4v - 0.5;u5O=B_V?Z4v + 0.5:Z4v + A3C;A40.moveTo("border",i_P,g7G);A40.lineTo("border",u5O,g7G);A40.moveTo("border",i_P,I5S);A40.lineTo("border",u5O,I5S);}G1d.fillStyle=T1f;x3c={skipTransform:x3l.panels[I3$.panel].name != I3$.chart.name,panelName:I3$.panel,band:d$n + " " + I3$.name,yAxis:K5l,opacity:"0.3" - 0};if(!I3$.highlight && x3l.highlightedDraggable){e2Y.D0J(1);x3c.opacity*=e2Y.q7n(1,"0.3");}j6q.preparePeakValleyFill(x3l,j6q.extend(x3c,{threshold:p54,direction:K5l.flipped?-1:1,color:u3g}));j6q.preparePeakValleyFill(x3l,j6q.extend(x3c,{threshold:s24,direction:K5l.flipped?1:-1,color:q$5}));G1d.globalAlpha=1;if(!I3$.study || !I3$.study.yaxis){if(P$G){n3B=Math.round(K5l.bottom) + 0.5;A40.moveTo("border",Z4v,K5l.top);A40.lineTo("border",Z4v,n3B);A40.draw(G1d,"border");}if(K5l.width !== +"0"){O1a="ri";O1a+="ght";x3l.canvasFont("stx_yaxis",G1d);x3l.canvasColor("stx_yaxis",G1d);G1d.textAlign=g6F?O1a:"left";if(B_V){e2Y.D0J(120);var n5P=e2Y.S40(1,0,4,6,6);l06=K5l.left + n5P;if(g6F){e2Y.D0J(121);var r$c=e2Y.S40(10,24,11,0);l06=K5l.left + K5l.width - A3C - r$c;}}else {e2Y.H6P(16);var h5s=e2Y.S40(17,20);l06=K5l.left + A3C + h5s;if(g6F){l06=K5l.left + K5l.width;}}G1d.fillStyle=u3g;G1d.fillText(p54,l06,g7G);G1d.fillStyle=q$5;G1d.fillText(s24,l06,I5S);G1d.fillStyle=T1f;}}x3l.endClip();G1d.globalAlpha=1;if(K5l.name == I3$.name){K5l.yAxisPlotter=new j6q.Plotter();}};j6q.Studies.createHistogram=function(n7b,L4T,S0b,I0N,r4a){var O45,K97,h4a,I2X,d_R,Z3m,r66,q1j,o11,K2v,I7W,x9w,X89,b6P,R78,E1J,s8L,L2M,d1g,D$s;O45=n7b.panels[L4T.panel];K97=L4T.getContext(n7b);h4a=L4T.getYAxis(n7b);n7b.startClip(O45.name);I2X=n7b.layout.candleWidth - 2;if(I2X < 2){I2X=1;}d_R=n7b.pixelFromPrice(0,O45,h4a);if(h4a.min > 0){d_R=n7b.pixelFromPrice(h4a.min,O45,h4a);}if(I0N){d_R=Math.floor(O45.top + O45.height / 2);}Z3m=L4T.name + "_hist";n7b.canvasColor("stx_histogram");r66=K97.fillStyle;if(r4a || r4a === 0){K97.globalAlpha=r4a;}if(!L4T.highlight && n7b.highlightedDraggable){K97.globalAlpha*=0.3;}q1j=null;o11=null;K2v=L4T.outputs;for(var r5X=0;r5X < S0b.length;r5X++){I7W="Positive";I7W+=" ";I7W+="Bar";x9w=S0b[r5X];if(!x9w)continue;if(x9w.candleWidth){I2X=Math.floor(Math.max("1" - 0,x9w.candleWidth - 2));}X89=Math.floor(n7b.pixelFromBar(r5X,O45.chart) - I2X / 2);b6P=Math.floor(I2X);if(q1j === null){R78=n7b.tickFromPixel(X89,O45.chart) - ("1" >> 0);if(R78 < 0){q1j=o11;}else {q1j=n7b.pixelFromPrice(n7b.chart.dataSet[R78][Z3m],O45,h4a) - d_R;}}else {q1j=o11;}o11=n7b.pixelFromPrice(x9w[Z3m],O45,h4a) - d_R;E1J=j6q.Studies.determineColor(K2v["Decreasing Bar"]);s8L=j6q.Studies.determineColor(K2v["Increasing Bar"]);L2M=j6q.Studies.determineColor(K2v[I7W]);d1g=j6q.Studies.determineColor(K2v["Negative Bar"]);D$s=h4a.flipped;K97.fillStyle=r66;if(E1J && (D$s?o11 < q1j:o11 > q1j)){K97.fillStyle=E1J;}else if(s8L && (D$s?o11 > q1j:o11 < q1j)){K97.fillStyle=s8L;}else if(L2M && (D$s?o11 > 0:o11 < 0)){K97.fillStyle=L2M;}else if(d1g && (D$s?o11 < 0:o11 > 0)){K97.fillStyle=d1g;}K97.fillRect(X89,d_R,b6P,Math.floor(o11));}A2IFV.D0H();K97.globalAlpha=1;n7b.endClip();};j6q.Studies.prettify={Close:3200 !== 5295?("186.47" * 1,4959) >= 1570?2870 > 470?"C":(+"0x22c5",4.71e+3):0xe2f:"D",Open:2920 < (9643,1470)?!"":"O",High:(+"356.52",6616) == ("590" * 1,7220)?("d","x"):(348.89,1239) == 680.59?181.98:+"8690" == (218.86,407.92)?"0x2485" * 1:"H",Low:(882.35,8261) > 3480?"L":(996.35,824.32) < 5853?1674 <= 7436?2.35e+2:"683" ^ 0:+"43.30",simple:Y$r,exponential:N1H,triangular:"tma",VIDYA:"vdma",weighted:w8y,"welles wilder":"smma",true:"y",false:"n"};j6q.Studies.prettyRE=/^.*\((.*?)\).*$/;j6q.Studies.prettyDisplay=function(U1b){var A$A,S8P;A$A=j6q.Studies.prettyRE.exec(U1b);if(!A$A){return U1b;}A2IFV.D0J(21);S8P=A$A[A2IFV.q7n("1",0)];if(S8P){for(var O4p in j6q.Studies.prettify){S8P=S8P.replace(O4p,j6q.Studies.prettify[O4p]);}U1b=U1b.replace(A$A[1],S8P);}A2IFV.D0H();return U1b;};j6q.Studies.getFieldInputs=function(v3a){var n23,X6c;A2IFV.D0H();n23=[];X6c=v3a.study.inputs;for(var H2u in X6c){if(X6c[H2u] == "field"){n23.push(H2u);}}return n23;};j6q.Studies.initializeFN=function(l0w,Y1S,q7I,T_c,U84,D15,K0l){var o9L=A2IFV;var B$y,b8h,M5X,q6p,q7q,I9Y,Z4I,Z$2,R8l,C$b,C4U,S0m,C$p,V$l,M7B,G0l,v6n,u0h,N54,O7E,j8I,J8b,s8p,f35,C9r,f1U,c1r;B$y="st";B$y+="r";B$y+="in";B$y+="g";if(!q7I){q7I={};}if(!U84){U84={};}if(!q7I.id){b8h=-197226571;M5X=-+"1759371641";q6p=2;for(var x5i=1;o9L.Z2Z(x5i.toString(),x5i.toString().length,"21588" * 1) !== b8h;x5i++){q7I.id=j6q.Studies.generateID(l0w,Y1S,q7I,U84.replaceID,U84.display);q6p+=2;}if(o9L.U6$(q6p.toString(),q6p.toString().length,10804) !== M5X){q7I.id=j6q.Studies.generateID(l0w,Y1S,q7I,U84.replaceID,U84.display);}}if(!q7I.display){q7I.display=q7I.id;}q7q=new j6q.Studies.StudyDescriptor(q7I.id,Y1S,q7I.id,q7I,T_c,U84);if(q7I.Period){o9L.H6P(1);q7q.days=Math.max(o9L.q7n(1,"1"),parseInt(q7q.inputs.Period,"10" ^ 0));}if(K0l){if(!K0l.inputs){K0l.inputs=q7q.study.inputs;}if(!K0l.outputs){K0l.outputs=q7q.study.outputs;}q7q.study=K0l;}else {K0l=q7q.study;}if(K0l.display){q7I.display=K0l.display;}if(typeof U84.panelName == B$y){D15=U84.panelName;}if(D15 == q7I.id || D15 && !l0w.panelExists(D15)){q7q.underlay=q7q.overlay=!({});}if(D15 == "Own panel" || D15 == "New panel"){D15=null;}I9Y=q7q.overlay || q7I.Overlay || q7q.overlay !== ![] && K0l.overlay;Z4I=q7q.underlay || q7I.Underlay || q7q.underlay !== !1 && K0l.underlay;if(I9Y && U84.underlayEnabled){Z4I=!![];}if(Z4I){q7q.underlay=!!({});}if(!Z4I && l0w.chart.panel && D15 == l0w.chart.panel.name){I9Y=!!"1";}if(I9Y){q7q.overlay=!!1;}Z$2=l0w.preferences.dragging;if(Z$2 === !0 || Z$2 && Z$2.study){q7q.overlay=!"";}if(D15){U84.panelName=D15;}else if(!I9Y && !Z4I){D15=q7I.id;}if(U84.calculateOnly){if(I9Y || Z4I){if(l0w.panels[U84.panelName]){q7q.panel=U84.panelName;}else {q7q.panel=j6q.Studies.getPanelFromFieldName(l0w,q7q) || U84.chartName;}}return q7q;}R8l={};C$b=l0w.layout.studies[U84.replaceID];if(C$b){R8l={outputMap:j6q.clone(C$b.outputMap),panel:C$b.panel};}q7q.panel="";if(D15){C4U="New p";C4U+="anel";S0m=j6q.Studies.smartMovePanel(l0w,q7q.inputs,D15,U84.replaceID,U84.panelName == C4U);if(S0m){q7q.panel=S0m.name;}}else if(I9Y || Z4I){q7q.panel=j6q.Studies.getPanelFromFieldName(l0w,q7q) || U84.chartName;}if(!q7q.panel){C$p=K0l.panelHeight || null;V$l=K0l.yAxis || ({});V$l.name=q7q.inputs.id;q7q.panel=q7q.inputs.id;M7B=-199681504;o9L.H6P(40);G0l=o9L.S40(32,"1232114324");v6n=2;for(var q2u=1;o9L.U6$(q2u.toString(),q2u.toString().length,74241) !== M7B;q2u++){l0w.createPanel(q7q.inputs.display,q7q.panel,C$p,U84.chartName,new j6q.ChartEngine.YAxis(V$l));o9L.H6P(1);v6n+=o9L.q7n(1,"2");}if(o9L.U6$(v6n.toString(),v6n.toString().length,65180) !== G0l){l0w.createPanel(q7q.inputs.display,q7q.panel,C$p,U84.chartName,new j6q.ChartEngine.YAxis(V$l));}l0w.createPanel(q7q.inputs.display,q7q.panel,C$p,U84.chartName,new j6q.ChartEngine.YAxis(V$l));}if(q7q.parameters && q7q.parameters.panelName){q7q.parameters.panelName=q7q.panel;}u0h=l0w.panels[q7q.panel];N54=j6q.Studies.smartCreateYAxis(l0w,u0h,q7q.inputs.id,U84.yaxisDisplayValue,U84.yAxis || K0l.yAxis);O7E=K0l?j6q.clone(K0l.yAxis):null;j8I=O7E || N54;if(j8I){if(j8I.ground){j8I.initialMarginBottom=0;}if(j8I.initialMarginTop || j8I.initialMarginTop === 0 || j8I.initialMarginBottom || j8I.initialMarginBottom === +"0"){l0w.calculateYAxisMargins(j8I);}if(j8I.name == U84.replaceID){j8I.name=q7q.inputs.id;}}if(N54){J8b="defa";J8b+="u";J8b+="l";J8b+="t";s8p="s";s8p+="har";s8p+="e";s8p+="d";f35="n";f35+="o";f35+="n";f35+="e";N54.width=N54.position == f35?0:j6q.ChartEngine.YAxis.prototype.width;if(U84.yaxisDisplayValue == s8p || U84.yaxisDisplayValue == J8b){delete U84.yaxisDisplayValue;}else {if(O7E){j6q.ensureDefaults(N54,O7E);}else if(N54.name == q7q.name){C9r="au";C9r+="t";C9r+="o";if(!U84.yaxisDisplayColor || U84.yaxisDisplayColor == C9r){delete N54.textStyle;}else {N54.textStyle=j6q.colorToHex(U84.yaxisDisplayColor);}N54.justifyRight=null;N54.flipped=U84.flippedEnabled;}}if(N54 != u0h.yAxis){N54.displayGridLines=!({});}else if(N54 != l0w.chart.yAxis){N54.displayGridLines=l0w.displayGridLinesInStudies;}}l0w.calculateYAxisPositions();if(C$b){f1U=!({});for(var z$2 in l0w.drawingObjects){c1r=l0w.drawingObjects[z$2];if(R8l.outputMap && R8l.outputMap.hasOwnProperty(c1r.field)){c1r.field=c1r.field.replace(U84.replaceID,q7q.inputs.id);if(q7q.parameters && q7q.parameters.panelName){c1r.panelName=q7q.parameters.panelName;}else {c1r.panelName=q7q.panel;}f1U=!"";}else if(R8l.panel && R8l.panel == c1r.panelName){c1r.panelName=c1r.panelName.replace(U84.replaceID,q7q.inputs.id);f1U=!"";}}if(f1U){l0w.changeOccurred("vector");}}return q7q;};j6q.Studies.smartMovePanel=function(p1J,U4F,k42,u6S,v4P){var O$t,k0Q,A4G,c8r;k0Q=U4F.id;if(u6S){O$t=p1J.layout.studies[u6S];}if(O$t){A4G=p1J.panels[O$t.panel];if(A4G){if(A4G.yAxis.name == u6S){if((v4P || k42 != u6S) && !p1J.checkForEmptyPanel(A4G.name,!!"1",O$t)){p1J.electNewPanelOwner(A4G);c8r=O$t.getYAxis(p1J);if(c8r.name == u6S){p1J.electNewYAxisOwner(c8r);};}else if(k42 == u6S || !p1J.panels[k42]){if(k0Q != A4G.name){p1J.modifyPanel(A4G,{name:k0Q,display:U4F.display});}k42=k0Q;}}}}A2IFV.a9S();return p1J.panels[k42];};j6q.Studies.smartCreateYAxis=function(s4M,o35,K8n,S9A,I84){var e8g,C0$,g3c,H7m,x6r;e8g="n";e8g+="o";e8g+="n";e8g+="e";C0$=s4M.getYAxisByName(o35,K8n);if(!S9A && I84){S9A=I84.position;}if(S9A == "default" || S9A == "shared" || S9A == o35.yAxis.name){S9A="";}if(["left","right",e8g].indexOf(S9A) > -+"1"){if(!C0$ || C0$.isShared(s4M)){g3c=I84 || ({});j6q.extend(g3c,{name:K8n,position:S9A});if(!C0$ && !s4M.currentlyImporting && o35 != o35.chart.panel && !o35.yAxis.studies.length && !o35.yAxis.renderers.length){C0$=o35.yAxis;j6q.extend(C0$,g3c);}else {H7m=C0$ == o35.yAxis;if(C0$){C0$.name=s4M.electNewYAxisOwner(C0$);}C0$=s4M.addYAxis(o35,new j6q.ChartEngine.YAxis(g3c));if(H7m){o35.yAxis=C0$;}}}else {C0$.position=S9A;}return C0$;}if(S9A){x6r=s4M.getYAxisByName(o35,S9A);if(x6r && C0$ == o35.yAxis && !C0$.isShared(s4M)){o35.yAxis=x6r;}if(C0$ && C0$.isShared(s4M)){C0$.name=s4M.electNewYAxisOwner(C0$);}else {if(C0$ !== o35.yAxis){s4M.deleteYAxisIfUnused(o35,C0$);}}return x6r;}if(C0$){if(C0$.isShared(s4M)){C0$.name=s4M.electNewYAxisOwner(C0$);}else {delete C0$.position;if(C0$ !== o35.yAxis){s4M.deleteYAxisIfUnused(o35,C0$);}}}s4M.resizeChart();return o35.yAxis;};j6q.Studies.calculateVolume=function(w0v,V45){var v3L,A3f,x_f;if(V45.type == "vol undr"){if(!w0v || !w0v.chart.dataSet){return;}v3L=w0v.layout;A3f=V45.parameters.removeStudy;x_f=v3L.volumeUnderlay;v3L.volumeUnderlay=!A3f;if(x_f != v3L.volumeUnderlay){w0v.changeOccurred("layout");}if(A3f){j6q.Studies.removeStudy(w0v,V45);}}V45.outputMap={};V45.outputMap.Volume="";};j6q.Studies.MA=function(v$L,T$s,o$T,B4X,p$R,U0L,J54,j5b){var P2t;P2t=new j6q.Studies.StudyDescriptor(p$R + " " + J54.name,"ma",J54.panel);P2t.chart=J54.chart;P2t.days=parseInt(T$s,10);P2t.startFrom=J54.startFrom;if(j5b){P2t.subField=j5b;}A2IFV.D0H();P2t.inputs={};if(v$L){P2t.inputs.Type=v$L;}if(o$T){P2t.inputs.Field=o$T;}if(B4X){P2t.inputs.Offset=parseInt(B4X,10);}j6q.Studies.calculateMovingAverage(U0L,P2t);};j6q.Studies.movingAverage={conversions:{ma:"simple",sma:"simple",ema:s1q,tma:"triangular",vdma:"vidya",wma:"weighted",smma:"welles wilder"},translations:{simple:"Simple",exponential:"Exponential",triangular:i2v,vidya:"VIDYA",weighted:I$$,"welles wilder":t05},typeMap:{ema:q1N,exponential:i3c,tma:"Triangular",triangular:W9k,vdma:"VIDYA",vidya:"VIDYA",wma:"Weighted",weighted:"Weighted",smma:"Exponential","welles wilder":S9B}};j6q.Studies.movingAverageHelper=function(o1M,F35){A2IFV.D0H();var i8u;if(F35 == "options"){i8u={};for(var T2f in j6q.Studies.movingAverage.translations){i8u[T2f]=o1M.translateIf(j6q.Studies.movingAverage.translations[T2f]);}return i8u;}return j6q.Studies.movingAverage.conversions[F35];};j6q.Studies.createVolumeChart=function(m1I,t5Z,j7T){var d04=A2IFV;var r4o,j5W,u4J,l_E,n3W,q8_,s8c,N_4,t6n,x8t,l7m,n5D,M0e,H4W,o0s,C4O,g07,h5N;r4o="_";r4o+="up";j5W="V";j5W+="olu";j5W+="m";j5W+="e";u4J="colo";u4J+="r";l_E="s";l_E+="tx_volume";n3W=t5Z.panel;q8_=t5Z.inputs;s8c=t5Z.underlay;N_4=t5Z.overlay;t6n=s8c || N_4;x8t=j6q.Studies.determineColor(t5Z.outputs["Up Volume"]);l7m=j6q.Studies.determineColor(t5Z.outputs["Down Volume"]);n5D=s8c?"stx_volume_underlay":l_E;d04.D0J(0);m1I.setStyle(d04.S40(n5D,"_up"),"color",x8t);d04.H6P(0);m1I.setStyle(d04.S40(n5D,"_down"),u4J,l7m);M0e=[{field:t5Z.volumeField || j5W,fill_color_up:m1I.canvasStyle(n5D + r4o).color,border_color_up:m1I.canvasStyle(n5D + "_up").borderLeftColor,opacity_up:m1I.canvasStyle(n5D + "_up").opacity,fill_color_down:m1I.canvasStyle(n5D + "_down").color,border_color_down:m1I.canvasStyle(n5D + "_down").borderLeftColor,opacity_down:m1I.canvasStyle(n5D + "_down").opacity,color_function:t5Z.colorFunction}];H4W=M0e[0];if(!s8c && H4W.border_color_down === "rgb(184, 44, 12)"){o0s="#";o0s+="00";o0s+="00";o0s+="00";C4O="#0";C4O+="0";C4O+="00";C4O+="00";H4W.border_color_down=C4O;H4W.border_color_up=o0s;}g07=t5Z.getYAxis(m1I);h5N={name:"Volume",panel:n3W,yAxis:g07,widthFactor:"1" << 64,bindToYAxis:!"",highlight:t5Z.highlight};j6q.extend(h5N,t5Z.study.parameters);j6q.extend(h5N,t5Z.parameters);if(m1I.colorByCandleDirection && !t5Z.colorFunction){H4W.color_function=function(o$d){var g5B,O6x;g5B=o$d.Open;O6x=o$d.Close;return {fill_color:g5B > O6x?H4W.fill_color_down:H4W.fill_color_up,border_color:g5B > O6x?H4W.border_color_down:H4W.border_color_up,opacity:g5B > O6x?H4W.opacity_down:H4W.opacity_up};};}m1I.drawHistogram(h5N,M0e);};j6q.Studies.calculateStandardDeviation=function(w0$,I9E){var M8s=A2IFV;M8s.a9S();var y8D,P7X,i4F,X4D,q5y,j5s,T79,A_j,Q3o,r3M,D_i,u_p,q_9,N6H;y8D=I9E.chart.scrubbed;if(y8D.length < I9E.days + 1){I9E.error=!![];return;}P7X=I9E.inputs.Field;if(!P7X || P7X == "field"){P7X="Close";}i4F=I9E.inputs["Moving Average Type"];if(!i4F){i4F=I9E.inputs.Type;}j6q.Studies.MA(i4F,I9E.days,P7X,I9E.inputs.Offset,"_MA",w0$,I9E);X4D=0;q5y=+"0";j5s=0;T79=Number(I9E.inputs["Standard Deviations"]);if(T79 < 0){T79=2;}A_j=I9E.name;for(var b_j in I9E.outputs){M8s.H6P(37);A_j=M8s.S40(A_j,b_j,(+"2690",4480) < 2760?("S",454.54):" ");}for((Q3o=I9E.startFrom - 1,D_i=0);Q3o >= 0 && D_i < I9E.days;(Q3o--,D_i++)){r3M=y8D[Q3o][P7X];if(r3M && typeof r3M == "object"){r3M=r3M[I9E.subField];}if(isNaN(r3M)){r3M=0;}X4D+=Math.pow(r3M,2);q5y+=r3M;}for(Q3o=I9E.startFrom;Q3o < y8D.length;Q3o++){u_p="_M";u_p+="A";u_p+=" ";q_9=y8D[Q3o];r3M=q_9[P7X];if(r3M && typeof r3M == "object"){r3M=r3M[I9E.subField];}if(!r3M && r3M !== 0){r3M=0;}X4D+=Math.pow(r3M,+"2");q5y+=r3M;if(Q3o < I9E.days - 1)continue;if(Q3o >= I9E.days){N6H=y8D[Q3o - I9E.days][P7X];if(N6H && typeof N6H == "object"){N6H=N6H[I9E.subField];}if(isNaN(N6H)){N6H=0;}X4D-=Math.pow(N6H,+"2");q5y-=N6H;}j5s=q_9[u_p + I9E.name];if(j5s || j5s === 0){M8s.D0J(122);var t0k=M8s.q7n(20,19,0,4,54);M8s.D0J(16);var u8N=M8s.q7n(2,4);q_9[A_j]=Math.sqrt((X4D + I9E.days * Math.pow(j5s,t0k) - u8N * j5s * q5y) / I9E.days) * T79;}}};j6q.Studies.calculateMovingAverage=function(W4v,O3s){var g7M,Q6T,a41,V6n,u6K,K8m,j0y,A7$,F6e,U5R,s5D,I7X,x3G,l5u,V8s,B5U,h$n,R8z,h_B,L73,n12;g7M="Clos";g7M+="e";if(!O3s.chart.scrubbed){return;}Q6T=O3s.inputs.Type;if(Q6T == "ma" || Q6T == "sma" || !Q6T){Q6T="simple";}a41=j6q.Studies.movingAverage.typeMap;A2IFV.a9S();if((Q6T in a41)){return j6q.Studies["calculateMovingAverage" + a41[Q6T]](W4v,O3s);}else if(Q6T !== "simple"){return;}V6n=O3s.chart.scrubbed;u6K=0;K8m=[];j0y=O3s.name;for(var I9q in O3s.outputs){A2IFV.D0J(37);j0y=A2IFV.q7n(j0y,I9q,(528.04,7840) < 269.57?(677.22,!!"1"):" ");}A7$=O3s.inputs.Field;if(!A7$ || A7$ == "field"){A7$=g7M;}F6e=parseInt(O3s.inputs.Offset,10);if(isNaN(F6e)){F6e=0;}x3G=O3s.startFrom;l5u=F6e;for(U5R=O3s.startFrom - +"1";U5R >= 0;U5R--){V8s="obj";V8s+="e";V8s+="c";V8s+="t";s5D=V6n[U5R][A7$];if(s5D && typeof s5D == V8s){s5D=s5D[O3s.subField];}if(!s5D && s5D !== 0)continue;if(l5u > 0){l5u--;x3G=U5R;continue;}if(K8m.length == O3s.days - 1)break;u6K+=s5D;K8m.unshift(s5D);}if(K8m.length < O3s.days - 1){K8m=[];x3G=0;;}B5U=[];for(U5R=x3G;U5R < V6n.length;U5R++){h$n="o";h$n+="bject";R8z=V6n[U5R];s5D=R8z[A7$];if(s5D && typeof s5D == h$n){s5D=s5D[O3s.subField];}h_B=U5R + F6e >= 0 && U5R + F6e < V6n.length;L73=h_B?V6n[U5R + F6e]:null;if(!s5D && s5D !== 0){if(L73){L73[j0y]=null;}else if(U5R + F6e >= V6n.length){I7X={};I7X[j0y]=null;B5U.push(I7X);}continue;}u6K+=s5D;K8m.push(s5D);if(K8m.length > O3s.days){u6K-=K8m.shift();}n12=K8m.length == O3s.days?u6K / O3s.days:null;if(L73){L73[j0y]=n12;}else if(U5R + F6e >= V6n.length){I7X={};I7X[j0y]=n12;B5U.push(I7X);}}O3s.appendFutureTicks(W4v,B5U);};j6q.Studies.calculateMovingAverageExponential=function(E24,y3b){var V1c=A2IFV;var f$V,O$m,l2L,W96,c_y,A4m,L$V,j1$,E4C,T6H,v1q,D8f,G7A,Q6i,M$T,w4v,i8v,B1M,L6u,t6j,X$H,d8b,k3K,U87;f$V=y3b.inputs.Type;O$m=y3b.chart.scrubbed;l2L=0;W96=0;c_y=0;V1c.H6P(11);var Y9k=V1c.S40(32,13,178,4);V1c.D0J(123);var p_U=V1c.S40(4,2,19,8);A4m=Y9k / (y3b.days + p_U);if(f$V === "welles wilder" || f$V === "smma"){V1c.H6P(19);var I1P=V1c.S40(18,17,2,36);A4m=I1P / y3b.days;}L$V=null;j1$=y3b.name;for(var z0a in y3b.outputs){V1c.H6P(37);j1$=V1c.q7n(j1$,z0a,531.97 >= (5452,1650)?(176.83,"6550" * 1) <= 312.28?(8.76e+3,"G"):3467 != 775.98?670.67:0x236e:" ");}E4C=y3b.inputs.Field;if(!E4C || E4C == "field"){E4C="Close";}T6H=parseInt(y3b.inputs.Offset,10);if(isNaN(T6H)){T6H=0;}G7A=y3b.startFrom;Q6i=T6H;for(v1q=y3b.startFrom - 1;v1q >= 0;v1q--){D8f=O$m[v1q][j1$];if(!D8f && D8f !== 0)continue;if(L$V === null){L$V=D8f;}c_y=y3b.days;if(Q6i <= 0)break;Q6i--;G7A=v1q;}if(L$V === null){M$T=-431256440;w4v=1650909003;i8v=2;for(var L86=1;V1c.Z2Z(L86.toString(),L86.toString().length,"52360" >> 64) !== M$T;L86++){L$V=G7A=6;i8v+=2;}if(V1c.U6$(i8v.toString(),i8v.toString().length,284) !== w4v){L$V=G7A=6;}L$V=G7A=0;}B1M=[];V1c.a9S();for(v1q=G7A;v1q < O$m.length;v1q++){L6u="obje";L6u+="ct";t6j=O$m[v1q];D8f=t6j[E4C];if(D8f && typeof D8f == L6u){D8f=D8f[y3b.subField];}X$H=v1q + T6H >= 0 && v1q + T6H < O$m.length;d8b=X$H?O$m[v1q + T6H]:null;if(!D8f && D8f !== 0){k3K=null;}else {if(c_y == y3b.days - +"1"){l2L+=D8f;W96=l2L / y3b.days;k3K=W96;}else if(c_y < y3b.days - 1){l2L+=D8f;V1c.H6P(124);W96=V1c.q7n(1,c_y,l2L);k3K=null;}else if(c_y === 0){l2L+=D8f;W96=l2L;k3K=null;}else if(L$V || L$V === 0){V1c.H6P(125);W96=V1c.q7n(A4m,D8f,L$V,L$V);k3K=W96;}L$V=W96;c_y++;}if(d8b){d8b[j1$]=k3K;}else if(v1q + T6H >= O$m.length){U87={};U87[j1$]=k3K;B1M.push(U87);}}y3b.appendFutureTicks(E24,B1M);};j6q.Studies.calculateMovingAverageVIDYA=function(T25,v0M){var e31=A2IFV;var h1V,D2c,g$k,w9x,L0u,s2G,H7q,u_5,d4M,E44,K6h,R_l,g73,Y4b,H3v,N7n,d$v,i5B,N0z,K$m,v42;h1V="_M";h1V+="A";h1V+="ST";h1V+="D";D2c="sd";D2c+="ev";g$k=v0M.inputs.Type;w9x=v0M.chart.scrubbed;e31.D0J(126);var t3d=e31.S40(94,15,6,5,5);L0u=t3d / (v0M.days + +"1");s2G=null;H7q=v0M.name;for(var h0r in v0M.outputs){e31.H6P(37);H7q=e31.S40(H7q,h0r," ");}u_5=v0M.inputs.Field;if(!u_5 || u_5 == "field"){u_5="Close";}v0M.std=new j6q.Studies.StudyDescriptor(v0M.name,D2c,v0M.panel);v0M.std.chart=v0M.chart;v0M.std.days=5;v0M.std.startFrom=v0M.startFrom;v0M.std.inputs={Field:u_5,"Standard Deviations":1,Type:"ma"};v0M.std.outputs={_STD:null};j6q.Studies.calculateStandardDeviation(T25,v0M.std);j6q.Studies.MA("ma",20,"_STD " + v0M.name,0,h1V,T25,v0M);d4M=parseInt(v0M.inputs.Offset,10);if(isNaN(d4M)){d4M=0;}g73=v0M.startFrom;Y4b=d4M;for(E44=v0M.startFrom - 1;E44 >= 0;E44--){K6h=w9x[E44][H7q];if(!K6h && K6h !== 0)continue;if(s2G === null){s2G=K6h;}if(Y4b <= 0)break;Y4b--;g73=E44;}if(s2G === null){s2G=g73=0;}H3v=[];for(E44=g73;E44 < w9x.length;E44++){N7n="o";N7n+="b";N7n+="jec";N7n+="t";d$v=w9x[E44];K6h=d$v[u_5];if(K6h && typeof K6h == N7n){K6h=K6h[v0M.subField];}i5B=E44 + d4M >= 0 && E44 + d4M < w9x.length;N0z=i5B?w9x[E44 + d4M]:null;if(!K6h && K6h !== 0){if(N0z){N0z[H7q]=null;}else if(E44 + d4M >= w9x.length){R_l={};R_l[H7q]=null;H3v.push(R_l);}continue;}if(!d$v["_MASTD " + v0M.name] && d$v["_MASTD " + v0M.name] !== 0)continue;K$m=d$v["_STD " + v0M.name] / d$v["_MASTD " + v0M.name];e31.H6P(127);v42=e31.q7n(K6h,K$m,K$m,L0u,L0u,1,s2G);s2G=v42;if(E44 < v0M.days){v42=null;}if(N0z){N0z[H7q]=v42;}else if(E44 + d4M >= w9x.length){R_l={};R_l[H7q]=v42;H3v.push(R_l);}}v0M.appendFutureTicks(T25,H3v);};j6q.Studies.calculateMovingAverageTriangular=function(f2i,X6P){var k6B=A2IFV;var J64,c8n,C2f,u$n,U7D,g3R,J2E,q6X,t0f,F7J,y5U,J7$;J64="T";k6B.D0H();J64+="R";J64+="I";J64+="2";c8n="T";c8n+="RI";c8n+="1 ";C2f="f";C2f+="ield";u$n=X6P.chart.scrubbed;U7D=X6P.inputs.Field;if(!U7D || U7D == C2f){U7D="Close";}g3R=Math.ceil(X6P.days / 2);j6q.Studies.MA("simple",g3R,U7D,0,"TRI1",f2i,X6P);if(X6P.days % 2 === 0){g3R++;}j6q.Studies.MA("simple",g3R,c8n + X6P.name,"0" | 0,J64,f2i,X6P);J2E=X6P.name;for(var w9i in X6P.outputs){k6B.D0J(37);J2E=k6B.S40(J2E,w9i," ");}q6X=parseInt(X6P.inputs.Offset,10);if(isNaN(q6X)){k6B.D0J(40);q6X=k6B.S40(0,"0");}t0f=q6X;for(var u_b=X6P.startFrom - 1;u_b >= 0;u_b--){F7J=u$n[u_b][J2E];if(!F7J && F7J !== 0)continue;if(t0f > 0){t0f--;continue;}break;}y5U=[];for(u_b++;u_b < u$n.length;u_b++){if(u_b + q6X >= 0){if(u_b + q6X < u$n.length){k6B.H6P(0);u$n[k6B.S40(u_b,q6X)][J2E]=u$n[u_b]["TRI2 " + X6P.name];}else {J7$={};J7$[J2E]=u$n[u_b]["TRI2 " + X6P.name];y5U.push(J7$);}}}X6P.appendFutureTicks(f2i,y5U);};j6q.Studies.calculateMovingAverageWeighted=function(P8w,D2r){var L2_=A2IFV;var n9l,L1z,l5I,S0i,A7h,y4N,C2F,D1i,y5I,j6S,B7D,g6u,J6b,c43,t93,o_G,X3m,q86,K9a;n9l=D2r.chart.scrubbed;L1z=0;l5I=0;S0i=D2r.inputs.Field;if(!S0i || S0i == "field"){S0i="Close";}L2_.H6P(39);var o8C=L2_.q7n(12,8,3);L2_.D0J(7);var Z1v=L2_.S40(12,14);A7h=D2r.days * (D2r.days + o8C) / Z1v;y4N=D2r.name;for(var E_d in D2r.outputs){L2_.H6P(37);y4N=L2_.S40(y4N,E_d,4530 !== 726.05?(858.91,888.55) <= (2586,964.86)?" ":61.37 <= 3330?0x1937:(+"124.27",0x3b6):(135.18,170.12));}C2F=parseInt(D2r.inputs.Offset,10);if(isNaN(C2F)){C2F=0;}L2_.D0H();B7D=[];g6u=D2r.startFrom;J6b=C2F;for(D1i=D2r.startFrom - 1;D1i >= 0;D1i--){y5I=n9l[D1i][S0i];if(y5I && typeof y5I == "object"){y5I=y5I[D2r.subField];}if(!y5I && y5I !== ("0" ^ 0))continue;if(J6b > 0){J6b--;g6u=D1i;continue;}if(B7D.length == D2r.days - 1)break;B7D.unshift(y5I);}if(B7D.length < D2r.days - ("1" ^ 0)){B7D=[];g6u=0;;}for(D1i=0;D1i < B7D.length;D1i++){L2_.D0J(123);var f$w=L2_.q7n(7,7,55,7);L1z+=(D1i + f$w) * B7D[D1i];l5I+=B7D[D1i];}c43=[];for(D1i=g6u;D1i < n9l.length;D1i++){t93="obj";t93+="e";t93+="ct";o_G=n9l[D1i];y5I=o_G[S0i];if(y5I && typeof y5I == t93){y5I=y5I[D2r.subField];}X3m=D1i + C2F >= 0 && D1i + C2F < n9l.length;q86=X3m?n9l[D1i + C2F]:null;if(!y5I && y5I !== 0){if(q86){q86[y4N]=null;}else if(D1i + C2F >= n9l.length){j6S={};j6S[y4N]=null;c43.push(j6S);}continue;}B7D.push(y5I);if(B7D.length > D2r.days){L1z-=l5I;l5I-=B7D.shift();}L1z+=B7D.length * y5I;l5I+=y5I;K9a=D1i < D2r.days - 1?null:L1z / A7h;if(q86){q86[y4N]=K9a;}else if(D1i + C2F >= n9l.length){j6S={};j6S[y4N]=K9a;c43.push(j6S);}}D2r.appendFutureTicks(P8w,c43);};j6q.Studies.calculateStudyATR=function(Q4c,a5o){var Q4J=A2IFV;var i_A,o2C,K8Z,q$_,W9D,E$t,z_J,w5u,u8$,g3M;i_A=a5o.chart.scrubbed;o2C=a5o.days;if(i_A.length < o2C + 1){a5o.error=!!({});return;}K8Z=0;Q4J.D0H();q$_=a5o.name;for(var c3m=Math.max(a5o.startFrom,1);c3m < i_A.length;c3m++){W9D="A";W9D+="TR";W9D+=" ";E$t="AT";E$t+="R ";z_J="True";z_J+=" ";z_J+="Range";z_J+=" ";w5u=i_A[c3m];Q4J.H6P(7);u8$=i_A[Q4J.q7n(1,c3m)];g3M=w5u.trueRange;if(u8$["Sum True Range " + q$_]){Q4J.H6P(0);K8Z=u8$[Q4J.q7n("Sum True Range ",q$_)];}K8Z+=g3M;if(c3m > o2C){Q4J.D0J(7);K8Z-=i_A[Q4J.q7n(o2C,c3m)][Q4J.q7n("True Range ",q$_,Q4J.D0J(0))];}Q4J.H6P(0);w5u[Q4J.S40(z_J,q$_)]=g3M;Q4J.H6P(0);w5u[Q4J.q7n("Sum True Range ",q$_)]=K8Z;if(c3m == o2C){Q4J.H6P(0);w5u[Q4J.q7n(E$t,q$_)]=Q4J.S40(o2C,K8Z,Q4J.H6P(14));}else if(c3m > o2C){Q4J.D0J(0);w5u[Q4J.q7n("ATR ",q$_)]=(u8$[W9D + q$_] * (o2C - 1) + g3M) / o2C;}}};j6q.Studies.displayPSAR2=function(y8P,Q4R,x2l){var A4s=A2IFV;var Z52,t0u,o8t,n_o,d29,g5n,l0a,Z4h,t_o,G65,O1Z,V1L,N8k,R_d;Z52=y8P.panels[Q4R.panel];t0u=Q4R.getYAxis(y8P);o8t=t0u == y8P.chart.panel.yAxis;y8P.startClip(Z52.name);n_o=Q4R.getContext(y8P);d29=Q4R.inputs["Plot Type"] == "squarewave";for(var W9z in Q4R.outputs){g5n="a";g5n+="u";g5n+="t";g5n+="o";A4s.H6P(0);var P3o=A4s.q7n(2645,7);A4s.D0J(19);var W2I=A4s.S40(54560,8,6,47754);A4s.D0J(0);var m6A=A4s.q7n(9262,8);A4s.D0J(62);var L6T=A4s.q7n(4,3270,10,1090);A4s.H6P(18);var e5E=A4s.S40(17808,1,11872);l0a=W9z + ((P3o,442.57) > (W2I,m6A)?(965.45,L6T) != 275.62?(779.78,!1):(e5E,"x"):" ") + Q4R.name;n_o.beginPath();Z4h=y8P.layout.candleWidth;t_o=Math.max(3,Math.floor(y8P.chart.tmpWidth / 2));for(var i$t=0;i$t < x2l.length;i$t++){G65=x2l[i$t];if(!G65 || !G65[l0a] && G65[l0a] !== 0)continue;if(G65.candleWidth){Z4h=G65.candleWidth;}if(o8t && G65.transform){G65=G65.transform;}O1Z=y8P.pixelFromBar(i$t,Z52.chart);if(d29){A4s.D0J(14);O1Z-=A4s.S40(2,Z4h);}V1L=y8P.pixelFromTransformedValue(G65[Q4R.referenceOutput?Q4R.referenceOutput + ((6850,6821) >= 2720?(940.09,2090) !== 1125?+"796" < 889.08?" ":"F":958.27:"K") + Q4R.name:l0a],Z52,t0u);if(i$t === +"0" || !x2l[i$t - +"1"] || !x2l[i$t - 1][l0a] && x2l[i$t - +"1"][l0a] !== 0){n_o.moveTo(O1Z,V1L);}if(d29){n_o.lineTo(O1Z,V1L);A4s.H6P(0);n_o.lineTo(A4s.q7n(O1Z,Z4h),V1L);if(x2l[i$t + 1]){A4s.H6P(0);N8k=x2l[A4s.S40(i$t,1)];if(o8t && N8k.transform){N8k=N8k.transform;}if(!N8k[l0a] && N8k[l0a] !== 0){A4s.H6P(0);n_o.lineTo(A4s.q7n(O1Z,Z4h),y8P.pixelFromTransformedValue(N8k[Q4R.referenceOutput?Q4R.referenceOutput + (756.3 < 5063?(8350,"8497" << 64) >= (4579,297.37)?" ":(265.69,6.71e+3):!({})) + Q4R.name:l0a],y8P.panels[Q4R.panel],t0u));}}}else {A4s.H6P(128);n_o.moveTo(A4s.q7n(O1Z,"2",t_o),V1L);A4s.H6P(129);n_o.lineTo(A4s.S40(t_o,"2",O1Z,64),V1L);}}n_o.lineWidth=1;if(Q4R.highlight){n_o.lineWidth=3;}R_d=j6q.Studies.determineColor(Q4R.outputs[W9z]);if(R_d == g5n){R_d=y8P.defaultColor;}n_o.strokeStyle=R_d;if(!Q4R.highlight && y8P.highlightedDraggable){n_o.globalAlpha*=0.3;}n_o.stroke();n_o.closePath();n_o.lineWidth=1;}y8P.endClip();};j6q.Studies.inputAttributeDefaultGenerator=function(e2x){if(!e2x && e2x !== 0){return {};}if(e2x.constructor == Number){if(Math.floor(e2x) == e2x){if(e2x > 0){return {min:1,step:1};}return {step:"1" << 64};;}if(e2x > 0){return {min:0,step:0.01};}return {step:0.01};;}return {};};j6q.Studies.getMarketOffset=function({stx:q7A, localQuoteDate:d2f, shiftToDateBoundary:W5w}){var Q2b=A2IFV;var D2B,g$3,O5B,v3c,r3i,G5f,f8_;D2B="U";D2B+="TC";if(arguments.length > 1){q7A=arguments[0];d2f=arguments[1];g$3=arguments[2];}var {symbol:z5s}=q7A.chart;O5B=j6q.getFn("Market.Symbology.isForexMetal")(z5s);if(g$3 === undefined){v3c="Market.Symbolog";v3c+="y.isForexSymbol";g$3=j6q.getFn(v3c)(z5s);}if(!q7A.chart.market){r3i=null;}else {r3i=g$3?"America/New_York":q7A.chart.market.market_tz;}Q2b.D0J(33);var M75=Q2b.S40(14,60009,8,13);G5f=new Date(d2f.getTime() + d2f.getTimezoneOffset() * M75);if(!r3i || r3i.indexOf("UTC") == -1){G5f=j6q.convertTimeZone(G5f,D2B,r3i);}f8_=new Date(G5f.getFullYear(),G5f.getMonth(),G5f.getDate(),G5f.getHours(),G5f.getMinutes(),G5f.getSeconds(),G5f.getMilliseconds()).getTime() - d2f.getTime();if(W5w && g$3){Q2b.H6P(130);f8_+=Q2b.S40("60",O5B?6:+"7",1000,"60");}return f8_;};j6q.Studies.getStudyList=function(N9R){var l2x,x74;l2x={};x74={};j6q.extend(x74,N9R);A2IFV.a9S();for(var A6L in j6q.Studies.studyLibrary){if(!x74[A6L]){l2x[j6q.Studies.studyLibrary[A6L].name]=A6L;}}return l2x;};j6q.Studies.determineColor=function(z7u){var R5X;R5X="ob";R5X+="j";R5X+="e";R5X+="ct";if(!z7u){return null;}else if(typeof z7u === R5X){return z7u.color;}return z7u;};j6q.Studies.calculateGenericEnvelope=function(m_S,l$9,r67,W5F,Y1Q,Y93){var K8E=A2IFV;var I_9,S$r,h6x,G$p,z4U,t3U,V3I,e8M,D52;I_9="f";I_9+="i";I_9+="e";I_9+="ld";if(!r67){r67=0;}if(!Y93){Y93=0;}if(!W5F || W5F == "field"){W5F="Close";}if(!Y1Q){Y1Q=W5F;}S$r=l$9.chart.scrubbed;h6x=l$9.inputs.Field;if(!h6x || h6x === I_9){h6x="Close";}for(var W1I=l$9.startFrom;S$r && W1I < S$r.length;W1I++){G$p="Band";G$p+="w";G$p+="idth";G$p+=" ";z4U=S$r[W1I];if(!z4U)continue;if(!z4U[W5F])continue;t3U=z4U[h6x];if(t3U && typeof t3U == "object"){t3U=t3U.Close;}V3I=z4U[W5F];if(V3I && typeof V3I == "object"){V3I=V3I[l$9.subField];}e8M=z4U[Y1Q];if(e8M && typeof e8M == "object"){e8M=e8M[l$9.subField];}K8E.D0J(32);D52=K8E.S40(Y93,e8M,r67);K8E.H6P(0);z4U[l$9.type + " Top " + l$9.name]=K8E.S40(V3I,D52);K8E.D0J(7);z4U[l$9.type + " Bottom " + l$9.name]=K8E.S40(D52,V3I);z4U[l$9.type + " Median " + l$9.name]=V3I;z4U[G$p + l$9.name]=V3I?200 * D52 / V3I:"0" | 0;K8E.D0J(131);z4U["%b " + l$9.name]=K8E.S40(50,1,t3U,V3I,D52);}};j6q.Studies.displayChannel=function(r6w,H9C,p5B){A2IFV.D0H();var Z1B,b45,H$o,d5W,m56;Z1B="C";Z1B+="h";Z1B+="an";Z1B+="nel Fill";if(H9C.inputs[Z1B]){b45={panelName:H9C.panel};for(var D0Z in H9C.outputs){H$o="Bo";H$o+="tt";H$o+="om";d5W=D0Z.split(6480 >= 325.28?" ":(1160,258) !== (6870,"832.56" * 1)?(320.14,941.60):1.41e+2).pop();if(d5W == "Top" || d5W == "High"){b45.topBand=D0Z + " " + H9C.name;}else if(d5W == H$o || d5W == "Low"){b45.bottomBand=D0Z + " " + H9C.name;}else if(d5W == "Median" || d5W == "Channel"){b45.color=j6q.Studies.determineColor(H9C.outputs[D0Z]);}}if(H9C.parameters && H9C.parameters.opacity){b45.opacity=H9C.parameters.opacity;}else {b45.opacity=0.2;}m56=r6w.panels[H9C.panel];b45.skipTransform=m56.name != H9C.chart.name;b45.yAxis=H9C.getYAxis(r6w);if(!H9C.highlight && r6w.highlightedDraggable){b45.opacity*=0.3;}j6q.prepareChannelFill(r6w,b45);}j6q.Studies.displaySeriesAsLine(r6w,H9C,p5B);};j6q.Studies.initAnchorHandle=function(n1t,w5T){var {handle:O7X}=w5T;A2IFV.D0H();if(O7X){return;}if(!n1t.controls.anchorHandles){n1t.controls.anchorHandles={};}if(n1t.controls.anchorHandles[w5T.uniqueId]){({handle:O7X}=n1t.controls.anchorHandles[w5T.uniqueId]);}else {O7X=document.createElement("div");O7X.classList.add("stx_anchor_handle");O7X.setAttribute(w5T.uniqueId,"");n1t.controls.anchorHandles[w5T.uniqueId]={handle:O7X,sd:w5T};n1t.controls.chartControls.parentElement.appendChild(O7X);}w5T.anchorHandle=O7X;};j6q.Studies.removeAnchorHandle=function(D_c,R2m){var {handle:c5i}=(D_c.controls.anchorHandles || ({}))[R2m.uniqueId] || ({});if(c5i){delete D_c.controls.anchorHandles[R2m.uniqueId];c5i.remove();}};j6q.Studies.repositionAnchor=function(P$O,o_o){var U4i,f5M,L4k,N9Z,X8s,I1y,B12,k8u,X7B;var {currentAnchorTime:q9V, uniqueId:B2e}=o_o;var {hoverTick:L7j}=P$O.repositioningAnchorSelector || ({});var {dataSet:d_N, market:y$n}=P$O.chart;var {anchorHandles:Q8Z}=P$O.controls;U4i={};A2IFV.a9S();if(L7j || L7j === 0){f5M="HH";f5M+=":m";f5M+="m:s";f5M+="s";L4k="Anchor ";L4k+="Date";if(L7j >= d_N.length){return;}N9Z=!o_o.inputs[L4k];X8s=d_N[L7j].DT;I1y=j6q.Studies.getMarketOffset({stx:P$O,localQuoteDate:X8s,shiftToDateBoundary:!0});if(N9Z && new Date(X8s.getTime() + I1y).getDate() !== new Date(q9V.getTime() + I1y).getDate()){return;}if(y$n.market_def){X8s=new W7j.Date(X8s,y$n.market_def.market_tz);}B12=!N9Z && j6q.dateToStr(X8s,"YYYY-MM-dd");k8u=j6q.dateToStr(X8s,f5M);U4i={"Anchor Time":k8u};if(B12){U4i["Anchor Date"]=B12;}}X7B=j6q.Studies.replaceStudy(P$O,o_o.inputs.id,o_o.type,Object.assign(o_o.inputs,U4i),o_o.outputs,o_o.parameters,o_o.panel);Q8Z[B2e].sd=X7B;P$O.draw();};j6q.Studies.displayAnchorHandleAndLine=function(J3A,R$W,u_n){var J9A=A2IFV;var G7S,q5F,W6_,e0d,i$6,K5a,z2x,U4I,u1x,s7w,W1C,n3o,V4t,F_W,T9K,K5U;G7S=(J3A.repositioningAnchorSelector || ({})).sd === R$W;var {hoverTick:s67}=G7S && J3A.repositioningAnchorSelector;var {chart:V2N, panels:a$k, xaxisHeight:y54}=J3A;var {market:W0T = {}, symbol:g2E}=V2N;q5F=a$k[R$W.panel];var {top:M2t, bottom:r_p, right:U$T, left:P2b, height:N$H}=q5F;var {inputs:Q3m, anchorHandle:K4J, currentAnchorTime:f0q}=R$W;var {backgroundColor:A2Q, borderLeftColor:z3P}=J3A.canvasStyle("stx_anchor_handle");var [w1I,a_4,d50 = +"0"]=(Q3m["Anchor Time"] || "").split(":");W6_=!Q3m["Anchor Date"];e0d=j6q.getFn("Market.Symbology.isForexSymbol")(g2E);i$6=(s67 || s67 === 0) && (J3A.chart.dataSet[s67] || ({})).DT;K5a=j6q.Studies.getMarketOffset({stx:J3A,localQuoteDate:u_n[u_n.length - +"1"].DT,shiftToDateBoundary:!![]});z2x=i$6 && W6_ && new Date(i$6.getTime() + K5a).getDate() !== new Date(f0q.getTime() + K5a).getDate();var {highlighted:P$p}=J3A.controls.anchorHandles[R$W.uniqueId];var [U9i,O4m]=W0T.getNormalOpen().split(6958 !== ("483" ^ 0)?(367.59,3068) < (4953,867.97)?(655.31,405.05) >= 934?(![],968.63):(0xb3f,2.96e+3):":":(![],438.72)).map(U3V=>{J9A.D0H();return parseInt(U3V);});U4I=e0C=>{var q$8;q$8=e0C?J3A.tickFromDate(e0C,null,null,!!({})):s67;J9A.a9S();return [J3A.pixelFromTick(q$8,V2N),q$8];};u1x=W6_?new Date(u_n[u_n.length - "1" * 1].DT):j6q.strToDate(Q3m["Anchor Date"]);if(W0T.market_def){u1x=new W7j.Date(u1x,W0T.market_def.market_tz);}u1x.setHours(w1I,a_4,d50);s7w=e0d && (u1x.getHours() > U9i || u1x.getHours() === U9i && u1x.getMinutes() >= O4m);if(s7w){u1x.setDate(u1x.getDate() - 1);}var [Z6C]=U4I();var [u3x,b1a]=U4I(u1x);W1C=new Date(u1x);W1C.setHours(...W0T.getNormalClose().split((415.47,"661.86" * 1) <= "1960" >> 0?191.13 !== 4218?":":1890 == 2430?"M":("0x121a" | 24,!!({})):!!"1"));if(s7w){W1C.setDate(W1C.getDate() + 1);}var [Q4u]=W1C && U4I(W1C) || [];if(W6_ && (u3x > U$T || Q4u > U$T)){n3o=new Date(u1x);do {n3o.setDate(n3o.getDate() - 1);}while(W0T && !W0T.isMarketDate(n3o));var [Y4R,t_q]=U4I(n3o);if(Y4R > P2b){u1x=n3o;u3x=Y4R;b1a=t_q;}}V4t={y0:M2t,y1:r_p,type:"line",confineToPanel:q5F};J3A.plotLine(Object.assign(V4t,{x0:u3x,x1:u3x,color:A2Q,pattern:"solid",lineWidth:P$p?3:"2" << 96,opacity:1}));J3A.plotLine(Object.assign(V4t,{x0:Z6C,x1:Z6C,color:z2x?z3P:A2Q,pattern:[6,+"6"],lineWidth:2,opacity:z2x?0.5:1}));J9A.D0J(132);var t1w=J9A.S40(100,12,17,7,1);K4J.style.height=[8,N$H / 4,"50" - 0].sort((V7C,Q0K)=>{J9A.D0J(7);J9A.D0H();return J9A.q7n(Q0K,V7C);})[t1w] + "px";var {height:Y6q, width:I3B}=K4J.getBoundingClientRect();F_W=Math.round(r_p) === J3A.height?y54:0;T9K=q5F.name === "chart"?35:+"0";J9A.H6P(48);K5U=J9A.q7n(Y6q,T9K,F_W,10);J9A.D0J(36);K4J.style.top=J9A.q7n("px",r_p,K5U);K4J.style.left=s67 || s67 === 0?Z6C:u3x - I3B / 2 + "px";R$W.currentAnchorTime=u1x;R$W.currentAnchorTick=b1a;};j6q.Studies.studyScriptLibrary={};j6q.Studies.studyLibrary=j6q.Studies.studyLibrary || ({});j6q.extend(j6q.Studies.studyLibrary,{ma:{name:"Moving Average",overlay:!![],calculateFN:j6q.Studies.calculateMovingAverage,inputs:{Period:50,Field:"field",Type:"ma",Offset:0},outputs:{MA:"#FF0000"}},"STD Dev":{name:"Standard Deviation",calculateFN:j6q.Studies.calculateStandardDeviation,inputs:{Period:+"14",Field:"field","Standard Deviations":"2" | 2,"Moving Average Type":"ma"},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"True Range":{name:p8o,calculateFN:j6q.Studies.calculateStudyATR,inputs:{},outputs:{"True Range":"auto"}},volume:{name:"Volume Chart",range:"0 to max",yAxis:{ground:!!({}),initialMarginTop:0,zoom:"0" - 0},seriesFN:j6q.Studies.createVolumeChart,calculateFN:j6q.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":"#8cc176","Down Volume":"#b82c0c"}}});};L0=v7$=>{var V6w;V6w=typeof _CIQ !== "undefined"?_CIQ:v7$.CIQ;A2IFV.D0H();if(!V6w.ChartEngine.Driver){console.error("symbolLookupBase feature requires first activating quoteFeed feature.");}else {V6w.ChartEngine.Driver.Lookup=function(N05){};V6w.ChartEngine.Driver.Lookup.prototype.acceptText=function(G8m,w0z,s4S,J1q){A2IFV.a9S();if(!this.cb){return;}};}};W_=B3J=>{var c1g,O1F;c1g="und";c1g+="efin";c1g+="ed";O1F=typeof _CIQ !== c1g?_CIQ:B3J.CIQ;O1F.ThemeHelper=O1F.ThemeHelper || (function(k_4){var j1I,M6D,c53,D2T,q4w,k4i,N_u,b99,e4h,B8A,v68;j1I="stx_mou";A2IFV.D0H();j1I+="ntain_chart";M6D="Ca";M6D+="nd";M6D+="le/Bar";c53="stx_";c53+="ca";c53+="ndle_dow";c53+="n";D2T="Can";D2T+="dl";D2T+="e/Bar";q4w="stx_can";q4w+="dle_shad";q4w+="ow_dow";q4w+="n";k4i="Candle/B";k4i+="ar";N_u="Cand";N_u+="l";N_u+="e/";N_u+="Bar";b99="Candl";b99+="e/Bar";e4h="stx_gri";e4h+="d";this.params=k_4;B8A=k_4.stx;v68="#FFFFFF";if(B8A.chart.container){v68=getComputedStyle(B8A.chart.container).backgroundColor;if(O1F.isTransparent(v68)){v68=B8A.containerColor;}}this.settings.chart.Background.color=O1F.hexToRgba(v68);this.settings.chart["Grid Lines"].color=O1F.hexToRgba(B8A.canvasStyle(e4h).color);this.settings.chart["Grid Dividers"].color=O1F.hexToRgba(B8A.canvasStyle("stx_grid_dark").color);this.settings.chart["Axis Text"].color=O1F.hexToRgba(B8A.canvasStyle("stx_xaxis").color);this.settings.chartTypes[b99].up.color=O1F.hexToRgba(B8A.canvasStyle("stx_candle_up").color);this.settings.chartTypes["Candle/Bar"].down.color=O1F.hexToRgba(B8A.canvasStyle("stx_candle_down").color);this.settings.chartTypes[N_u].up.wick=O1F.hexToRgba(B8A.canvasStyle("stx_candle_shadow_up").color);this.settings.chartTypes[k4i].down.wick=O1F.hexToRgba(B8A.canvasStyle(q4w).color);this.settings.chartTypes["Candle/Bar"].even.wick=O1F.hexToRgba(B8A.canvasStyle("stx_candle_shadow_even").color);this.settings.chartTypes["Candle/Bar"].up.border=O1F.hexToRgba(B8A.canvasStyle("stx_candle_up").borderLeftColor);this.settings.chartTypes[D2T].down.border=O1F.hexToRgba(B8A.canvasStyle(c53).borderLeftColor);if(O1F.isTransparent(B8A.canvasStyle("stx_candle_up").borderLeftColor)){this.settings.chartTypes["Candle/Bar"].up.border=null;}if(O1F.isTransparent(B8A.canvasStyle("stx_candle_down").borderLeftColor)){this.settings.chartTypes[M6D].down.border=null;}this.settings.chartTypes.Line.color=O1F.hexToRgba(B8A.canvasStyle("stx_line_chart").color);this.settings.chartTypes.Mountain.color=O1F.hexToRgba(B8A.canvasStyle("stx_mountain_chart").backgroundColor);this.settings.chartTypes.Mountain.basecolor=O1F.hexToRgba(B8A.canvasStyle(j1I).color);});O1F.ThemeHelper.prototype.settings={chart:{Background:{color:null},"Grid Lines":{color:null},"Grid Dividers":{color:null},"Axis Text":{color:null}},chartTypes:{"Candle/Bar":{up:{color:null,wick:null,border:null},down:{color:null,wick:null,border:null},even:{color:null,wick:null,border:null}},Line:{color:null},Mountain:{color:null,basecolor:null}}};O1F.ThemeHelper.prototype.update=function(L7S){var e4C,f37,L4N,M41,S8M,T_K,a7Y,x6d,Z6Q,P_v,v4f,x1F,P8o;function p2_(x8w,c2c,E2J){var N4Z;N4Z=v4f[x8w];for(var u2M in N4Z){L7S.setStyle(u2M,c2c,E2J);}}e4C="st";e4C+="x_mountain_chart";f37="colo";f37+="r";L4N="s";L4N+="tx_li";L4N+="ne_chart";M41="c";M41+="ol";M41+="or";S8M="stx_candle_";S8M+="even";T_K="stx_c";T_K+="andle";T_K+="_dow";T_K+="n";a7Y="stx_can";a7Y+="dle_up";x6d="st";x6d+="x_xaxis";Z6Q="co";Z6Q+="lo";Z6Q+="r";P_v="stx";P_v+="_grid";if(!L7S){L7S=this.params.stx;}v4f={stx_candle_up:{stx_candle_up:!!1,stx_bar_up:!!({}),stx_hollow_candle_up:!!"1",stx_line_up:!!({}),stx_baseline_up:!![]},stx_candle_down:{stx_candle_down:!![],stx_bar_down:!"",stx_hollow_candle_down:!"",stx_line_down:!!1,stx_baseline_down:!!1},stx_candle_even:{stx_hollow_candle_even:!"",stx_bar_even:!0},stx_shadow_up:{stx_candle_shadow_up:!!({})},stx_shadow_down:{stx_candle_shadow_down:!!({})},stx_shadow_even:{stx_candle_shadow_even:!!({})},stx_line_chart:{stx_bar_chart:!![],stx_line_chart:!!({})},stx_grid:{stx_grid:!![]},stx_grid_dark:{stx_grid_dark:!!1},stx_xaxis:{stx_xaxis_dark:!![],stx_xaxis:!!({}),stx_yaxis:!0,stx_yaxis_dark:!!({}),stx_grid_border:!0},stx_mountain_chart:{stx_mountain_chart:!!({})},stx_market_session:{stx_market_session:!!1}};L7S.chart.container.style.backgroundColor=this.settings.chart.Background.color;L7S.defaultColor="";p2_(P_v,"color",this.settings.chart["Grid Lines"].color);p2_("stx_grid_dark",Z6Q,this.settings.chart["Grid Dividers"].color);p2_(x6d,"color",this.settings.chart["Axis Text"].color);x1F=this.settings.chartTypes["Candle/Bar"];if(!x1F.even){P8o="stx_candle_";P8o+="shadow_even";x1F.even={color:null,wick:O1F.hexToRgba(L7S.canvasStyle(P8o).color),border:null};}p2_(a7Y,"color",x1F.up.color);p2_(T_K,"color",x1F.down.color);p2_(S8M,M41,x1F.even.color);p2_("stx_shadow_up","color",x1F.up.wick);p2_("stx_shadow_down","color",x1F.down.wick);p2_("stx_shadow_even","color",x1F.even.wick);L7S.setStyle("stx_candle_up","borderLeftColor",x1F.up.border);A2IFV.a9S();L7S.setStyle("stx_candle_down","borderLeftColor",x1F.down.border);p2_(L4N,f37,this.settings.chartTypes.Line.color);L7S.setStyle("stx_mountain_chart","borderTopColor",O1F.hexToRgba(this.settings.chartTypes.Mountain.color,1));L7S.setStyle("stx_mountain_chart","backgroundColor",O1F.hexToRgba(this.settings.chartTypes.Mountain.color,0.5));L7S.setStyle(e4C,"color",O1F.hexToRgba(this.settings.chartTypes.Mountain.basecolor,0.01));L7S.draw();};O1F.ChartEngine.prototype.setThemeSettings=function(L26){var O6U,j2q;O6U="t";O6U+="heme";this.styles={};this.chart.container.style.backgroundColor="";this.defaultColor="";A2IFV.D0H();if(L26){j2q=new O1F.ThemeHelper({stx:this});j2q.settings=L26;j2q.update();}this.updateListeners(O6U);this.changeOccurred("theme");if(this.displayInitialized){this.headsUpHR();this.clearPixelCache();this.updateListeners("theme");this.draw();}};};f9=n6O=>{var b9a,I6f,g9J,v_c,D_T,z1v,w69,X7_,b0l,j1J,f4F,M8l,N8S,i4R,f91,G9R,X8v,w5R,C5q,w2F,j0G,o6d,w$C,a0Z,E7Y,W6m,b9l,U17,x7Q,k1L,a12,X9J,Y_p,r$P,v5$,h$f,p2x,r86,M1n,l7u,S6F,d4i,X84,Y9q,o7p,F0q,t3R,F1S,t6U,r_7,K_p,d0A,v4z,n5A,q2Y,d3p,p4_,A6s,E5z,U9l,a8E,K6e,I7s,k2Y,s7n,y9b,d5J,n_B,T6n,B4v,C13,a3J,f13,N6e,o04,F$Q,f1q,d2I,N4h,x2e,e5P,p_e,A8o,Y4c,F5e,e5C,m17,Q6W,J2n,o$P,S2q,i42,U25,j4p,X9h,E_N,r92,K6K,c7r,x2f,A_5,u29,s3D,f2m,n9m,U_G,y11,t_0,j5L,Q0N,Y4l,c55,s$6,i$J,j7U,A2n,s6y,k5y,h8z,i3W,Q4p,g$w,r$L,g3r,c29,X94,q23,G3_,K9l,n9S,O0H,W72,x$T,d7x,L8w,P1e,k9J,c8l,u2u,Y27,Y9_,p0u,X0Q,W2d,s$W,X0R,t1h,R94,h6Z,g0$,v6b,Q9T,t7u,W5m,v8Q,f5K,Z6N,o89,Z18,a9A,Q5m,E8n,K1K,T0X,Y7z,G8y,N5K,F2x,H27,F$t,g2H,b9W,t$9,Y3H,T$4,E4O,U4Z,x3k,n53;b9a="m";b9a+="a";b9a+="x";I6f="S";I6f+="u";I6f+="n>";I6f+="=1";g9J="m";g9J+="ax";v_c="S";v_c+="un>=";v_c+="2";D_T="Su";D_T+="n>=";D_T+="9";z1v="M";z1v+="ay";w69="N";w69+="o";w69+="v";X7_="o";X7_+="nly";b0l="Su";b0l+="n>=1";j1J="S";j1J+="un";j1J+=">=";j1J+="8";f4F="Su";f4F+="n>";f4F+="=1";M8l="N";M8l+="o";M8l+="v";N8S="lastS";N8S+="un";i4R="m";i4R+="a";i4R+="x";f91="m";f91+="a";f91+="x";G9R="Sun";G9R+=">=8";X8v="M";X8v+="a";X8v+="r";w5R="ma";w5R+="x";C5q="S";C5q+="un>";C5q+="=1";w2F="m";w2F+="a";w2F+="x";j0G="Ma";j0G+="r";o6d="N";o6d+="o";o6d+="v";w$C="m";w$C+="ax";a0Z="Ma";a0Z+="r";E7Y="l";E7Y+="astSun";W6m="ma";W6m+="x";b9l="m";b9l+="a";b9l+="x";U17="last";U17+="S";U17+="un";x7Q="m";x7Q+="a";x7Q+="x";k1L="S";k1L+="un>=";k1L+="15";a12="on";a12+="l";a12+="y";X9J="Su";X9J+="n>=1";Y_p="A";Y_p+="p";Y_p+="r";r$P="m";r$P+="a";r$P+="x";v5$="S";v5$+="un>=1";h$f="A";h$f+="p";h$f+="r";p2x="S";p2x+="e";p2x+="p";r86="o";r86+="n";r86+="l";r86+="y";M1n="Su";M1n+="n>";M1n+="=8";l7u="on";l7u+="ly";S6F="Oc";S6F+="t";d4i="Sun>";d4i+="=1";X84="m";X84+="ax";Y9q="m";Y9q+="ax";o7p="m";o7p+="a";o7p+="x";F0q="Su";F0q+="n>=1";t3R="Ap";t3R+="r";F1S="m";F1S+="a";F1S+="x";t6U="O";t6U+="ct";r_7="Sun>";r_7+="=1";K_p="m";K_p+="a";K_p+="x";d0A="A";d0A+="p";d0A+="r";v4z="m";v4z+="a";v4z+="x";n5A="M";n5A+="ar";q2Y="Sat>=2";q2Y+="4";d3p="la";d3p+="s";d3p+="t";d3p+="Sun";p4_="O";p4_+="ct";A6s="Oc";A6s+="t";E5z="m";E5z+="a";E5z+="x";U9l="lastS";U9l+="un";a8E="2";a8E+="0";K6e="M";K6e+="a";K6e+="r";I7s="2";I7s+="1";k2Y="m";k2Y+="a";k2Y+="x";s7n="M";s7n+="a";s7n+="r";y9b="m";y9b+="a";y9b+="x";d5J="m";d5J+="a";d5J+="x";n_B="W";n_B+="A";n_B+="T";T6n="CA";T6n+="T";B4v="Ap";B4v+="r";C13="2";C13+="3";a3J="F";a3J+="e";a3J+="b";f13="o";f13+="nl";f13+="y";N6e="1";N6e+="0";o04="1";o04+="9";F$Q="o";F$Q+="nly";f1q="o";f1q+="n";f1q+="l";f1q+="y";d2I="2";d2I+="7";N4h="M";N4h+="a";N4h+="r";x2e="1";x2e+="1";e5P="1";e5P+="9";p_e="J";p_e+="u";p_e+="n";A8o="o";A8o+="nl";A8o+="y";Y4c="J";Y4c+="u";Y4c+="n";F5e="1";F5e+="3";e5C="M";e5C+="a";e5C+="y";m17="onl";m17+="y";Q6W="A";Q6W+="si";Q6W+="a/Riyadh";J2n="Europe";J2n+="/Moscow";o$P="E";o$P+="urope";o$P+="/Bucharest";S2q="-";S2q+="0";S2q+="3/-02";i42="-0";i42+="2";U25="-04/-";U25+="03";j4p="-05/-";j4p+="04";X9h="C";X9h+="hile";E_N="B";E_N+="ra";E_N+="z";E_N+="il";r92="-03";r92+="/-";r92+="02";K6K="E";K6K+="S";K6K+="T";c7r="E%";c7r+="sT";x2f="C";x2f+="u";x2f+="b";x2f+="a";A_5="M%";A_5+="sT";u29="M";u29+="exico";s3D="Canad";s3D+="a";f2m="HS";f2m+="T";n9m="M";n9m+="%";n9m+="sT";U_G="C%s";U_G+="T";y11="+";y11+="0";y11+="3";t_0="+";t_0+="1";t_0+="1";j5L="+";j5L+="11";Q0N="+";Q0N+="1";Q0N+="0";Y4l="+";Y4l+="0";Y4l+="4";c55="E";c55+="U";s$6="E";s$6+="U";i$J="E";i$J+="U";j7U="C";j7U+="E%";j7U+="sT";A2n="E";A2n+="U";s6y="Thul";s6y+="e";k5y="E";k5y+="U";h8z="E";h8z+="U";i3W="G";i3W+="M";i3W+="T/BS";i3W+="T";Q4p="To";Q4p+="nga";g$w="+1";g$w+="3/+14";r$L="W";r$L+="S";g3r="+";g3r+="12/";g3r+="+13";c29="AE%s";c29+="T";X94="AC%s";X94+="T";q23="A";q23+="Q";G3_="A";G3_+="W";K9l="+";K9l+="0";K9l+="3";n9S="+054";n9S+="5";O0H="M";O0H+="on";O0H+="g";O0H+="ol";W72="+07/+";W72+="08";x$T="Leb";x$T+="a";x$T+="no";x$T+="n";d7x="I";d7x+="S";d7x+="T";L8w="H";L8w+="K";P1e="C";P1e+="%";P1e+="s";P1e+="T";k9J="%";k9J+="s";c8l="S";c8l+="A";u2u="%";u2u+="s";Y27="Nami";Y27+="bia";Y9_="Pacifi";Y9_+="c/Apia";p0u="Pacific/Ch";p0u+="atha";p0u+="m";X0Q="P";X0Q+="acifi";X0Q+="c/Auckland";W2d="Asia/Ka";W2d+="mc";W2d+="h";W2d+="atka";s$W="Pacifi";s$W+="c/Noumea";X0R="Australia/Bri";X0R+="sbane";t1h="Asia/P";t1h+="yongyang";R94="Asia/To";R94+="k";R94+="yo";h6Z="Australi";h6Z+="a/Euc";h6Z+="la";g0$="Asi";g0$+="a";g0$+="/Taipei";v6b="Asia";v6b+="/Kual";v6b+="a_Lumpur";Q9T="Asi";Q9T+="a/Bangkok";t7u="A";t7u+="s";t7u+="ia/Kab";t7u+="ul";W5m="Asia";W5m+="/Du";W5m+="bai";v8Q="Asia/Te";v8Q+="hran";f5K="Euro";f5K+="pe/Mo";f5K+="scow";Z6N="Eu";Z6N+="rope/Istanb";Z6N+="ul";o89="Asi";o89+="a/Damasc";o89+="us";Z18="Europe/H";Z18+="elsinki";a9A="Africa/Joh";a9A+="annes";a9A+="burg";Q5m="Eur";Q5m+="ope/Bucharest";E8n="Afric";E8n+="a/Casablanc";E8n+="a";K1K="Afr";K1K+="ic";K1K+="a/Tun";K1K+="is";T0X="Atla";T0X+="ntic/South_";T0X+="Georgia";Y7z="America/Punta_Arena";Y7z+="s";G8y="America";G8y+="/Panama";N5K="Americ";N5K+="a/St_Johns";F2x="Am";F2x+="erica/Puerto_Rico";H27="Ame";H27+="rica/Santiag";H27+="o";F$t="America/";F$t+="N";F$t+="ew_Yor";F$t+="k";g2H="Amer";g2H+="ica/Reg";g2H+="i";g2H+="na";b9W="Americ";b9W+="a/Mexi";b9W+="co_City";t$9="America/Chic";t$9+="ago";Y3H="America/Costa_";Y3H+="Rica";T$4="Ameri";T$4+="ca/Denver";E4O="Paci";E4O+="fic/";E4O+="P";E4O+="ago_Pago";U4Z="undefi";U4Z+="n";U4Z+="ed";x3k=typeof _CIQ !== "undefined"?_CIQ:n6O.CIQ;n53=typeof _timezoneJS !== U4Z?_timezoneJS:n6O.timezoneJS;x3k.timeZoneMap={"(UTC-11:00) American Samoa, Midway Island":E4O,"(UTC-10:00) Hawaii":"Pacific/Honolulu","(UTC-09:00) Alaska":"America/Juneau","(UTC-08:00) Pacific Time (US and Canada), Tijuana":"America/Los_Angeles","(UTC-07:00) Arizona":"America/Phoenix","(UTC-07:00) Chihuahua, Mazatlan":"America/Chihuahua","(UTC-07:00) Mountain Time (US and Canada)":T$4,"(UTC-06:00) Central America":Y3H,"(UTC-06:00) Central Time (US and Canada)":t$9,"(UTC-06:00) Guadalajara, Mexico City, Monterrey":b9W,"(UTC-06:00) Saskatchewan":g2H,"(UTC-05:00) Bogota, Lima, Quito, Rio Branco":"America/Bogota","(UTC-05:00) Eastern Time (US and Canada)":F$t,"(UTC-05:00) Havana":"America/Havana","(UTC-05:00) Port-au-Prince":"America/Port-au-Prince","(UTC-04:00) Asuncion":"America/Asuncion","(UTC-04:00) Santiago":H27,"(UTC-04:00) Caracas":"America/Caracas","(UTC-04:00) Atlantic Time (Canada)":"America/Halifax","(UTC-04:00) Georgetown, La Paz, Manaus, San Juan":F2x,"(UTC-03:30) Newfoundland and Labrador":N5K,"(UTC-03:00) Cancun, Jamaica, Panama":G8y,"(UTC-03:00) Buenos Aires":"America/Argentina/Buenos_Aires","(UTC-03:00) Punta Arenas":Y7z,"(UTC-03:00) Montevideo":"America/Montevideo","(UTC-03:00) Sao Paulo":"America/Sao_Paulo","(UTC-02:00) Mid-Atlantic":T0X,"(UTC-01:00) Azores":"Atlantic/Azores","(UTC-01:00) Cape Verde Islands":"Atlantic/Cape_Verde","(UTC) Greenwich Mean Time, Reykjavik":"UTC","(UTC) Dublin":"Europe/Dublin","(UTC) Lisbon, London":"Europe/London","(UTC+01:00) Algiers, Tunis":K1K,"(UTC+01:00) Casablanca":E8n,"(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna":"Europe/Amsterdam","(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague":"Europe/Belgrade","(UTC+01:00) Brussels, Copenhagen, Madrid, Paris":"Europe/Brussels","(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb":"Europe/Sarajevo","(UTC+02:00) Kaliningrad":"Europe/Kaliningrad","(UTC+02:00) Athens, Bucharest":Q5m,"(UTC+02:00) Cairo":"Africa/Cairo","(UTC+02:00) Harare, Johannesburg":a9A,"(UTC+02:00) Helsinki, Kiev, Riga, Sofia, Tallinn, Vilnius":Z18,"(UTC+02:00) Cyprus":"Asia/Nicosia","(UTC+02:00) Beirut":"Asia/Beirut","(UTC+02:00) Damascus":o89,"(UTC+02:00) Jerusalem":"Asia/Jerusalem","(UTC+02:00) Amman":"Asia/Amman","(UTC+03:00) Istanbul":Z6N,"(UTC+03:00) Baghdad, Kuwait, Qatar, Riyadh":"Asia/Riyadh","(UTC+03:00) Minsk, Moscow, Kirov, Simferopol":f5K,"(UTC+03:00) Volgograd":"Europe/Volgograd","(UTC+03:00) Nairobi":"Africa/Nairobi","(UTC+03:30) Tehran":v8Q,"(UTC+04:00) Baku":"Asia/Baku","(UTC+04:00) Dubai, Muscat":W5m,"(UTC+04:00) Astrakhan, Samara, Saratov, Ulyanovsk":"Europe/Samara","(UTC+04:30) Kabul":t7u,"(UTC+05:00) Karachi, Tashkent":"Asia/Karachi","(UTC+05:00) Yekaterinburg":"Asia/Yekaterinburg","(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi":"Asia/Kolkata","(UTC+05:45) Kathmandu":"Asia/Kathmandu","(UTC+06:00) Almaty":"Asia/Almaty","(UTC+06:00) Omsk":"Asia/Omsk","(UTC+06:00) Astana, Dhaka":"Asia/Dhaka","(UTC+06:30) Yangon":"Asia/Yangon","(UTC+07:00) Bangkok, Jakarta, Vietnam":Q9T,"(UTC+07:00) Hovd":"Asia/Hovd","(UTC+07:00) Krasnoyarsk":"Asia/Krasnoyarsk","(UTC+07:00) Novokuznetsk":"Asia/Novokuznetsk","(UTC+07:00) Barnaul, Novosibirsk, Tomsk":"Asia/Novosibirsk","(UTC+08:00) Beijing, Chongqing, Hong Kong SAR":"Asia/Hong_Kong","(UTC+08:00) Brunei, Kuala Lumpur, Singapore":v6b,"(UTC+08:00) Irkutsk":"Asia/Irkutsk","(UTC+08:00) Choibalsan, Ulaanbaatar":"Asia/Ulaanbaatar","(UTC+08:00) Manila, Taipei":g0$,"(UTC+08:00) Perth":"Australia/Perth","(UTC+08:45) Eucla":h6Z,"(UTC+09:00) Osaka, Sapporo, Tokyo":R94,"(UTC+09:00) Pyongyang":t1h,"(UTC+09:00) Seoul":"Asia/Seoul","(UTC+09:00) Chita, Khandyga, Yakutsk":"Asia/Yakutsk","(UTC+09:30) Adelaide":"Australia/Adelaide","(UTC+09:30) Darwin":"Australia/Darwin","(UTC+10:00) Brisbane":X0R,"(UTC+10:00) Canberra, Melbourne, Sydney":"Australia/Sydney","(UTC+10:00) Guam, Port Moresby":"Pacific/Guam","(UTC+10:00) Ust-Nera, Vladivostok":"Asia/Vladivostok","(UTC+11:00) Noumea, Solomon Islands":s$W,"(UTC+11:00) Magadan":"Asia/Magadan","(UTC+11:00) Sakhalin, Srednekolymsk":"Asia/Srednekolymsk","(UTC+12:00) Anadyr, Kamchatka":W2d,"(UTC+12:00) Auckland, Wellington":X0Q,"(UTC+12:00) Fiji":"Pacific/Fiji","(UTC+12:45) Chatham":p0u,"(UTC+13:00) Tonga":"Pacific/Tongatapu","(UTC+13:00) Samoa":Y9_,"(UTC+14:00) Kiritimati":"Pacific/Kiritimati"};(function(){var L9E=A2IFV;var R97,f7O,W50,f7A,k7U,p8I,n4l,V7P,r3Z,L0m,D8n,c4e,r5f,m7V,v7z,S2B,R$c,i8x,O18,i8b,J6x,F0l;R97="N";R97+="ov";R97+="em";R97+="ber";f7O="O";f7O+="ct";f7O+="obe";f7O+="r";W50="S";W50+="eptem";W50+="be";W50+="r";f7A="Ju";f7A+="ne";k7U="M";k7U+="a";k7U+="y";p8I="A";p8I+="pril";n4l="M";n4l+="arch";V7P="S";V7P+="at";V7P+="urda";V7P+="y";r3Z="M";r3Z+="o";r3Z+="nda";r3Z+="y";L0m="un";L0m+="defin";L0m+="ed";"use strict";D8n=typeof window !== "undefined"?window:null;c4e=D8n || (typeof global !== L0m?global:{});n53.VERSION="0.4.11";r5f=c4e.$ || c4e.jQuery || c4e.Zepto;m7V=c4e.fleegix;v7z=n53.Days=["Sunday",r3Z,"Tuesday","Wednesday","Thursday","Friday",V7P];S2B=n53.Months=["January","February",n4l,p8I,k7U,f7A,"July","August",W50,f7O,R97,"December"];R$c={};i8x={};O18={};for(var A7y=0;A7y < S2B.length;A7y++){R$c[S2B[A7y].substr(L9E.S40(1,"0",L9E.D0J(1)),3)]=A7y;}for(A7y=+"0";A7y < v7z.length;A7y++){i8x[v7z[A7y].substr(0,L9E.q7n(1,"3",L9E.D0J(1)))]=A7y;}i8b=Array.prototype.indexOf || (function(y$0){var E6G,w7T,T4O,e48,U4Q,I$J,O1K;if(this === null){throw new TypeError();}E6G=Object(this);w7T=E6G.length >>> 0;if(w7T === +"0"){return -1;}T4O=0;if(arguments.length > 1){T4O=Number(arguments[1]);if(T4O != T4O){T4O=0;}else if(T4O !== 0 && T4O !== Infinity && T4O !== -Infinity){e48=932114445;U4Q=372162485;I$J=2;for(var R4j=1;L9E.Z2Z(R4j.toString(),R4j.toString().length,67787) !== e48;R4j++){L9E.D0J(7);var N4a=L9E.S40(8,9);L9E.H6P(133);var V0W=L9E.S40(2,2,1,3,10);T4O=(T4O <= N4a && ~("6" * V0W)) / Math.floor(Math.abs(T4O));I$J+=2;}if(L9E.Z2Z(I$J.toString(),I$J.toString().length,46816) !== U4Q){L9E.H6P(18);var u3s=L9E.q7n(16,4,3);L9E.D0J(7);var z_v=L9E.q7n(9,15);T4O=(T4O <= u3s && ~z_v) / Math.floor(Math.abs(T4O));}L9E.H6P(22);var b_$=L9E.q7n(1,5,11,56);T4O=(T4O > 0 || b_$) * Math.floor(Math.abs(T4O));}}if(T4O >= w7T){return -1;}O1K=T4O >= 0?T4O:Math.max(w7T - Math.abs(T4O),0);for(;O1K < w7T;O1K++){if((O1K in E6G) && E6G[O1K] === y$0){return O1K;}}L9E.D0J(40);return -L9E.q7n(0,"1");});J6x=function(d0e,F72){var E8K,a$J,S3Z,V7y;E8K="nu";E8K+="mber";if(typeof d0e !== E8K){L9E.H6P(0);throw L9E.S40("not a number: ",d0e);}L9E.H6P(70);a$J=L9E.q7n(d0e,1000);S3Z=d0e.toString();V7y=S3Z.length;if(a$J && V7y > F72){L9E.H6P(7);return S3Z.substr(L9E.S40(F72,V7y),V7y);}S3Z=[S3Z];while(V7y < F72){S3Z.unshift((5020,"1007" ^ 0) <= +"4470"?679.89 < +"3623"?"0":8755 != 751?"B":(!!0,7.04e+3):629.34);V7y++;}return S3Z.join("");};F0l=function(G1h){var l8U,i_y,B6L;l8U="u";l8U+="nd";l8U+="efi";l8U+="ned";i_y="un";i_y+="defined";B6L="URL m";B6L+="ust be specified";if(!G1h){return;}if(!G1h.url){throw new Error(B6L);}if(!(("async" in G1h))){G1h.async=!!"1";}if((!m7V || typeof m7V.xhr === i_y) && (!r5f || typeof r5f.ajax === l8U)){throw new Error("Please use the Fleegix.js XHR module, jQuery ajax, Zepto ajax, or define your own transport mechanism for downloading zone files.");}if(!G1h.async){return m7V && m7V.xhr?m7V.xhr.doReq({url:G1h.url,async:![]}):r5f.ajax({url:G1h.url,async:!({}),dataType:"text"}).responseText;}return m7V && m7V.xhr?m7V.xhr.send({url:G1h.url,method:"get",handleSuccess:G1h.success,handleErr:G1h.error}):r5f.ajax({url:G1h.url,dataType:"text",method:"GET",error:G1h.error,success:G1h.success});};n53.ruleCache={};n53.Date=function(){var E$i,x6Y,I17,D2R,I$R,Y6F,J5H;E$i="s";E$i+="t";E$i+="ri";E$i+="ng";if(this === n53){throw "timezoneJS.Date object must be constructed with 'new'";}x6Y=Array.prototype.slice.apply(arguments);I17=null;D2R=null;I$R=[];Y6F=![];if(Object.prototype.toString.call(x6Y[0]) === "[object Array]"){x6Y=x6Y[0];}if(typeof x6Y[x6Y.length - 1] === E$i){Y6F=Date.parse(x6Y[x6Y.length - 1].replace(/GMT[+-]\d+/,""));if(isNaN(Y6F) || Y6F === null){D2R=x6Y.pop();}}J5H=!1;switch(x6Y.length){case "0" | 0:I17=new Date();break;case 1:I17=new Date(x6Y[0]);if(typeof x6Y[0] == "string" && x6Y[0].search(/[+-][0-9]{4}/) == -1 && x6Y[0].search(/Z/) == -1 && x6Y[0].search(/T/) == -1){J5H=!0;}break;case 2:I17=new Date(x6Y[+"0"],x6Y[1]);J5H=!!({});break;default:for(var W6l=0;W6l < "7" << 0;W6l++){I$R[W6l]=x6Y[W6l] || 0;}L9E.D0J(10);I17=new Date(I$R[0],I$R[+"1"],I$R[2],I$R[3],I$R[4],I$R[5],I$R[L9E.S40("6",4)]);J5H=!"";break;}if(isNaN(I17.getTime())){throw new Error("Invalid date");}this._useCache=![];this._tzInfo={};this._day=0;L9E.D0J(40);this.year=L9E.S40(0,"0");this.month=0;this.date=0;this.hours=0;this.minutes=0;this.seconds=0;this.milliseconds=0;this.timezone=D2R || null;if(J5H){this.setFromDateObjProxy(I17);}else {this.setFromTimeProxy(I17.getTime(),D2R);}};x3k.extend(n53.Date.prototype,{getDate:function(){return this.date;},getDay:function(){L9E.D0H();return this._day;},getFullYear:function(){return this.year;},getMonth:function(){return this.month;},getYear:function(){L9E.H6P(121);var g$_=L9E.S40(10,1689,17,238);return this.year - g$_;},getHours:function(){return this.hours;},getMilliseconds:function(){return this.milliseconds;},getMinutes:function(){return this.minutes;},getSeconds:function(){L9E.D0H();return this.seconds;},getUTCDate:function(){L9E.D0H();return this.getUTCDateProxy().getUTCDate();},getUTCDay:function(){L9E.a9S();return this.getUTCDateProxy().getUTCDay();},getUTCFullYear:function(){L9E.a9S();return this.getUTCDateProxy().getUTCFullYear();},getUTCHours:function(){return this.getUTCDateProxy().getUTCHours();},getUTCMilliseconds:function(){return this.getUTCDateProxy().getUTCMilliseconds();},getUTCMinutes:function(){L9E.D0H();return this.getUTCDateProxy().getUTCMinutes();},getUTCMonth:function(){L9E.a9S();return this.getUTCDateProxy().getUTCMonth();},getUTCSeconds:function(){L9E.D0H();return this.getUTCDateProxy().getUTCSeconds();},getTime:function(){L9E.H6P(52);L9E.a9S();var K2r=L9E.S40(16740,1200,14);L9E.D0J(134);var v$X=L9E.q7n(20011,995,20000,11,5);return this._timeProxy + this.getTimezoneOffset() * K2r * v$X;},getTimezone:function(){return this.timezone;},getTimezoneOffset:function(){return this.getTimezoneInfo().tzOffset;},getTimezoneAbbreviation:function(){L9E.a9S();return this.getTimezoneInfo().tzAbbr;},getTimezoneInfo:function(){var u8q,k9L,A0p;if(this._useCache){return this._tzInfo;}if(this.timezone){k9L="U";k9L+="T";k9L+="C";A0p="Etc";A0p+="/U";A0p+="T";A0p+="C";u8q=this.timezone === A0p || this.timezone === "Etc/GMT"?{tzOffset:0,tzAbbr:k9L}:n53.timezone.getTzInfo(this._timeProxy,this.timezone);}else {u8q={tzOffset:this.getLocalOffset(),tzAbbr:null};}this._tzInfo=u8q;L9E.a9S();this._useCache=!!({});return u8q;},getUTCDateProxy:function(){var x$3;x$3=new Date(this._timeProxy);L9E.a9S();x$3.setUTCMinutes(x$3.getUTCMinutes() + this.getTimezoneOffset());return x$3;},setDate:function(X$e){this.setAttribute("date",X$e);L9E.a9S();return this.getTime();},setFullYear:function(j5P,V4L,i5a){var A4f;L9E.a9S();if(i5a !== undefined){this.setAttribute("date",1);}this.setAttribute("year",j5P);if(V4L !== undefined){A4f="mo";A4f+="nt";A4f+="h";this.setAttribute(A4f,V4L);}if(i5a !== undefined){this.setAttribute("date",i5a);}return this.getTime();},setMonth:function(g3I,g1g){this.setAttribute("month",g3I);if(g1g !== undefined){this.setAttribute("date",g1g);}L9E.D0H();return this.getTime();},setYear:function(l2W){l2W=Number(l2W);if(0 <= l2W && l2W <= 99){l2W+=1900;}this.setUTCAttribute("year",l2W);return this.getTime();},setHours:function(v5n,O$R,q2D,z5B){L9E.D0H();this.setAttribute("hours",v5n);if(O$R !== undefined){this.setAttribute("minutes",O$R);}if(q2D !== undefined){this.setAttribute("seconds",q2D);}if(z5B !== undefined){this.setAttribute("milliseconds",z5B);}return this.getTime();},setMinutes:function(S70,Q4x,T52){var N99;this.setAttribute("minutes",S70);if(Q4x !== undefined){N99="s";N99+="ec";N99+="on";N99+="ds";this.setAttribute(N99,Q4x);}if(T52 !== undefined){this.setAttribute("milliseconds",T52);}return this.getTime();},setSeconds:function(o4D,t9V){this.setAttribute("seconds",o4D);if(t9V !== undefined){this.setAttribute("milliseconds",t9V);}return this.getTime();},setMilliseconds:function(N_3){var y1x;y1x="millise";y1x+="conds";this.setAttribute(y1x,N_3);return this.getTime();},setTime:function(B9m){if(isNaN(B9m)){throw new Error("Units must be a number.");}this.setFromTimeProxy(B9m,this.timezone);return this.getTime();},setUTCFullYear:function(b5R,T5v,g7u){L9E.a9S();var s6W,X1b,Y8M;if(g7u !== undefined){s6W=-+"107761421";X1b=1862984064;Y8M=+"2";for(var j3W=1;L9E.U6$(j3W.toString(),j3W.toString().length,49801) !== s6W;j3W++){this.setUTCAttribute("",3);Y8M+=+"2";}if(L9E.U6$(Y8M.toString(),Y8M.toString().length,25666) !== X1b){this.setUTCAttribute("",3);}this.setUTCAttribute("date",1);}this.setUTCAttribute("year",b5R);if(T5v !== undefined){this.setUTCAttribute("month",T5v);}if(g7u !== undefined){this.setUTCAttribute("date",g7u);}return this.getTime();},setUTCMonth:function(E8_,C8w){this.setUTCAttribute("month",E8_);if(C8w !== undefined){this.setUTCAttribute("date",C8w);}L9E.D0H();return this.getTime();},setUTCDate:function(H8c){var L0$;L0$="da";L0$+="te";this.setUTCAttribute(L0$,H8c);return this.getTime();},setUTCHours:function(s8H,A91,M0E,J02){var G4u;G4u="h";G4u+="o";G4u+="ur";G4u+="s";this.setUTCAttribute(G4u,s8H);if(A91 !== undefined){this.setUTCAttribute("minutes",A91);}if(M0E !== undefined){this.setUTCAttribute("seconds",M0E);}if(J02 !== undefined){this.setUTCAttribute("milliseconds",J02);}return this.getTime();},setUTCMinutes:function(L$v,Q9G,n0D){this.setUTCAttribute("minutes",L$v);if(Q9G !== undefined){this.setUTCAttribute("seconds",Q9G);}if(n0D !== undefined){this.setUTCAttribute("milliseconds",n0D);}return this.getTime();},setUTCSeconds:function(i0N,h_z){var I6R;this.setUTCAttribute("seconds",i0N);if(h_z !== undefined){I6R="millise";I6R+="con";I6R+="ds";this.setUTCAttribute(I6R,h_z);}return this.getTime();},setUTCMilliseconds:function(b$w){this.setUTCAttribute("milliseconds",b$w);return this.getTime();},setFromDateObjProxy:function(w8E){this.year=w8E.getFullYear();this.month=w8E.getMonth();this.date=w8E.getDate();this.hours=w8E.getHours();this.minutes=w8E.getMinutes();this.seconds=w8E.getSeconds();this.milliseconds=w8E.getMilliseconds();this._day=w8E.getDay();this._dateProxy=w8E;this._timeProxy=Date.UTC(this.year,this.month,this.date,this.hours,this.minutes,this.seconds,this.milliseconds);this._useCache=!"1";},setFromTimeProxy:function(e$2,m$V){var T6c,B8t;T6c=new Date(e$2);L9E.D0H();B8t=m$V?n53.timezone.getTzInfo(e$2,m$V,!0).tzOffset:T6c.getTimezoneOffset();T6c.setTime(e$2 + (T6c.getTimezoneOffset() - B8t) * 60000);this.setFromDateObjProxy(T6c);},setAttribute:function(h7r,f51){var O2$,h6T,d3x;if(isNaN(f51)){O2$="Uni";O2$+="ts must be a number.";throw new Error(O2$);}h6T=this._dateProxy;d3x=h7r === "year"?"FullYear":h7r.substr(0,1).toUpperCase() + h7r.substr(1);h6T["set" + d3x](f51);this.setFromDateObjProxy(h6T);},setUTCAttribute:function(u4$,b5o){var q_G,V3y;if(isNaN(b5o)){throw new Error("Units must be a number.");}L9E.a9S();q_G=u4$ === "year"?"FullYear":u4$.substr(0,1).toUpperCase() + u4$.substr("1" >> 0);V3y=this.getUTCDateProxy();V3y["setUTC" + q_G](b5o);V3y.setUTCMinutes(V3y.getUTCMinutes() - this.getTimezoneOffset());this.setFromTimeProxy(V3y.getTime() + this.getTimezoneOffset() * 60000,this.timezone);},setTimezone:function(o29){var T1D;T1D=this.getTimezoneInfo().tzOffset;this.timezone=o29;this._useCache=!({});L9E.D0H();this.setUTCMinutes(this.getUTCMinutes() - this.getTimezoneInfo().tzOffset + T1D);},removeTimezone:function(){this.timezone=null;this._useCache=![];},valueOf:function(){return this.getTime();},clone:function(){return this.timezone?new n53.Date(this.getTime(),this.timezone):new n53.Date(this.getTime());},toGMTString:function(){var q4U;q4U="Etc";q4U+="/GMT";return this.toString("EEE, dd MMM yyyy HH:mm:ss Z",q4U);},toLocaleStringIntl:function(){},toLocaleDateString:function(){},toLocaleTimeString:function(){},toSource:function(){},toISOString:function(){var D1D;D1D="Etc";L9E.a9S();D1D+="/";D1D+="UTC";L9E.H6P(36);var r0s=L9E.S40(12,7033,15);L9E.D0J(135);var c3S=L9E.S40(19490,1642,18,12);return this.toString("yyyy-MM-ddTHH:mm:ss.SSS",D1D) + (r0s < c3S?"Z":"a");},toJSON:function(){L9E.a9S();return this.toISOString();},toDateString:function(){var y92;y92="E";L9E.a9S();y92+="EE M";y92+="MM dd yyy";y92+="y";return this.toString(y92);},toTimeString:function(){L9E.a9S();return this.toString("H:mm k");},toString:function(G6H,m8X){var G7b,L9p,B4L,a8m,X5p;G7b="yyyy-MM-ddTHH:";G7b+="mm";G7b+=":ss.SSS";if(!G6H){G6H=G7b;}L9p=G6H;L9E.D0H();B4L=m8X?n53.timezone.getTzInfo(this.getTime(),m8X):this.getTimezoneInfo();a8m=this;if(m8X){a8m=this.clone();a8m.setTimezone(m8X);}X5p=a8m.getHours();return L9p.replace(/a+/g,function(){return (6330,1920) <= (891.18,7580)?"k":(5350,"281.12" * 1) != (949,"120.62" - 0)?5.94e+3:+"346.59";}).replace(/y+/g,function(h54){return J6x(a8m.getFullYear(),h54.length);}).replace(/d+/g,function(Z2A){return J6x(a8m.getDate(),Z2A.length);}).replace(/m+/g,function(T1g){L9E.D0H();return J6x(a8m.getMinutes(),T1g.length);}).replace(/s+/g,function(u1h){return J6x(a8m.getSeconds(),u1h.length);}).replace(/S+/g,function(D22){return J6x(a8m.getMilliseconds(),D22.length);}).replace(/h+/g,function(X9n){return J6x(X5p % +"12" === 0?12:X5p % ("12" | 12),X9n.length);}).replace(/M+/g,function(r0R){var j9j,l0H;L9E.D0H();j9j=a8m.getMonth();l0H=r0R.length;if(l0H > +"3"){return n53.Months[j9j];}else if(l0H > +"2"){return n53.Months[j9j].substring(0,l0H);}L9E.D0J(0);return J6x(L9E.q7n(j9j,1),l0H);}).replace(/k+/g,function(){if(X5p >= ("12" ^ 0)){if(X5p > "12" - 0){X5p-=12;}return "PM";}L9E.a9S();return "AM";}).replace(/H+/g,function(g0I){L9E.a9S();return J6x(X5p,g0I.length);}).replace(/E+/g,function(c1X){L9E.D0J(28);L9E.D0H();return v7z[a8m.getDay()].substring(L9E.q7n("0",96),c1X.length);}).replace(/Z+/gi,function(){return B4L.tzAbbr;});},toUTCString:function(){L9E.D0H();return this.toGMTString();},civilToJulianDayNumber:function(A3i,h_c,E17){var U1J,E$L,L33;h_c++;if(h_c > "12" << 32){L9E.D0J(14);U1J=parseInt(L9E.S40(12,h_c),10);L9E.D0J(75);h_c=L9E.q7n(h_c,12);A3i+=U1J;}if(h_c <= 2){A3i-=1;h_c+=12;}L9E.D0J(8);U1J=Math.floor(L9E.S40(A3i,"100"));L9E.D0J(39);var R65=L9E.S40(9,4,3);L9E.H6P(12);var F5b=L9E.S40(7,3,7);E$L=R65 - U1J + Math.floor(U1J / F5b);L9E.H6P(52);var I1m=L9E.q7n(44,15,3);L9E.D0J(106);var S$u=L9E.S40(15,152,1496,19,17);L9E.a9S();L33=Math.floor(365.25 * (A3i + +"4716")) + Math.floor(+"30.6001" * (h_c + I1m)) + E17 + E$L - S$u;return L33;},getLocalOffset:function(){L9E.D0H();return this._dateProxy.getTimezoneOffset();}},!!1);n53.timezone=new (function(){var I1v,h1S,E4f,d6u,w0o,R_k,C0t,d7u,V3S,D9T,u$D,t4j,G8A,I91,q$k,h5k,n1T,Y_O,J8h,r2m,J$8,c$3,h24,I$t,c$Z,B71,F$X;I1v="m";I1v+="an";I1v+="ualLoa";I1v+="d";h1S="p";h1S+="r";h1S+="el";h1S+="oadAll";E4f="e";E4f+="u";E4f+="rope";d6u="etcete";d6u+="ra";w0o="a";w0o+="fr";function E7u(o$t,U6c,D8t,j5d){var r7q,f1C,Q9D,L6Y,S0I,q_2,X5W,J$f,c9_,P_d,C4F,s8b,P6z,t5s,j0I;r7q="nu";r7q+="mber";f1C=typeof o$t === r7q?new Date(o$t):o$t;Q9D=U6c[1];L6Y=U6c[0];S0I=Q9D.match(/^([0-9]):([0-9][0-9])$/);if(S0I){q_2="m";q_2+="a";q_2+="x";L9E.D0J(123);var f2E=L9E.q7n(20,14,271,18);L9E.H6P(7);var Z$U=L9E.q7n(19,29);L9E.D0J(19);var U_o=L9E.S40(120,9,20,89);L9E.D0J(52);var P85=L9E.q7n(36,19,2);L9E.D0J(1);return [-1000000,q_2,337.42 >= 5080?0x69c:4020 >= (6720,100.04)?"925" - 0 > 2650?(0x1486,0x1dce):"-":(246.19,0x74e),"Jan",L9E.S40(1,"1"),[+"0",0,0],parseInt(S0I[f2E],Z$U) * U_o + parseInt(S0I[P85],"10" - 0),"-"];}X5W=function(s$Y,S$Q,C2T){var T5y;T5y=0;if(S$Q === "u" || S$Q === (9752 === 7560?432.49:"g") || S$Q === ((434.62,"9460" >> 64) >= 3200?(282,680.96) >= 6070?("0x139d" - 0,890.28):"z":0x2329)){T5y=0;}else if(S$Q === "s"){T5y=L6Y;}else if(S$Q === "w" || !S$Q){T5y=F_m(L6Y,C2T[6]);}else {L9E.H6P(0);throw new Error(L9E.S40("unknown type ",S$Q));}L9E.H6P(136);T5y*=L9E.S40("1000",60);return new Date(s$Y.getTime() + T5y);};J$f=function(a2y,m47){var e8W,o_n,H4w,c47,O3a,q2$,U8f;L9E.a9S();e8W=a2y[0];o_n=a2y[1];H4w=o_n[5];if(!O18[e8W]){O18[e8W]={};}if(O18[e8W][o_n]){c47=O18[e8W][o_n];}else {if(!isNaN(o_n[4])){c47=new Date(Date.UTC(e8W,R$c[o_n[3]],o_n["4" - 0],H4w[0],H4w[1],H4w[2],0));}else {if(o_n[4].substr("0" * 1,4) === "last"){c47=new Date(Date.UTC(e8W,R$c[o_n[+"3"]] + +"1",1,H4w[0] - +"24",H4w[1],H4w[2],0));O3a=i8x[o_n[4].substr(L9E.S40(1,"4",L9E.H6P(1)),+"3")];q2$="<=";}else {c47=new Date(Date.UTC(e8W,R$c[o_n[3]],o_n[4].substr("5" | 1),H4w[0],H4w[+"1"],H4w[2],0));O3a=i8x[o_n[4].substr(0,L9E.q7n(1,"3",L9E.H6P(1)))];q2$=o_n["4" << 32].substr(3,2);}U8f=c47.getUTCDay();if(q2$ === ">="){c47.setUTCDate(c47.getUTCDate() + (O3a - U8f + (O3a < U8f?7:0)));}else {c47.setUTCDate(c47.getUTCDate() + (O3a - U8f - (O3a > U8f?7:0)));}}O18[e8W][o_n]=c47;}if(m47){c47=X5W(c47,H4w["3" | 1],m47);}return c47;};c9_=function(w$G,H95){var f$z;f$z=[];for(var m_j=0;H95 && m_j < H95.length;m_j++){if(H95[m_j][+"0"] <= w$G && (H95[m_j][1] >= w$G || H95[m_j][0] === w$G && H95[m_j]["1" | 1] === "only" || H95[m_j][1] === "max")){f$z.push([w$G,H95[m_j]]);}}return f$z;};P_d=function(L$9,Q$a,C9E){var T9Z,A0J;if(!(L$9 instanceof Date)){T9Z=L$9[0];A0J=L$9[1];L$9=!C9E && O18[T9Z] && O18[T9Z][A0J]?O18[T9Z][A0J]:J$f(L$9,C9E);}else if(C9E){L$9=X5W(L$9,D8t?959.67 < (5096,9950)?(876.65,783) === 4140?(640.58,"N"):"u":(!({}),"865.13" * 1):+"4380" > ("647.73" - 0,8889)?(3.82e+3,"K"):(6230,4480) > (1100,1176)?"4141" - 0 === 1270?(4.00e+3,"Z"):"w":(170.58,5.03e+3),C9E);}if(!(Q$a instanceof Date)){T9Z=Q$a[0];A0J=Q$a[1];Q$a=!C9E && O18[T9Z] && O18[T9Z][A0J]?O18[T9Z][A0J]:J$f(Q$a,C9E);}else if(C9E){Q$a=X5W(Q$a,D8t?(6490,9710) != (683.18,1260)?"u":6920 == 256.29?(+"0xa46",!"1"):+"780.47":"w",C9E);}L$9=Number(L$9);L9E.a9S();Q$a=Number(Q$a);L9E.H6P(7);return L9E.q7n(Q$a,L$9);};C4F=f1C.getUTCFullYear();P6z=n53.ruleCache[j5d];if(!P6z){P6z=n53.ruleCache[j5d]={};}s8b=P6z[C4F];if(!s8b){L9E.H6P(7);s8b=c9_(L9E.S40(1,C4F),c$Z.rules[Q9D]);s8b=s8b.concat(c9_(C4F,c$Z.rules[Q9D]));s8b.sort(P_d);P6z[C4F]=s8b;}if(!s8b || !s8b.length){return null;}for(var R4$=s8b.length - 1;R4$ >= 0;R4$--){if(R4$ > 0){L9E.D0J(137);t5s=s8b[L9E.q7n(1,"1",R4$)][L9E.q7n(1,"1",L9E.D0J(1))];}else {t5s=null;}j0I=s8b[R4$];if(!j0I[2]){j0I[2]=J$f(j0I,t5s);;}if(P_d(f1C,j0I,t5s) >= 0){L9E.D0J(40);return j0I[L9E.S40(32,"1")];}}return null;;}w0o+="ic";w0o+="a";R_k="asi";function l0F(M$M,S7l){var i3p;L9E.D0J(7);var Z7x=L9E.q7n(5330,10660);L9E.D0H();L9E.H6P(138);var P6H=L9E.q7n(63960,4,3,2,2665);L9E.D0J(12);var R7H=L9E.S40(17,135,17);L9E.H6P(36);var q7M=L9E.S40(20,6190,14);i3p=c$Z.zoneFileBasePath + (Z7x != +"48.02"?"/":23.26 >= P6H?R7H:("C",q7M)) + M$M;return !S7l || !S7l.async?c$Z.parseZones(c$Z.transport({url:i3p,async:![]})):c$Z.transport({async:!![],url:i3p,success:function(F9E){return c$Z.parseZones(F9E) && typeof S7l.callback === "function" && S7l.callback();},error:function(){L9E.D0H();L9E.D0J(37);throw new Error(L9E.S40("' zoneinfo files","Error retrieving '",i3p));}});}R_k+="a";C0t="e";C0t+="tceter";function r2_(J5e){var G80,a7N;G80=/(\d+)(?::0*(\d*))?(?::0*(\d*))?([wsugz])?$/;a7N=J5e.match(G80);a7N[1]=parseInt(a7N[1],10);L9E.H6P(21);a7N[L9E.q7n("2",0)]=a7N[2]?parseInt(a7N[2],+"10"):0;a7N[3]=a7N[3]?parseInt(a7N[3],10):0;return a7N.slice(1,5);}C0t+="a";d7u="e";d7u+="uro";d7u+="p";d7u+="e";V3S="e";V3S+="uro";V3S+="pe";D9T="e";D9T+="u";D9T+="rope";u$D="eu";u$D+="r";u$D+="ope";t4j="eu";t4j+="rop";t4j+="e";G8A="asi";G8A+="a";I91="a";I91+="fr";I91+="ic";function y3p(o_Q){var z6p,C8J,J$N,W6O,M_u;z6p=F$X[o_Q];if(z6p){return z6p;}C8J=o_Q.split((6730,9880) != 8170?"/":(6.19e+3,650.85))[L9E.S40("0",0,L9E.D0J(21))];J$N=B71[C8J];L9E.D0H();if(J$N){return J$N;}W6O=c$Z.zones[o_Q];if(typeof W6O === "string"){return y3p(W6O);}if(!c$Z.loadedZones.backward){M_u="bac";M_u+="kwa";M_u+="rd";c$Z.loadZoneFile(M_u);return y3p(o_Q);}c0d(o_Q);}I91+="a";q$k="eu";q$k+="r";function F_m(W6x,Y7A){L9E.D0J(7);L9E.D0H();return -Math.ceil(L9E.S40(W6x,Y7A));}q$k+="o";function p0F(x8M){var b1M,s0I,w7U,z$L;L9E.a9S();if(!x8M[3]){return;}b1M=parseInt(x8M[3],"10" << 0);s0I=11;w7U=31;if(x8M[4]){s0I=R$c[x8M[4].substr(L9E.S40("0",0,L9E.H6P(10)),3)];w7U=parseInt(x8M[5],10) || 1;}z$L=x8M[+"6"]?r2_(x8M[6]):[+"0",0,0];L9E.H6P(28);return [b1M,s0I,w7U,z$L[L9E.S40("0",0)],z$L[1],z$L[2]];}q$k+="pe";h5k="eu";h5k+="ro";h5k+="pe";n1T="a";n1T+="us";n1T+="tralasia";Y_O="a";Y_O+="s";Y_O+="ia";J8h="anta";J8h+="rc";function c0d(o1L){var s3V;L9E.a9S();s3V="' is either incorrect, or not l";s3V+="oaded in the timezone registry.";L9E.H6P(37);throw new Error(L9E.S40(s3V,"Timezone '",o1L));}J8h+="tica";r2m="a";r2m+="u";r2m+="str";function d07(q79,z8t){var c_T,W_y,W$f,b7U,W00,U9z,J7r;c_T="stri";c_T+="n";c_T+="g";W_y=typeof q79 === "number"?q79:new Date(+q79).getTime();W$f=z8t;b7U=c$Z.zones[W$f];while(typeof b7U === c_T){W$f=b7U;b7U=c$Z.zones[W$f];}if(!b7U){if(!c$Z.loadedZones.backward){c$Z.loadZoneFile("backward");return d07(q79,z8t);}else if(W$f && W$f !== z8t){c$Z.lazyLoadZoneFiles(W$f);return d07(q79,W$f);}c0d(W$f);}if(b7U.length === 0){W00="' on";W00+=" ";U9z="No Zone ";U9z+="f";U9z+="ound f";U9z+="or '";L9E.H6P(48);throw new Error(L9E.S40(q79,W00,z8t,U9z));}for(var D4u=b7U.length - ("1" - 0);D4u >= 0;D4u--){J7r=b7U[D4u];if(J7r[3] && W_y > J7r[3])break;}L9E.H6P(0);return b7U[L9E.q7n(D4u,1)];}r2m+="alasia";J$8="sou";J$8+="th";J$8+="am";J$8+="erica";c$3="northam";c$3+="erica";h24="northam";h24+="e";h24+="rica";I$t="northa";I$t+="merica";c$Z=this;B71={Etc:"etcetera",EST:"northamerica",MST:"northamerica",HST:I$t,EST5EDT:"northamerica",CST6CDT:h24,MST7MDT:c$3,PST8PDT:"northamerica",America:["northamerica",J$8],Pacific:r2m,Atlantic:"europe",Africa:"africa",Indian:"africa",Antarctica:J8h,Asia:Y_O,Australia:n1T,Europe:"europe",WET:"europe",CET:h5k,MET:"europe",EET:q$k};F$X={"Pacific/Honolulu":"northamerica","Atlantic/Bermuda":"northamerica","Atlantic/Cape_Verde":I91,"Atlantic/St_Helena":"africa","Indian/Kerguelen":"antarctica","Indian/Chagos":G8A,"Indian/Maldives":"asia","Indian/Christmas":"australasia","Indian/Cocos":"australasia","America/Danmarkshavn":"europe","America/Scoresbysund":"europe","America/Godthab":t4j,"America/Thule":u$D,"Asia/Istanbul":"europe","Asia/Yekaterinburg":"europe","Asia/Omsk":"europe","Asia/Novosibirsk":D9T,"Asia/Krasnoyarsk":"europe","Asia/Irkutsk":V3S,"Asia/Yakutsk":"europe","Asia/Vladivostok":"europe","Asia/Sakhalin":"europe","Asia/Magadan":d7u,"Asia/Kamchatka":"europe","Asia/Anadyr":"europe","Africa/Ceuta":"europe",GMT:C0t,"Europe/Nicosia":R_k};this.zoneFileBasePath=null;this.zoneFiles=[w0o,"antarctica","asia","australasia","backward",d6u,E4f,"northamerica","pacificnew","southamerica"];this.loadingSchemes={PRELOAD_ALL:h1S,LAZY_LOAD:"lazyLoad",MANUAL_LOAD:I1v};this.getRegionForTimezone=y3p;this.loadingScheme=this.loadingSchemes.LAZY_LOAD;this.loadedZones={};this.zones={};this.rules={};this.init=function(X0f){var S88,a7_,y7v;S88="northam";S88+="erica";a7_={async:!![]};y7v=this.loadingScheme === this.loadingSchemes.PRELOAD_ALL?this.zoneFiles:this.defaultZoneFile || S88;for(var P4V in X0f){a7_[P4V]=X0f[P4V];}return this.loadZoneFiles(y7v,a7_);};this.loadZoneFiles=function(z_j,S7f){var y0a,Z89;Z89=0;if(typeof z_j === "string"){return this.loadZoneFile(z_j,S7f);}S7f=S7f || ({});L9E.a9S();y0a=S7f.callback;S7f.callback=function(){var j13;j13="funct";j13+="i";j13+="on";L9E.D0H();Z89++;Z89 === z_j.length && typeof y0a === j13 && y0a();};for(var O08=+"0";O08 < z_j.length;O08++){this.loadZoneFile(z_j[O08],S7f);}};this.loadZoneFile=function(V9o,s5W){var g4U,V2m;g4U="undef";g4U+="ined";L9E.D0H();if(typeof this.zoneFileBasePath === g4U){V2m="Plea";V2m+="se define a b";V2m+="ase path ";V2m+="to your zone file directory -- timezoneJS.timezone.zoneFileBasePath.";throw new Error(V2m);}if(this.loadedZones[V9o]){return;}this.loadedZones[V9o]=!!"1";return l0F(V9o,s5W);};this.loadZoneJSONData=function(v1P,W7C){var V8J;V8J=function(q4v){q4v=JSON.parse(q4v);for(var Z4L in q4v.zones){c$Z.zones[Z4L]=q4v.zones[Z4L];}for(var P3X in q4v.rules){c$Z.rules[P3X]=q4v.rules[P3X];}};return W7C?V8J(c$Z.transport({url:v1P,async:!!""})):c$Z.transport({url:v1P,success:V8J});};function C$d(l6B){var z$t,Y1Z;z$t=r2_(l6B);Y1Z=l6B.charAt("0" << 0) === ((917.32,730.63) >= 769?0x1499:(3790,+"8881") != "816.54" * 1?"-":542.76 > (536.88,7980)?(7.07e+2,"k"):239.28)?-1:1;L9E.D0J(0);var t$s=L9E.S40(46,14);L9E.D0J(139);var v2g=L9E.q7n(7,6,14,6,8);L9E.H6P(0);var G$I=L9E.q7n(4,56);L9E.H6P(39);var f$g=L9E.q7n(20,16,2);L9E.D0J(39);var y7x=L9E.S40(20000,8,18992);z$t=Y1Z * (((z$t[0] * t$s + z$t[v2g]) * G$I + z$t[f$g]) * y7x);L9E.D0J(140);return L9E.S40(60,1000,z$t);}this.loadZoneDataFromObject=function(j01){if(!j01){return;}L9E.D0H();for(var N2Q in j01.zones){c$Z.zones[N2Q]=j01.zones[N2Q];}for(var Y3Z in j01.rules){c$Z.rules[Y3Z]=j01.rules[Y3Z];}};this.getAllZones=function(){var b88;L9E.D0H();b88=[];for(var z$u in this.zones){b88.push(z$u);}return b88.sort();};this.parseZones=function(e1H){L9E.D0H();var O$E,o6E,H0h,c$a,y2b,b$f,y$5,H4T,x$1;if(!e1H){return ![];}O$E=e1H.split(2827 !== 344?("9640" ^ 0) >= (403.59,4780)?(2030,1783) == 605.47?("z",!0):"\n":(0x1c0e,"9.56e+3" * 1):(0x10ee,396.21));o6E=[];H0h="";y2b=null;b$f=null;for(var F_U=0;F_U < O$E.length;F_U++){c$a=O$E[F_U];if(c$a.match(/^\s/)){L9E.H6P(37);c$a=L9E.q7n(c$a,"Zone ",y2b);}c$a=c$a.split(831.85 != 4243?"#":(0x9,0x6f7))[0];if(c$a.length > 3){y$5="R";y$5+="ule";H4T="Zo";H4T+="n";H4T+="e";o6E=c$a.split(/\s+/);H0h=o6E.shift();switch(H0h){case H4T:y2b=o6E.shift();if(!c$Z.zones[y2b]){c$Z.zones[y2b]=[];}if(o6E.length < +"3")break;o6E.splice(3,o6E.length,p0F(o6E));if(o6E[3]){o6E[+"3"]=Date.UTC.apply(null,o6E[3]);}L9E.H6P(10);o6E[L9E.q7n("0",0)]=-C$d(o6E[0]);c$Z.zones[y2b].push(o6E);break;case y$5:b$f=o6E.shift();if(!c$Z.rules[b$f]){c$Z.rules[b$f]=[];}o6E[0]=parseInt(o6E[0],10);o6E[1]=parseInt(o6E[1],10) || o6E[1];o6E[5]=r2_(o6E[5]);o6E[6]=C$d(o6E[6]);c$Z.rules[b$f].push(o6E);break;case "Link":if(c$Z.zones[o6E[1]]){x$1=". Cannot create link o";x$1+="f a preexis";x$1+="ted zone";x$1+=".";L9E.D0J(15);var I4U=L9E.S40(2,12,13);throw new Error("Error with Link " + o6E[I4U] + x$1);}if(isNaN(o6E[0])){c$Z.zones[o6E[1]]=o6E[0];}else {c$Z.zones[o6E[1]]=parseInt(o6E[0],10);}break;}}}return !!1;};this.transport=F0l;this.getTzInfo=function(y82,i0f,f3t){var y$T,j86,g7C,I$4;this.lazyLoadZoneFiles(i0f);L9E.D0H();y$T=d07(y82,i0f);j86=+y$T[0];g7C=E7u(y82,y$T,f3t,i0f);if(g7C){j86=F_m(j86,g7C[6]);}I$4=g7F(y$T,g7C);return {tzOffset:j86,tzAbbr:I$4};};function g7F(v0f,q9x){L9E.a9S();var c0m,i8j;c0m=v0f[2];if(c0m.indexOf("%s") > -1){if(q9x){i8j=q9x[7] === ((+"4244",8313) > 795.44?"-":(+"3060",1720) != 2550?(495,1085) != 8540?820:0x141e:"C")?"":q9x[7];}else {i8j="S";}return c0m.replace("%s",i8j);}else if(c0m.indexOf("/") > -1){return c0m.split("/",2)[q9x?q9x[6]?1:+"0":0];}return c0m;}this.lazyLoadZoneFiles=function(F_x){var E8F;if(this.loadingScheme === this.loadingSchemes.LAZY_LOAD){E8F=y3p(F_x);if(!E8F){throw new Error("Not a valid timezone ID.");}this.loadZoneFiles(E8F);}};})();}).call(typeof window !== "undefined"?window:this);n53.timezone.loadingScheme=n53.timezone.loadingSchemes.MANUAL_LOAD;n53.timezone.loadZoneDataFromObject({zones:{"Atlantic/Cape_Verde":[[60,(1960,"645.34" - 0) == ("1260" | 72)?9.46e+3:"-","-01",null]],"Africa/Cairo":[[-120,"Egypt","EE%sT",null]],"Africa/Nairobi":[[-180,+"8726" >= (3820,1270)?454.16 === (820.97,1850)?0x1be1:(267,"777.22" * 1) <= ("8860" >> 64,435.69)?![]:"-":(510.64,0xfbf),"EAT",null]],"Africa/Casablanca":[[+"0","Morocco","+00/+01",1540695600000],[-60,"Morocco","+01/+00",null]],"Africa/Windhoek":[[-120,Y27,u2u,null]],"Africa/Johannesburg":[[-120,c8l,"SAST",null]],"Africa/Tunis":[[-60,"Tunisia","CE%sT",null]],"Antarctica/Troll":[[0,"Troll",k9J,null]],"Asia/Kabul":[[-270,(5960,688.46) >= "6658" << 0?"4080" >> 32 === (8490,5660)?(![],6.25e+3):(9639,+"851") <= 4010?5.69e+3:(!!"1",6.64e+3):"-","+0430",null]],"Asia/Baku":[[-("240" >> 64),"Azer","+04/+05",null]],"Asia/Dhaka":[[-360,"Dhaka","+06/+07",null]],"Asia/Yangon":[[-390,"-","+0630",null]],"Asia/Shanghai":[[-480,"PRC",P1e,null]],"Asia/Hong_Kong":[[-480,L8w,"HK%sT",null]],"Asia/Taipei":[[-480,"Taiwan","C%sT",null]],"Asia/Nicosia":[[-120,"EUAsia","EE%sT",null]],"Asia/Kolkata":[[-330,("4365" ^ 0) == 187.6?0x4a9:"-",d7x,null]],"Asia/Tehran":[[-210,"Iran","+0330/+0430",null]],"Asia/Jerusalem":[[-120,"Zion","I%sT",null]],"Asia/Tokyo":[[-540,"Japan","J%sT",null]],"Asia/Amman":[[-120,"Jordan","EE%sT",null]],"Asia/Almaty":[[-360,"-","ALMT",null]],"Asia/Seoul":[[-540,"ROK","K%sT",null]],"Asia/Pyongyang":[[-510,(4600,4920) !== 8650?"-":(328,"641" - 0) > (6400,8460)?810.12:("5.61e+3" ^ 0,"B"),"KST","1525476600000" - 0],[-540,"-","KST",null]],"Asia/Beirut":[[-120,x$T,"EE%sT",null]],"Asia/Kuala_Lumpur":[[-480,"-","+08",null]],"Asia/Hovd":[[-+"420","Mongol",W72,null]],"Asia/Ulaanbaatar":[[-480,O0H,"+08/+09",null]],"Asia/Kathmandu":[[-345,"-",n9S,null]],"Asia/Karachi":[[-300,"Pakistan","PK%sT",null]],"Asia/Hebron":[[-("120" ^ 0),"Palestine","EE%sT",null]],"Asia/Riyadh":[[-180,6240 !== 9570?"-":+"3190" !== +"8500"?4.74e+3:(408.30,"0x2215" ^ 0),K9l,null]],"Asia/Damascus":[[-120,"Syria","EE%sT",null]],"Asia/Bangkok":[[-420,"-","+07",null]],"Asia/Dubai":[[-("240" * 1),523 > 4405?(618.86,254.59):3640 > 7.73?6076 != 316?"-":(704,!!""):(2.99e+3,![]),"+04",null]],"Australia/Darwin":[[-570,"Aus","AC%sT",null]],"Australia/Perth":[[-("480" - 0),"AW","AW%sT",null]],"Australia/Eucla":[[-("525" | 4),G3_,"+0845/+0945",null]],"Australia/Brisbane":[[-600,q23,"AE%sT",null]],"Australia/Adelaide":[[-570,"AS",X94,null]],"Australia/Hobart":[[-600,"AT",c29,null]],"Australia/Melbourne":[[-+"600","AV","AE%sT",null]],"Australia/Sydney":[[-+"600","AN","AE%sT",null]],"Australia/Lord_Howe":[[-630,"LH","+1030/+11",null]],"Pacific/Fiji":[[-720,"Fiji",g3r,null]],"Pacific/Guam":[[-600,7300 != (3842,5241)?"-":733 !== 617.35?"g":"r","ChST",null]],"Pacific/Kiritimati":[[-840,(8154,452) > (23.25,"570.31" - 0)?(!!({}),7.56e+2):"-","+14",null]],"Pacific/Noumea":[[-660,"NC","+11/+12",null]],"Pacific/Auckland":[[-720,"NZ","NZ%sT",null]],"Pacific/Chatham":[[-765,"Chatham","+1245/+1345",null]],"Pacific/Pago_Pago":[["660" >> 64,544.79 >= 1650?"z":"-","SST",null]],"Pacific/Apia":[[-780,r$L,g$w,null]],"Pacific/Tongatapu":[[-780,Q4p,"+13/+14",null]],"Etc/UTC":[[0,"-","UTC",null]],UTC:"Etc/UTC","Europe/London":[["0" * 1,"EU",i3W,null]],"Europe/Dublin":[[0,"Eire","IST/GMT",null]],WET:[[0,"EU","WE%sT",null]],CET:[[-60,"C-Eur","CE%sT",null]],MET:[[-("60" | 4),"C-Eur","ME%sT",null]],EET:[[-120,h8z,"EE%sT",null]],"Europe/Brussels":[[-60,k5y,"CE%sT",null]],"America/Thule":[["240" * 1,s6y,"A%sT",null]],"Europe/Helsinki":[[-("120" - 0),"EU","EE%sT",null]],"Europe/Paris":[[-60,A2n,j7U,null]],"Europe/Berlin":[[-60,i$J,"CE%sT",null]],"Europe/Amsterdam":[[-60,s$6,"CE%sT",null]],"Atlantic/Azores":[[60,"EU","-01/+00",null]],"Europe/Bucharest":[[-120,c55,"EE%sT",null]],"Europe/Kaliningrad":[[-+"120",(481.64,2788) < 943.03?(7.80e+3,"X"):(7150,8415) != (879.69,7816)?"-":(!![],!![]),"EET",null]],"Europe/Moscow":[[-+"180",(2202,910.18) > "81.42" - 0?"-":+"7550" >= (2956,2560)?(![],0xb33):!1,"MSK",null]],"Europe/Volgograd":[[-180,"-","+03",1540692000000],[-240,(369.94,3279) !== (938.46,452.63)?"-":!!1,Y4l,+"1609034400000"],[-180,"-","+03",null]],"Europe/Samara":[[-240,(816.67,+"1080") === 6178?71.98:(5344,+"829.24") <= +"4517"?(8992,1120) <= 5430?"-":(0xb21,!1):(!!({}),"o"),"+04",null]],"Asia/Yekaterinburg":[[-300,"-","+05",null]],"Asia/Omsk":[[-+"360","-","+06",null]],"Asia/Novosibirsk":[[-+"420",8370 === 185.29?(0x16f9,"k"):("105" ^ 0) === 4504?(7750,+"49") > (718.12,4970)?(0x15ae,!({})):("Q",0x1d15):"-","+07",null]],"Asia/Novokuznetsk":[[-420,6231 >= 496.83?+"3500" === (3622,7420)?810.79 >= (894.86,587.56)?7.10e+3:(133.25,"P"):"-":("L",896.08),"+07",null]],"Asia/Krasnoyarsk":[[-420,("831.4" - 0,7959) <= (5850,1950)?(+"55.45",6.74e+3):"-","+07",null]],"Asia/Irkutsk":[[-480,("3700" * 1,2530) > 262.35?"-":(9693,437) > (493.46,5154)?628.80:!"1","+08",null]],"Asia/Yakutsk":[[-("540" ^ 0),(304,4810) <= 4660?!!"":+"245.57" == (105.41,2571)?("1.98e+3" >> 0,"J"):"-","+09",null]],"Asia/Vladivostok":[[-("600" ^ 0),"6270" - 0 !== 9380?"-":"300.57" - 0 >= 896.31?!!0:(18.57,271.11),Q0N,null]],"Asia/Magadan":[[-+"660","-",j5L,null]],"Asia/Srednekolymsk":[[-660,("5190" * 1,925.96) != (586.59,3216)?(4190,3060) > 252.62?"-":(!!({}),84.57):(!!"1",6.15e+3),t_0,null]],"Asia/Kamchatka":[[-720,(7069,5180) == (372.83,4813)?8080 != (685.82,"9283" * 1)?(1.50e+3,+"0xccc"):"s":"-","+12",null]],"Europe/Belgrade":[[-("60" * 1),"EU","CE%sT",null]],"Europe/Sarajevo":"Europe/Belgrade","Europe/Istanbul":[[-180,"-",y11,null]],"America/New_York":[[300,"US","E%sT",null]],"America/Chicago":[[360,"US",U_G,null]],"America/Denver":[["420" << 64,"US",n9m,null]],"America/Los_Angeles":[[480,"US","P%sT",null]],"America/Juneau":[[+"540","US","AK%sT",null]],"Pacific/Honolulu":[[600,(+"1760",4920) > (2510,146.54)?3540 === (7532,+"7970")?"0xf99" ^ 0:"-":("b",396.66),f2m,null]],"America/Phoenix":[[420,754.12 !== ("8980" ^ 0)?6430 === +"4258"?(2.37e+3,"u"):"-":(0xd1a,"H"),"MST",null]],"America/St_Johns":[[+"210","Canada","N%sT",null]],"America/Halifax":[[240,s3D,"A%sT",null]],"America/Regina":[[360,+"551" != (9449,52)?"-":("2220" ^ 0,3126) !== (4394,335.52)?421.64:!!({}),"CST",null]],"America/Mexico_City":[[360,u29,"C%sT",null]],"America/Chihuahua":[[420,"Mexico",A_5,null]],"America/Costa_Rica":[[360,"CR","C%sT",null]],"America/Havana":[[300,x2f,"C%sT",null]],"America/Port-au-Prince":[[300,"Haiti",c7r,null]],"America/Panama":[[300,"-",K6K,null]],"America/Puerto_Rico":[[240,(4515,5610) >= 889.31?465.09 <= (+"434.49",7850)?"-":0x142b:(0x1b94,!"1"),"AST",null]],"America/Argentina/Buenos_Aires":[[180,"Arg",r92,null]],"America/Sao_Paulo":[["180" - 0,E_N,"-03/-02",null]],"America/Santiago":[[240,X9h,"-04/-03",null]],"America/Punta_Arenas":[[240,"Chile","-04/-03",+"1480809600000"],[180,"-","-03",null]],"America/Bogota":[[300,"CO",j4p,null]],"America/Asuncion":[[240,"Para",U25,null]],"Atlantic/South_Georgia":[[120,"-",i42,null]],"America/Montevideo":[[180,"Uruguay",S2q,null]],"America/Caracas":[[+"240",+"325.09" >= 332.98?1530 > (+"2660",1108)?(!"",131.85):9.67e+3:"-","-04",null]],"Europe/Athens":o$P,"Europe/Simferopol":J2n,"Asia/Rangoon":"Asia/Yangon","Atlantic/Reykjavik":"UTC","Asia/Kuwait":Q6W,"Asia/Muscat":"Asia/Riyadh","Asia/Istanbul":"Europe/Istanbul"},rules:{Egypt:[],Morocco:[[2013,2018,"-","Oct","lastSun",[3,0,0,null],0,"-"],[2014,2018,"7017" * 1 > (47.86,828.74)?(3920,624) !== 9910?"-":("c",501.27):!!({}),"Mar","lastSun",[2,0,0,null],"60" ^ 0,("844" ^ 0,3718) != +"9592"?"-":0x1fc3],["2017" ^ 0,"only",(270.9,416.85) <= 453.3?"-":430.22 !== "2910" * 1?2180 != (243.01,+"663")?(276.43,"a"):("h",7.55e+3):!![],"May","21",[3,0,0,null],0,"-"],[2017,"only",444.36 == 246.18?(!({}),!1):6 > (5214,9470)?6027 !== +"912"?(0x2646,6.43e+3):(!!0,8.86e+3):"-","Jul",(7440,6520) >= +"768"?(738,5567) !== +"3430"?(9600,+"2730") == ("6136" * 1,5897)?("608.16" - 0,4.59e+3):"2":(0x2699,!![]):("f",8.35e+3),[2,0,0,null],60,"-"],[2018,m17,5170 != (6023,6813)?"-":(9600,"516" * 1) <= +"2277"?(282.38,+"2481") != +"6430"?("k",0xc7e):(0x2532,!1):5.46e+3,e5C,F5e,[3,0,0,null],0,521 < 2592?"-":1342 === "5134" >> 64?742:+"9.32e+3"],[2018,"only",1621 !== 6903?(1169,6031) === 5992?("M",!({})):"-":490.23,Y4c,"17",[2,0,0,null],60,("5870" - 0,4890) != 4480?"-":!!({})],[2019,"only","-","May",5600 <= 710.65?(0x1354,![]):"5",[3,0,0,null],-+"60","-"],[2019,A8o,"-",p_e,"9",[2,0,0,null],0,713.56 > 663.49?"-":5.47e+3],[+"2020","only","-","Apr",e5P,[+"3",0,0,null],-("60" | 60),"-"],[2020,"only",(3570,"9050" ^ 0) > (2070,"7870" * 1)?"-":(+"0x1e39",5.11e+2),"May","31",[2,0,0,null],0,"-"],[2021,"only","-","Apr",x2e,[3,0,0,null],-60,(3000,2210) >= +"4410"?!"":6890 === (1360,3400)?(6360,376) < (7205,4061)?("T",!!({})):6.82e+3:"-"],[2021,"only","-","May","16",[2,0,0,null],0,(3380,5998) === (939.77,145)?0xcae:"-"],[2022,"only","-",N4h,d2I,["3" << 64,+"0",0,null],-60,+"124.86" <= (6230,4036)?"-":3.18e+3],[2022,f1q,"-","May",("8150" | 18) === 730?0x1d27:"8",[2,0,+"0",null],0,500.56 == ("8190" << 32,2171)?(0x95d,"f"):"-"],[2023,F$Q,(5524,9688) == (+"135.55",5390)?(873.76,"V"):(406.96,6156) === (+"854.81",1596)?(203.94,8570) >= (3753,"4511" * 1)?0x1bb7:(!0,0x1411):"-","Mar",o04,["3" ^ 0,0,0,null],-60,152 == 555.17?![]:"-"],[+"2023","only",(27.07,5180) > (2203,2830)?"-":("4850" ^ 0,985.19) >= (+"971",542)?960.98 <= (5386,8030)?(!!({}),"U"):0x25ca:!!0,"Apr","30",[2,"0" * 1,0,null],0,"-"],[2024,"only",5795 == 4190?0x26f3:"-","Mar",N6e,[3,0,0,null],-("60" | 16),"-"],[2024,"only",(+"8410",829.31) === (337.81,9852)?+"57" !== +"1360"?689 > 5488?9.04e+3:8.54e+3:627.16:"-","Apr","14",[2,0,"0" << 0,null],0,"-"],[+"2025",f13,877.6 > 6107?("F",!![]):980.74 < ("1486" | 4)?7270 === 3786?(0x714,1.17e+3):"-":(!!0,!![]),a3J,C13,[3,+"0",0,null],-60,265.06 > (6221,2580)?(+"246",472.28) != 5474?"R":(!![],!![]):"-"],[2025,"only","-",B4v,"6",[2,0,+"0",null],"0" ^ 0,647.04 < 6280?(2010,510.81) >= (+"123",6037)?("v",5.86e+3):(423.79,+"160.77") > 147.49?"-":7.03e+3:(79.45,!({}))]],Namibia:[["1994" << 64,2017,(3110,4393) >= (2290,228.25)?"-":7553 !== (3454,6981)?+"859.35" > (308.42,940.45)?("z",!""):(0x1288,688.87):(6.20e+3,!!({})),"Sep","Sun>=1",[2,+"0",0,null],"0" - 0,T6n],[1995,2017,8648 == 730.34?(684.69,"0xc3d" - 0):"-","Apr","Sun>=1",[2,0,0,null],-60,n_B]],SA:[],Tunisia:[],Troll:[[2005,d5J,799 >= 9800?7638 != (861,6802)?(3.58e+3,!({})):8.05e+3:"-","Mar","lastSun",[1,+"0",0,"u"],"120" ^ 0,"+02"],[2004,y9b,2861 == +"716.27"?7.81e+3:6025 === (327.6,3430)?(8702,4470) !== 260.17?(0x1661,!![]):365:"-","Oct","lastSun",[1,0,0,8530 == 599.62?(!!"","O"):("6430" << 64,9215) >= (2190,888.28)?(4032,8162) > +"186.67"?"u":"0x2602" ^ 0:("o",![])],+"0","+00"]],EUAsia:[[1981,"max","-",s7n,"lastSun",[1,0,0,(695.52,6790) >= (+"4570",39)?"u":"i"],60,(5610,1015) >= (820.83,9541)?913.92:751.51 >= 5440?(609,343.72) < 3529?7.00e+3:"h":"S"],[1996,k2Y,+"907.79" > (790.09,6530)?"N":471.72 <= (993.59,2900)?"-":("V","i"),"Oct","lastSun",[1,"0" | 0,0,"u"],0,"-"]],Azer:[],Dhaka:[],PRC:[],HK:[],Taiwan:[],Iran:[[2017,2019,(133,6198) === 2710?(755.13,5.47e+3):(8148,642.81) < 8087?"-":7030 == 8243?("6.73e+3" - 0,6.56e+3):(0x46b,"E"),"Mar","21",[24,0,0,null],60,"-"],[2017,"2019" >> 0,"-","Sep",I7s,[24,"0" * 1,0,null],0,"-"],[2020,"only","-",K6e,"20",[24,0,+"0",null],"60" ^ 0,137.67 <= (201.02,27.29)?("6511" | 0,"1094" << 0) === "272.84" - 0?(0x1b04,!!1):394.20:"-"],[2020,"only",5007 <= (303,3900)?(3829,440.15) !== (6114,2434)?50.76:(3.01e+3,0x107b):"-","Sep","20",[24,0,0,null],"0" ^ 0,(8810,469.88) > 4789?(!!1,"H"):"-"],[2021,2023,624.05 === 6030?1.54e+3:9433 > 7200?"-":(57.92,!!({})),"Mar","21",[24,0,0,null],60,(987.55,6346) === (180,685.37)?"0x1478" >> 0:"-"],["2021" - 0,2023,"-","Sep","21",[24,0,0,null],0,992.95 === (3227,989.6)?(403.00,"g"):(+"7900",275) != 4490?"-":("6046" ^ 0,887) > (4071,4230)?![]:8.52e+3],[2024,"only",(+"3270",5410) == (4839,7141)?(510.47,+"871.27") <= (5046,845.46)?("d",94.02):4630 === "407" * 1?(!!({}),0x1b1b):241:"-","Mar","20",[24,0,+"0",null],60,("916.09" * 1,130.21) > 868.9?664.65 < (816.99,9499)?0x6cb:"g":"-"],[2024,"only","-","Sep",a8E,[24,0,0,null],0,"-"],[2025,2027,("3270" * 1,"8680" << 32) > (6271,633)?"2910" >> 64 >= 4803?"1689" - 0 === (337.12,674.37)?"J":("358.91" * 1,"k"):"-":2.40e+3,"Mar","21",[24,0,0,null],"60" | 20,8.13 !== 875.04?46.38 == 1760?(1540,1816) == "2270" >> 64?(953.81,+"0x10b6"):(!!"1","H"):"-":"O"],[2025,2027,(+"263.65",8754) >= (237.67,654.43)?(966.84,6993) !== 1375?"-":258.28:617,"Sep","21",[24,0,"0" ^ 0,null],0,637.73 == 497.73?("U",149.43):"-"]],Zion:[[2013,"max","-","Mar","Fri>=23",[2,0,0,null],60,"2170" * 1 >= 3440?+"0x14ba":"D"],[2013,"max",(280.69,880.7) === 5280?0x671:"-","Oct",U9l,["2" - 0,0,0,null],0,(33.11,931.99) == 8290?(+"747.98",2526) === (441.99,944)?(5.64e+3,!"1"):"c":"S"]],Japan:[],Jordan:[[2014,"max","-","Mar","lastThu",[24,0,0,null],"60" - 0,"S"],[2014,E5z,7663 === 1090?683 != ("5390" | 6)?0x536:(1.15e+3,8.55e+3):"-",A6s,"lastFri",[0,"0" | 0,0,(4350,186.86) === (7414,8226)?+"68.10":(6531,+"3557") < ("548" << 32,8982)?"s":0xcf1],0,(933.29,720.43) != (1570,351.34)?"-":934.96]],ROK:[],Lebanon:[[1993,"max",7970 <= 4660?(1290,187) != 7110?(267.37,+"190.49") == +"118.81"?"U":("2.24e+3" | 0,324):(454.15,0x22df):"-","Mar","lastSun",[0,0,"0" - 0,null],"60" * 1,"S"],[+"1999","max",(+"1726",4750) !== (575.8,"3730" >> 0)?(874.93,2950) > 9336?("9305" | 65,6267) == (2250,1551)?!![]:(!!"",0x2082):"-":("d",0x508),p4_,d3p,[0,0,0,null],0,+"6749" <= 644?(+"0x1be9",0x18b7):(701.4,2860) >= 7151?(179.11,443.73) > (+"760.56",345.8)?(115.47,2.30e+3):!!"1":"-"]],Mongol:[],Pakistan:[],Palestine:[[2016,2018,"-","Mar","Sat>=24",[1,0,0,null],60,"S"],[2016,2018,(7730,221.69) !== 718.84?(206.74,4750) >= (201.79,843)?"-":"l":"p","Oct",q2Y,[1,0,0,null],0,(3985,111.13) !== 32?"-":8530 != (615,1150)?7939 !== (1860,7210)?(!!({}),0x1475):(0x1e76,!!1):(!"1","g")],[2019,"only",(+"558.46",9790) > 1470?(2380,6519) >= 50.35?"-":+"0x3ac":"l","Mar","29",[0,0,0,null],60,887.93 < (948.15,156.23)?("X",!!"1"):9188 == 6108?(2140,8210) != 2050?!({}):(4.28e+3,"J"):"S"],[2019,"only",247.43 != 1600?(2113,+"356.29") === (7875,922.67)?7.57e+3:2540 >= (7989,"1658" * 1)?"-":!"":(![],+"278.21"),"Oct","Sat>=24",["0" * 1,0,0,null],"60" << 0,(+"7549",7750) == 8510?289.92:(2290,350) > 1580?("c","Z"):"-"],[2020,"max",(9620,+"135.58") >= (5717,+"7253")?803.79 == 255.59?(0x21ac,0x1e33):4881 >= 1010?(301.86,+"3.90e+2"):"x":"-",n5A,"Sat>=24",[0,0,0,null],60,(9598,+"7017") === (518.28,9500)?(497.70,+"6.87e+3"):791.4 > 2466?0x2ca:"S"],[2020,"max","-","Oct","Sat>=24",[1,+"0",0,null],60,"-"]],Syria:[["2012" | 24,"max",(605.81,+"337.16") > (7880,6860)?(+"60.45","6.84e+3" | 8):"-","Mar","lastFri",["0" ^ 0,+"0",+"0",null],60,4318 != 7848?8100 === (+"9553",1350)?(4.20e+3,0x1377):"S":("x","N")],[+"2009",v4z,"-","Oct","lastFri",[0,"0" ^ 0,"0" << 64,null],0,(948,7011) !== 9510?"-":962 > (2590,6770)?(9.85e+3,5.95e+3):(715.14,!!"")]],Aus:[],AW:[],AQ:[],AS:[[+"2008","max",2689 != (8450,16.81)?1654 == (3390,+"7300")?"k":"-":"r",d0A,"Sun>=1",[2,0,+"0","s"],0,("655" | 2,4799) !== (49.99,1107)?145.16 < (3150,1351)?(834,1440) != 1041?"S":342.15:(!!0,65.37):(!"1",457.70)],[2008,K_p,(+"2577",7793) >= (312.34,+"9002")?125.08:"-","Oct",r_7,[2,0,0,"s"],60,("759" | 36,831) < (8380,656)?!1:2997 < 7940?"D":975.51]],AT:[[2001,"max","-",t6U,"Sun>=1",[2,"0" << 64,0,1020 <= 5570?"s":!1],"60" - 0,"D"],[2008,F1S,"-","Apr","Sun>=1",[2,+"0",0,(9230,+"980.78") !== +"142"?"s":5751 < 764.82?(![],!!0):("0x1452" * 1,"g")],0,418.22 < (803.34,6200)?"S":"D"]],AV:[[2008,"max",642.31 == (887.84,4580)?("g",+"849"):8463 >= 5220?77.25 != (785.98,92.39)?"-":0x2554:!({}),t3R,F0q,[2,0,0,(+"689.73",5390) === (593,"70" - 0)?(+"1760",1363) === 6090?943.68:(876.01,"D"):"s"],0,"S"],[2008,"max","-","Oct","Sun>=1",[2,"0" - 0,0,(1840,5670) < 5520?0x11e6:+"5742" === 227.22?+"289.55":"s"],+"60",(4420,7913) !== "4000" - 0?"D":(![],"0x1b30" | 32)]],AN:[[2008,o7p,(52,23.86) < ("671.96" * 1,9590)?"-":(416,119.41),"Apr","Sun>=1",[+"2",+"0",0,(524.1,9483) !== (344,396)?"s":604.99 === (164,+"2920")?(997,997.44):(4788,120.34) > 501.58?1.20e+3:8.09e+3],+"0",6160 >= "4392" >> 0?"S":!({})],[+"2008",Y9q,"-","Oct","Sun>=1",[2,0,0,"s"],60,(9567,424) < (193.17,9253)?7858 != (7320,63.52)?+"976.2" >= (+"4640",940.99)?"D":("a",6.90e+3):(!1,+"626.85"):"N"]],LH:[[+"2008",X84,"-","Apr",d4i,[+"2",+"0",0,null],0,307 <= (549.71,365.33)?"-":"124.27" * 1 > 1340?!!"1":9865 > (91.12,3980)?(4.44e+3,494):(3.20e+3,331.76)],[2008,"max",(+"3793",2678) == (8868,824.12)?7.37e+3:2229 >= "59" - 0?"-":"638.61" - 0,S6F,"Sun>=1",[2,"0" * 1,0,null],30,"-"]],Fiji:[[2014,2018,"-","Nov","Sun>=1",[2,0,+"0",null],+"60","-"],[2015,"max",3730 >= 953.83?(3073,4730) >= ("600.11" - 0,9731)?![]:"-":583,"Jan","Sun>=12",[3,0,0,null],"0" | 0,(4085,"5090" | 34) >= ("984.82" * 1,1360)?(+"2691","141.05" - 0) < ("4870" | 0,8540)?"-":(!!"",!!0):(7.54e+3,"1.43e+3" >> 32)],[2019,l7u,(7360,"3440" >> 64) <= 441?"139.64" * 1:506.59 != "570.43" * 1?"-":(7.77e+3,"h"),"Nov",M1n,[2,+"0",0,null],60,"-"],[2020,r86,7760 <= (+"34",+"184.46")?(4910,193.5) > "4110" * 1?("0xbf5" - 0,6.29e+3):(0x2094,![]):"-","Dec","20",[+"2","0" * 1,0,null],+"60",71.82 !== (+"721.13",4620)?"-":(0xb3a,6.39e+3)],[2021,"max","-","Nov","Sun>=8",[+"2",0,0,null],"60" * 1,(+"867.13",3282) > (1852,2913)?"-":("5933" * 1,8455) !== (1130,1224)?386.96 == (698.84,9110)?![]:!!1:("v",411.01)]],NC:[],NZ:[[2007,"max","-",p2x,"lastSun",[2,0,0,("117.43" - 0,+"2260") <= (2003,"3720" * 1)?"s":638.15 < 384?8.11e+3:("s",0x1e9a)],60,+"566.19" < 7670?"D":(6966,7500) != 8288?"M":(!"1","M")],[2008,"max","-",h$f,v5$,[2,0,+"0",(8417,220) < 4970?("6790" | 0) == 958?"371.87" * 1:"s":(153.50,485.13)],0,4690 >= 613.82?(3608,293.47) >= 246.69?563.82 > ("9351" ^ 0,1235)?("G",!1):"S":5.95e+3:("R","1.77e+3" << 64)]],Chatham:[[2007,"max","-","Sep","lastSun",[2,"45" << 32,0,"s"],60,7750 < ("976" | 16)?(![],0x162b):"-"],[2008,r$P,"-",Y_p,X9J,[2,45,0,808 < (+"8260",9670)?9330 <= (734.71,6703)?4.97e+3:(5880,50) <= (97,58.01)?"s":9.25e+3:(!"1","9.00e+3" << 32)],0,"-"]],WS:[[+"2012","max","-","Apr","Sun>=1",[4,0,0,null],0,"-"],[2012,"max",2400 >= (168.79,305.61)?("280.21" * 1,5356) < (4449,277.55)?(0x25f8,375.24):("9595" ^ 0) === +"9358"?("g",!!({})):"-":("l",0xff3),"Sep","lastSun",[3,0,0,null],60,(3337,3185) !== (2251,6867)?6506 > (3890,5010)?"-":(7740,2760) !== (95.81,898.55)?(6.92e+3,+"3.98e+3"):(![],!!1):(0x249b,!({}))]],Tonga:[[2016,"only",483.85 == +"4234"?9.66e+3:656 < +"3150"?4935 === 696?(![],"1.89e+2" * 1):"-":(!!({}),"0x17e7" << 32),"Nov","Sun>=1",[2,0,0,null],60,(368,3869) == (7932,"436.55" * 1)?647 > (7640,240.22)?(0x233b,744.81):467.32:"-"],[2017,a12,8071 > (+"1540",289)?"-":(424.92,7635) >= 5475?(7630,2076) === (789.12,591.19)?(2.32e+3,2.75e+3):(0x1de4,558.16):"A","Jan",k1L,[3,+"0",0,null],0,"-"]],Eire:[["1981" << 32,x7Q,("424" | 0) == (306,9540)?(!0,"U"):(552.3,591.37) <= 285?(!!"",0x254f):"-","Mar",U17,[1,+"0","0" - 0,7757 >= +"6718"?(267.13,5483) !== +"8532"?(2322,3328) == 2380?2.49e+3:"u":!({}):0x200c],0,(+"6715",5642) !== (45.11,1619)?(3090,1570) >= 5938?("20.90" - 0,"0x26da" >> 0):"-":0xb2f],[1996,b9l,(4880,764.21) > 5227?!![]:"-","Oct","lastSun",[+"1",+"0",0,("826.29" * 1,3340) >= 5181?(0x2521,7.29e+3):"u"],-60,"-"]],EU:[["1981" | 12,"max","-","Mar","lastSun",[1,0,0,(516.75,661.65) < 525?(+"4.57e+3",920.12):"u"],60,+"3640" > "5724" - 0?(369.14,!({})):2020 >= 528.41?"S":(0x1d8d,379.16)],[1996,W6m,7691 <= (+"6930",+"4749")?(1539,4258) <= (960,7761)?1720 >= 417.99?("U",+"951.14"):0x120c:!"":"-","Oct","lastSun",[1,0,"0" | 0,4490 == (3189,502)?676.56 < (7229,3950)?(7040,596.88) === (2800,940.48)?"b":(1.29e+3,"834" - 0):567.67:"u"],0,902.39 != 151.64?"-":(9010,565.52) == 118.41?("K","X"):750.06]],"C-Eur":[[1981,"max","-","Mar","lastSun",[+"2",0,0,(7505,1070) > ("81.09" * 1,"46" * 1)?(3163,824.18) < (182.52,164.95)?"0xc21" << 32:"s":(8.87e+3,0x1210)],60,"S"],[1996,"max","-","Oct",E7Y,[2,+"0",0,"s"],0,("3470" ^ 0,+"880.25") <= 1537?"-":2560 > 6220?("b",6.32e+3):"479.71" - 0 != (434,"9362" >> 32)?(766.25,+"4.21e+3"):(!![],1.93e+3)]],Thule:[[+"2007","max",6872 == (2100,955.05)?128.63:(+"1333",70.18) <= (28,+"671.84")?"-":"7.71e+3" | 6,a0Z,"Sun>=8",[2,+"0",0,null],60,8020 === 41.38?("S",413.02):"D"],[2007,w$C,"-",o6d,"Sun>=1",[2,0,0,null],0,9400 != 8670?"S":4.97e+3]],US:[[2007,"max","-",j0G,"Sun>=8",[2,0,0,null],60,"D"],[2007,w2F,"-","Nov",C5q,[2,+"0","0" << 0,null],0,"S"]],Canada:[[2007,w5R,"-",X8v,G9R,[2,0,0,null],60,(4872,764.23) == 4740?(!"","c"):(3610,+"511.41") >= +"541"?908.36:"D"],[2007,"max","-","Nov","Sun>=1",[2,+"0",0,null],0,467 <= ("4530" ^ 0)?7210 >= (4836,867)?("754.07" * 1,+"936.74") === 733.1?("0x1be5" - 0,"459.66" - 0):"S":(+"0x6f",521.29):137]],Mexico:[[2002,f91,7380 == (211,7820)?("k",710.06):(936.84,164.19) !== (5860,187)?"-":(2280,698.61) > 1224?"R":!![],"Apr","Sun>=1",[2,"0" >> 32,"0" - 0,null],60,4980 >= (2050,+"270.27")?"D":7435 !== 1930?("F",0x1fd9):(+"0x934",720.63)],[+"2002",i4R,(654.96,+"2106") > (2140,319.82)?686.79 !== 507?"-":(130.63,745.74) !== 2816?9.61e+3:"u":("a",+"0x12b2"),"Oct",N8S,["2" * 1,0,"0" - 0,null],0,"333.25" * 1 >= ("210" | 2)?987.79 >= 9880?(0x4df,6.55e+3):"S":"G"]],CR:[],Cuba:[[2012,"max",877.5 >= 6147?(181.94,0x14e0):(4400,6200) > (1710,8559)?0x259c:("494.71" - 0,6400) !== 8171?"-":909.46,M8l,f4F,[0,"0" - 0,+"0","s"],0,"S"],["2013" >> 32,"max",(+"7782","8480" * 1) != (1182,77.79)?"-":(255.07,8423) !== (7110,1609)?("0x125b" - 0,924.12):(136.35,!![]),"Mar","Sun>=8",[0,0,0,"s"],"60" ^ 0,105 != 1760?"D":0x194e]],Haiti:[[2017,"max",3140 > "534.75" * 1?"-":(148.18,"d"),"Mar",j1J,[2,0,0,null],"60" * 1,"D"],[2017,"max","-","Nov",b0l,[2,0,0,null],"0" ^ 0,"S"]],Arg:[],Brazil:[[2008,2017,"-","Oct","Sun>=15",["0" ^ 0,0,0,null],60,(1980,5037) != 269?578.66 === (3735,+"6141")?("2337" ^ 0) <= (1287,157.08)?("f",0x13cb):("0x1d30" * 1,"E"):"-":"373.00" ^ 0],[2016,+"2019",23.21 <= (607.13,+"5480")?"-":"0x925" ^ 0,"Feb","Sun>=15",[+"0","0" ^ 0,0,null],0,(623,6760) < 355.27?!!"":(1143,5720) < (2078,762)?!!0:"-"],[2018,X7_,(4463,980) != 9230?"-":(103.26,0x4b),w69,"Sun>=1",["0" | 0,0,0,null],"60" - 0,(1980,"3920" << 32) != (9456,628.89)?"-":(!({}),"f")]],Chile:[[2016,2018,(155,6011) != (7969,6320)?"-":+"1689" === 2070?0x1bd6:(7830,1920) < +"6930"?!1:(9.19e+3,!!"1"),z1v,D_T,[3,0,0,"u"],0,(289,1770) === (7796,"359.26" * 1)?("g",!!1):"-"],[+"2016",2018,473.26 === (9150,5492)?"5040" * 1 <= (6720,+"8690")?(!0,75.83):(0x104f,0x212d):"-","Aug","Sun>=9",[4,0,0,2224 !== 187.02?"u":1.77e+3],60,9140 == ("2440" ^ 0)?!!1:"-"],[+"2019","max",(5310,3280) >= 5960?8050 >= 8130?!"":!!0:"-","Apr","Sun>=2",[3,+"0","0" * 1,"u"],0,(9250,742.52) <= 1081?"-":(8312,160.43) < 8100?("g",565.36):325.30],[2019,"max","-","Sep",v_c,[+"4",0,0,"u"],60,"128.52" - 0 == (6662,"308" << 64)?5382 === ("87.44" - 0,2627)?(0x9f7,+"7.24e+3"):(+"0x166a","g"):"-"]],CO:[],Para:[["2010" - 0,g9J,"-","Oct",I6f,[0,"0" * 1,0,null],60,(7200,7950) == 2757?(1450,639) !== (754,849.29)?"4.54e+3" >> 32:0x1ff1:"-"],[2013,b9a,(640.95,3010) <= (5550,143.53)?581.14:"-","Mar","Sun>=22",[0,0,+"0",null],0,"-"]],Uruguay:[]}});};o8=C4d=>{var m8b,x6D;m8b=typeof _CIQ !== "undefined"?_CIQ:C4d.CIQ;m8b.ChartEngine.prototype.touchSingleClick=function(x$M,p0n,X5k){var Y0Z,T$Y;A2IFV.a9S();Y0Z=this;T$Y=arguments;return function(){(function(){var U1R,M7y,p9S,z02,J7w;U1R="touc";U1R+="hSingl";U1R+="eC";U1R+="lick";if(!this.cancelTouchSingleClick){if(this.runPrepend("touchSingleClick",T$Y)){return;}if(this.editingAnnotation){return;}this.clicks={s1MS:-("1" ^ 0),e1MS:-1,s2MS:-1,e2MS:-1};if(!this.displayCrosshairs){return;}if(!this.displayInitialized){return;}if(this.openDialog !== ""){return;}if(p0n < this.left || p0n > this.right || X5k < this.top || X5k > this.bottom){return;}M7y=this.backOutY(m8b.ChartEngine.crosshairY);p9S=this.backOutX(m8b.ChartEngine.crosshairX);this.currentPanel=this.whichPanel(M7y);z02=this.currentVectorParameters.vectorType;if(!m8b.Drawing || !z02 || !m8b.Drawing[z02] || !new m8b.Drawing[z02]().dragToDraw){if(!this.drawingClick(this.currentPanel,p9S,M7y)){v0N(this,p0n,X5k);}if(!this.currentVectorParameters.vectorType){J7w=this.activeMarker && this.activeMarker.click({cx:p9S,cy:M7y,panel:this.currentPanel});if(!J7w){this.dispatch("tap",{stx:this,panel:this.currentPanel,x:p9S,y:M7y});}}}}this.runAppend(U1R,T$Y);}).apply(Y0Z,T$Y);};};m8b.ChartEngine.prototype.touchDoubleClick=function(O06,t1o,T9y){var U0X,D7h,y$B,z5m,y8L,A5a;U0X="d";U0X+="ou";U0X+="bl";U0X+="eTap";D7h="touchDoubleCl";D7h+="ic";D7h+="k";y$B=654591386;z5m=-1914874400;y8L=2;for(var c0C=1;A2IFV.Z2Z(c0C.toString(),c0C.toString().length,20973) !== y$B;c0C++){if(this.runPrepend("",arguments)){return;}if(this.editingAnnotation){return;}y8L+=2;}if(A2IFV.U6$(y8L.toString(),y8L.toString().length,82311) !== z5m){if(this.runPrepend("",arguments)){return;}if(this.editingAnnotation){return;}}if(this.runPrepend(D7h,arguments)){return;}if(this.editingAnnotation){return;}if(m8b.ChartEngine.drawingLine){return this.undo();}if(this.activeDrawing){return;}v0N(this,t1o,T9y);A5a=this.activeMarker && this.activeMarker.doubleClick({cx:t1o,cy:T9y,panel:this.currentPanel});A2IFV.D0H();if(!A5a){this.dispatch(U0X,{stx:this,finger:O06,x:t1o,y:T9y});}this.runAppend("touchDoubleClick",arguments);};m8b.ChartEngine.prototype.startProxy=function(v_V){var b5r;b5r="to";b5r+="u";b5r+="c";b5r+="h";this.touchPointerType=v_V.pointerType;if(this.touchPointerType != b5r){this.mouseMode=!"";return;}this.mouseMode=!1;this.touches[this.touches.length]={pointerId:v_V.pointerId,pageX:v_V.clientX,pageY:v_V.clientY,clientX:v_V.clientX,clientY:v_V.clientY};this.changedTouches=[{pointerId:v_V.pointerId,pageX:v_V.clientX,pageY:v_V.clientY,clientX:v_V.clientX,clientY:v_V.clientY}];if(this.touches.length == +"1"){this.gesturePointerId=v_V.pointerId;}this.touchstart(v_V);};m8b.ChartEngine.prototype.moveProxy=function(M0J){if(M0J.pointerType && M0J.pointerType != "touch"){this.mouseMode=!!1;return;}A2IFV.a9S();this.mouseMode=!1;this.touchmove(M0J);};m8b.ChartEngine.prototype.endProxy=function(I0p){var R2M=A2IFV;var H09,n_G,w4U,x3z;if(this.touchPointerType != "touch"){this.mouseMode=!!({});return;}this.mouseMode=![];H09=this.touches.length;for(var H4d=0;H4d < this.touches.length;H4d++){if(this.touches[H4d].pointerId == I0p.pointerId){this.touches.splice(H4d,1);break;}}if(H4d == H09){this.touches=[];this.grabbingScreen=!1;this.touching=!!"";return;}this.changedTouches=[{pointerId:I0p.pointerId,pageX:I0p.clientX,pageY:I0p.clientY,clientX:I0p.clientX,clientY:I0p.clientY}];R2M.D0J(28);n_G=-R2M.q7n("802980364",64);w4U=-1900874754;x3z=2;for(var j3o=1;R2M.U6$(j3o.toString(),j3o.toString().length,23292) !== n_G;j3o++){this.touchend(I0p);x3z+=2;}if(R2M.Z2Z(x3z.toString(),x3z.toString().length,1617) !== w4U){this.touchend(I0p);}};m8b.ChartEngine.prototype.msMouseMoveProxy=function(T$R){if(this.touches.length || !this.mouseMode){return;}this.mousemove(T$R);};m8b.ChartEngine.prototype.msMouseDownProxy=function(O1p){A2IFV.a9S();if(!this.mouseMode){return;}this.mousedown(O1p);};m8b.ChartEngine.prototype.msMouseUpProxy=function(V5V){A2IFV.D0H();if(!this.mouseMode){return;}this.mouseup(V5V);};m8b.ChartEngine.prototype.iosMouseMoveProxy=function(W9T){if(this.touching){return;}A2IFV.a9S();this.mousemove(W9T);};m8b.ChartEngine.prototype.iosMouseDownProxy=function(S3e){if(this.touching){this.mouseMode=!1;return;}this.mouseMode=!![];A2IFV.a9S();this.mousedown(S3e);};m8b.ChartEngine.prototype.iosMouseUpProxy=function(b6G){if(this.touching){return;}this.mouseup(b6G);};m8b.ChartEngine.prototype.touchmove=function(s0o){var z_B=A2IFV;var z0C,q7y,k66,i8L,P8b,O8y,h4u,G49,M1J,A_7,U8i,h5P,u__,o_M,P3e,V3o,U6j,F3j,z8N,T2R,a6O,b6x,W6N,l6R,c4i,j7A,s9V,G7K,y5V,w9D,x6F,v7U,R3x,g6b,n0N,G1m,H$5,r9I,j7d,O3g;if(!this.displayInitialized){return;}if(this.openDialog !== ""){return;}if(m8b.ChartEngine.ignoreTouch === !!1){return;}z0C=[];if(!this.overYAxis || this.controls && this.controls.crossX && this.controls.crossX.style.display != "none"){if(s0o && s0o.preventDefault && s0o.cancelable && this.captureTouchEvents){s0o.preventDefault();}if(s0o){s0o.stopPropagation();}}q7y=new Date().getTime();if(this.clicks.s2MS == -1){this.clicks.e1MS=q7y;if(this.clicks.e1MS - this.clicks.s1MS < +"25"){return;}}else {this.clicks.e2MS=q7y;if(this.clicks.e2MS - this.clicks.s2MS < 25){return;}}if(!s0o.pointerType){s0o.pointerType=this.touchPointerType;}if(m8b.isSurface){if(this.mouseMode){return;}if(!s0o.pointerId){s0o.pointerId=this.gesturePointerId;}for(var j4I=0;j4I < this.touches.length;j4I++){if(this.touches[j4I].pointerId == s0o.pointerId){k66=Math.abs(this.touches[j4I].pageX - s0o.clientX);i8L=Math.abs(this.touches[j4I].pageY - s0o.clientY);z_B.H6P(42);P8b=Math.sqrt(z_B.q7n(k66,i8L,k66,i8L));if(!P8b){return;}this.clicks.e1MS=new Date().getTime();if(this.clicks.e1MS - this.clicks.s1MS < 50){return;}if(this.touches[j4I].pageX == s0o.clientX && this.touches[j4I].pageY == s0o.clientY){return;}this.touches[j4I].pageX=this.touches[j4I].clientX=s0o.clientX;this.touches[j4I].pageY=this.touches[j4I].clientY=s0o.clientY;break;}}if(j4I === 0){this.movedPrimary=!![];}else {this.movedSecondary=!"";}if(j4I == this.touches.length){return;}this.changedTouches=[{pointerId:s0o.pointerId,pageX:s0o.clientX,pageY:s0o.clientY,clientX:s0o.clientX,clientY:s0o.clientY}];z0C=this.touches.length?this.touches:this.changedTouches;}else {z0C=s0o.touches;this.changedTouches=s0o.changedTouches;}if(z0C.length == 1){if(Math.pow(this.clicks.x - z0C[0].clientX,2) + Math.pow(this.clicks.y - z0C[0].clientY,2) <= 16){return;}}O8y=this.crosshairXOffset;h4u=this.crosshairYOffset;G49=this.currentVectorParameters.vectorType && this.currentVectorParameters.vectorType !== "";M1J=!this.layout.crosshair && !G49 && !this.touchNoPan;if(s0o.pointerType == "pen" || M1J || this.activeDrawing && this.activeDrawing.name == "freeform"){z_B.D0J(7);O8y=h4u=z_B.q7n(0,"0");}if(this.runPrepend("touchmove",arguments)){return;}if(m8b.ChartEngine.resizingPanel){h5P=z0C[0];A_7=h5P.clientX;U8i=h5P.clientY;z_B.D0J(0);this.mousemoveinner(z_B.q7n(A_7,O8y),z_B.q7n(U8i,h4u));return;}z_B.D0H();if(this.moveB != -1){this.touchMoveTime=new Date();}this.moveA=this.moveB;this.moveB=z0C[0].pageX;if(z0C.length == 1 && !this.twoFingerStart){o_M=z0C[0];A_7=o_M.clientX;U8i=o_M.clientY;this.pinchingScreen=0;z_B.D0J(0);this.mousemoveinner(z_B.S40(A_7,O8y),z_B.S40(U8i,h4u));P3e=this.whichPanel(U8i);V3o=this.xAxisAsFooter === !!1?this.chart.canvasHeight:this.chart.panel.bottom;this.overXAxis=U8i <= this.top + V3o && U8i >= V3o - this.xaxisHeight + this.top && this.insideChart;if(!P3e){this.overYAxis=!1;}else {this.overYAxis=(A_7 >= P3e.right || A_7 <= P3e.left) && this.insideChart;}}else if(z0C.length == 2 && this.allowZoom){if(!this.displayCrosshairs){return;}U6j=z0C[0];F3j=U6j.clientX;z8N=U6j.clientY;T2R=z0C[1];a6O=T2R.clientX;b6x=T2R.clientY;z_B.D0J(141);u__=Math.sqrt(z_B.q7n(z8N,a6O,z8N,b6x,b6x,a6O,F3j,F3j));z_B.D0J(0);var V9I=z_B.q7n(0,2);this.pinchingCenter=(Math.min(F3j,a6O) - Math.max(F3j,a6O)) / V9I;W6N=Math.round(this.gestureStartDistance - u__);if(M1J){this.pinchingScreen=5;}this.clearPixelCache();if(this.pinchingScreen < 2){if(m8b.isSurface && (!this.movedPrimary || !this.movedSecondary)){return;}if(F3j < this.pt.x1 && a6O < this.pt.x2 || F3j > this.pt.x1 && a6O > this.pt.x2 || z8N < this.pt.y1 && b6x < this.pt.y2 || z8N > this.pt.y1 && b6x > this.pt.y2){this.pinchingScreen=0;}else {this.pinchingScreen++;if(this.pinchingScreen < 2){return;}}}this.pt={x1:F3j,x2:a6O,y1:z8N,y2:b6x};if(this.pinchingScreen === 0){this.grabMode="pan";z_B.H6P(0);this.mousemoveinner(z_B.S40(F3j,O8y),z_B.q7n(z8N,h4u));this.gestureStartDistance=u__;}else {l6R=Math.asin((Math.max(b6x,z8N) - Math.min(b6x,z8N)) / u__);if(Math.abs(W6N) < 12 && !M1J){this.moveCount++;if(this.moveCount == 4){this.pinchingScreen=0;this.moveCount=0;return;}}else {this.moveCount=0;}if(l6R < 1 || !this.goneVertical && l6R < 1.37){if(!this.currentPanel){return;}c4i=this.currentPanel.chart;this.goneVertical=![];u__=this.pt.x2 - this.pt.x1;j7A=this.grabStartValues.t2 - this.grabStartValues.t1;s9V=this.grabStartValues.t1 + j7A / ("2" ^ 0);z_B.D0J(14);G7K=z_B.q7n(j7A,u__);if(c4i.allowScrollFuture === !"1" && c4i.allowScrollPast === !({})){G7K=Math.max(G7K,c4i.width / c4i.dataSet.length);}y5V=this.layout.candleWidth;this.setCandleWidth(G7K,c4i);if(c4i.maxTicks < this.minimumZoomTicks){this.setCandleWidth(y5V,c4i);return;}this.micropixels=0;w9D=this.pixelFromTick(Math.round(s9V),c4i);x6F=this.pt.x1 - this.left + Math.round(u__ / +"2");z_B.H6P(7);v7U=z_B.q7n(x6F,w9D);z_B.H6P(14);R3x=z_B.q7n(G7K,v7U);g6b=Math.round(R3x);c4i.scroll-=g6b;z_B.H6P(7);this.microscroll=z_B.q7n(R3x,g6b);this.micropixels=G7K * this.microscroll;this.draw();}else {n0N=this.grabStartYAxis;this.goneVertical=!0;if(n0N){G1m=-396170675;H$5=1039071863;r9I=2;for(var W5N=+"1";z_B.U6$(W5N.toString(),W5N.toString().length,47121) !== G1m;W5N++){n0N.zoom=this.grabStartZoom + (this.gestureStartDistance - u__);r9I+=2;}if(z_B.U6$(r9I.toString(),r9I.toString().length,+"25025") !== H$5){n0N.zoom=this.grabStartZoom % (this.gestureStartDistance + u__);}if(this.grabStartZoom < n0N.height){if(n0N.zoom >= n0N.height){z_B.H6P(41);var r_W=z_B.q7n(6,17,103);n0N.zoom=n0N.height - r_W;}}else {if(n0N.zoom <= n0N.height){z_B.D0J(142);var d$1=z_B.S40(14,6,12,447,6);n0N.zoom=n0N.height + d$1;}}this.draw();;}}this.updateChartAccessories();}}else if(z0C.length == 3 && m8b.ChartEngine.allowThreeFingerTouch){if(!this.displayCrosshairs){return;}j7d=z0C[0];O3g=j7d.clientX;u__=this.grabStartX - O3g;z_B.D0J(143);var o0X=z_B.S40(1,6,4,190,190);this.grabEndPeriodicity=this.grabStartPeriodicity + Math.round(u__ / o0X);if(this.grabEndPeriodicity < 1){z_B.D0J(21);this.grabEndPeriodicity=z_B.S40("1",0);}}this.runAppend("touchmove",arguments);};function v0N(S$_,i2d,P$Z){var U9M;if(!S$_.layout.crosshair){m8b.ChartEngine.crosshairY=0;m8b.ChartEngine.crosshairX=0;S$_.cx=S$_.backOutX(0);S$_.cy=S$_.backOutY(0);S$_.findHighlights(null,!!1);m8b.ChartEngine.crosshairY=P$Z;m8b.ChartEngine.crosshairX=i2d;U9M=S$_.container.getBoundingClientRect();S$_.top=U9M.top;S$_.left=U9M.left;S$_.right=S$_.left + S$_.width;S$_.bottom=S$_.top + S$_.height;S$_.cx=S$_.backOutX(i2d);S$_.cy=S$_.backOutY(P$Z);if(S$_.currentPanel && S$_.currentPanel.chart.dataSet){S$_.crosshairTick=S$_.tickFromPixel(S$_.cx,S$_.currentPanel.chart);S$_.crosshairValue=S$_.adjustIfNecessary(S$_.currentPanel,S$_.crosshairTick,S$_.valueFromPixel(S$_.cy,S$_.currentPanel));}S$_.headsUpHR();}S$_.findHighlights(!![]);S$_.draw();}m8b.ChartEngine.prototype.touchstart=function(f1D){var T1e=A2IFV;var A_o,r2Q,M9D,D9U,F67,c8B,n2H,X36,n$S,m4m,X76,w4g,K59,k4j,B$x,S7W,h$D,O_d,q6Q,s$O,j8q,w_j,p6Z,k9M,j0D,v8H,l30,F4w,J7S,T04,y06,E0A,m8n,C2d,U_6;A_o="touchst";A_o+="ar";A_o+="t";if(m8b.ChartEngine.ignoreTouch){return;}if(m8b.isSurface){this.movedPrimary=![];this.movedSecondary=!({});}else {if(this.touchingEvent){clearTimeout(this.touchingEvent);}this.touching=!!"1";this.touches=f1D.touches;this.changedTouches=f1D.changedTouches;}if(m8b.ChartEngine.resizingPanel){return;}r2Q=this.crosshairXOffset;M9D=this.crosshairYOffset;if(this.touchPointerType == "pen"){r2Q=M9D=0;}if(this.runPrepend("touchstart",arguments)){return;}if(this.manageTouchAndMouse && f1D && f1D.preventDefault && f1D.cancelable && this.captureTouchEvents){f1D.preventDefault();}this.hasDragged=![];this.doubleFingerMoves=0;this.moveCount=0;this.twoFingerStart=!!"";if(this.touches.length == 1 || this.touches.length == 2){this.touchMoveTime=Date.now();n$S=this.touches[0];c8B=n$S.clientX;n2H=n$S.clientY;this.moveA=c8B;this.moveB=-1;if(this.openDialog === ""){m4m="do";m4m+="wn";this.registerPointerEvent({x:c8B,y:n2H,time:this.touchMoveTime},m4m);if(this.changedTouches.length == 1 && !this.isDoubleClick(!!"1")){m8b.extend(this.clicks,{s1MS:this.touchMoveTime,e1MS:-1,s2MS:-1,e2MS:-1,x:this.changedTouches["0" - 0].pageX,y:this.changedTouches[0].pageY});}}X76=this.container.getBoundingClientRect();this.top=X76.top;this.left=X76.left;this.right=this.left + this.width;this.bottom=this.top + this.height;if(this.touches.length == 1){w4g=this.backOutY(n2H);this.currentPanel=this.whichPanel(w4g);}if(!this.currentPanel){this.currentPanel=this.chart.panel;}X36=this.currentPanel;if(c8B >= this.left && c8B <= this.right && n2H >= this.top && n2H <= this.bottom){this.insideChart=!!({});K59=this.xAxisAsFooter === !""?this.chart.canvasHeight:this.chart.panel.bottom;this.overXAxis=n2H <= this.top + K59 && n2H >= this.top + K59 - this.xaxisHeight;this.overYAxis=c8B >= this.left + X36.right || c8B <= this.left + X36.left;k4j=-1;this.cy=this.backOutY(n2H);this.cx=this.backOutX(c8B);this.crosshairTick=this.tickFromPixel(this.cx,X36.chart);this.crosshairValue=this.adjustIfNecessary(X36,this.crosshairTick,this.valueFromPixel(this.cy,this.currentPanel));for(var x4Y=0;x4Y < this.drawingObjects.length;x4Y++){B$x=this.drawingObjects[x4Y];if(B$x.highlighted){if(k4j < "0" >> 0){k4j=x4Y;}S7W=B$x.highlighted;this.findHighlights(!0);if(x4Y == k4j && B$x.highlighted && !B$x.permanent){if(this.clicks.s2MS == -1){this.activateRepositioning(B$x);;}else {this.findHighlights(!1,!!"1");;}return;}this.anyHighlighted=!!1;B$x.highlighted=S7W;}}}else {h$D=398187641;T1e.H6P(1);O_d=-T1e.S40(1,"403517388");q6Q=2;for(var x1E=+"1";T1e.U6$(x1E.toString(),x1E.toString().length,"29189" | 1) !== h$D;x1E++){this.insideChart=!"";q6Q+=2;}if(T1e.U6$(q6Q.toString(),q6Q.toString().length,83258) !== O_d){this.insideChart=!!({});}this.insideChart=!!"";}s$O=this.currentVectorParameters.vectorType && this.currentVectorParameters.vectorType !== "";if(!this.layout.crosshair && !(this.layout.headsUp && this.layout.headsUp.floating) && !s$O && this.insideChart && !this.touchNoPan){r2Q=M9D=0;var {baselineHelper:n_4}=this;if(n_4.size){if(this.findBaselineHandle(f1D,!"")){return;}}if(this.controls.anchorHandles){j8q=Object.values(this.controls.anchorHandles);w_j=-896458940;T1e.H6P(10);p6Z=-T1e.S40("412015577",9);k9M=2;for(var a23=+"1";T1e.U6$(a23.toString(),a23.toString().length,"59047" ^ 0) !== w_j;a23++){j0D=!"";T1e.H6P(21);k9M+=T1e.q7n("2",0);}if(T1e.Z2Z(k9M.toString(),k9M.toString().length,94686) !== p6Z){j0D=!1;}j0D=!"1";for(var P_3=0;P_3 < j8q.length;P_3++){v8H=j8q[P_3];var {handle:R_n, sd:h0m}=v8H;l30=this.resolveX(this.cx);F4w=this.resolveY(this.cy);var {left:t5H, top:Q4l, right:w$$, bottom:H1Z}=R_n.getBoundingClientRect();t5H-=10;w$$+=10;if(m8b.boxIntersects(t5H,Q4l,w$$,H1Z,l30,F4w,l30,F4w)){J7S="st";J7S+="x-g";J7S+="rab";v8H.highlighted=!!({});this.repositioningAnchorSelector={sd:h0m};R_n.classList.add(J7S);j0D=!0;}if(v8H.highlighted === !""){v8H.highlighted=![];}}if(j0D){return;}}for(D9U in this.panels){F67=this.panels[D9U];if(F67.highlighted){this.grabHandle(F67);return;}}this.grabbingScreen=!!1;if(this.disableBackingStoreDuringTouch){this.disableBackingStore();}X36.chart.spanLock=!({});this.yToleranceBroken=![];T1e.H6P(0);this.grabStartX=T1e.q7n(c8B,r2Q);T1e.D0J(0);this.grabStartY=T1e.q7n(n2H,M9D);this.grabStartMicropixels=this.micropixels;this.grabStartScrollX=X36.chart.scroll;this.grabStartScrollY=X36.yAxis.scroll;this.grabStartPanel=this.currentPanel;if(this.swipeStart){this.swipeStart(X36.chart);}this.grabStartYAxis=this.whichYAxis(X36,this.backOutX(c8B));this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:0;setTimeout((function(A7E){return function(){T1e.D0H();A7E.grabbingHand();};})(this),100);}else {this.grabbingScreen=!({});if(this.insideChart && X36.subholder === f1D.target){T04=this.currentVectorParameters.vectorType;if(m8b.Drawing && T04 && m8b.Drawing[T04] && new m8b.Drawing[T04]().dragToDraw){this.userPointerDown=!!1;m8b.ChartEngine.crosshairX=c8B;m8b.ChartEngine.crosshairY=n2H;if(X36 && X36.chart.dataSet){this.crosshairTick=this.tickFromPixel(this.backOutX(m8b.ChartEngine.crosshairX),this.currentPanel.chart);this.crosshairValue=this.adjustIfNecessary(X36,this.crosshairTick,this.valueFromPixel(this.backOutY(m8b.ChartEngine.crosshairY),this.currentPanel));}this.drawingClick(X36,this.backOutX(c8B),this.backOutY(n2H));this.headsUpHR();return;}}}if(this.touches.length === 1 && this.layout.crosshair && !s$O && X36.subholder === f1D.target){T1e.H6P(0);this.mousemoveinner(T1e.S40(c8B,r2Q),T1e.q7n(n2H,M9D));}}if(this.touches.length == 2){this.cancelLongHold=!!({});this.swipe.end=!![];if(!this.displayCrosshairs && !this.touchNoPan || !this.insideChart){return;}y06=this.touches[1];E0A=y06.clientX;m8n=y06.clientY;for(D9U in this.panels){F67=this.panels[D9U];if(F67.highlighted){this.grabHandle(F67);return;}}X36=this.currentPanel;T1e.D0J(141);this.gestureStartDistance=Math.sqrt(T1e.q7n(n2H,E0A,n2H,m8n,m8n,E0A,c8B,c8B));this.pt={x1:c8B,x2:E0A,y1:n2H,y2:m8n};this.grabbingScreen=!!({});if(this.disableBackingStoreDuringTouch){this.disableBackingStore();}X36.chart.spanLock=!1;T1e.H6P(0);this.grabStartX=T1e.S40(c8B,r2Q);T1e.H6P(0);this.grabStartY=T1e.q7n(n2H,M9D);this.grabStartMicropixels=this.micropixels;this.grabStartScrollX=X36.chart.scroll;this.grabStartScrollY=X36.yAxis.scroll;this.grabStartPanel=X36;if(this.swipeStart){this.swipeStart(X36.chart);}this.grabStartCandleWidth=this.layout.candleWidth;this.grabStartYAxis=this.whichYAxis(X36,this.backOutX((c8B + E0A) / 2)) || X36.yAxis;this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:0;this.grabStartPt=this.pt;this.grabStartValues={x1:this.pt.x1,x2:this.pt.x2,y1:this.valueFromPixel(this.pt.y1 - this.top,X36),y2:this.valueFromPixel(this.pt.y2 - this.top,X36),t1:this.tickFromPixel(this.pt.x1 - this.left,X36.chart),t2:this.tickFromPixel(this.pt.x2 - this.left,X36.chart)};this.twoFingerStart=!![];setTimeout((function(i1l){T1e.D0H();return function(){i1l.grabbingHand();};})(this),100);}else if(this.touches.length == 3){if(!this.displayCrosshairs){return;}C2d=this.touches[+"0"];U_6=C2d.clientX;this.grabStartX=U_6;this.grabStartPeriodicity=this.layout.periodicity;}if(this.touches.length == 1 && !this.layout.crosshair){this.mouseTimer=Date.now();this.longHoldTookEffect=![];if(this.longHoldTime || this.longHoldTime === 0){this.startLongHoldTimer();}}this.runAppend(A_o,arguments);};m8b.ChartEngine.prototype.touchend=function(B7V){var s5K,i73,G78,P_O,K6w,S_6,k$2,X0z,X0B,X_R,Z8S,T5e;if(m8b.ChartEngine.ignoreTouch){return;}this.swipe.end=!!"1";if(m8b.isSurface){}else {this.touches=B7V.touches;this.changedTouches=B7V.changedTouches;}if(this.runPrepend("touchend",arguments)){return;}this.cancelLongHold=!0;if(this.touches.length <= 1){if(this.layout.crosshair || this.currentVectorParameters.vectorType){if(!this.touches.length || !this.twoFingerStart){this.grabbingScreen=!({});}}}if(this.touches.length){this.grabStartX=-1;this.grabStartY=-1;}s5K=this.pinchingScreen;if(this.disableBackingStoreDuringTouch){this.reconstituteBackingStore();}if(!this.touches.length){this.touchingEvent=setTimeout((function(u0c){A2IFV.D0H();return function(){A2IFV.a9S();u0c.touching=!"1";};})(this),500);if(m8b.ChartEngine.resizingPanel){this.releaseHandle();return;}this.pinchingScreen=null;this.pinchingCenter=null;this.goneVertical=!!"";this.grabbingScreen=![];this.grabMode="";if(this.highlightedDraggable){if(this.dragPlotOrAxis){this.dragPlotOrAxis(this.cx,this.cy);}this.currentPanel=this.whichPanel(this.cy);}this.grabStartYAxis=null;this.displayDragOK();this.doDisplayCrosshairs();this.updateChartAccessories();}else {if(m8b.ChartEngine.resizingPanel){return;}}i73=this.touches.length + +"1";if(this.changedTouches.length == 1){if(this.repositioningDrawing){G78="v";G78+="ec";G78+="t";G78+="or";this.changeOccurred(G78);m8b.clearCanvas(this.chart.tempCanvas,this);this.activateRepositioning(null);this.draw();if(!this.layout.crosshair && !this.currentVectorParameters.vectorType){this.findHighlights(!({}),!0);}return;}if(this.repositioningBaseline){P_O="st";P_O+="x-gra";P_O+="b";this.repositioningBaseline=null;this.controls.baselineHandle.classList.remove(P_O);K6w=this.mainSeriesRenderer || ({});if(K6w.params && K6w.params.baseline && K6w.params.type != "mountain"){;}this.draw();return;}if(this.repositioningAnchorSelector){m8b.Studies.repositionAnchor(this,this.repositioningAnchorSelector.sd);this.repositioningAnchorSelector=null;Object.values(this.controls.anchorHandles).forEach(({handle:o6Y})=>{A2IFV.D0H();return o6Y.classList.remove("stx-grab");});return;}S_6=Date.now();if(this.openDialog === "" && B7V.changedTouches.length){k$2=B7V.changedTouches[0];this.registerPointerEvent({x:k$2.clientX,y:k$2.clientY,time:S_6},"up");}if(this.clicks.s2MS == -("1" | 1)){this.clicks.e1MS=S_6;X0z=this.currentVectorParameters.vectorType;if(!m8b.Drawing || !X0z || !m8b.Drawing[X0z] || !new m8b.Drawing[X0z]().dragToDraw){if(this.clicks.e1MS - this.clicks.s1MS < ("750" ^ 0) && !this.longHoldTookEffect && (!this.hasDragged || this.layout.crosshair)){setTimeout(this.touchSingleClick(i73,this.clicks.x,this.clicks.y),this.doubleClickTime + 1);;}else {this.clicks={s1MS:-1,e1MS:-1,s2MS:-("1" - 0),e2MS:-1};}}this.userPointerDown=!({});X0B=this.backOutY(this.changedTouches[0].pageY) + this.crosshairYOffset;X_R=this.backOutX(this.changedTouches[0].pageX) + this.crosshairXOffset;Z8S=this.currentPanel;T5e=Z8S && Z8S.subholder === B7V.target;if(m8b.Drawing && this.activeDrawing && this.activeDrawing.dragToDraw && T5e){this.drawingClick(Z8S,X_R,X0B);return;}if(this.isDoubleClick(!![]) && (T5e || this.overYAxis || this.overXAxis)){this.touchDoubleClick(i73,this.clicks.x,this.clicks.y);}}else {this.clicks.e2MS=S_6;this.clicks={s1MS:-1,e1MS:-+"1",s2MS:-("1" | 0),e2MS:-+"1"};}}else if(this.displayCrosshairs){if(this.grabEndPeriodicity != -1 && !isNaN(this.grabEndPeriodicity)){if(m8b.ChartEngine.isDailyInterval(this.layout.interval) || this.allowIntradayNMinute){this.setPeriodicity({period:this.grabEndPeriodicity,interval:this.layout.interval});}this.grabEndPeriodicity=-1;}}if(this.changedTouches.length){if(!this.layout.crosshair && !this.currentVectorParameters.vectorType && i73 == 1 || this.twoFingerStart && !s5K && !this.touches.length){if(this.swipeRelease){this.swipeRelease();}this.findHighlights(!1,!"");}if(s5K && this.continuousZoom){this.continuousZoom.execute();this.continuousZoom.execute(!!({}));}}if(!this.touches.length){this.twoFingerStart=!({});}this.runAppend("touchend",arguments);};x6D=!({});m8b.ChartEngine.prototype.mousemoveinner=m8b.ChartEngine.prototype.mousemoveinner || (function(n1_,f_j){var F4Z,c8w,f1p;F4Z=1014480928;c8w=+"1052536454";f1p=2;A2IFV.a9S();for(var n3Q=1;A2IFV.U6$(n3Q.toString(),n3Q.toString().length,"93281" * 1) !== F4Z;n3Q++){if(~x6D){console.error("");}f1p+=2;}if(A2IFV.U6$(f1p.toString(),f1p.toString().length,32804) !== c8w){if(+x6D){console.error("");}}if(!x6D){console.error("touch feature requires activating movement feature.");}x6D=!!1;});};d7=V4$=>{var s_A=A2IFV;var b3w,a86;b3w="und";b3w+="efined";a86=typeof _CIQ !== b3w?_CIQ:V4$.CIQ;s_A.D0H();a86.Visualization=a86.Visualization || (function(A4Z){var L76;if(!A4Z){L76="C";L76+="IQ.Visualization() missing attribu";L76+="t";L76+="es argument.";console.log(L76);return;}if(typeof A4Z.renderFunction !== "function"){console.log("CIQ.Visualization() missing renderFunction property in attributes.");return;}this.container=null;s_A.D0H();this.attributes=A4Z;this.data=null;this.object=null;});a86.extend(a86.Visualization.prototype,{destroy:function(b61){var x2A;x2A=this.container;a86.resizeObserver(x2A,null,x2A.resizeHandle);if(x2A.autoGenerated){x2A.remove();delete this.container;}else {x2A.innerHTML="";}if(b61){return;}s_A.a9S();this.attributes=null;this.container=null;this.data=null;this.object=null;this.destroy=this.draw=this.setAttributes=function(){};this.updateData=function(){s_A.a9S();return undefined;};},draw:function(a4O){s_A.D0H();var b0T,p7i,j9v,a$Q,q11,P4i,s_J,E8y,t6O,l3G;b0T="str";b0T+="ing";p7i="o";p7i+="b";p7i+="jec";p7i+="t";if(!this.data || typeof this.data !== p7i){console.log("CIQ.Visualization.draw() missing data.");return;}j9v=this.attributes;a$Q=j9v.container || this.container;if(typeof a$Q === b0T){a$Q=document.querySelector(a$Q);}if(!a$Q){a$Q=document.createElement("div");a$Q.style.height=a$Q.style.width="300px";document.body.appendChild(a$Q);a$Q.autoGenerated=!!({});}if(j9v.stx){q11=j9v.stx.chart.canvasShim;if(j9v.useCanvasShim && q11 && q11 !== a$Q && q11 !== a$Q.parentNode){if(!a$Q.autoGenerated){a$Q=a$Q.cloneNode();a$Q.id="";a$Q.autoGenerated=!!1;}q11.appendChild(a$Q);}}if(this.container && this.container !== a$Q){this.destroy(!0);}if(!a$Q.resizeHandle){P4i=function(a4a){s_A.a9S();return function(){if(a4a.data && a4a.container && document.body.contains(a4a.container)){a4a.draw.call(a4a,!!1);}};};a$Q.resizeHandle=a86.resizeObserver(a$Q,P4i(this),null,100);}this.container=a$Q;this.attributes=j9v;j9v=a86.ensureDefaults({container:this.container},this.attributes);s_J=j9v.renderFunction(Object.values(this.data).sort(g4s),j9v);if(s_J){E8y=+"698908642";t6O=530697098;l3G=2;for(var t7D=1;s_A.U6$(t7D.toString(),t7D.toString().length,82003) !== E8y;t7D++){if(j9v.id){s_J.id=j9v.id;}l3G+=2;}if(s_A.U6$(l3G.toString(),l3G.toString().length,61980) !== t6O){if(j9v.id){s_J.id=j9v.id;}}if(a4O || j9v.forceReplace){this.container.innerHTML="";this.container.appendChild(s_J);}}this.attributes=j9v;function g4s(i$V,F3n){s_A.D0H();return i$V.index < F3n.index?-1:i$V.index > F3n.index?1:0;}this.object=s_J;},setAttributes:function(U$k,T8K){var J3O,y5J,U_2,O2a;J3O="contain";J3O+="er";y5J=["renderFunction",J3O,"stx","useCanvasShim","id","forceReplace"];U_2=![];s_A.a9S();O2a=U$k;if(typeof U$k == "string"){O2a={};O2a[U$k]=T8K;}if(typeof O2a == "object"){for(var s6q in O2a){if(this.attributes[s6q] !== O2a[s6q] && y5J.indexOf(s6q) !== -1){U_2=!![];}this.attributes[s6q]=O2a[s6q];}}this.draw(U_2);},updateData:function(x$S,q1O){var X7V,J5z,f0j,K4b,n2w,U4J,c3h;X7V="up";X7V+="d";X7V+="at";X7V+="e";J5z="r";J5z+="epl";J5z+="a";J5z+="ce";n2w=Array.isArray(x$S)?x$S.reduce(function(Z7C,v8L){s_A.D0H();Z7C[v8L.name]=v8L;return Z7C;},{}):a86.shallowClone(x$S);for(f0j in n2w){K4b=n2w[f0j];if(Object.prototype.toString.call(K4b) !== "[object Object]"){n2w[f0j]={value:K4b};}if(!n2w[f0j].name){n2w[f0j].name=f0j;}if(!n2w[f0j].value){n2w[f0j].value=0;}}if(!q1O){q1O="replace";}switch(q1O.toLowerCase()){case "delete":for(f0j in n2w){delete this.data[f0j];}break;case J5z:this.data={};case X7V:case "add":for(f0j in n2w){U4J="[ob";U4J+="j";U4J+="ect Nu";U4J+="mber]";if(!this.data[f0j]){this.data[f0j]={name:f0j};}K4b=n2w[f0j].value;if(Object.prototype.toString.call(K4b) == U4J){c3h="u";c3h+="p";c3h+="d";c3h+="ate";if(!this.data[f0j].value || q1O == c3h){this.data[f0j].value=0;}this.data[f0j].value+=K4b;}else {this.data[f0j].value=K4b;}for(var x7X in n2w[f0j]){if(x7X !== "value"){this.data[f0j][x7X]=n2w[f0j][x7X];}}}break;default:console.log("Invalid or missing action.  Valid values are 'add', 'delete', 'replace', or 'update'.");}this.draw(this.attributes.forceReplace);return this;}});a86.ChartEngine.prototype.embedVisualization=function(M22){if(!M22){M22={};}M22.stx=this;M22.useCanvasShim=!![];s_A.a9S();M22.translator=function(b78){s_A.a9S();return M22.stx.translateIf(b78);};return new a86.Visualization(M22);};};m1=c$9=>{var a6m,E4o,M4W,s4h;a6m="u";a6m+="n";a6m+="defined";E4o=typeof _CIQ !== a6m?_CIQ:c$9.CIQ;if(!E4o.Studies){M4W="medianPrice feature requires first activating studies fea";M4W+="ture.";console.error(M4W);}else {s4h="Median P";s4h+="rice";E4o.Studies.calculateTypicalPrice=function(p9T,t5J){var b2E=A2IFV;var y8C,e$U,y6b,s1e,E5M;y8C=t5J.chart.scrubbed;e$U=t5J.days;if(y8C.length < e$U + 1){if(!t5J.overlay){t5J.error=!"";}return;}y6b=t5J.name;for(var l9R in t5J.outputs){b2E.H6P(37);y6b=b2E.S40(y6b,l9R,(5214,+"2672") == 295?(!({}),0x2024):(4840,148) <= 9300?" ":1583 == 6312?(+"0xa5e",+"978.36"):("O",107.48));}s1e="h";s1e+="l";s1e+="c/3";if(t5J.type == "Med Price"){s1e="hl/2";}else if(t5J.type == "Weighted Close"){s1e="hlcc/4";}E5M=0;if(t5J.startFrom <= e$U){b2E.D0J(28);t5J.startFrom=b2E.q7n("0",32);}for(var n1y=t5J.startFrom;n1y < y8C.length;n1y++){if(n1y && y8C[n1y - 1][y6b]){b2E.H6P(7);var I5X=b2E.S40(2,3);E5M=y8C[n1y - I5X][y6b] * e$U;}E5M+=y8C[n1y][s1e];if(n1y >= e$U){b2E.H6P(7);E5M-=y8C[b2E.q7n(e$U,n1y)][s1e];b2E.H6P(14);y8C[n1y][y6b]=b2E.q7n(e$U,E5M);}}};E4o.Studies.studyLibrary=E4o.extend(E4o.Studies.studyLibrary,{"Med Price":{name:s4h,calculateFN:E4o.Studies.calculateTypicalPrice,inputs:{Period:14}}});}};k4=j0c=>{var c5N=A2IFV;var D8q,l3e;c5N.D0H();D8q=typeof _CIQ !== "undefined"?_CIQ:j0c.CIQ;if(!D8q.Studies){console.error("momentum feature requires first activating studies feature.");}else {l3e="Price Rat";l3e+="e of Change";D8q.Studies.calculateRateOfChange=function(v5G,I8C){var x8z,k$p,P$7,K4Z,Z5Y,H0$,V5T,l0b,h1t,f05,M2v,L7u;x8z="V";x8z+="olu";x8z+="me";k$p="C";k$p+="lo";k$p+="s";k$p+="e";P$7="f";P$7+="ie";P$7+="l";P$7+="d";K4Z=I8C.chart.scrubbed;if(K4Z.length < I8C.days + +"1"){I8C.error=!!({});return;}Z5Y=I8C.inputs.Field;if(!Z5Y || Z5Y == P$7){Z5Y=k$p;}if(I8C.parameters.isVolume){Z5Y=x8z;}H0$=I8C.name;for(var p6q in I8C.outputs){c5N.H6P(37);H0$=c5N.S40(H0$,p6q,"1330" - 0 !== 271?("8590" ^ 0,3416) > "381.69" - 0?5704 === 1382?5.35e+3:" ":(9.59e+3,3.05e+3):(379.23,!!"1"));}V5T=I8C.inputs["Center Line"];if(!V5T){c5N.D0J(10);V5T=c5N.S40("0",0);}else {V5T=parseInt(V5T,10);}for(var H$h=Math.max(I8C.startFrom,I8C.days);H$h < K4Z.length;H$h++){l0b="M";l0b+="oment";l0b+="um";h1t="ob";h1t+="j";h1t+="ect";f05=K4Z[H$h][Z5Y];if(f05 && typeof f05 == h1t){f05=f05[I8C.subField];}M2v=K4Z[H$h - I8C.days][Z5Y];if(M2v && typeof M2v == "object"){M2v=M2v[I8C.subField];}if(I8C.type == l0b){c5N.D0J(36);K4Z[H$h][H0$]=c5N.S40(V5T,f05,M2v);}else {L7u=M2v;if(L7u){c5N.H6P(144);K4Z[H$h][H0$]=c5N.q7n(f05,1,L7u,V5T,100);}}}};D8q.Studies.studyLibrary=D8q.extend(D8q.Studies.studyLibrary,{"Price ROC":{name:l3e,calculateFN:D8q.Studies.calculateRateOfChange,inputs:{Period:14,Field:"field"}},Momentum:{name:"Momentum Indicator",calculateFN:D8q.Studies.calculateRateOfChange,inputs:{Period:14},centerline:0}});}};C1=R1R=>{var v4Q,h$Q;v4Q=typeof _CIQ !== "undefined"?_CIQ:R1R.CIQ;if(!v4Q.Studies){console.error("priceRelative feature requires first activating studies feature.");}else {h$Q="Pric";h$Q+="e Relative";v4Q.Studies.initPriceRelative=function(D8z,t8H,z4c,W8c,t39,S3G){var R7V,U8k;R7V=v4Q.Studies.initializeFN(D8z,t8H,z4c,W8c,t39,S3G);U8k=[R7V.inputs["Comparison Symbol"].toUpperCase()];v4Q.Studies.fetchAdditionalInstruments(D8z,R7V,U8k);return R7V;};v4Q.Studies.calculatePriceRelative=function(P7y,j1Q){var G3m,e7g,h$B,l0e,J4r,J6c;G3m=j1Q.chart.scrubbed;e7g=j1Q.inputs["Comparison Symbol"].toUpperCase();if(!e7g){e7g=j1Q.study.inputs["Comparison Symbol"];}A2IFV.a9S();h$B={};l0e=P7y.chart.symbol || "";l0e=l0e.replace(/[=+\-*\\%]/g,"");h$B[l0e]=G3m.slice(j1Q.startFrom);if(!h$B[l0e].length){return;}if(l0e != e7g){h$B[e7g]=null;}A2IFV.D0J(73);J4r=v4Q.computeEquationChart(A2IFV.S40((3038,9520) !== ("5880" | 24,293.33)?"[":("H",90.93),(544.73,+"232") === +"1192"?526:"]",e7g,"]/[",l0e),h$B);J6c=0;for(var x7b=j1Q.startFrom;x7b < G3m.length && J6c < J4r.length;x7b++){while(J6c < J4r.length && G3m[x7b].DT.getTime() > J4r[J6c].DT.getTime()){J6c++;}if(G3m[x7b].DT.getTime() < J4r[J6c].DT.getTime())continue;G3m[x7b]["Result " + j1Q.name]=J4r[J6c].Close;J6c++;}};v4Q.Studies.displayVsComparisonSymbol=function(W19,u$o,m_H){var M4K,L5O,Q1I,i15;M4K=u$o.inputs["Comparison Symbol"].toUpperCase();if(!W19.getSeries({symbol:M4K,chart:u$o.chart}).length){W19.displayErrorAsWatermark(u$o.panel,W19.translateIf(u$o.study.name) + ": " + W19.translateIf("Not Available"));return;}L5O={skipTransform:W19.panels[u$o.panel].name != u$o.chart.name,panelName:u$o.panel,band:"Result " + u$o.name,threshold:u$o.study.centerline,yAxis:u$o.getYAxis(W19),gapDisplayStyle:!!({})};A2IFV.D0H();Q1I=L5O.yAxis?L5O.yAxis.flipped:W19.panels[u$o.panel].yAxis.flipped;i15=0.3;if(!u$o.highlight && W19.highlightedDraggable){i15*=0.3;}for(var q8U=m_H.length - 1;q8U >= +"0";q8U--){if(m_H[q8U] && m_H[q8U][M4K]){v4Q.Studies.displaySeriesAsLine(W19,u$o,m_H);if(u$o.study.centerline || u$o.study.centerline === 0){if(u$o.outputs.Gain){v4Q.preparePeakValleyFill(W19,v4Q.extend(L5O,{direction:Q1I?-1:"1" | 0,color:v4Q.Studies.determineColor(u$o.outputs.Gain),opacity:i15}));}if(u$o.outputs.Loss){v4Q.preparePeakValleyFill(W19,v4Q.extend(L5O,{direction:Q1I?1:-1,color:v4Q.Studies.determineColor(u$o.outputs.Loss),opacity:i15}));}}return;}}};v4Q.Studies.fetchAdditionalInstruments=function(c0L,O6o,X53,R$L){var G3u,P6m,b20,C33,w2P,J35;if(!c0L.quoteDriver){console.log("CIQ.Studies.fetchAdditionalInstruments: No quotefeed to fetch symbol");return;}G3u=c0L.panels[O6o.panel].chart;function w3i(){c0L.createDataSet();c0L.draw();}O6o.symbols=X53;for(P6m=+"0";P6m < X53.length;P6m++){b20=C33=X53[P6m];if(typeof C33 == "object"){b20=C33.symbol;}else {C33={symbol:b20};}w2P={symbol:b20,symbolObject:C33,bucket:"study",studyName:O6o.name,chartName:G3u.name,action:"add-study"};v4Q.extend(w2P,R$L);J35=w2P.loadData;if(c0L.currentlyImporting){w2P.loadData=![];}if(!O6o.series){O6o.series={};}O6o.series[b20]=c0L.addSeries(null,w2P,w3i);O6o.series[b20].parameters.loadData=J35;}};v4Q.Studies.studyLibrary=v4Q.extend(v4Q.Studies.studyLibrary,{"P Rel":{name:h$Q,initializeFN:v4Q.Studies.initPriceRelative,seriesFN:v4Q.Studies.displayVsComparisonSymbol,calculateFN:v4Q.Studies.calculatePriceRelative,centerline:+"0",inputs:{"Comparison Symbol":"SPY"},deferUpdate:!""}});}};t_=v4i=>{var P5e=A2IFV;var A$i,i3L,m3Z,A_t,F2y,n2A,r5I,j3z;A$i="un";A$i+="d";A$i+="efi";P5e.a9S();A$i+="ned";i3L=typeof _CIQ !== A$i?_CIQ:v4i.CIQ;if(!i3L.Studies){console.error("vwap feature requires first activating studies feature.");}else {m3Z="#8";m3Z+="5c";m3Z+="99e";A_t="#";A_t+="FF";A_t+="0000";F2y="V";F2y+="W";F2y+="A";F2y+="P";n2A="h";n2A+="h:";n2A+="mm:";n2A+="ss";r5I="#fff";r5I+="69e";j3z="#e1e1e";j3z+="1";i3L.Studies.calculateVWAP=function(T41,E9j){var n8T,c$n,o$X,s0q,o$9,J3F,B6E,W0I,G6v,Z8a,h_L,p$Q,k3t,Z2S,j4u,g8k,k$o,a6U,o_1,q6n,v8t,I1Z,z6v,i2l;n8T="AVWA";n8T+="P";c$n=E9j.type == n8T;o$X=E9j.chart.scrubbed;P5e.D0H();if(!c$n && i3L.ChartEngine.isDailyInterval(T41.layout.interval)){E9j.error="VWAP is Intraday Only";return;}s0q="hl";s0q+="c/";s0q+="3";if(c$n){s0q=E9j.inputs.Field;if(!s0q || s0q == "field"){s0q=E9j.inputs.Field="hlc/3";T41.changeOccurred("layout");}}o$9=null;J3F=0;B6E=0;W0I=+"0";G6v=!({});if(E9j.startFrom > 1){Z8a="_";Z8a+="VxP ";h_L="_V";h_L+=" ";J3F=o$X[E9j.startFrom - 1][h_L + E9j.name] || "0" - 0;B6E=o$X[E9j.startFrom - 1][Z8a + E9j.name] || 0;W0I=o$X[E9j.startFrom - 1]["_VxP2 " + E9j.name] || 0;}if(c$n){p$Q="Anc";p$Q+="hor ";p$Q+="D";p$Q+="ate";k3t=E9j.inputs[p$Q].replace(/-/g,"");if(k3t.search(/^\d{8}$/)){E9j.error="Invalid Anchor Date";return;}Z2S=E9j.inputs["Anchor Time"].replace(/:/g,"");if(!Z2S.search(/^\d{4,6}$/)){k3t+=Z2S;}k3t=i3L.strToDateTime(k3t.replace(/\D/g,""));if(!E9j.startFrom && k3t >= o$X[0].DT){E9j.startFrom=T41.tickFromDate(k3t,T41.chart,null,!0);}if(E9j.inputs["Anchor Selector"]){i3L.Studies.initAnchorHandle(T41,E9j);}else {i3L.Studies.removeAnchorHandle(T41,E9j);}}for(var k7F=E9j.startFrom;k7F < o$X.length;k7F++){j4u="_";j4u+="SDVWAP ";if(!c$n){if(o$9 === null){o$9=i3L.Studies.getMarketOffset({stx:T41,localQuoteDate:o$X[k7F].DT,shiftToDateBoundary:!!({})});}if(o$X[k7F - ("1" << 32)] && o$X[k7F - 1].DT){g8k=new Date(new Date(+o$X[k7F].DT).setMilliseconds(o$X[k7F].DT.getMilliseconds() + o$9));k$o=new Date(new Date(+o$X[k7F - 1].DT).setMilliseconds(o$X[k7F - 1].DT.getMilliseconds() + o$9));if(k$o.getDate() != g8k.getDate() && T41.chart.market.isMarketDate(g8k)){o$9=null;J3F=B6E=W0I=0;}}}a6U=o$X[k7F][s0q];o_1=o$X[k7F].Volume;if(c$n && !o_1){o_1=1;}J3F+=o_1;P5e.D0J(1);B6E+=P5e.q7n(a6U,o_1);P5e.H6P(145);W0I+=P5e.q7n(o_1,a6U,a6U);if(!c$n && !J3F)continue;o$X[k7F]["_V " + E9j.name]=J3F;o$X[k7F]["_VxP " + E9j.name]=B6E;o$X[k7F]["_VxP2 " + E9j.name]=W0I;q6n=o$X[k7F][j4u + E9j.name]=Math.sqrt(Math.max(0,W0I / J3F - Math.pow(B6E / J3F,2)));P5e.D0J(14);v8t=o$X[k7F]["VWAP " + E9j.name]=P5e.S40(J3F,B6E);for(var a1o=1;a1o <= 3;a1o++){I1Z="-";I1Z+=" ";P5e.H6P(45);o$X[k7F]["SDVWAP" + a1o + "+ " + E9j.name]=P5e.S40(a1o,q6n,v8t);P5e.H6P(146);o$X[k7F]["SDVWAP" + a1o + I1Z + E9j.name]=P5e.S40(a1o,q6n,v8t);}G6v=!!({});}for(var L2t=1;L2t <= 3;L2t++){z6v="\u03C3";z6v+=")";if(E9j.inputs["Display " + L2t + " Standard Deviation (" + L2t + z6v]){i2l=" Sta";i2l+="ndard ";i2l+="Deviati";i2l+="on (";P5e.D0J(48);E9j.outputMap["SDVWAP" + L2t + "+ " + E9j.name]=P5e.S40("\u03C3)",L2t,i2l,L2t);P5e.H6P(48);E9j.outputMap["SDVWAP" + L2t + "- " + E9j.name]=P5e.S40("\u03C3)",L2t," Standard Deviation (",L2t);}}if(!c$n && !G6v){E9j.error="VWAP Requires Volume";}};i3L.Studies.initAnchoredVWAP=function(B7h,U1L,G3o,j_H,r7J,A7I){var B95,p$$,e89,W3l;B95="Anc";B95+="hor Ti";B95+="me";if(!G3o["Anchor Date"] && !G3o[B95]){var {dataSegment:Z65}=B7h.chart;for(var r1U=0;Z65 && r1U < Z65.length;r1U++){if(Z65[r1U]){p$$="YYYY";p$$+="-MM-dd";e89="Anch";e89+="or Date";var {DT:v_b}=Z65[r1U];G3o[e89]=i3L.dateToStr(v_b,p$$);G3o["Anchor Time"]=i3L.dateToStr(v_b,"HH:mm:ss");break;}}}W3l=i3L.Studies.initializeFN(B7h,U1L,G3o,j_H,r7J,A7I);P5e.a9S();return W3l;};i3L.Studies.displayVWAP=function(m0E,v8U,R4k){var A1r,S9C,x2T,r3q,u4K,D2z,H_q,Q47,c4q,z23;A1r="Display 1 Standard Deviati";A1r+="o";A1r+="n ";A1r+="(1\u03C3)";i3L.Studies.displaySeriesAsLine(m0E,v8U,R4k);S9C=v8U.inputs[A1r];x2T=v8U.inputs["Display 2 Standard Deviation (2\u03C3)"];r3q=v8U.inputs["Display 3 Standard Deviation (3\u03C3)"];if((S9C || x2T || r3q) && v8U.inputs.Shading){u4K="V";u4K+="W";u4K+="AP";u4K+=" ";D2z=m0E.panels[v8U.panel];H_q={opacity:v8U.parameters.opacity?v8U.parameters.opacity:0.2,skipTransform:D2z.name != v8U.chart.name,yAxis:v8U.getYAxis(m0E)};if(!v8U.highlight && m0E.highlightedDraggable){H_q.opacity*=0.3;}Q47=u4K + v8U.name;c4q="VWAP " + v8U.name;if(S9C){z23="S";z23+="D";z23+="VWAP1+ ";i3L.prepareChannelFill(m0E,i3L.extend({panelName:v8U.panel,topBand:"SDVWAP1+ " + v8U.name,bottomBand:Q47,color:i3L.Studies.determineColor(v8U.outputs[v8U.outputMap["SDVWAP1+ " + v8U.name]])},H_q));i3L.prepareChannelFill(m0E,i3L.extend({panelName:v8U.panel,topBand:"SDVWAP1- " + v8U.name,bottomBand:c4q,color:i3L.Studies.determineColor(v8U.outputs[v8U.outputMap["SDVWAP1- " + v8U.name]])},H_q));Q47=z23 + v8U.name;c4q="SDVWAP1- " + v8U.name;}if(x2T){i3L.prepareChannelFill(m0E,i3L.extend({panelName:v8U.panel,topBand:"SDVWAP2+ " + v8U.name,bottomBand:Q47,color:i3L.Studies.determineColor(v8U.outputs[v8U.outputMap["SDVWAP2+ " + v8U.name]])},H_q));i3L.prepareChannelFill(m0E,i3L.extend({panelName:v8U.panel,topBand:"SDVWAP2- " + v8U.name,bottomBand:c4q,color:i3L.Studies.determineColor(v8U.outputs[v8U.outputMap["SDVWAP2- " + v8U.name]])},H_q));Q47="SDVWAP2+ " + v8U.name;c4q="SDVWAP2- " + v8U.name;}if(r3q){i3L.prepareChannelFill(m0E,i3L.extend({panelName:v8U.panel,topBand:"SDVWAP3+ " + v8U.name,bottomBand:Q47,color:i3L.Studies.determineColor(v8U.outputs[v8U.outputMap["SDVWAP3+ " + v8U.name]])},H_q));i3L.prepareChannelFill(m0E,i3L.extend({panelName:v8U.panel,topBand:"SDVWAP3- " + v8U.name,bottomBand:c4q,color:i3L.Studies.determineColor(v8U.outputs[v8U.outputMap["SDVWAP3- " + v8U.name]])},H_q));}}if(v8U.anchorHandle){i3L.Studies.displayAnchorHandleAndLine(m0E,v8U,R4k);}};i3L.Studies.studyLibrary=i3L.extend(i3L.Studies.studyLibrary,{AVWAP:{name:"Anchored VWAP",overlay:!!({}),calculateFN:i3L.Studies.calculateVWAP,seriesFN:i3L.Studies.displayVWAP,initializeFN:i3L.Studies.initAnchoredVWAP,removeFN:i3L.Studies.removeAnchorHandle,inputs:{Field:"field","Anchor Date":"","Anchor Time":"","Display 1 Standard Deviation (1\u03C3)":!({}),"Display 2 Standard Deviation (2\u03C3)":!({}),"Display 3 Standard Deviation (3\u03C3)":!"1",Shading:![],"Anchor Selector":!![]},outputs:{VWAP:"#FF0000","1 Standard Deviation (1\u03C3)":j3z,"2 Standard Deviation (2\u03C3)":"#85c99e","3 Standard Deviation (3\u03C3)":r5I},parameters:{init:{opacity:0.2}},attributes:{"Anchor Date":{placeholder:"yyyy-mm-dd"},"Anchor Time":{placeholder:n2A,step:1}}},VWAP:{name:F2y,overlay:!!"1",calculateFN:i3L.Studies.calculateVWAP,seriesFN:i3L.Studies.displayVWAP,inputs:{"Display 1 Standard Deviation (1\u03C3)":!({}),"Display 2 Standard Deviation (2\u03C3)":!1,"Display 3 Standard Deviation (3\u03C3)":!({}),Shading:!({})},outputs:{VWAP:A_t,"1 Standard Deviation (1\u03C3)":"#e1e1e1","2 Standard Deviation (2\u03C3)":m3Z,"3 Standard Deviation (3\u03C3)":"#fff69e"},parameters:{init:{opacity:0.2}}}});}};b$=w_y=>{var i4L=A2IFV;i4L.D0H();var n1m;n1m=typeof _CIQ !== "undefined"?_CIQ:w_y.CIQ;if(!n1m.Studies){console.error("zigzag feature requires first activating studies feature.");}else {n1m.Studies.calculateZigZag=function(t9F,d8T){var b6K,l6_,r0c,z3Y,s92,a3f,Y3A,H37,r44,B_8,N8z,i6o,N$9,H$L,O8W,I5K,F6p,J0u,Z$9,S7u,N8a,u$Y;b6K="H";b6K+="i";b6K+="g";function O60(t8T,h$L){var f55;for(var T$z=t8T + 1;T$z < h$L;T$z++){f55="R";f55+="es";f55+="ul";f55+="t ";r0c[T$z]["ShadowResult " + d8T.name]=(r0c[h$L][f55 + d8T.name] - r0c[t8T]["Result " + d8T.name]) * (T$z - t8T) / (h$L - t8T) + r0c[t8T]["Result " + d8T.name];delete r0c[T$z]["Result " + d8T.name];}}b6K+="h";l6_="L";l6_+="o";l6_+="w";r0c=d8T.chart.scrubbed;if(!r0c || !r0c.length){return;}z3Y=d8T.highLowChart;s92=null;a3f=null;Y3A=d8T.inputs["Distance(%)"];H37=0;r44=0;B_8=0;N8z=null;i6o=null;N$9=0;for(var N5H=Math.min(r0c.length - 1,d8T.startFrom);N5H >= 0;N5H--){H$L="_sta";H$L+="t";H$L+="e ";N$9=N5H;if(r0c[N5H][H$L + d8T.name]){O8W=r0c[N5H]["_state " + d8T.name];s92=O8W[0];a3f=O8W[1];H37=O8W[+"2"];r44=O8W[3];B_8=O8W[4];N8z=O8W[+"5"];i6o=O8W[6];break;}}for(var P_X=N$9;P_X < r0c.length;P_X++){I5K=r0c[P_X][z3Y?"High":"Close"];F6p=r0c[P_X][z3Y?"Low":"Close"];if(a3f === null || a3f < I5K){a3f=I5K;if(H37 < 0){s92=F6p;}i4L.D0J(147);N8z=i4L.q7n(100,Y3A,a3f,1);if(H37 > -1){if(i6o !== null && a3f > i6o){J0u="L";J0u+="o";J0u+="w";Z$9="Resu";Z$9+="lt ";r0c[r44][Z$9 + d8T.name]=r0c[r44][z3Y?J0u:"Close"];O60(B_8,r44);H37=-1;s92=F6p;B_8=r44;r44=P_X;continue;}}else {r44=P_X;}}if(s92 === null || s92 > F6p){s92=F6p;if(H37 > ("0" ^ 0)){a3f=I5K;}i4L.D0J(148);i6o=i4L.S40(Y3A,1,s92,100);if(H37 < +"1"){if(N8z !== null && s92 < N8z){r0c[r44]["Result " + d8T.name]=r0c[r44][z3Y?"High":"Close"];O60(B_8,r44);H37=1;a3f=I5K;B_8=r44;r44=P_X;continue;}}else {r44=P_X;}}}r0c[r44]["Result " + d8T.name]=r0c[r44][z3Y?H37 == 1?l6_:b6K:"Close"];r0c[r44]["_state " + d8T.name]=[s92,a3f,H37,r44,B_8,N8z,i6o];O60(B_8,r44);i4L.H6P(52);var O9y=i4L.q7n(59,3,20);S7u=r0c.length - O9y;while(S7u > r44){if(r0c[S7u].Close || r0c[S7u].Close === 0){N8a="Hi";N8a+="g";N8a+="h";u$Y="Resul";u$Y+="t";u$Y+=" ";r0c[S7u][u$Y + d8T.name]=r0c[S7u][z3Y?H37 == 1?N8a:"Low":"Close"];break;}S7u--;}i4L.a9S();O60(r44,S7u);};n1m.Studies.displayZigZag=function(F4Q,P3b,s7t){var c8Q,Q8i,Q_Y,b7l,P7l,b0C,H5t,F7Z,Y3n;c8Q=F4Q.chart.highLowBars;if(P3b.highLowChart != c8Q){P3b.highLowChart=c8Q;P3b.startFrom=0;P3b.study.calculateFN(F4Q,P3b);}Q8i=F4Q.chart;for(var F2z=0;F2z < s7t.length;F2z++){Q_Y=s7t[F2z];if(Q_Y){b7l="R";b7l+="esult ";if(Q_Y["_shadowCopy " + P3b.name]){delete Q_Y["Result " + P3b.name];delete Q_Y["_shadowCopy " + P3b.name];}if(!Q_Y[b7l + P3b.name]){P7l="R";P7l+="esul";P7l+="t";P7l+=" ";if(Q_Y.transform){delete Q_Y.transform[P7l + P3b.name];}}}}b0C=s7t[0];i4L.H6P(149);var x$H=i4L.S40(19,18,7,34,9);H5t=s7t[s7t.length - x$H];if(b0C && b0C["ShadowResult " + P3b.name]){F7Z="ShadowRe";F7Z+="su";F7Z+="l";F7Z+="t ";b0C["Result " + P3b.name]=b0C[F7Z + P3b.name];if(b0C.transform){b0C.transform["Result " + P3b.name]=Q8i.transformFunc(F4Q,Q8i,b0C["ShadowResult " + P3b.name]);}i4L.H6P(1);b0C["_shadowCopy " + P3b.name]=i4L.q7n(1,"1");}if(H5t && H5t["ShadowResult " + P3b.name]){Y3n="Re";Y3n+="sul";Y3n+="t ";H5t[Y3n + P3b.name]=H5t["ShadowResult " + P3b.name];if(H5t.transform){H5t.transform["Result " + P3b.name]=Q8i.transformFunc(F4Q,Q8i,H5t["ShadowResult " + P3b.name]);}H5t["_shadowCopy " + P3b.name]=1;}n1m.Studies.displaySeriesAsLine(F4Q,P3b,s7t);};n1m.Studies.studyLibrary=n1m.extend(n1m.Studies.studyLibrary,{ZigZag:{name:"ZigZag",overlay:!![],seriesFN:n1m.Studies.displayZigZag,calculateFN:n1m.Studies.calculateZigZag,inputs:{"Distance(%)":10},parameters:{init:{label:!1}},attributes:{"Distance(%)":{min:0.1,step:0.1}}}});}};A1={CIQ:y4,SplinePlotter:l5,timezoneJS:R$,$$:L9,$$$:G8};export {Z as createEngine};export {Q as customCharts};export {q as drawing};export {A as easeMachine};export {G as equations};export {g as i18n};export {K as interaction};export {M as markers};export {B as market};export {J as movement};export {P as nameValueStore};export {T as quoteFeed};export {W as series};export {U as share};export {R as span};export {D as storage};export {N as studies};export {L0 as symbolLookupBase};export {W_ as theme};export {f9 as timezone};export {o8 as touch};export {d7 as visualization};export {m1 as medianPrice};export {k4 as momentum};export {C1 as priceRelative};export {t_ as vwap};export {b$ as zigzag};export {y4 as CIQ, l5 as SplinePlotter, R$ as timezoneJS, L9 as $$, G8 as $$$};if(typeof __TREE_SHAKE__ === Z9Rgz || !__TREE_SHAKE__){A1.CIQ.activateImports(Z,Q,q,A,G,g,K,M,B,J,P,T,W,U,R,D,N,L0,W_,f9,o8,d7,m1,k4,C1,t_,b$,null);}/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */
